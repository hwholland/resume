<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content="The page object design pattern supports UI-based tests with improved readability, fostering the don't repeat yourself (DRY) principle of software development that is aimed at reducing repetition of any kind of information."/>
<meta name="description" content="The page object design pattern supports UI-based tests with improved readability, fostering the don't repeat yourself (DRY) principle of software development that is aimed at reducing repetition of any kind of information."/>

<link rel="stylesheet" type="text/css" href="css/prettify.css?x=005156855905354196"/>
<link rel="stylesheet" type="text/css" href="css/documentation.css?x=005156855905354196"/>
<title>Structuring OPA Tests With Page Objects</title>
  <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
    <script src="../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script>
  </head>
<body class="" id="loiof2f843d375384d56bbf955a80ee66ab6">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Structuring OPA Tests With Page Objects</h1>

	
	<div class="body conbody"><p class="shortdesc">The page object design pattern supports UI-based tests with improved readability,
        fostering the <span class="keyword">don't repeat yourself</span> (DRY) principle of software
        development that is aimed at reducing repetition of any kind of information.</p>

		<p class="p">A page object wraps an HTML page or fragment with an application-specific API, which
			makes it easy to find a control and provide reuse across multiple tests. If you have
			multiple pages or UI areas that have several operations, you can place them as reuse
			functionality in page object. The page object groups all OPA arrangements, actions, and
			assertions that logically belong to some part of the screen. Since only the test will
			know if an action is used to set up the test case or to act on the application under
			test, the page object will combine actions and arrangements into actions. In contrast to
			the general guidance of Selenium and Martin Fowler, OPA page objects also provide
			assertions, as the corresponding testing via <samp class="ph codeph">waitFor</samp> statements better
			fit into the page objects. When you define actions or assertions in your page object,
			have in mind how the test would spell them and if that would be similar to the way you
			would explain a scenario to your colleagues.</p>

		
		<p class="p">Page objects accept parameters, so you can parametrize your tests either by writing
			multiple tests, or by repeating your test being on a set of parameters defined in the
			code. It is also possible to put test fragments into a separate file and refer to this
			file in the test. This enables you to reuse the same test fragments in different test
			pages with different setups.</p>

		<p class="p">You can also share utility functionality between page objects. Simulating clicks, for
			example, is useful for most page objects and should be placed in a base class that you
			can create. As the page objects extend the base class, the functions provided in the
			base class are available for the page objects. If, for example, you want to share tree
			handling functions in all tree-based page objects, create a <samp class="ph codeph">TreeBase</samp>
			class by extending the base class. Tree-based page objects such as repository browser
			and outline then specify <samp class="ph codeph">TreeBase</samp> as <samp class="ph codeph">baseClass</samp> instead
			of the generic base class.</p>

		<p class="p">OPA5 provides a static method to create page objects, see the OPA <a class="xref" target="_blank" href="../../explored.html#/entity/sap.ui.test.Opa5/samples" alt="../../explored.html#/entity/sap.ui.test.Opa5/samples" title="../../explored.html#/entity/sap.ui.test.Opa5/samples">Samples</a> in the Demo Kit.</p>

		<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">
Opa5.createPageObjects({

       //give a meaningful name for the test code
       inThe&lt;Page Object&gt; : {
            //Optional: a class extending Opa5, with utility functionality
            baseClass : fnSomeClassExtendingOpa5,
             
            actions : {
               //place all arrangements and actions here
               &lt;iDoSomething&gt; : function(){
                   //always return this or a waitFor to allow chaining
                    return this.waitFor({
                        //see documentation for possibilities
                    });
                }
           },
           assertions : {
               //place all assertions here
               &lt;iCheckSomething&gt; : function(){
                   //always return this or a waitFor to allow chaining
                    return this.waitFor({
                        //see documentation for possibilities
                    });
                }
           }
       }
   });
</pre></div>

		<p class="p">The method in your test finds all actions at the <samp class="ph codeph">Given</samp> and
				<samp class="ph codeph">When</samp> object, the assertions will be at the <samp class="ph codeph">Then</samp>
			object. Everything is prefixed with the page object name.</p>

		<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">
When.inThe&lt;Page Object&gt;.&lt;iDoSomething&gt;();

Then.inThe&lt;Page Object&gt;.&lt;iCheckSomething&gt;();
</pre></div>

		<p class="p">Be careful with <samp class="ph codeph">Opa5.extendConfig()</samp> if you give arrangements, actions,
			or assertions, all previously loaded page objects will be overwritten. So if you mix
			them, call <samp class="ph codeph">extendConfig</samp> before loading the page objects. See the <a class="xref" target="_blank" href="../../explored.html#/entity/sap.ui.test.Opa5/samples" alt="../../explored.html#/entity/sap.ui.test.Opa5/samples" title="../../explored.html#/entity/sap.ui.test.Opa5/samples">samples</a> in the Demo Kit.</p>

	</div>

</div></div>

</body>
</html>