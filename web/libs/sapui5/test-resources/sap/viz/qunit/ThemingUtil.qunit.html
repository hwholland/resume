<!DOCTYPE HTML>
<!-- 
  Tested control/class: sap.viz.ui5.Bar
-->

<html lang='en'>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script id="sap-ui-bootstrap" type="text/javascript"
  src="../../../../resources/sap-ui-core.js"
  data-sap-ui-theme="sap_bluecrystal" data-sap-ui-libs="sap.ui.core,sap.ui.commons,sap.viz">
  
</script>
<link rel="stylesheet" href="../../../../resources/sap/ui/thirdparty/qunit.css" type="text/css" media="screen" />
<script type="text/javascript" src="../../../../resources/sap/ui/thirdparty/qunit.js"></script>
<script type="text/javascript" src="../../../../resources/sap/ui/qunit/qunit-junit.js"></script>

<script type="text/javascript" src="../../../../resources/sap/ui/qunit/QUnitUtils.js"></script>
<script type="text/javascript" src="./js/data.js"></script>

<!-- Control initialization -->
<script language="javascript">
jQuery.sap.require("sap.viz.ui5.theming.Util");
jQuery.sap.require("sap.ui.core.theming.Parameters");

module("Theming Util");
  
  test("read CSS parameters", function(){
      sap.viz.ui5.theming.Util._mapping = {
              "sapUiChartBackgroundColor" : ["general.background.color",
                                             "plotArea.background.color"],
              "sapUiChartCategoryAxisLineColor" : "categoryAxis.color",
              "sapUiChartValueAxisLineColor" : "valueAxis.color"
      };
      
      var expected = {
              "general" : {
                  "background" : {
                      "color" : sap.ui.core.theming.Parameters.get("sapUiChartBackgroundColor")
                  }
              },
              "plotArea" : {
                  "background" : {
                      "color" : sap.ui.core.theming.Parameters.get("sapUiChartBackgroundColor")
                  }
              },
              "categoryAxis" : {
                  "color" : sap.ui.core.theming.Parameters.get("sapUiChartCategoryAxisLineColor")
              },
              "valueAxis" : {
                  "color" : sap.ui.core.theming.Parameters.get("sapUiChartValueAxisLineColor")
              }
              
      }
      
      var result = sap.viz.ui5.theming.Util.readCSSParameters("info/line");
      
      deepEqual(result, expected, true, "The mapping from css parameter to properties should be corrected");
      
      var expected_excluded = {
              "general" : {
                  "background" : {
                      "color" : sap.ui.core.theming.Parameters.get("sapUiChartBackgroundColor")
                  }
              },
              "plotArea" : {
                  "background" : {
                      "color" : sap.ui.core.theming.Parameters.get("sapUiChartBackgroundColor")
                  }
              },
              "categoryAxis" : {
                  "color" : sap.ui.core.theming.Parameters.get("sapUiChartCategoryAxisLineColor")
              } 
      }
      
	  var result_excluded = sap.viz.ui5.theming.Util.readCSSParameters("info/dual_line");
      
      deepEqual(result_excluded, expected_excluded, true, "The mapping from css parameter to properties should be corrected");
  });
</script>

<title>qunit Test for Theming Util</title>

</head>
<body class="sapUiBody">
  <h1 id="qunit-header">QUnit tests: sap.viz.ui5.theming.Util</h1>
  <h2 id="qunit-banner"></h2>
  <h2 id="qunit-userAgent"></h2>
  <div id="qunit-testrunner-toolbar"></div>
  <ol id="qunit-tests"></ol>
  <div id='content'></div>

</body>
</html>
