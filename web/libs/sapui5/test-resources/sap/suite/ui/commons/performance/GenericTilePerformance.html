<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>GenericTilePerformance - sap.suite.ui.commons</title>

<!-- UI5 Bootstrap -->
<script src="../../../../../../resources/sap-ui-core.js"
        type="text/javascript"
        id="sap-ui-bootstrap"
        data-sap-ui-libs="sap.suite.ui.commons,sap.m"
        data-sap-ui-theme="sap_bluecrystal"></script>

<script type="text/javascript">
    jQuery.sap.initMobile();

    function querystring(key) {
  	   var re = new RegExp('(?:\\?|&)'+key+'=(.*?)(?=&|$)','gi');
  	   var r=[], m;
  	   while ((m=re.exec(document.location.search)) != null) r.push(m[1]);
  	   return r;
  	};
  	var iTilesNumber = querystring("sap-ui-tiles-number");
  	 
	if (iTilesNumber == "") {
		iTilesNumber = 16
	};

   	var ar = [];
	var oGenericTileData = {
		subheader : "Expenses By Region",
		header : "Comparative Annual Totals",
		footerNum : "Actual and Target",
		footerComp : "Compare across regions",
        scale: "MM",
        unit: "EUR",
        value: 7777,
        size:"M",
        frameType:"TwoByOne",
        state: sap.suite.ui.commons.LoadState.Loaded,
        valueColor:sap.suite.ui.commons.InfoTileValueColor.Error,
        indicator: sap.suite.ui.commons.DeviationIndicator.None,
        title : "US Profit Margin",
        footer : "Current Quarter",
        description: "Maximum deviation",
        data: [
	        { title: "Americas", value: 10, color: "Good" },
	        { title: "EMEA", value: 50, color: "Good" },
	        { title: "APAC", value: -20, color: "Error" }
        ]
	}

    var oGenericTileModel = new sap.ui.model.json.JSONModel();
	oGenericTileModel.setData(oGenericTileData);

   for(var n = 1; n <= iTilesNumber; n++) {
	   var oNVConfContS = new sap.suite.ui.commons.NumericContent({
	        value : "{/value}",
	        scale : "{/scale}",
	        unit : "{/unit}",
	        indicator : "{/indicator}",
	        size : "{/size}",
	        formatterValue : "{/isFormatterValue}",
	        truncateValueTo : "{/truncateValueTo}",
	        valueColor: "{/valueColor}"
	    });
	   
	    var oNVConfS = new sap.suite.ui.commons.TileContent({
	        unit : "{/unit}",
	        size : "{/size}",
	        footer : "{/footerNum}",
	        content: oNVConfContS
	    });
	    
	    var oCmprsDataTmpl = new sap.suite.ui.commons.ComparisonData({
	        title: "{title}",
	        value: "{value}",
	        color: "{color}"
	    });
	    
	    var oCmprsChrtTmpl = new sap.suite.ui.commons.ComparisonChart({
	    	size : "{/size}",
	        scale: "{/scale}",
	        data: {
	            template : oCmprsDataTmpl,
	            path : "/data"
	        }
	    });
	    
	    var oNVConfM = new sap.suite.ui.commons.TileContent({
	        unit : "{/unit}",
	        size : "{/size}",
	        footer : "{/footerComp}",
	        content: oCmprsChrtTmpl,
	    });
	    
		var oGenericTile = new sap.suite.ui.commons.GenericTile({
			subheader : "{/subheader}",
			frameType : "{/frameType}",
			size : "{/size}",
			header : "{/header}",
			state : "{/state}",
			headerImage : "{/headerImage}",
			tileContent : [oNVConfS, oNVConfM]
		});
		
		ar.push(oGenericTile);
   }

   var oPage = new sap.m.Page("initial-page", {
       	showHeader: false,
      	content: ar
   });

   oPage.setModel(oGenericTileModel);
   oPage.placeAt("content");
</script>
</head>

<body class="sapUiBody">
<h3>*To set the number of tiles displayed on this page please add a sap-ui-tiles-number= parameter to the page URL.</h3>
<div id="content" style="height:100%"></div>
</body>
</html>