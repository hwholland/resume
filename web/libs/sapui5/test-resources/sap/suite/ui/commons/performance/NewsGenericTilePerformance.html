<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>NewsGenericTilePerformance - sap.suite.ui.commons</title>

<!-- UI5 Bootstrap -->
<script src="../../../../../../resources/sap-ui-core.js"
        type="text/javascript"
        id="sap-ui-bootstrap"
        data-sap-ui-libs="sap.suite.ui.commons,sap.m"
        data-sap-ui-theme="sap_bluecrystal"></script>

<script type="text/javascript">
    jQuery.sap.initMobile();

    function querystring(key) {
  	   var re = new RegExp('(?:\\?|&)'+key+'=(.*?)(?=&|$)','gi');
  	   var r=[], m;
  	   while ((m=re.exec(document.location.search)) != null) r.push(m[1]);
  	   return r;
  	};
  	var iTilesNumber = querystring("sap-ui-tiles-number");
  	 
	if (iTilesNumber == "") {
		iTilesNumber = 16
	};

   	var ar = [];
	var oGenericTileData = {
		frameType: "TwoByOne",
		size: "M",
		backgroundImage: "../demokit/images/NewsImage1.png",
		tileContent: [
			{
				footer: "August 21, 2013",
				contentText: "SAP Unveils Powerful New Player Comparison Tool Exclusively on NFL.com",
				subheader: "SAP News"
			}
		]
	};

    var oGenericTileModel = new sap.ui.model.json.JSONModel();
    oGenericTileModel.setData(oGenericTileData);
 
	var oNewsTileContent = new sap.suite.ui.commons.TileContent({
		footer: "{footer}",
		content: new sap.suite.ui.commons.NewsContent({
			contentText: "{contentText}",
			subheader: "{subheader}"
		})
	});
	
   for(var n = 1; n <= iTilesNumber; n++) {
		var oGenericTile = new sap.suite.ui.commons.GenericTile({
			frameType: "{/frameType}",
			header: "{/header}",
			size: "{/size}",
			state: "{/state}",
			backgroundImage: "{/backgroundImage}",
			tileContent: {
				template: oNewsTileContent,
				path: "/tileContent"
			}
		});
		
		ar.push(oGenericTile);
   }

   var oPage = new sap.m.Page("initial-page", {
       	showHeader: false,
      	content: ar
   });

   oPage.setModel(oGenericTileModel);
   oPage.placeAt("content");
</script>
</head>

<body class="sapUiBody">
<h3>*To set the number of tiles displayed on this page please add a sap-ui-tiles-number= parameter to the page URL.</h3>
<div id="content" style="height:100%"></div>
</body>
</html>