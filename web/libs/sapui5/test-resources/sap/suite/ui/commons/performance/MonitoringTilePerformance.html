<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>MonitoringTilePerformance - sap.suite.ui.commons</title>

<!-- UI5 Bootstrap -->
<script src="../../../../../../resources/sap-ui-core.js"
        type="text/javascript"
        id="sap-ui-bootstrap"
        data-sap-ui-libs="sap.suite.ui.commons,sap.m"
        data-sap-ui-theme="sap_bluecrystal"></script>

<style type="text/css">
    .sapSuiteInfoTile {
        margin-left: 1rem;
    }

    #controls {
        margin-top: 1rem;
    }

    .sapMFlexItem.sapMVBox {
        padding: 8px;
        background-color: rgba(255, 255, 255, 0.8);
    }
     .sapPerfTile {
    margin:1rem;
    }
    
</style>

<script type="text/javascript">
    jQuery.sap.initMobile();

    function querystring(key) {
  	   var re = new RegExp('(?:\\?|&)'+key+'=(.*?)(?=&|$)','gi');
  	   var r=[], m;
  	   while ((m=re.exec(document.location.search)) != null) r.push(m[1]);
  	   return r;
  	};
  	 var iTilesNumber = querystring("sap-ui-tiles-number");
  	 
	if (  iTilesNumber == "" ) {
		iTilesNumber = 16
		};

   var ar = [];
   var oConfData = {
			sizes:{
					L:sap.suite.ui.commons.InfoTileSize.L,
					M:sap.suite.ui.commons.InfoTileSize.M,
					S:sap.suite.ui.commons.InfoTileSize.S,
					Auto:sap.suite.ui.commons.InfoTileSize.Auto
			},
	       	title : "Approve Travel Requests",
	        state: sap.suite.ui.commons.LoadState.Loaded,
	        iconSrc: {
	        		"0":"sap-icon://globe",
	        		"1":"sap-icon://travel-expense"
	        		},
	        footerColor: {
                    "0": sap.suite.ui.commons.InfoTileTextColor.Critical,
                    "1": sap.suite.ui.commons.InfoTileTextColor.Positive,
                    "2": sap.suite.ui.commons.InfoTileTextColor.Negative
   					}
			}
		
			var oConfModel = new sap.ui.model.json.JSONModel();
			oConfModel.setData(oConfData);
			sap.ui.getCore().setModel(oConfModel);
   
   for(var n = 1; n <= iTilesNumber; n++) {
		
		var oMTConfL = new sap.suite.ui.commons.MonitoringTile({
			scale: "configurable-tile-L", 
			value : Math.pow(-1,n)*n/7,
			size : "{/sizes/Auto}",
			title : "{/title}",
			footer : n + " overdue requests",
			state: "{/state}",
			iconSrc : "{/iconSrc/"+(n%2)+"}",
			footerColor: "{/footerColor/"+(n%3)+"}"
			
	   }).addStyleClass("sapPerfTile");
		
		ar.push(oMTConfL);
   }

   var oPage = new sap.m.Page("initial-page", {
       showHeader: false,
      content: ar
   });

    oPage.placeAt("content");
</script>
</head>

<body class="sapUiBody">
<h3>*To set the number of tiles displayed on this page please add a sap-ui-tiles-number= parameter to the page URL.</h3>
<div id="content" style="height:100%"></div>
</body>
</html>
