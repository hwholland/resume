<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Timeline - sap.suite.ui.commons</title>

<!-- UI5 Bootstrap -->
<script id="sap-ui-bootstrap" 
		type="text/javascript"
		src="../../../../../../resources/sap-ui-core.js"
		data-sap-ui-theme="base"
		data-sap-ui-libs="sap.ui.commons,sap.suite.ui.commons"
		data-sap-ui-language="en">
</script>

<!-- QUnit libraries -->
<link rel="stylesheet"
	href="../../../../../../resources/sap/ui/thirdparty/qunit.css"
	type="text/css" media="screen" />
<script type="text/javascript" src="../../../../../../resources/sap/ui/thirdparty/qunit.js"></script>
<script type="text/javascript" src="../../../../../../resources/sap/ui/qunit/QUnitUtils.js"></script>
<script>
    if (!(sap.ui.Device.browser.msie && sap.ui.Device.browser.version <= 8)) {
        jQuery.sap.require("sap.ui.qunit.qunit-coverage");
    }
</script>  
    
<script>

jQuery.sap.require("sap.suite.ui.commons.Timeline");
jQuery.sap.require("sap.suite.ui.commons.TimelineAxisOrientation");

function createTimeLine(sId, sorter) {
	var oData = [
	       		{
	       			dateTime : new Date().getTime(),
	       			text : "Sample text for a Note type item",
	       			userName : "Sanjeev Agarwal",
	       			title : "added a Note",
	       			icon : "sap-icon://accept"
	       		},
	       		{
	       			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 2).getTime(),
	       			text : "A Call was made on this date. Need to follow up next week.",
	       			userName : "Sanjeev Agarwal",
	       			title : "made a Call",
	       			icon : "sap-icon://outgoing-call"
	       		},
	       		{
	       			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24)).getTime(),
	       			text : "This is my comments appearing in Comment type Item.",
	       			userName : "Sanjeev Agarwal",
	       			title : "posted a Comment",
	       			icon : "sap-icon://activity-items"
	       		},
	       		{
	       			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24)* 4).getTime(),
	       			text : "Sample text for a Note type item",
	       			userName : "Sanjeev Agarwal",
	       			title : "added a Note",
	       			icon : "sap-icon://accept"
	       		},
	       		{
	       			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 10).getTime(),
	       			text : "A Call was made on this date. Need to follow up next week.",
	       			userName : "Daniel Chang",
	       			title : "made a Call",
	       			icon : "sap-icon://outgoing-call"
	       		},
	       	];
	
		var timeline = new sap.suite.ui.commons.Timeline(sId); 

		timeline.setSortOldestFirst(sorter);
	 	timeline.setData(oData);
	 	
	return timeline;
};
		

		function createTimeLineItemWithText(sId) {
			var TimeLineItem = new sap.suite.ui.commons.TimelineItem({
			    dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 2).getTime(),
				text : "Sample text for a Note type item",
				userName : "Sanjeev Agarwal",
				title : "made a Call",
				icon : "sap-icon://outgoing-call",
				text: "Hi"
			});	 	
			return TimeLineItem;
		};

		//content with button
		
		function createTimeLineItemWithContent(sId) {
			var TimeLineItem = new sap.suite.ui.commons.TimelineItem({
			    dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 2).getTime(),
				text : "Sample text for a Note type item",
				userName : "Sanjeev Agarwal",
				title : "made a Call",
				icon : "sap-icon://outgoing-call",
			});				
			var btn = new sap.m.Button({
				text: "Click me",
				id: sId,
				press : function() { 
					ok(true, "This should be executed when the link is triggered");
				}
			});
			TimeLineItem.setEmbeddedControl(btn);			
			return TimeLineItem;
		};

		//content with href link
		function createTimeLineItemWithHrefLinkContent(sId) {
			var item6 = new sap.suite.ui.commons.TimelineItem({
		     	dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24)).getTime(),
		 		userName : "Sanjeev Agarwal",
		 		title : "made a Call",
		 		icon : "sap-icon://outgoing-call"
		 	});
		 	
		 	item6.setEmbeddedControl(new sap.m.Link({
		 		text : "Link to SAP home page",
		 		href : "http://www.sap.com",
		 		target: "_blank",
				press:function() {
					ok(true, "This should be executed when the link is triggered");
				}
		 	})); 
			return item6;
		};
		
		//content with object
		
		function createTimeLineItemWithControlObj(sId) {
		 	var objectlistItem = new sap.m.ObjectHeader({
		 		title:"Attachment.doc", number:"22.83", numberUnit:"USD",
		 		attributes: [new sap.m.ObjectAttribute({text:"file name"})],
		 		firstStatus: new sap.m.ObjectStatus({text:"Uploaded", state :sap.ui.core.ValueState.Error })
		 	});
		 	var item5 = new sap.suite.ui.commons.TimelineItem({
		     	dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24)*1).getTime(),
		 		userName : "Daniel Chang",
		 		title : "added some Contents",
		 		icon : "sap-icon://activity-items",
		 	});
		 	item5.setEmbeddedControl(objectlistItem);
			return item5;
		};

		//content with control
		
		function createTimeLineItemWithControl(sId) {
		 	var oFT = new sap.ui.commons.FormattedTextView("oFT");
		 	var sHtmlText = 'Example to have mixture of text and link: <embed data-index=\"0\">, <embed data-index=\"1\">';
			sHtmlText += ' Click to navigate to outside links.';
			oFT.setHtmlText(sHtmlText);
			oFT.addControl(new sap.ui.commons.Link({
		 		text : "SAP",
		 		href : "http://www.sap.com"
		 	}));
			oFT.addControl(new sap.ui.commons.Link({
		 		text : "Google",
		 		href : "http://www.google.com"
				}));
		 	var item6 = new sap.suite.ui.commons.TimelineItem({
		 		dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24)*16),
				userName : "John Smith",
				title : "added a custom text",
				icon : "sap-icon://activity-items",
				embeddedControl : oFT
			});	
		 	return item6;
		};
					
	module("Properties");

	var timeLine = createTimeLine();

	//* no content, so data display in text
	test("Timeline property Data - TimeLine Item created in property data", function() {
		timeLine.placeAt('content');
		sap.ui.getCore().applyChanges();
		notEqual(timeLine.getData()[0], null, "Timeline Item 1 created in property data");
		notEqual(timeLine.getData()[1], null, "Timeline Item 2 created in property data");
		notEqual(timeLine.getData()[2], null, "Timeline Item 3 created in property data");
		notEqual(timeLine.getData()[3], null, "Timeline Item 4 created in property data");
		notEqual(timeLine.getData()[4], null, "Timeline Item 5 created in property data");
		equal(timeLine.getData().length, 5, "Should have 5 items created in property data");
		module("Rendering");
		ok(timeLine.$().hasClass("sapSuiteUiCommonsTimeline"), "TimeLine is rendered with the correct CSS class");
		ok(jQuery(jQuery.sap.byId(timeLine.getId())), "TimeLine is rendered");
		ok(jQuery(jQuery.sap.byId(timeLine.getId()).attr('visible')), "TimeLine Visible is rendered");
		ok(jQuery(jQuery.sap.byId(timeLine.getId()).attr('type')), "TimeLine Type is rendered");
	});

	module("Properties");
	test("Timeline property SortOldestFirst", function() {
		equal(timeLine.getSortOldestFirst(), false, "SortOldestFirst is default as false");
	});
	
	test("Timeline property ShowIcons", function() {
		equal(timeLine.getShowIcons(), true, "ShowIcons is true");
	});
	
	test("Timeline property data", function() {
		var timeLineData = timeLine.getData(); 
		equal(timeLineData.length, 5, "total 5 items in timeline control");
		timeLine.destroy();
	});	

	
	test("Timeline SortOldestFirst property (ascending) - Sorter with SortOldestFirst = true", function() {
		var sSortOldestFirst = true;
		var timeLine2 = createTimeLine('idSorter', sSortOldestFirst);
		timeLine2.setSortOldestFirst(true);
		var sText = "A Call was made on this date. Need to follow up next week.";
		timeLine2.placeAt('content');
		sap.ui.getCore().applyChanges();
		equal(timeLine2.getAggregation("content")[0].getText(), sText, "Sorter the data time with SortOldestFirst = true");	
		timeLine2.destroy();
	});	

	test("Timeline SortOldestFirst property (descending) - Sorter with SortOldestFirst = false", function() {
		var sSortOldestFirst = false;
		var timeLine2 = createTimeLine('idSorter', sSortOldestFirst);
		var sText = "Sample text for a Note type item";
		timeLine2.placeAt('content');
		sap.ui.getCore().applyChanges();
		equal(timeLine2.getAggregation("content")[0].getText(), sText, "Sorter the data time with SortOldestFirst = false");	
		timeLine2.destroy();
	});
		
	
	test("Timeline Visible property", function() {
		var timeline = createTimeLine();
		strictEqual(timeline.getVisible(), true, "Visibility should be enabled by default");
		timeline.setVisible(false);
		ok(!timeline.getDomRef(), "TimeLine not rendered when set as invisible");
		timeline.destroy();
	});

	test("Timeline EnableSocial property", function() {
		var timeline = createTimeLine();
		var TimeLineItem = createTimeLineItemWithContent();
		strictEqual(timeline.getEnableSocial(), false, "EnableSocial should be disabled by default");
		timeline.setEnableSocial(true);
		//ok(timeline._addIcon, "TimeLine addIcon rendered when EnableSocial is set as true.");
		ok(TimeLineItem._replyLink,"TimeLineItem replyLink rendered when EnableSocial set as true");
		ok(TimeLineItem._jamBar,"TimeLineItem jamBar rendered when EnableSocial set as true");
		timeline.destroy();
	});

	test("Timeline TimelineAxisOrientation property",
			function() {

				var oData1 = [

				{
					dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 4).getTime(),
					text : "79% of consumers spend at leat-of-stock product",
					userName : "Sarah Social",
					title : "added a Note about retail reality",
					filterValue : "Note",
					icon : "sap-icon://accept"
				}, {
					dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 4).getTime(),
					text : "Comments on the retail reality",
					userName : "John Smith",
					title : "posted a Comment",
					filterValue : "Comment",
					icon : "sap-icon://activity-items"
				}, {
					dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 1).getTime(),
					text : "Introducing the First  Collaborative SAP HANA",
					userName : "Sam Sales",
					title : "added a Note",
					filterValue : "Note",
					icon : "sap-icon://accept"
				},

				{
					dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 6).getTime(),
					text : "A Call was made on this date. Left message to the customer to call back.",
					userName : "Tony Stark",
					title : "made the Call",
					filterValue : "Call",
					icon : "sap-icon://outgoing-call"
				}, {
					dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 5).getTime(),
					text : "Added a comment on the customer call back that the issue is resolved",
					userName : "Tony Stark",
					title : "posted a Comment",
					filterValue : "Comment",
					icon : "sap-icon://activity-items"
				},

				];

				var timeline1 = new sap.suite.ui.commons.Timeline({
					axisOrientation : sap.suite.ui.commons.TimelineAxisOrientation.Horizontal
				});
			
				timeline1.setData(oData1);
				timeline1.placeAt('content');
				sap.ui.getCore().applyChanges();
				equal(timeline1.$().hasClass("sapSuiteUiCommonsTimelineH"), true,
						"TimeLine is rendered with the correct CSS class");
				timeline1.destroy();

			});

	//TimeLine Item

	var TimeLineItem = createTimeLineItemWithContent();

	test("TimelineItem property Icon", function() {
		var sIcon = "sap-icon://outgoing-call";
		strictEqual(TimeLineItem.getIcon(), sIcon, "Icon should be correct");
	});

	test("TimelineItem property UserName", function() {
		var sUserName = "Sanjeev Agarwal";
		strictEqual(TimeLineItem.getUserName(), sUserName, "UserName should be correct");
	});

	test("TimelineItem property title", function() {
		var sTitle = "made a Call";
		strictEqual(TimeLineItem.getTitle(), sTitle, "title should be correct");
	});

	test("TimeLineItem with Control Object content", function() {
		var item9 = createTimeLineItemWithControlObj();
		item9.placeAt("content");
		sap.ui.getCore().applyChanges();
		ok(item9.getDomRef(), "TimeLineItem is rendered");
		ok(item9.getEmbeddedControl(0) instanceof sap.m.ObjectHeader, "Should be an instance of sap.m.ObjectHeader");
		var sTitle = "Attachment.doc";
		var number = "22.83";
		var numberUnit = "USD";
		equal(item9.getEmbeddedControl(0).getTitle(), sTitle, "Title should be correct");
		equal(item9.getEmbeddedControl(0).getNumber(), number, "number should be correct");
		equal(item9.getEmbeddedControl(0).getNumberUnit(), numberUnit, "numberUnit should be correct");
		ok(item9.getEmbeddedControl(0).getFirstStatus() instanceof sap.m.ObjectStatus,
				"FirstStatus Should be an instance of sap.m.ObjectStatus");
		ok(item9.getEmbeddedControl(0).getAttributes()[0] instanceof sap.m.ObjectAttribute,
				"Attributes Should be an instance of sap.m.ObjectAttribute");
		var sText = "file name";
		equal(item9.getEmbeddedControl(0).getAttributes()[0].getText(), sText, "Text in attributes should be correct");
		sText2 = "Uploaded";
		equal(item9.getEmbeddedControl(0).getFirstStatus().getText(), sText2, "Text in First Status should be correct");
		sIcon = "sap-icon://activity-items";
		equal(item9.getIcon(), sIcon, "Icon should be correct");
		item9.destroy();
	});

	test("TimeLine with multi timelineitem display in content", function() {

		var item4 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 2).getTime(),
			text : "Sample text for a Note type item",
			userName : "Sanjeev Agarwal",
			title : "made a Call",
			icon : "sap-icon://outgoing-call",
			text : "Hi Palo Alto"
		});

		item4.attachUserNameClicked(function(oEvent) {
			//		  			ok("Click on User Name " + oEvent.getSource().getUserName());
			ok(true, "User Name " + "' " + oEvent.getSource().getUserName() + "'" + " Clicked");
		});

		var item5 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 6).getTime(),
			text : "Sample text for a Note type item",
			userName : "Sanjeev Agarwal",
			title : "made a long distance Call",
			icon : "sap-icon://outgoing-call",
			text : "Hi Atalantic"
		});

		var item6 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 8).getTime(),
			text : "Sample text for a Note type item",
			userName : "Daniel",
			title : "made a long distance Call",
			icon : "sap-icon://outgoing-call",
			text : "Hi Taipei"
		});

		item6.attachUserNameClicked(function(oEvent) {
			ok(true, "User Name " + "' " + oEvent.getSource().getUserName() + "'" + " Clicked");
		});

		var timeline5 = new sap.suite.ui.commons.Timeline();

		var conts = [item4, item5, item6];
		timeline5.setContent(conts);
		timeline5.placeAt("content");
		sap.ui.getCore().applyChanges();

		ok(timeline5.getAggregation("content")[0].getDomRef(), "TimeLine is rendered");
		ok(timeline5.getAggregation("content")[1].getDomRef(), "TimeLine is rendered");

		var sText = "Hi Palo Alto";
		var sTitle = "made a Call";
		equal(timeline5.getAggregation("content")[0].getTitle(), sTitle, "Title is made a Call");

		equal(timeline5.getAggregation("content")[0].getText(), sText, "Hi Palo Alto");

		var sText = "Hi Atalantic";
		var sTitle = "made a long distance Call";

		equal(timeline5.getAggregation("content")[1].getTitle(), sTitle, "Title is made a long distance Call");
		equal(timeline5.getAggregation("content")[1].getText(), sText, "Text is Hi Atalantic");

		var Icon = "sap-icon://outgoing-call";
		equal(timeline5.getAggregation("content")[1].getIcon(), Icon, "Icon is sap-icon://outgoing-call");
		equal(timeline5.indexOfAggregation("content", item4), 0, "TimeLineItem5 should be at index 0");
		equal(timeline5.indexOfAggregation("content", item5), 1, "TimeLineItem6 should be at index 1");
		equal(timeline5.indexOfAggregation("content", item6), 2, "TimeLineItem6 should be at index 2");
		equal(timeline5.indexOfContent(item4), 0, "TimeLineItem5 should be at index 0");
		equal(timeline5.indexOfContent(item5), 1, "TimeLineItem5 should be at index 1");
		equal(timeline5.indexOfContent(item6), 2, "TimeLineItem5 should be at index 2");
		equal(timeline5.getShowHeaderBar(), true, "TimeLine Show Heade Bar should default with true");

		strictEqual(timeline5.getAggregation("content").length, 3, "Timeline should have 3 items");

		item4.fireUserNameClicked(ok(true, 'User Name is Clicked'));
		item6.fireUserNameClicked(ok(true, 'User Name is Clicked'));

		timeline5.removeAggregation("content", timeline5.getContent()[0]);
		strictEqual(timeline5.getAggregation("content").length, 2, "Timeline should have only 2 item");

		item4.destroy();
		item5.destroy();
		item6.destroy();
		timeline5.destroy();
	});

	module("Instance");

	test("Timeline instance", function() {
		var TimeLine = createTimeLine();
		ok(TimeLine instanceof sap.ui.core.Control, "Should be an instance of sap.ui.core.Control");
		ok(TimeLine instanceof sap.suite.ui.commons.Timeline, "Should be an instance of sap.suite.ui.commons.Timeline");
		TimeLine.placeAt('content');
		sap.ui.getCore().applyChanges();
		ok(TimeLine.$().hasClass("sapSuiteUiCommonsTimeline"), "TimeLine is rendered with the correct CSS class");
		TimeLine.destroy();
	});

	test("TimelineItem instance", function() {
		ok(TimeLineItem instanceof sap.ui.core.Control, "Should be an instance of sap.ui.core.Control");
		ok(TimeLineItem instanceof sap.suite.ui.commons.TimelineItem,
				"Should be an instance of sap.suite.ui.commons.TimelineItem");
	});

	module("Aggregation");

	test("Timeline aggregation content is null", function() {
		var timeLineItem = createTimeLineItemWithContent();
		var timeLine = new sap.suite.ui.commons.Timeline();
		var conts = [timeLineItem];
		timeLine.setContent(conts);
		timeLine.placeAt("content");
		sap.ui.getCore().applyChanges();
		ok(timeLine.getAggregation("content"), "Timeline content is not null");
		timeLine.destroy();
	})

	test("TimelineItem aggregation content should correct", function() {
		ok(TimeLineItem.getAggregation("embeddedControl"), "TimelineItem aggregation content is not null");
		TimeLineItem.destroy();
	});

	var TimeLineItem2 = createTimeLineItemWithText();
	//* no content, so data display in text

	test("TimelineItem aggregation content is null", function() {
		ok(!TimeLineItem2.getAggregation("embeddedControl"), "TimelineItem2 aggregation content is null");
	});

	module("Rendering");

	test("TimeLine in Rendered", function() {
		var timeLineItem = createTimeLineItemWithContent();
		var timeLine = new sap.suite.ui.commons.Timeline();
		var conts = [timeLineItem];
		timeLine.setContent(conts);
		timeLine.placeAt("content");
		sap.ui.getCore().applyChanges();
		ok(timeLine.getAggregation("content")[0].getDomRef(), "TimeLine should be Rendered");
		timeLine.destroy();
	});

	test("TimeLine in DOM tree", function() {
		var timeLineItem = createTimeLineItemWithContent();
		var timeLine = new sap.suite.ui.commons.Timeline();
		timeLine.addContent(timeLineItem);
		timeLine.placeAt("content");
		sap.ui.getCore().applyChanges();
		ok(timeLine.$().length > 0, "TimeLine in DOM tree");
		timeLine.destroy();
	});

	test("TimeLineItem is rendered", function() {
		var sBtnId = "b2";
		var timeLineItem = createTimeLineItemWithContent(sBtnId);
		timeLineItem.placeAt("content");
		sap.ui.getCore().applyChanges();
		ok(timeLineItem.getDomRef(), "TimeLineItem is rendered");
		var Btn = sap.ui.getCore().byId(sBtnId);
		ok(Btn.getDomRef(), "Button is rendered");
		ok(Btn.getEnabled(), "Button is enables");
		ok(Btn.getVisible(), "Button is visible");
		var sText = "Click me";
		strictEqual(Btn.getText(), sText, "Button text should be correct");

		timeLineItem.destroy();
	});

	test("TimeLineItem in DOM tree", function() {
		var timeLineItem = createTimeLineItemWithContent();
		timeLineItem.placeAt("content");
		sap.ui.getCore().applyChanges();
		ok(timeLineItem.$().length > 0, "TimeLineItem in DOM tree");
		timeLineItem.destroy();
	});

	test("TimeLineItem text is mixture of text and link", function() {
		var item10 = createTimeLineItemWithControl();
		item10.placeAt("content");
		sap.ui.getCore().applyChanges();
		ok(item10.getDomRef(), "TimeLineItem is rendered");

		item10.destroy();
	});

	module("Properties");

	test("TimeLineItem with HREF content", function() {
		var item4 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24)).getTime(),
			userName : "Sanjeev Agarwal",
			title : "made a Call",
			icon : "sap-icon://outgoing-call"
		});

		var sText = "Link to SAP home page";

		var oLink1 = new sap.m.Link('link1', {
			text : sText,
			href : "http://www.sap.com",
			target : "_blank",
			press : function() {
				ok(true, "This should be executed when the link is triggered");
			}
		});
		item4.setEmbeddedControl(oLink1);
		item4.placeAt("content");
		sap.ui.getCore().applyChanges();
		equal(item4.getEmbeddedControl() instanceof sap.ui.core.Control, true, "Instance of content object is sap.m.Link");
		equal(item4.getEmbeddedControl() instanceof sap.m.Link, true, "Instance of content object is sap.m.Link");
		strictEqual(oLink1.getDomRef().target, "_blank", "oLink1 target should be correct");
		equal(oLink1.$().text(), sText, "oLink1 text should be correct");
		item4.destroy();
	});

	module("Event");

	test("Press event - click on href link", function() {
		var item4 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24)).getTime(),
			userName : "Sanjeev Agarwal",
			title : "made a Call",
			icon : "sap-icon://outgoing-call"
		});

		var sText = "Link to SAP home page";

		var oLink1 = new sap.m.Link('link1', {
			text : sText,
			href : "http://www.sap.com",
			target : "_blank",
			press : function() {
				ok(true, "This should be executed when the link is triggered");
			}
		});
		item4.setEmbeddedControl(oLink1);
		item4.placeAt("content");
		sap.ui.getCore().applyChanges();

		var oLink = sap.ui.getCore().byId('link1');
		oLink.attachPress(function(oEvent) {
			ok(true, 'Link Event is trigerred')
		});
		oLink.firePress(ok(true));
		item4.destroy();
	});

	test('Press event is triggered - PressOk on button', function() {
		sBtnId = "b1";
		var item = new createTimeLineItemWithContent(sBtnId);
		var Btn = sap.ui.getCore().byId(sBtnId);
		Btn.attachPress(function() {
			ok(true)
		});
		sap.ui.getCore().applyChanges();
		Btn.firePress();
	});

	module("Rendering");

	test("TimeLineItem Rendering", function() {
		var item9 = createTimeLineItemWithControlObj();

		item9.placeAt("content");
		sap.ui.getCore().applyChanges();
		ok(item9.getDomRef(), "TimeLineItem is rendered");
		ok(item9.getEmbeddedControl(0) instanceof sap.m.ObjectHeader, "Should be an instance of sap.m.ObjectHeader");
		ok(item9.$().hasClass("sapSuiteUiCommonsTimelineItem"), "TimeLineItem is rendered with the correct CSS class");

		// getId
		var $divs = jQuery.sap.byId(item9.getId()).children('div');
		equal(jQuery($divs[0]).hasClass('sapSuiteUiCommonsTimelineItemWrapper'), true,
				"TimeLineItem wrapper is rendered with the correct CSS class");

		equal(jQuery(jQuery($divs[0]).children('div')[1]).hasClass('sapSuiteUiCommonsTimelineItemNoIcon'), true,
				"TimeLineItem Icon is rendered with the correct CSS class");

		equal(jQuery(jQuery($divs[0]).children('div')[2]).hasClass('sapSuiteUiCommonsTimelineItemBubbleSpacer'), true,
				"TimeLineItem BubbleSpacer is rendered with the correct CSS class");
		equal(jQuery(jQuery($divs[0]).children('div')[2]).hasClass('sapSuiteUiCommonsTimelineItemBubbleSpacerLeft'), true,
				"TimeLineItem arrow on the left is rendered with the correct CSS class");

		var $divs1 = jQuery(jQuery(jQuery($divs[0]).children('div')[2])).children('div')[0];

		equal(jQuery($divs1).hasClass('sapSuiteUiCommonsTimelineItemBubble'), true,
				"TimeLineItem Bubble is rendered with the correct CSS class");
		equal(jQuery(jQuery($divs1).children('div')[0]).hasClass('sapSuiteUiCommonsTimelineItemArrow'), true,
				"TimeLineItem Arrow is rendered with the correct CSS class");
		equal(jQuery(jQuery($divs1).children('div')[1]).hasClass('sapSuiteUiCommonsTimelineItemBox'), true,
				"TimeLineItem Box is rendered with the correct CSS class");

		var $divs2 = jQuery(jQuery($divs1).children('div')[1]);
		equal(jQuery(jQuery($divs2).children('div')[0]).hasClass('sapSuiteUiCommonsTimelineItemShell'), true,
				"TimeLineItem shell is rendered with the correct CSS class");

		var $divs3 = jQuery(jQuery($divs2).children('div')[0]);
		equal(jQuery(jQuery($divs3)).hasClass('sapSuiteUiCommonsTimelineItemShell'), true,
				"TimeLineItem shell is rendered with the correct CSS class");

		//user name  ======     	
		var $divs4 = jQuery(jQuery(jQuery($divs3).children('div')[0]).children('span')[0]);
		equal(jQuery($divs4).hasClass('sapSuiteUiCommonsTimelineItemShellUser'), true,
				"TimeLineItem User Name is rendered with the correct CSS class");
		var sUserName = "Daniel Chang";
		equal(jQuery($divs4).text(), sUserName, "TimeLineItem User Name is rendered correctly");

		//title =====    	
		var $divs4 = jQuery(jQuery(jQuery($divs3).children('div')[0]).children('span')[1]);
		equal(jQuery($divs4).hasClass('sapSuiteUiCommonsTimelineItemShellHdr'), true,
				"TimeLineItem Title is rendered with the correct CSS class");
		var sItemTitle = " added some Contents";
		equal(jQuery($divs4).text(), sItemTitle, "TimeLineItem Title is rendered correctly");

		//date time        	
		equal(jQuery(jQuery($divs3).children('div')[1]).hasClass('sapSuiteUiCommonsTimelineItemShellDateTime'), true,
				"TimeLineItem  DateTime is rendered with the correct CSS class");
		ok(jQuery(jQuery($divs3).children('div')[1]).text(), "TimeLineItem  DateTime is rendered correctly");

		//shell body  
		equal(jQuery(jQuery($divs3).children('div')[2]).hasClass('sapSuiteUiCommonsTimelineItemShellBody'), true,
				"TimeLineItem  shell body is rendered with the correct CSS class");

		item9.destroy();

		var line1 = new sap.suite.ui.commons.Timeline();
		var item1 = createTimeLineItemWithControlObj();
		line1.setShowIcons(true);
		line1.addContent(item1);
		line1.placeAt("content");
		sap.ui.getCore().applyChanges();
		var $divs = jQuery.sap.byId(item1.getId()).children('div');

		line1.destroy();

	});

	module("Filter Dialog checking");

	test("Test Filter Dialog with TimeLine Control Data", function() {
		var item4 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 2).getTime(),
			text : "Sample text for a Note type item",
			userName : "Sanjeev Agarwal",
			title : "made a Call",
			icon : "sap-icon://outgoing-call",
			filterValue : "Note",
			text : "Hi Palo Alto"
		});

		var item5 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 3).getTime(),
			text : "Sample text for a Note type item",
			userName : "Sanjeev Agarwal",
			title : "made a long distance Call",
			icon : "sap-icon://outgoing-call",
			filterValue : "Call",
			text : "Hi Atalantic"
		});

		var item6 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 4).getTime(),
			text : "Sample text for a Note type item",
			userName : "Sanjeev Agarwal",
			title : "made a long distance Call",
			icon : "sap-icon://outgoing-call",
			filterValue : "Comment",
			text : "Hi Atalantic"
		});

		var item7 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 5).getTime(),
			text : "Sample text for a Note type item",
			userName : "Sanjeev Agarwal",
			title : "made a long distance Call",
			icon : "sap-icon://outgoing-call",
			filterValue : "Comment",
			text : "Hi Atalantic"
		});

		var item8 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 6).getTime(),
			text : "Sample text for a Note type item",
			userName : "Daniel",
			title : "made a long distance Call",
			icon : "sap-icon://outgoing-call",
			filterValue : "Call",
			text : "Hi Taipei"
		});

		var timeline5 = new sap.suite.ui.commons.Timeline();
		var conts = [item4, item5, item6, item7, item8];
		timeline5.setContent(conts);
		timeline5.placeAt("content");
		sap.ui.getCore().applyChanges();

		ok(timeline5._headerBar, 'Bar should be rendered');
		ok(timeline5._headerBar instanceof sap.m.Toolbar, 'Instance of Bar');
		ok(timeline5._filterIcon, 'Filter Icon should be rendered');
		ok(timeline5._filterDialog, 'Filter Popover should be rendered');
		ok(timeline5._filterDialog instanceof sap.m.ResponsivePopover, 'Instance of ResponsivePopOver');
		/*		ok(timeline5._filterDialog.getFooter(), "Popover footer is rendered");
		 var oCancelBtn = timeline5._filterDialog.getFooter().getContentMiddle()[0];
		 ok(oCancelBtn, "Footer should contain a cancel button placed in middle content");*/
		ok(timeline5._filterDialog.getTitle(), 'Filter Title should be correct');
		equal(timeline5._filterDialog.getPlacement(), sap.m.PlacementType.Auto, 'Filter placement should be correct');
		/*		oCancelBtn.firePress(ok(true, 'Cancel button is pressed'));*/
		ok(timeline5.getAggregation("content")[0].getFilterValue(), "Filter Value is renderred");
		equal(timeline5.getAggregation("content")[0].getFilterValue(), "Note", "Filter Value is correct");
		ok(timeline5.getContent()[0], "Filter Value is renderred");
		ok(timeline5.getContent()[0].getFilterValue() > "", "Filter Value is not space");
		equal(timeline5.getShowHeaderBar(), true, "TimeLine Show Heade Bar should default with true");

		//  		timeline5._setFilterList();
		//		equal(timeline5._filterList.getItems().length, 4, "The number of Filter Values in Filter list is 4");	//All, Call, Comment, Note	

		var oFilter = sap.ui.getCore().byId(timeline5.getId() + "-filter");
		oFilter.attachPress(function() {
			ok(true, 'Filter Event is trigerred')
		});
		oFilter.firePress(ok(true, 'Filter dialog is opened'));

		var oFilterList = sap.ui.getCore().byId(timeline5.getId() + "-filterlist");
		oFilterList.attachItemPress(function() {
			ok(true, 'Filter List selcted Event is trigerred')
		});
		oFilterList.fireItemPress(ok(true, 'Filter List item is pressed'));

		equal(timeline5._filterList.getItems().length, 4, "The number of Filter Values in Filter list is 4"); //All, Call, Comment, Note	

		oFilterList.attachSelectionChange(function(oEvent) {
			//filter value = All
			timeline5._filterList.setSelectedItem(timeline5._filterList.getItems()[0]);
			var oFilterText = timeline5._filterList.getSelectedItem().getLabel();
			timeline5._resetDisplayItems(oFilterText);
			equal(timeline5._displayItems.length, 5, "Should have 5 Items with Filter Value " + "'" + oFilterText + "'"
					+ " displaye");
			//filter value = Call
			timeline5._filterList.setSelectedItem(timeline5._filterList.getItems()[1]);
			var oFilterText = timeline5._filterList.getSelectedItem().getLabel();
			timeline5._resetDisplayItems(oFilterText);
			equal(timeline5._displayItems.length, 2, "Should have 2 Items with Filter Value " + "'" + oFilterText + "'"
					+ " displaye");
			//filter value = comment
			timeline5._filterList.setSelectedItem(timeline5._filterList.getItems()[2]);
			var oFilterText = timeline5._filterList.getSelectedItem().getLabel();
			timeline5._resetDisplayItems(oFilterText);
			equal(timeline5._displayItems.length, 2, "Should have 2 Items with Filter Value " + "'" + oFilterText + "'"
					+ " displaye");
			//filter value = Note
			timeline5._filterList.setSelectedItem(timeline5._filterList.getItems()[3]);
			var oFilterText = timeline5._filterList.getSelectedItem().getLabel();
			timeline5._resetDisplayItems(oFilterText);
			equal(timeline5._displayItems.length, 1, "Should have 1 Items with Filter Value " + "'" + oFilterText + "'"
					+ " displaye");
		});
		oFilterList.fireSelectionChange(ok(true, 'Filter List Selection is Changed'));

		timeline5._filterDialog.close();

		item4.destroy();
		item5.destroy();
		item6.destroy();
		item7.destroy();
		timeline5.destroy();

	});

	test("Test Filter Dialog - without filter value", function() {
		var item4 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 2).getTime(),
			text : "Sample text for a Note type item",
			userName : "Sanjeev Agarwal",
			title : "made a Call",
			icon : "sap-icon://outgoing-call",
			text : "Hi Palo Alto"
		});

		var item5 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 6).getTime(),
			text : "Sample text for a Note type item",
			userName : "Sanjeev Agarwal",
			title : "made a long distance Call",
			icon : "sap-icon://outgoing-call",
			text : "Hi Atalantic"
		});

		var item6 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 6).getTime(),
			text : "Sample text for a Note type item",
			userName : "Sanjeev Agarwal",
			title : "made a long distance Call",
			icon : "sap-icon://outgoing-call",
			text : "Hi Atalantic"
		});

		var item7 = new sap.suite.ui.commons.TimelineItem({
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 6).getTime(),
			text : "Sample text for a Note type item",
			userName : "Sanjeev Agarwal",
			title : "made a long distance Call",
			icon : "sap-icon://outgoing-call",
			text : "Hi Atalantic"
		});

		var timeline5 = new sap.suite.ui.commons.Timeline();
		var conts = [item4, item5, item6, item7];
		timeline5.setContent(conts);
		timeline5.placeAt("content");
		sap.ui.getCore().applyChanges();

		ok(timeline5._headerBar, 'Bar should be rendered');
		ok(timeline5._headerBar instanceof sap.m.Toolbar, 'Instance of Bar');
		ok(timeline5._filterIcon, 'Filter Icon should be rendered');
		ok(timeline5._filterDialog, 'Filter Popover should be rendered');
		ok(timeline5._filterDialog instanceof sap.m.ResponsivePopover, 'Instance of ResponsivePopOver');
		/*		ok(timeline5._filterDialog.getFooter(), "Popover footer is rendered");
		 var oCancelBtn = timeline5._filterDialog.getFooter().getContentMiddle()[0];
		 ok(oCancelBtn, "Footer should contain a cancel button placed in middle content");*/
		ok(timeline5._filterDialog.getTitle(), 'Filter Title should be correct');
		equal(timeline5._filterDialog.getPlacement(), sap.m.PlacementType.Auto, 'Filter placement should be correct');
		/*		oCancelBtn.firePress(ok(true, 'Cancel button is pressed'));*/
		ok(!timeline5.getAggregation("content")[0].getFilterValue(), "Filter Value is not renderred");
		equal(timeline5.getAggregation("content")[0].getFilterValue(), "", "Filter Value is blank");
		equal(timeline5.getShowHeaderBar(), true, "TimeLine Show Heade Bar should default with true");

		timeline5._setFilterList();
		equal(timeline5._filterList.getItems().length, 1, "The number of Filter list is 1");
		var oFilter = sap.ui.getCore().byId(timeline5.getId() + "-filter");
		oFilter.attachPress(function(oEvent) {
			ok(true, 'Filter Event is trigerred')
		});
		oFilter.firePress(ok(true, 'Filter dialog is opened'));

		var oFilterList = sap.ui.getCore().byId(timeline5.getId() + "-filterlist");
		oFilterList.attachItemPress(function() {
			ok(true, 'Filter List selcted Event is trigerred')
		});
		oFilterList.fireItemPress(ok(true, 'Filter List item is pressed'));

		oFilterList.attachSelectionChange(function() {
			ok(true, 'Filter List Selection Change Event is trigerred')
		});
		oFilterList.fireSelectionChange(ok(true, 'Filter List Selection is Changed'));

		timeline5._filterDialog.close();

		item4.destroy();
		item5.destroy();
		item6.destroy();
		item7.destroy();
		timeline5.destroy();

	});

	test("Test Filter Dialog - oDataModel", function() {

		var aValues = [{
			dateTime : new Date(),
			userNameClickable : true,
			text : "ample text for a Note type item",
			userName : "John Smith",
			filterValue : "Note",
			icon : "sap-icon://accept"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 2).getTime(),
			userNameClickable : true,
			text : "A Call was made on this date. Need to follow up next week.",
			userName : "Nancy Grace",
			filterValue : "Note",
			icon : "sap-icon://outgoing-call"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 5).getTime(),
			userNameClickable : true,
			text : "A Call was made on this date. All done",
			userName : "John Wayne",
			filterValue : "Call",
			icon : "sap-icon://outgoing-call"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 4).getTime(),
			userNameClickable : true,
			text : "This is my comments appearing in Comment type Item.",
			userName : "Jerry Lewis",
			filterValue : "Comment",
			icon : "sap-icon://activity-items"
		}];

		var oModel = new sap.ui.model.json.JSONModel({
			values : aValues
		});
		var tlItem = new sap.suite.ui.commons.TimelineItem({
			dateTime : "{dateTime}",
			userNameClickable : "{userNameClickable}",
			text : "{text}",
			userName : "{userName}",
			filterValue : "{filterValue}",
			icon : "{icon}"
		});

		var timeline3 = new sap.suite.ui.commons.Timeline();
		timeline3.setSortOldestFirst(true);
		timeline3.setModel(oModel);
		timeline3.bindAggregation("content", {
			path : "/values",
			template : tlItem
		});
		timeline3.setSortOldestFirst(true);

		timeline3.placeAt("content");
		sap.ui.getCore().applyChanges();

		ok(timeline3._headerBar, 'Bar should be rendered');
		ok(timeline3._headerBar instanceof sap.m.Toolbar, 'Instance of Bar');
		ok(timeline3._filterIcon, 'Filter Icon should be rendered');
		ok(timeline3._filterDialog, 'Filter Popover should be rendered');
		ok(timeline3._filterDialog instanceof sap.m.ResponsivePopover, 'Instance of ResponsivePopOver');
		/*		ok(timeline3._filterDialog.getFooter(), "Popover footer is rendered");*/
		/*		var oCancelBtn = timeline3._filterDialog.getFooter().getContentMiddle()[];
		 ok(oCancelBtn, "Footer should contain a cancel button placed in middle content");*/
		ok(timeline3._filterDialog.getTitle(), 'Filter Title should be correct');
		/*		oCancelBtn.firePress(ok(true, 'Cancel button is pressed'));*/
		equal(timeline3._filterDialog.getPlacement(), sap.m.PlacementType.Auto, 'Filter placement should be correct');
		equal(timeline3.getShowHeaderBar(), true, "TimeLine Show Heade Bar should default with true");

		//  		timeline3._setFilterList();
		//		equal(timeline3._filterList.getItems().length, 4, "The number of Filter list is 4");	
		var oFilter = sap.ui.getCore().byId(timeline3.getId() + "-filter");
		oFilter.attachPress(function(oEvent) {
			ok(true, 'Filter Event is trigerred')
		});
		oFilter.firePress(ok(true, 'Filter dialog is opened'));

		var oFilterList = sap.ui.getCore().byId(timeline3.getId() + "-filterlist");
		oFilterList.attachItemPress(function() {
			ok(true, 'Filter List selcted Event is trigerred')
		});
		oFilterList.fireItemPress(ok(true, 'Filter List item is pressed'));

		equal(timeline3._filterList.getItems().length, 4, "The number of Filter list is 4");

		oFilterList.attachSelectionChange(function(oEvent) {
			//All
			timeline3._filterList.setSelectedItem(timeline3._filterList.getItems()[0]);
			var oFilterText = timeline3._filterList.getSelectedItem().getLabel();
			timeline3._resetDisplayItems(oFilterText);
			equal(timeline3._displayItems.length, 4, "Should have 4 Items with Filter Value " + "'" + oFilterText + "'"
					+ " displayed");
			//Call 
			timeline3._filterList.setSelectedItem(timeline3._filterList.getItems()[1]);
			var oFilterText = timeline3._filterList.getSelectedItem().getLabel();
			timeline3._resetDisplayItems(oFilterText);
			equal(timeline3._displayItems.length, 1, "Should have 1 Items with Filter Value " + "'" + oFilterText + "'"
					+ " displayed");
			//Comment
			timeline3._filterList.setSelectedItem(timeline3._filterList.getItems()[2]);
			var oFilterText = timeline3._filterList.getSelectedItem().getLabel();
			timeline3._resetDisplayItems(oFilterText);
			equal(timeline3._displayItems.length, 1, "Should have 1 Items with Filter Value " + "'" + oFilterText + "'"
					+ " displayed");
			//Note
			timeline3._filterList.setSelectedItem(timeline3._filterList.getItems()[3]);
			var oFilterText = timeline3._filterList.getSelectedItem().getLabel();
			timeline3._resetDisplayItems(oFilterText);
			equal(timeline3._displayItems.length, 2, "Should have 2 Items with Filter Value " + "'" + oFilterText + "'"
					+ " displayed");

		});

		oFilterList.fireSelectionChange(ok(true, 'Filter List Selection is Changed'));

		tlItem.attachUserNameClicked(function(oEvent) {
			ok(true, "User Name" + "'" + timeline3.getContent()[0].getUserName() + "'" + " Clicked");
			ok(true, "User Name" + "'" + timeline3.getContent()[1].getUserName() + "'" + " Clicked");
			ok(true, "User Name" + "'" + timeline3.getContent()[2].getUserName() + "'" + " Clicked");
			ok(true, "User Name" + "'" + timeline3.getContent()[3].getUserName() + "'" + " Clicked")
		});

		tlItem.fireUserNameClicked(ok(true, 'User name Clicked'));
		timeline3._filterDialog.close();
		tlItem.destroy();
		timeline3.destroy();

	});

	module("Backend Filter Dialog checking");
	test("Test Backend Filter Dialog - oDataModel", function() {

		var aValues = [{
			dateTime : new Date(),
			text : "Aniseed Syrup"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 2).getTime(),
			text : "Alice Mutton",
			key : "1"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 5).getTime(),
			text : "Boston Crab Meat",
			key : "1"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 7).getTime(),
			text : "Boston Crab Meat",
			key : "2"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 4).getTime(),
			text : "Chai",
			key : "3"
		}];

		var oModel = new sap.ui.model.json.JSONModel({
			values : aValues
		});

		var tlItem = new sap.suite.ui.commons.TimelineItem({
			dateTime : "{dateTime}",
			text : "{text}",

		});

		var timelineBE = new sap.suite.ui.commons.Timeline();
		timelineBE.setSortOldestFirst(true);
		timelineBE.setShowIcons(false);
		timelineBE.setModel(oModel);
		timelineBE.setEnableBackendFilter(false);
		/* 	  	
		 timelineBE.bindAggregation("filterList", {
		 path: "/values",
		 template: oFilterItem1
		 });   */

		timelineBE.bindAggregation("content", {
			path : "/values",
			template : tlItem
		});
		timelineBE.setSortOldestFirst(true);

		timelineBE.placeAt("content");
		sap.ui.getCore().applyChanges();

		ok(timelineBE._headerBar, 'Bar should be rendered');
		ok(timelineBE._headerBar instanceof sap.m.Toolbar, 'Instance of Bar');
		ok(timelineBE._filterIcon, 'Filter Icon should be rendered');
		ok(timelineBE._filterDialog, 'Filter Popover should be rendered');
		ok(timelineBE._filterDialog instanceof sap.m.ResponsivePopover, 'Instance of ResponsivePopOver');
		/*		ok(timeline3._filterDialog.getFooter(), "Popover footer is rendered");*/
		/*		var oCancelBtn = timeline3._filterDialog.getFooter().getContentMiddle()[];
		 ok(oCancelBtn, "Footer should contain a cancel button placed in middle content");*/
		ok(timelineBE._filterDialog.getTitle(), 'Filter Title should be correct');
		/*		oCancelBtn.firePress(ok(true, 'Cancel button is pressed'));*/
		equal(timelineBE._filterDialog.getPlacement(), sap.m.PlacementType.Auto, 'Filter placement should be correct');
		equal(timelineBE.getShowHeaderBar(), true, "TimeLine Show Heade Bar should default with true");

		timelineBE._setFilterList();
		equal(timelineBE._filterList.getItems().length, 1, "The number of Filter list is 1");
		var oFilter = sap.ui.getCore().byId(timelineBE.getId() + "-filter");
		oFilter.attachPress(function(oEvent) {
			ok(true, 'Filter Event is trigerred')
		});
		oFilter.firePress(ok(true, 'Filter dialog is opened'));

		var oFilterList = sap.ui.getCore().byId(timelineBE.getId() + "-filterlist");
		oFilterList.attachItemPress(function() {
			ok(true, 'Filter List selcted Event is trigerred')
		});
		oFilterList.fireItemPress(ok(true, 'Filter List item is pressed'));

		timelineBE.attachFilterSelectionChange(function(oEvent) {

			timelineBE.bindAggregation("content", {
				path : "/values",
				filters : [],
				template : tlItem
			});
			equal(timelineBE.getAggregation("content").length, 5, "Should have 5 Items displayed");

			var oFilterFL1 = new sap.ui.model.Filter("key", sap.ui.model.FilterOperator.EQ, "1");
			timelineBE.bindAggregation("content", {
				path : "/values",
				filters : [oFilterFL1],
				template : tlItem
			});
			equal(timelineBE.getAggregation("content").length, 2, "Should have 2 Items with Filter key Value " + "'" + "1"
					+ "'" + " displayed");

			var oFilterFL1 = new sap.ui.model.Filter("key", sap.ui.model.FilterOperator.EQ, "2");
			timelineBE.bindAggregation("content", {
				path : "/values",
				filters : [oFilterFL1],
				template : tlItem
			});
			equal(timelineBE.getAggregation("content").length, 1, "Should have 1 Items with Filter key Value " + "'" + "2"
					+ "'" + " displayed");

			var oFilterFL1 = new sap.ui.model.Filter("key", sap.ui.model.FilterOperator.EQ, "3");
			timelineBE.bindAggregation("content", {
				path : "/values",
				filters : [oFilterFL1],
				template : tlItem
			});
			equal(timelineBE.getAggregation("content").length, 1, "Should have 1 Items with Filter key Value " + "'" + "3"
					+ "'" + " displayed");

		});

		timelineBE.fireFilterSelectionChange(ok(true, 'Filter List Selection is Changed'));

		timelineBE._filterDialog.close();
		tlItem.destroy();
		timelineBE.destroy();

	});

	module("Growing");

	test("Growing function", function() {
		var aValues = [{
			dateTime : new Date(),
			text : "ample text for a Note type item",
			userName : "John Smith",
			filterValue : "Note",
			icon : "sap-icon://accept"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 2).getTime(),
			text : "A Call was made on this date. Need to follow up next week.",
			userName : "Nancy Grace",
			filterValue : "Note",
			icon : "sap-icon://outgoing-call"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 5).getTime(),
			text : "A Call was made on this date. All done",
			userName : "John Wayne",
			filterValue : "Call",
			icon : "sap-icon://outgoing-call"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 4).getTime(),
			text : "This is my comments appearing in Comment type Item.",
			userName : "Jerry Lewis",
			filterValue : "Comment",
			icon : "sap-icon://activity-items"
		}];

		var oModel = new sap.ui.model.json.JSONModel({
			values : aValues
		});
		var tlItem = new sap.suite.ui.commons.TimelineItem({
			dateTime : "{dateTime}",
			userNameClickable : "{userNameClickable}",
			text : "{text}",
			userName : "{userName}",
			filterValue : "{filterValue}",
			icon : "{icon}"
		});

		var timeline = new sap.suite.ui.commons.Timeline();
		timeline.setSortOldestFirst(true);
		timeline.setModel(oModel);
		timeline.bindAggregation("content", {
			path : "/values",
			template : tlItem
		});
		timeline.setSortOldestFirst(true);

		timeline.placeAt("content");
		sap.ui.getCore().applyChanges();
		equal(timeline.getGrowing(), true, "TimeLine Growing default as true");
		equal(timeline.getGrowingThreshold(), 5, "TimeLine Growing threshold default as 5");
		var getMoreID = timeline.getId() + "-getmore";
		ok(!sap.ui.getCore().byId(getMoreID).getDomRef(), "TimeLine More button is not rendered when all items displayed");
		timeline.destroy();

		var timeline2 = new sap.suite.ui.commons.Timeline();
		timeline2.setSortOldestFirst(true);
		timeline2.setModel(oModel);
		timeline2.bindAggregation("content", {
			path : "/values",
			template : tlItem
		});
		timeline2.setSortOldestFirst(true);
		timeline2.setGrowingThreshold(3);
		var getMoreID2 = timeline2.getId() + "-getmore";
		timeline2.placeAt("content");
		sap.ui.getCore().applyChanges();
		equal(timeline2.getGrowingThreshold(), 3, "TimeLine Growing threshold is set as 3");
		equal(timeline2._outputItem.length, 3, "Should display 3 items");
		ok(sap.ui.getCore().byId(getMoreID2).getDomRef(), "TimeLine More button is rendered");
		tlItem.destroy();
		timeline2.destroy();
	});
	
	
	module("Filter Bar");

	test("Hide Filter Bar", function() {
		
		var aValues = [{
			dateTime : new Date(),
			text : "ample text for a Note type item",
			userName : "John Smith",
			filterValue : "Note",
			icon : "sap-icon://accept"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 2).getTime(),
			text : "A Call was made on this date. Need to follow up next week.",
			userName : "Nancy Grace",
			filterValue : "Note",
			icon : "sap-icon://outgoing-call"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 5).getTime(),
			text : "A Call was made on this date. All done",
			userName : "John Wayne",
			filterValue : "Call",
			icon : "sap-icon://outgoing-call"
		}, {
			dateTime : new Date(new Date().getTime() - (1000 * 3600 * 24) * 4).getTime(),
			text : "This is my comments appearing in Comment type Item.",
			userName : "Jerry Lewis",
			filterValue : "Comment",
			icon : "sap-icon://activity-items"
		}];

		var oModel = new sap.ui.model.json.JSONModel({
			values : aValues
		});
		var tlItem = new sap.suite.ui.commons.TimelineItem({
			dateTime : "{dateTime}",
			userNameClickable : "{userNameClickable}",
			text : "{text}",
			userName : "{userName}",
			filterValue : "{filterValue}",
			icon : "{icon}"
		});
		
		
		var timeline = new sap.suite.ui.commons.Timeline();
		timeline.setSortOldestFirst(true);
		timeline.setModel(oModel);
		timeline.bindAggregation("content", {
			path : "/values",
			template : tlItem
		});
		timeline.setSortOldestFirst(true);

		timeline.placeAt("content");
		sap.ui.getCore().applyChanges();
		timeline.setShowFilterBar(false);
		equal(timeline.getShowFilterBar(), false, "TimeLine filter bar is hiddden");
		var getFilterBarID = timeline.getId() + "-filterToolBar";
		ok(!timeline._headerBar.getVisible(), "TimeLine filterbar is not hidden properly");
		timeline.setShowFilterBar(true);
		equal(timeline.getShowFilterBar(), true, "TimeLine filter bar is visible");
		ok(timeline._headerBar.getVisible(), "TimeLine filterbar is not hidden properly");
		tlItem.destroy();
		timeline.destroy();
		
		
		
	});
</script>
</head>

<body class="sapUiBody">
	<div id="qunit"></div>
    <div id="content"></div>
</body>
</html>
