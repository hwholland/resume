<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ComparisonChartPerformance - sap.suite.ui.commons</title>

<!-- UI5 Bootstrap -->
<script src="../../../../../../resources/sap-ui-core.js"
        type="text/javascript"
        id="sap-ui-bootstrap"
        data-sap-ui-libs="sap.suite.ui.commons,sap.m"
        data-sap-ui-theme="sap_bluecrystal"></script>

<script type="text/javascript">
    jQuery.sap.initMobile();

    function fnGetParameterValue(key) {
   		var aFound = new RegExp('[&?]'+key+'=([^&#]*)').exec(document.location.search);
  	   	return (!aFound) ? undefined : aFound[1];
  	};
  	
	var iChartsCount = fnGetParameterValue("sap-ui-charts-number");
  	 
	if (!iChartsCount) {
		iChartsCount = 16;
	};

   	var aCharts = [];
  
   	for(var n = 1; n <= iChartsCount; n++) {
	   
	   	var oConfData = {
			size: sap.suite.ui.commons.InfoTileSize.Auto,
	     	scale: "M",
	       	bars: [	
	       		 {title: "Americas", value: 3*n, color: "Good"},
	       		 {title: "EMEA", value: -2*n, color: "Error"},
	       		 {title: "APAC", value: 7*n, color: "Critical"}
			]
		}; 
				        	       
		var oConfModel = new sap.ui.model.json.JSONModel();
		oConfModel.setData(oConfData);
		sap.ui.getCore().setModel(oConfModel, "Model"+n);
	    
		var oTileDataTemplate = new sap.suite.ui.commons.ComparisonData({
	 		title: "{Model"+n+">title}",
	 	    value: "{Model"+n+">value}",
	 	    color: "{Model"+n+">color}"
	 	});
	   
		var oChart = new sap.suite.ui.commons.ComparisonChart({
			scale: "{Model"+n+">/scale}",
			size: "{Model"+n+">/size}",
			data: {
				path: "Model"+n+">/bars", 
				template: oTileDataTemplate 
			}
	    });
	
		aCharts.push(oChart);
	}

    var oPage = new sap.m.Page("initial-page", {
		showHeader: false,
       	content: aCharts
    });

    oPage.placeAt("content");
</script>
</head>

<body class="sapUiBody">
<h3>*To set the number of tiles displayed on this page please add a sap-ui-charts-number= parameter to the page URL.</h3>
<div id="content" style="height:100%"></div>
</body>
</html>
