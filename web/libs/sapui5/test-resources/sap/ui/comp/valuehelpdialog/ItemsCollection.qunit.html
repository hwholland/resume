<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>qUnit Page for sap.ui.comp.valuehelpdialog.ItemsCollection</title>

		<script id="sap-ui-bootstrap" 
			type="text/javascript"
			src="../../../../../resources/sap-ui-core.js"
			data-sap-ui-theme="sap_bluecrystal"
			data-sap-ui-noConflict="true"
			data-sap-ui-libs="sap.m,sap.ui.comp">
		</script>

		<link rel="stylesheet" href="../../../../../resources/sap/ui/thirdparty/qunit.css" type="text/css" media="screen" />
		<script type="text/javascript" src="../../../../../resources/sap/ui/thirdparty/qunit.js"></script>
		<script type="text/javascript" src="../../../../../resources/sap/ui/qunit/qunit-junit.js"></script>
	
		<script type="text/javascript" src="../../../../../resources/sap/ui/qunit/QUnitUtils.js"></script>

		<script language="javascript">
		
		if(!(sap.ui.Device.browser.internet_explorer && sap.ui.Device.browser.version <= 8)) {
      		jQuery.sap.require("sap.ui.qunit.qunit-coverage");
		} 		
					
		(function() {

			jQuery.sap.require("sap.ui.core.Control");		
			jQuery.sap.require("sap.m.Tokenizer");
			jQuery.sap.require("sap.ui.layout.Grid");			
			jQuery.sap.require("sap.ui.comp.valuehelpdialog.ItemsCollection");
			jQuery.sap.require("sap.ui.comp.smartfilterbar.ControlConfiguration");
			jQuery.sap.require("sap.ui.comp.smartfilterbar.FilterProvider");
			
			module("sap.ui.comp.valuehelpdialog.ItemsCollection", {
				setup: function() {
				},
				teardown: function() {
				}
			});

 			test("Shall be instantiable", function(qUnit) {
 				var itemsCollection = new sap.ui.comp.valuehelpdialog.ItemsCollection();
 				qUnit.ok(itemsCollection);
			});

  			test("Test add", function(qUnit) {
 				var itemsCollection = new sap.ui.comp.valuehelpdialog.ItemsCollection();
 				itemsCollection.add("1", {});
 				itemsCollection.add("2", {});
 				qUnit.equal(itemsCollection.getItems().length, 2, "length should be 2"); 				
			});

  			test("Test remove", function(qUnit) {
 				var itemsCollection = new sap.ui.comp.valuehelpdialog.ItemsCollection();
 				itemsCollection.add("1", {});
 				itemsCollection.add("2", {});
 				itemsCollection.remove("1");
 				qUnit.equal(itemsCollection.getItems().length, 1, "length should be 1"); 				
			});

  			test("Test removeAll", function(qUnit) {
 				var itemsCollection = new sap.ui.comp.valuehelpdialog.ItemsCollection();
 				itemsCollection.add("1", {});
 				itemsCollection.add("2", {});
 				itemsCollection.removeAll();
 				qUnit.equal(itemsCollection.getItems().length, 0, "length should be 0"); 				
			});

  			test("Test getItem", function(qUnit) {
  				var o1= {};
  				var o2= {};
 				var itemsCollection = new sap.ui.comp.valuehelpdialog.ItemsCollection();
 				itemsCollection.add("1", o1);
 				itemsCollection.add("2", o2);
 				var o= itemsCollection.getItem("1");
 				qUnit.equal(o, o1, "returned item should be o1"); 				
			});

  			test("Test getSelectedItemsTokenArray", function(qUnit) {
  				var o1= {id: "1", name:"item1"};
  				var o2= {id: "2", name:"item2"};
  				var o3= {id: "3", name:"item3" };
  				var o4= "4";
 				var itemsCollection = new sap.ui.comp.valuehelpdialog.ItemsCollection();
 				itemsCollection.add("1", o1);
 				itemsCollection.add("2", o2);
 				itemsCollection.add("3", o3);
 				itemsCollection.add("4", o4);
 				var aTokens= itemsCollection.getSelectedItemsTokenArray("id", "name");
 				qUnit.equal(aTokens.length, 4, "returned Tokens array should have length 4");
 				
 				aTokens= itemsCollection.getSelectedItemsTokenArray("id", "name", sap.ui.comp.smartfilterbar.ControlConfiguration.DISPLAYBEHAVIOUR.descriptionOnly);
 				qUnit.equal(aTokens.length, 4, "returned Tokens array should have length 4");
			});

  			test("Test getModelData", function(qUnit) {
  				var o1= {id: "1", name:"item1"};
  				var o2= {id: "2", name:"item2"};
  				var o3= "3";
 				var itemsCollection = new sap.ui.comp.valuehelpdialog.ItemsCollection();
 				itemsCollection.add("1", o1);
 				itemsCollection.add("2", o2);
 				itemsCollection.add("3", o3);
 				var aItems= itemsCollection.getModelData();
 				qUnit.equal(aItems.length, 3, "returned Items array should have length 3"); 				
			});
  					
		}());

			
		</script>
	</head>
	<body id="body" class="sapUiBody">
		<h1 id="qunit-header">qUnit Page for qUnit Page for sap.ui.comp.valuehelpdialog.ItemsCollection</h1>
		<h2 id="qunit-banner"></h2>
		<h2 id="qunit-userAgent"></h2>
		<ol id="qunit-tests"></ol>
		
		<div id="content"></div>
	</body>
</html>
