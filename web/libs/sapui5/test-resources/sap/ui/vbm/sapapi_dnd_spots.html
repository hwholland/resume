<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <link href="style/sapvbistyle.css" type="text/css" rel="stylesheet" />

        <script src="../../../../resources/sap-ui-core.js"
            id="sap-ui-bootstrap"
            data-sap-ui-libs="sap.ui.vbm"
            data-sap-ui-theme="sap_bluecrystal" >
        </script>

        <script>
            sap.ui.localResources("vbitestapp");

   			function onSubmit( e )
   			{
   				var x,y;
   				var datEvent = JSON.parse( e.mParameters.data );
   				switch (datEvent.Action.name){
   				    case "DROPIT":
   							if( evtoutput.innerText !== undefined )
   								evtoutput.innerText = e.getParameter( "data" );
   							else
   						  if( evtoutput.textContent !== undefined )
   								evtoutput.textContent = e.getParameter( "data" );	// due to ff
   						break;
   				}
   			};
            
            
            
            
            // create the controls and position them.............................//
            var oVBI1 = new sap.ui.vbm.VBI('vbiWrap2',
            {
                width : 600,
                height: 620,
                submit: onSubmit
            });
            oVBI1.placeAt("content");


            // load the projects into the controls...............................//
            var dat = $.getJSON("media/vbdnd/main.json", function( dat ) 
            {
                oVBI1.load( dat );
            });
            
        </script>
	    </head>
	<body class="sapUiBody">
		<h1>Visual Business UI5: Sample should show Drag and Drop functionality for Spots and Links.</h1>
	<ul>
		<li>Spot 0 can be dropped on Spot 1, Spot 2 and on the Link Frankfurt-Kassel.</li>
		<li>Spot 1 can be dropped on Spot 0 and on Spot 2 .</li>
		<li>Spot 2 can be dropped on Spot 0, Spot 1 and on itself.</li> 
		<li>The Link Frankfurt-Kassel can be dropped on Spot 0, Spot 2 and the Link Berlin-Hamburg.</li>
		<li>The Link Berlin-Hamburg can be dropped on Spot 0, Spot 2 and the Link Frankfurt-Kassel.</li>
		<li>All Spots and Links can be dropped on External Area.</li>
	</ul>
		
      <table>
         <tr>
               <td rowspan="4"><div id="content"></div></td>
               <th>Event Output</th>
               
         </tr>
         <tr>
         	<td><textarea id="evtoutput" rows="25" cols="80"></textarea></td>
         </tr>
         <tr>
         	<th>External Drop Area</th>
         </tr>
         <tr>
         	<td><textarea id="extdroparea" rows="11" cols="80"></textarea></td>
         </tr>
      </table>
	</body>
</html>
