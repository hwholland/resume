<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<link href="style/sapvbistyle.css" type="text/css" rel="stylesheet" />
	<script src="../../../../resources/sap-ui-core.js"
		id="Script1"
		data-sap-ui-libs="sap.ui.vbm"
		data-sap-ui-theme="sap_bluecrystal">
	</script>

	<script>

		function onSubmit(e) {
			if (evtoutput.innerText !== undefined)
				evtoutput.innerText = e.getParameter("data");
			else
				if (evtoutput.textContent !== undefined)
					evtoutput.textContent = e.getParameter("data");	// due to ff
		};

		// creation of visual business
		var oVBI1 = new sap.ui.vbm.VBI('vbiWrap', {
			width: "100%",
			height: 500,
			submit: onSubmit        // set the event handler
		});
		oVBI1.placeAt("content");

		// load the json and set the default text area text
		var dat = $.getJSON("media/spotsicon/main.json", function (dat) {
			oVBI1.load(dat);
		});

	</script>
</head>

<body class="sapUiBody">
	<h1>Visual Business UI5: Spots with Icons</h1>
	<div id="content"></div>
	<br />
	<textarea style="width: 100%; box-sizing: border-box" id="evtoutput" rows="8"></textarea>
</body>
</html>
