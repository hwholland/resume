<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content="You can use the securedExecution method from the API for developers of template extensions to add and display custom messages."/>
<meta name="description" content="You can use the securedExecution method from the API for developers of template extensions to add and display custom messages."/>

<link rel="stylesheet" type="text/css" href="css/prettify.css?x=8315657008870397"/>
<link rel="stylesheet" type="text/css" href="css/documentation.css?x=8315657008870397"/>
<title>Adding Custom Messages</title>
  <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
    <script src="../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script>
  </head>
<body class="" id="loio5a9a2a0f2c054b9686acb3497ba32ae2">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Adding Custom Messages</h1>

	
	<div class="body conbody"><p class="shortdesc">You can use the <samp class="ph codeph">securedExecution</samp> method from the API for developers of
		template extensions to add and display custom messages.</p>

		<p class="p">This concept for message handling is based on the <span class="ph pname">SAPUI5</span> MessageManager. <span class="ph">For more
				information, see the API Reference for <a class="xref" href="../../docs/api/symbols/sap.ui.core.message.MessageManager.html" alt="../../docs/api/symbols/sap.ui.core.message.MessageManager.html" title="../../docs/api/symbols/sap.ui.core.message.MessageManager.html">MessageManager</a>.</span></p>

		<p class="p">When a busy session starts, all transient messages that are still in the MessageManager are
			removed automatically since the system assumes that they belong to previous user
			interaction. </p>

		<p class="p">When the busy session ends, all transient messages that have been collected by the
			MessageManager are automatically displayed to the user in a well-defined way, based on
			the severity of the message. This applies to (transient) messages that have been pushed
			into the MessageManager automatically (for example, because they come from the OData
			model). This also applies to transient messages that are pushed to the MessageManager
			explicitly by way of application coding. See the sample coding below for more
			details:</p>

		<div class="note sap-samplecodeblock samplecode"><span class="samplecodetitle">Sample Code</span> 
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">onCustomButtonPressed: function(oEvent){
  var oSource = oEvent.getSource();
  var oModel = oSource.getModel();
  var sBindingPath = ...; // binding path to retrieve some information
  var fnFunction = function(){
    return new Promise(function(fnResolve, fnReject){
      oModel.read(sBindingPath, {
        success: function(oResponse){
          var oMessage = new sap.ui.core.message.Message({
            message: "We have received the following response: " + oResponse,
            persistent: true, // make message transient
            type: sap.ui.core.MessageType.Success
          });
          var oMessageManager = sap.ui.getCore().getMessageManager();
          oMessageManager.addMessages(oMessage);
          fnResolve();
        },
        error: fnReject
    });  
  };
  this.extensionAPI.securedExecution(fnFunction);
} </pre></div>

		</div>

		<p class="p">You can use this option for sending messages without performing an asynchronous operation.  If
			you do, the busy session is stopped immediately after the start. The only visible
			consequence of the busy session is the display of all transient messages that have been
			pushed to the MessageManager within this session.</p>

		<div class="note note"><span class="notetitle">Note</span> The sample code above shows that a message is marked as transient, by setting the attribute
				<samp class="ph codeph">persistent</samp> to <samp class="ph codeph">true</samp>. This attribute describes the
			lifetime of this message from the perspective of the SAP UI5 MessageManager. The
			lifecycle of transient messages is not relevant to the MessageManager. This means that
			they are persisted until another agent deletes them from the MessageManager. The SAP
			Fiori elements framework triggers the deletions, which effectively limits the lifetime
			of these messages.<p class="p">The lifecycle of messages with the attribute
					<samp class="ph codeph">persistent</samp> : <samp class="ph codeph">false</samp> is controlled by the
				MessageManager. This kind of message is automatically removed when the entity this
				message has been bound to is reloaded from the backend.</p>
</div>

		<p class="p">For more information on the <samp class="ph codeph">securedExecution</samp> method, see <a class="xref" href="6a39150ad3e548a8b5304d32d560790a.html" title="The API for developers of extensions for SAP Fiori elements provides the securedExecution method that can be used for various purposes.">Using the SecuredExecution Method</a>.</p>

		<p class="p">For general information on messages, see <a class="xref" href="239b1922758645e7b451e01ded7f56bc.html">Using Messages</a>.</p>

	</div>

</div></div>

</body>
</html>