<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>





<meta name="abstract" content="In this step, we will look at the page variant of the VariantManagement control, an enhanced function of the SmartVariantManagement control that can handle multiple smart controls."/>
<meta name="description" content="In this step, we will look at the page variant of the VariantManagement control, an enhanced function of the SmartVariantManagement control that can handle multiple smart controls."/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=14197689718752848"/>
<title>Step 8: Page Variant Management</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->

  <script src="../../resources/sap/ui/thirdparty/jquery.js"></script>
    <script src="../../resources/sap/ui/demokit/js/highlight-query-terms.js"></script>
    <script src="../../resources/sap/ui/demokit/js/framewrapper.js"></script>
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <script src="../../resources/sap/ui/demokit/js/google-code-prettify/run_prettify.js"></script>
    <script src="../../resources/sap/ui/demokit/js/google-code-prettify/lang-css.js"></script>
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
  </head>
<body class="" id="loiob1d4d261524b4a3da78547ed4283a082">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Step 8: Page Variant Management</h1>

	
	<div class="body conbody"><p class="shortdesc">In this step, we will look at the page variant of the <samp class="ph codeph">VariantManagement</samp>
            control, an enhanced function of the <samp class="ph codeph">SmartVariantManagement</samp> control
            that can handle multiple smart controls.</p>

		<p class="p">Basically, the paged version of the <samp class="ph codeph">VariantManagement</samp> control is the
			same as the (non-paged) <samp class="ph codeph">VariantManagement</samp> control. The difference is
			that the
			page
			variant is initialized with the <samp class="ph codeph">persistencyKey</samp>
			property and can handle the persistency of multiple smart controls. Each smart control
			that uses personalization via the page variant has to provide a persistency key. The
			persistency itself will be stored under the <samp class="ph codeph">persistencyKey</samp> of the
				<samp class="ph codeph">VariantManagement</samp> control, and the relevant content for each
			control will be distributed accordingly based on each individual persistency key.</p>

		<p class="p">
			<samp class="ph codeph">persistencyKey</samp> - <samp class="ph codeph">VariantManagement</samp> control </p>

		<ul class="ul" id="loiob1d4d261524b4a3da78547ed4283a082__ul_yh4_gxh_yv">
			<li class="li">
				<p class="p"><samp class="ph codeph">persistencyKey</samp> - <samp class="ph codeph">SmartFilterBar</samp> control -
					relevant content</p>

			</li>

			<li class="li">
				<p class="p"><samp class="ph codeph">persistencyKey</samp>
					<samp class="ph codeph">SmartTable</samp> control â€“ relevant content </p>

			</li>

		</ul>

		<p class="p">Therefore, the persistent content of the page variant is the aggregated content of each
			registered smart control, and the individual persistency keys of the various smart
			controls are used to distinguish and distribute the relevant content.</p>

		<div class="section"><div class="section_title">Preview</div><div type="Preview">
                  
                  <p class="p">The difference to a variant management without page variant is that the variant
                        management is now no longer part of the <samp class="ph codeph">SmartFilterBar</samp> and
                              <samp class="ph codeph">SmartTable</samp> controls, but displayed in a central
                        location instead:</p>

                  <div class="fig fignone" id="loiob1d4d261524b4a3da78547ed4283a082__fig_vkx_wpr_zv"><div class="figcontainer">
                        
                        <img class="image" id="loiob1d4d261524b4a3da78547ed4283a082__image_ycz_4hx_zv" src="loioac9637ac1f0d49eb8b0f8963dd20bda7_HiRes.png"/>
                  <div class="figcap">Central Variant Management</div></div></div>

                  <p class="p">In addition, the <samp class="ph codeph">VariantManagement</samp> control is no longer
                        displayed in the <span class="ph uicontrol">Filter</span> dialog of the
                              <samp class="ph codeph">SmartFilterBar</samp> control:</p>

                  <div class="fig fignone" id="loiob1d4d261524b4a3da78547ed4283a082__fig_byl_qjx_zv"><div class="figcontainer">
                        
                        <img class="image" id="loiob1d4d261524b4a3da78547ed4283a082__image_clz_sjx_zv" src="loio20ef10b4d92942d5b6ab4ddd25c32a8b_HiRes.png"/>
                  <div class="figcap">Filter Dialog Without Variant Management</div></div></div>

                  <p class="p">Other than that, the page variant is just the same as the
                              <samp class="ph codeph">VariantManagement</samp> control.</p>

            </div></div>

		<div class="section"><div class="section_title">Coding</div><div type="Coding">
			
			<p class="p">You can view and download all files in the <span class="ph uicontrol">Explored</span> app in the
				Demo Kit <span class="ph">at
						<a class="xref" target="_blank" href="../../explored.html#/sample/sap.ui.comp.tutorial.smartControls.08/preview" alt="../../explored.html#/sample/sap.ui.comp.tutorial.smartControls.08/preview" title="../../explored.html#/sample/sap.ui.comp.tutorial.smartControls.08/preview">Smart Controls - Step 8 - Page Variant
						Management</a></span>.</p>

		</div></div>

		<div class="section"><div class="section_title">VariantManagement.view.xml</div><div type="VariantManagement.view.xml">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><samp class="ph codeph">#!xml</samp>&lt;mvc:View 
	       xmlns="sap.m"
       xmlns:mvc="sap.ui.core.mvc"
       controllerName="sap.ui.demo.smartControls.VariantManagement"
       xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
       xmlns:smartTable="sap.ui.comp.smarttable"&gt;
       &lt;smartFilterBar:SmartFilterBar 
             id="smartFilterBar"
             entityType="Product"
             persistencyKey="SmartFilterPKey"&gt;
             &lt;smartFilterBar:controlConfiguration&gt;
                    &lt;smartFilterBar:ControlConfiguration
                           key="Category" 
                           visibleInAdvancedArea="true"
                           preventInitialDataFetchInValueHelpDialog="false"&gt;
                    &lt;/smartFilterBar:ControlConfiguration&gt;
             &lt;/smartFilterBar:controlConfiguration&gt;
       &lt;/smartFilterBar:SmartFilterBar&gt;
       &lt;smartTable:SmartTable 
             id="smartTable_ResponsiveTable"
             smartFilterId="smartFilterBar" 
             tableType="ResponsiveTable" 
             editable="false"
             entitySet="Products" 
             useVariantManagement="true"
             useTablePersonalisation="true" 
             header="Products" 
             showRowCount="true"
             useExportToExcel="false" 
             enableAutoBinding="true"
             persistencyKey="SmartTablePKey"&gt;
       &lt;/smartTable:SmartTable&gt;
&lt;/mvc:View&gt;</pre></div>

			<p class="p">The example shows the variant management <span class="ph emphasis emphasis">without</span> a page
				variant.</p>

		</div></div>

		<div class="section"><div class="section_title">VariantManagement.view.xml</div><div type="VariantManagement.view.xml">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><samp class="ph codeph">#!xml</samp>&lt;mvc:View 
	       controllerName="sap.ui.demo.smartControls.VariantManagement"
       xmlns="sap.m"
       xmlns:mvc="sap.ui.core.mvc"
       xmlns:html="http://www.w3.org/1999/xhtml"      
       xmlns:smartVariantManagement="sap.ui.comp.smartvariants"    
       xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"     
       xmlns:smartTable="sap.ui.comp.smarttable"&gt;

      <span class="ph emphasis emphasis"> &lt;HBox class="exPageVariantPadding"&gt;                                                
       &lt;smartVariantManagement:SmartVariantManagement        
             id="pageVariantId"
             persistencyKey="PageVariantPKey" /&gt;     
       &lt;/HBox&gt;</span>             
       &lt;smartFilterBar:SmartFilterBar 
             id="smartFilterBar"
             entityType="Product"
             smartVariant="pageVariantId"
             persistencyKey="SmartFilterPKey" assignedFiltersChanged="onFiltersChanged"&gt;
             &lt;smartFilterBar:controlConfiguration&gt;
                    &lt;smartFilterBar:ControlConfiguration
                           key="Category" 
                           visibleInAdvancedArea="true"
                           preventInitialDataFetchInValueHelpDialog="false"&gt;
                    &lt;/smartFilterBar:ControlConfiguration&gt;
             &lt;/smartFilterBar:controlConfiguration&gt;
       &lt;/smartFilterBar:SmartFilterBar&gt;
       &lt;smartTable:SmartTable 
             id="smartTable_ResponsiveTable"
             smartFilterId="smartFilterBar" 
             smartVariant="pageVariantId"            
             tableType="ResponsiveTable" 
             editable="false"
             entitySet="Products" 
             useVariantManagement="true"
             useTablePersonalisation="true" 
             header="Products" 
             showRowCount="true"
             useExportToExcel="false" 
             enableAutoBinding="true"
             persistencyKey="SmartTablePKey"&gt;
       &lt;/smartTable:SmartTable&gt;
&lt;/mvc:View&gt;</pre></div>

			<p class="p">The example shows the variant management <span class="ph emphasis emphasis">with</span> a page
				variant.</p>

		</div></div>

	</div>

<div class="related-links"> 

<div class="familylinks">
<div class="parentlink"><br/>
<strong>Parent topic: </strong><a class="link" href="64bde9a8879d4f418e2849f7285dd757.html" title="In this tutorial you learn how to work with smart controls.">Smart Controls</a><br/>
</div>
<div class="previouslink"><br/>
<strong>Previous: </strong><a class="link" href="97fc0eaaf8b045779878ea829586da1a.html" title="The VariantManagement control allows you to handle variants and makes it possible for the user to persist changes carried out on the UI and then later retrieve these changes.">Step 7: Variant Management</a><br/>
</div>
<div class="nextlink"><br/>
<strong>Next: </strong><a class="link" href="0219b115deda45a9ae46d11fdc7e69eb.html" title="In this step, we will look at the SmartChart control with the chart personalization and in combination with the VariantManagement control that allow you to use complex graphics along with other smart control features.">Step 9: Smart Chart with Chart Personalization and Variant Management</a><br/>
</div>
</div>
</div>
</div></div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="Step 8: Page Variant Management";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>