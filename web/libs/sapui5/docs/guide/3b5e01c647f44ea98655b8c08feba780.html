<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content="You can add a progress indicator to a header facet on the object page."/>
<meta name="description" content="You can add a progress indicator to a header facet on the object page."/>

<link rel="stylesheet" type="text/css" href="css/prettify.css?x=5020814844850997"/>
<link rel="stylesheet" type="text/css" href="css/documentation.css?x=5020814844850997"/>
<title>Progress Indicator Facet</title>
  <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
    <script src="../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script>
  </head>
<body class="" id="loio3b5e01c647f44ea98655b8c08feba780">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Progress Indicator Facet</h1>

	
	<div class="body conbody"><p class="shortdesc">You can add a progress indicator to a header facet on the object page.</p>

		<p class="p">The progress indicator allows you to visually represent the level of completion of a goal or
			target, such as a project's progress, sales progress for the current year’s goal, the
			development stage of a product, stock availability, and so on. The figure below shows a
			progress indicator within the object page header.</p>

		<div class="fig fignone" id="loio3b5e01c647f44ea98655b8c08feba780__fig_spp_mrm_lw"><div class="figcontainer">
			
			<img class="image" id="loio3b5e01c647f44ea98655b8c08feba780__image_q4z_1ss_xw" src="loio2e059aa75ab14d88b58cfd44eeb98aaa_LowRes.png"/>
		<div class="figcap">Progress Indicator in Object Page Header</div></div></div>

		<p class="p">As shown below, progress can be expressed either as a percentage or in absolute numbers
			(for example, "8 of 10"), and it can include a unit of measure, such as PC, GB, and so
			on.</p>

		<div class="fig fignone" id="loio3b5e01c647f44ea98655b8c08feba780__fig_zl4_qrm_lw"><div class="figcontainer">
			
			<img class="image" id="loio3b5e01c647f44ea98655b8c08feba780__image_lvc_x5s_xw" src="loio73aaedf9f5fa466eb84b4f5493d362ea_LowRes.png"/>
		<div class="figcap">Progress Indicator: Percent or Number</div></div></div>

		<p class="p">The progress indicator in the header facet is made up of sections to include a title,
			subtitle, and footer:</p>

		<div class="fig fignone" id="loio3b5e01c647f44ea98655b8c08feba780__fig_lks_gsm_lw"><div class="figcontainer">
			
			<img class="image" id="loio3b5e01c647f44ea98655b8c08feba780__image_mpt_2ss_xw" src="loio767e59fd545d4237a0a4591ee9a3c387_LowRes.png"/>
		<div class="figcap">Sections of Progress Indicator</div></div></div>

		<div class="section"><div class="section_title">Code Samples</div><div type="Code Samples">
			
			<p class="p"><span class="ph emphasis emphasis">UI.ReferenceFacet</span></p>

			<p class="p">To display the progress indicator in the object page header, add a record to the
					<samp class="ph codeph">UI.HeaderFacets</samp> collection. This record must be of type
					<samp class="ph codeph">UI.ReferenceFacet</samp> and contain an
					<samp class="ph codeph">AnnotationPath</samp> that points to a <samp class="ph codeph">UI.DataPoint</samp>
				with the visualization type <samp class="ph codeph">Progress</samp>. The properties for the data
				point can be included in either the <samp class="ph codeph">entityType</samp> being annotated
					(<samp class="ph codeph">Target</samp>) or in another <samp class="ph codeph">entityType</samp> different
				from the <samp class="ph codeph">Target</samp>, in which case the <samp class="ph codeph">AnnotationPath</samp>
				contains a navigation path as shown below.</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-xml">&lt;Annotations Target="STTA_PROD_MAN.STTA_C_MP_ProjectType"&gt;
   &lt;Annotation Term="UI.HeaderFacets"&gt;
      &lt;Collection&gt;
         &lt;Record Type="UI.ReferenceFacet"&gt;
            &lt;PropertyValue Property="Target"
            AnnotationPath="to_ProgressType/@UI.DataPoint#Progress"/&gt;
         &lt;/Record&gt;
      &lt;/Collection&gt;
   &lt;/Annotation&gt;
&lt;/Annotations&gt;</pre></div>

			<div class="note note"><span class="notetitle">Note</span> 
				<p class="p">In the example above, "UI" is an alias for the
						<samp class="ph codeph">com.sap.vocabularies.UI.v1</samp> vocabulary.</p>

			</div>

			<p class="p"><span class="ph emphasis emphasis">CDS: UI.DataPoint</span></p>

			<div class="p">In CDS, annotate the <samp class="ph codeph">EntityType</samp> containing the properties required for the
				data point as shown
				below.<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-xml">@UI.dataPoint: {   
    title:'{@i18n&gt;Title}',   
    description: {@i18n&gt;SubTitle},   
    targetValue: 150,   
    criticality: 'Criticality',   
    visualization: #PROGRESS   
}
ProjectProgress.Progress
</pre></div>
</div>

			<div class="p"><div class="note note"><span class="notetitle">Note</span> 
					<div class="p">
						<ul class="ul" id="loio3b5e01c647f44ea98655b8c08feba780__ul_xw2_x43_pw">
							<li class="li">
								<p class="p">The data point annotation is for a <samp class="ph codeph">Property</samp> even
									if the UI vocabulary specifies an <samp class="ph codeph">EntityType</samp> as
									the <samp class="ph codeph">Target</samp>.</p>

							</li>

							<li class="li">The property name will be used as the <samp class="ph codeph">Qualifier</samp> in
								the resulting (generated) annotation.</li>

						</ul>

					</div>

				</div>
The generated annotation will be similar to the example below: </div>

			<p class="p"><span class="ph emphasis emphasis"> UI.DataPoint</span></p>

			<p class="p">Annotate the <samp class="ph codeph">entityType</samp> containing the properties required for the
				data point as shown below.</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-xml">&lt;Annotations Target="STTA_PROD_MAN.STTA_C_MP_ProgressType"&gt;
   &lt;Annotation Term="UI.DataPoint" Qualifier="Progress"&gt;
      &lt;Record&gt;
         &lt;PropertyValue Property="Title" String="{@i18n&gt;Title}"/&gt;
         &lt;PropertyValue Property="Description" String="{@i18n&gt;SubTitle}"/&gt;
         &lt;PropertyValue Property="Value" Path="Progress"/&gt;
         &lt;PropertyValue Property="TargetValue" Decimal="150"/&gt;
         &lt;PropertyValue Property="Criticality" Path="Criticality "/&gt;
         &lt;PropertyValue Property="Visualization" EnumMember="UI.VisualizationType/Progress"/&gt;
      &lt;/Record&gt;
   &lt;/Annotation&gt;
&lt;/Annotations&gt;
</pre></div>

			<p class="p"><span class="ph emphasis emphasis">UoM and Common.Label</span></p>

			<p class="p">Additionally, for the unit of measure (UoM) and the footer, annotate the
					<samp class="ph codeph">entityType</samp>’s property so that it includes the path of the
					<samp class="ph codeph">Value</samp> property for the data point. For example, in the code
				sample above, the path for the data point <samp class="ph codeph">Value</samp> property is
					<samp class="ph codeph">Value</samp>, which is then used to annotate the
					<samp class="ph codeph">entityType</samp>. In the examples below, this is represented by
					<samp class="ph codeph">&lt;Annotations
						Target="STTA_PROD_MAN.STTA_C_MP_ProgressType/<span class="ph emphasis emphasis">Value</span>"&gt;</samp>.</p>

			<p class="p">Note that the unit of measure can be annotated with <samp class="ph codeph">Unit</samp> or
					<samp class="ph codeph">ISOCurrency</samp> as shown below. For the footer, the term
					<samp class="ph codeph">Common.Label</samp> needs to be applied.</p>

			<p class="p"><span class="ph emphasis emphasis">Progress Indicator: UoM.Unit</span></p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-xml">&lt;Annotations Target="STTA_PROD_MAN.STTA_C_MP_ProgressType/Value"&gt;
   &lt;Annotation Term="UoM.Unit" Path="UoM"&gt;
   &lt;Annotation Term="Common.Label" String="{@i81n&gt;Footer}"&gt;
&lt;/Annotations&gt;</pre></div>

			<p class="p"><span class="ph emphasis emphasis">Progress Indicator: UoM.ISOCurrency</span></p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-xml">&lt;Annotations Target="STTA_PROD_MAN.STTA_C_MP_ ProgressType/Value"&gt;
   &lt;Annotation Term="UoM.ISOCurrency" Path="UoM"&gt;
   &lt;Annotation Term="Common.Label" Path="Footer”&gt;
&lt;/Annotations&gt;</pre></div>

			<div class="note note"><span class="notetitle">Note</span> 
				<p class="p">In the examples above, <samp class="ph codeph">UoM</samp> is an alias for the
						<samp class="ph codeph">Org.OData.Measures.V1</samp> vocabulary.</p>

			</div>

		</div></div>

		<div class="section"><div class="section_title">Rendering Rules</div><div type="Rendering Rules">
			
			<ul class="ul" id="loio3b5e01c647f44ea98655b8c08feba780__ul_txk_q5m_lw">
				<li class="li">
					<p class="p">The <samp class="ph codeph">Value</samp> and <samp class="ph codeph">Title</samp> properties are mandatory. Without a
						value, the progress cannot be calculated. A title should always be provided
						for an object page header facet, as this is required by the
							<samp class="ph codeph">DataPoint</samp> term in the UI vocabulary.</p>

				</li>

				<li class="li">
					<p class="p">The <samp class="ph codeph">TargetValue</samp> property is mandatory when using a <samp class="ph codeph">UoM</samp>
						that is not expressed as a percentage (for example, currency, CM, PC, and so
						on), or if no <samp class="ph codeph">UoM</samp> is provided. </p>

				</li>

				<li class="li">
					<p class="p">The remaining properties - <samp class="ph codeph">Unit of Measure</samp>, <samp class="ph codeph">Subtitle</samp>, and
							<samp class="ph codeph">Footer</samp> - are optional. </p>

				</li>

				<li class="li">
					<p class="p">If the value of the <samp class="ph codeph">Unit of Measure</samp> property is "%", then the
							<samp class="ph codeph">Value</samp> property will be used directly as a percentage. </p>

				</li>

				<li class="li">
					<p class="p">If the value of the <samp class="ph codeph">Unit of Measure</samp> is not "%" or is not provided, then the
						progress will be calculated using the <samp class="ph codeph">Value</samp> and
							<samp class="ph codeph">TargetValue</samp> properties according to the formula<samp class="ph codeph">
							Progress = Value / TargetValue</samp>.</p>

				</li>

				<li class="li">
					<p class="p">Additionally, the following checks will be done:</p>

					<ul class="ul" id="loio3b5e01c647f44ea98655b8c08feba780__ul_ahx_bvm_lw">
						<li class="li">
							<p class="p">Division by zero will result in progress being zero (since it cannot
								be calculated). </p>

						</li>

						<li class="li">
							<p class="p">Progress must be a value between 0 and 100.</p>

							<ul class="ul" id="loio3b5e01c647f44ea98655b8c08feba780__ul_kmc_fvm_lw">
								<li class="li">
									<p class="p">If the progress is less than zero, then no color will appear
										in the progress bar.</p>

								</li>

								<li class="li">If the progress is greater than 100, then the progress bar will
									be fully colored.</li>

								<li class="li">In both cases the actual value of the progress will be displayed
									in the bar as shown below.</li>

							</ul>

							<div class="fig fignone" id="loio3b5e01c647f44ea98655b8c08feba780__fig_gqm_nvm_lw"><div class="figcontainer">
								
								<img class="image" id="loio3b5e01c647f44ea98655b8c08feba780__image_ecv_vws_xw" src="loioec1bbd33235a47e89349fa13cd83eb5f_LowRes.png"/>
							<div class="figcap">Values in Progress Indicator</div></div></div>

						</li>

					</ul>

				</li>

			</ul>

		</div></div>

	</div>

</div></div>

</body>
</html>