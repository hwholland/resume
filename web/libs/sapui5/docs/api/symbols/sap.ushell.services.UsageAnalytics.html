<!DOCTYPE html> <html xml:lang="en" lang="en"><head><meta charset="UTF-8" ><meta name="generator" content="JsDoc + OpenUI5/SAPUI5 template" ><title>JsDoc Report - SAP UI development Toolkit for HTML5 - API Reference - sap.ushell.services.UsageAnalytics</title><link rel="stylesheet" href="../default.css" ><link rel="stylesheet" href="../../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" /><link rel="stylesheet" href="../../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" /><script src="../../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script></head><body><div id="main"><div id="content"><h1 class="classTitle static">Class <span class="package">sap.ushell.services.</span>UsageAnalytics<span class="module"><span>Module: </span><a href="../modules/sap_ushell_services_UsageAnalytics.html">sap/ushell/services/UsageAnalytics</a></span></h1><hr><div class="full-description"> A UShell service for tracking business flows and user actions. <br /><i>Since: </i>1.32.0. </div><div class="summary section"><div class="sectionTitle">Constructor Summary</div><div class="sectionItems"><div class="sectionItem classConstructor static"><div class="itemName"><b class="icon" title="The UsageAnalytics service exposes API for logging custom events and setting custom field values in the logged events.">new <a href="sap.ushell.services.UsageAnalytics.html#constructor">sap.ushell.services.UsageAnalytics</a></b><span class='signature'>(<span title="(object) The interface provided by the container">oContainerInterface</span>, <span title="(object) Not used in this service">sParameter</span>, <span title="(object) Service configuration">oServiceProperties</span>)</span><span class='description'>The UsageAnalytics service exposes API for logging custom events and setting custom field values in the logged events.</span></div></div></div></div><div class="summary section"><div class="sectionTitle">Method Summary</div><div class="sectionItems"><div class="sectionItem classMethod"><b class="icon" title="Sets up to 6 customer attributes of logged events according to the given object attributes."><a href="sap.ushell.services.UsageAnalytics.html#setCustomAttributes">setCustomAttributes</a></b><span class='signature'>(<span title="(object) An json object that includes attribute1.">oCustomFieldValues</span>)</span><span class='description'>Sets up to 6 customer attributes of logged events according to the given object attributes.</span></div><div class="sectionItem classMethod"><b class="icon" title="Enables the renderer to set the content of the legal message."><a href="sap.ushell.services.UsageAnalytics.html#setLegalText">setLegalText</a></b><span class='signature'>()</span><span class='description'>Enables the renderer to set the content of the legal message.</span></div><div class="sectionItem classMethod"><b class="icon" title="Indicates whether the service is available."><a href="sap.ushell.services.UsageAnalytics.html#systemEnabled">systemEnabled</a></b><span class='signature'>()</span><span class='description'>Indicates whether the service is available.</span></div><div class="sectionItem classMethod"><b class="icon" title="Indicates whether the user has specified to track activities."><a href="sap.ushell.services.UsageAnalytics.html#userEnabled">userEnabled</a></b><span class='signature'>()</span><span class='description'>Indicates whether the user has specified to track activities.</span></div></div></div><div class="section details"><div class="sectionTitle">Constructor Detail</div><div class="sectionItems"><div id="constructor" class='sectionItem classItem itemName static'><div class="itemTitle icon"> new sap.ushell.services.UsageAnalytics<span class="signature">(<span title="(object) The interface provided by the container">oContainerInterface</span>, <span title="(object) Not used in this service">sParameter</span>, <span title="(object) Service configuration">oServiceProperties</span>)</span></div><div class="full-description"><p>The UsageAnalytics service exposes API for logging custom events and setting custom field values in the logged events.<br> The data is sent via http and recorded on a server, whose URL is defined by the <code>baseUrl</code> service configuration property.<br> The service configuration must also include the site ID from the <code>pubToken</code> attribute.<br> You can find the pubToken in the code snippet provided in the WARP when creating a new site.</p><p>Each tracked event is represented by a table entry on the server database.<br> The administrator can produce reports based on the the recorded data.</p><p>Two types of events can be logged:<br> - Automatic events: Click or pageLoad are predefined events, logged by the base tracking library.<br> You can disable these events in the service configuration.<br> - Custom events: You can use the service API to log an event with custom data using the function logCustomEvent<br></p><p>Each tracked event (either automatic or custom) is represented by a database row, that includes 10 custom attributes named custom1...custom10.<br> Some of these values can be set using UsageAnalytics service API.<br></p></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">oContainerInterface</td><td class="methodItemDesc">The interface provided by the container</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">sParameter</td><td class="methodItemDesc">Not used in this service</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">oServiceProperties</td><td class="methodItemDesc">Service configuration</td></tr></tbody></table><div class="heading">See:</div><table class="methodItem"><tbody><tr><td class="methodItemDesc">sap.ushell.services.Container#getService</td></tr></tbody></table></div></div></div><div class="details section"><div class="sectionTitle">Method Detail</div><div class="sectionItems"><div id="setCustomAttributes" class='sectionItem classMethod'><div class="itemTitle icon"> setCustomAttributes<span class="signature">(<span title="(object) An json object that includes attribute1.">oCustomFieldValues</span>)</span></div><div class="full-description"> Sets up to 6 customer attributes of logged events according to the given object attributes.<br> A customer attribute can be set only once during a session.<br> Currently these attributes correspond to database columns custom5...custom10. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">oCustomFieldValues</td><td class="methodItemDesc">An json object that includes attribute1...attribute6 (or subset)<br> with values of type string/number/boolean or a function that returns any of these types.<br> For example:<br> {<br> attribute1: "value3",<br> attribute2: function () {return "value4"},<br> attribute3: 55<br> }<br> in this example the custom field "custom5" gets the string "value3"<br> the custom field custom6 gets the function that returns the string "value4",<br> the custom field custom7 gets a string "55".<br> Any property of oCustomFieldValues which is not in the range of attribute1...attribute6 is ignored.</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.32.0</dd></dl></div><div id="setLegalText" class='sectionItem classMethod'><div class="itemTitle icon"> setLegalText<span class="signature">()</span></div><div class="full-description"> Enables the renderer to set the content of the legal message.. </div><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.32.0</dd></dl></div><div id="systemEnabled" class='sectionItem classMethod'><div class="itemTitle icon"> systemEnabled<span class="signature">()</span><span class="light" title="returns boolean">: boolean</span></div><div class="full-description"> Indicates whether the service is available.<br><br> Returns <code>true</code> if the following conditions exist, and <code>false</code> otherwise:<br> a) Service configuration property <code>enable</code> is set to <code>true</code><br> b) Service configuration property <code>pubToken</code> is not empty<br> c) Agreement text exists or <code>setUsageAnalyticsPermitted</code> is set to <code>false</code><br></div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">boolean</td><td class="methodItemDesc">A boolean value indicating whether the UsageAnalytics service is enabled</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.32.0</dd></dl></div><div id="userEnabled" class='sectionItem classMethod'><div class="itemTitle icon"> userEnabled<span class="signature">()</span><span class="light" title="returns boolean">: boolean</span></div><div class="full-description"> Indicates whether the user has specified to track activities.<br><br> Returns <code>true</code> if the following conditions exist, and <code>false</code> otherwise:<br> a) The function <code>system enabled</code> returns <code>true</code><br> b) The user property <code>trackUsageAnalytics</code> is set to <code>true</code><br></div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">boolean</td><td class="methodItemDesc">A boolean value indicating whether the user has specified to track activities</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.32.0</dd></dl></div></div></div></div></div></body></html>