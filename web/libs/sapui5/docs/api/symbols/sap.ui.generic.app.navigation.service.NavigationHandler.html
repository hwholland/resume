<!DOCTYPE html> <html xml:lang="en" lang="en"><head><meta charset="UTF-8" ><meta name="generator" content="JsDoc + OpenUI5/SAPUI5 template" ><title>JsDoc Report - SAP UI development Toolkit for HTML5 - API Reference - sap.ui.generic.app.navigation.service.NavigationHandler</title><link rel="stylesheet" href="../default.css" ><link rel="stylesheet" href="../../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" /><link rel="stylesheet" href="../../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" /><script src="../../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script></head><body><div id="main"><div id="content"><h1 class="classTitle static">Class <span class="package">sap.ui.generic.app.navigation.service.</span>NavigationHandler<span class="module"><span>Module: </span><a href="../modules/sap_ui_generic_app_navigation_service_NavigationHandler.html">sap/ui/generic/app/navigation/service/NavigationHandler</a></span></h1><div class="classRelation extends"><span class="caption">extends </span><a title="sap.ui.base.Object" href="sap.ui.base.Object.html">Object</a></div><hr><div class="full-description"><p>Creates a new NavigationHandler class by providing the required environment.</p><p><b>Note:</b> This class requires that the UShell Navigation Service API CrossApplicationNavigation is available and initialized.</p></div><div class="summary section"><div class="sectionTitle">Constructor Summary</div><div class="sectionItems"><div class="sectionItem classConstructor static"><div class="itemName"><b class="icon" title="">new <a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#constructor">sap.ui.generic.app.navigation.service.NavigationHandler</a></b><span class='signature'>(<span title="(object) UI5 controller that contains a router and a component; typically the main controller of your application, for example, a subclass of the sap.ca.scfld.md.controller.BaseFullscreenController if scaffolding is used">oController</span>, <span title="(string) Mode to be used to handle conflicts when merging URL parameters and the SelectionVariant class, see sap.ui.generic.app.navigation.service.ParamHandlingMode">sParamHandlingMode</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'></span></div></div></div></div><div class="summary section"><div class="sectionTitle">Method Summary</div><div class="sectionItems"><div class="sectionItem classMethod static"><b class="icon" title="Creates a new subclass of class sap.ui.generic.app.navigation.service.NavigationHandler with name sClassName and enriches it with the information contained in oClassInfo."><a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#.extend"><span class="package">sap.ui.generic.app.navigation.service.NavigationHandler.</span>extend</a></b><span class='signature'>(<span title="(string) Name of the class being created">sClassName</span>, <span title="(object) Object literal with information about the class">oClassInfo</span><i class="help" title="Optional parameter">?</i>, <span title="(function) Constructor function for the metadata object; if not given, it defaults to sap.ui.core.ElementMetadata">FNMetaImpl</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>Creates a new subclass of class sap.ui.generic.app.navigation.service.NavigationHandler with name <code>sClassName</code> and enriches it with the information contained in <code>oClassInfo</code>.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Returns a metadata object for class sap.ui.generic.app.navigation.service.NavigationHandler."><a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#.getMetadata"><span class="package">sap.ui.generic.app.navigation.service.NavigationHandler.</span>getMetadata</a></b><span class='signature'>()</span><span class='description'>Returns a metadata object for class sap.ui.generic.app.navigation.service.NavigationHandler.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Gets the application specific technical parameters."><a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#.getTechnicalParameters"><span class="package">sap.ui.generic.app.navigation.service.NavigationHandler.</span>getTechnicalParameters</a></b><span class='signature'>()</span><span class='description'>Gets the application specific technical parameters.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Combines the given parameters and selection variant into a new selection variant containing properties from both, with the parameters overriding existing properties in the selection variant."><a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#.mixAttributesAndSelectionVariant"><span class="package">sap.ui.generic.app.navigation.service.NavigationHandler.</span>mixAttributesAndSelectionVariant</a></b><span class='signature'>(<span title="(object) Object containing key/value pairs">mSemanticAttributes</span>, <span title="(string) The selection variant in string format as provided by the SmartFilterBar control">sSelectionVariant</span>, <span title="(int) Indicates whether semantic attributes with special values (see sap.ui.generic.app.navigation.service.SuppressionBehavior suppression behavior) must be suppressed before they are combined with the selection variant; several sap.ui.generic.app.navigation.service.SuppressionBehavior suppression behaviors can be combined with the bitwise OR operator (|)">iSuppressionBehavior</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>Combines the given parameters and selection variant into a new selection variant containing properties from both, with the parameters overriding existing properties in the selection variant.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Triggers a cross-app navigation after saving the inner and the cross-app states."><a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#.navigate"><span class="package">sap.ui.generic.app.navigation.service.NavigationHandler.</span>navigate</a></b><span class='signature'>(<span title="(string) Name of the semantic object of the target app">sSemanticObject</span>, <span title="(string) Name of the action of the target app">sActionName</span>, <span title="(object|string) Navigation parameters as an object with key/value pairs or as a stringified JSON object">vNavigationParameters</span><i class="help" title="Optional parameter">?</i>, <span title="(object) Object for storing current state of the app">oInnerAppData</span><i class="help" title="Optional parameter">?</i>, <span title="(function) Callback that is called if an error occurs during navigation  Parameters:  {object}oErrorError object (instance of sap.ui.generic.app.navigation.service.NavError) that describes which kind of error occurred {string}oError.errorCodeCode to identify the error {string}oError.typeSeverity of the error (info/warning/error) {array}oError.paramsAn array of objects (typically strings) that describe additional value parameters required for generating the message ">fnOnError</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>Triggers a cross-app navigation after saving the inner and the cross-app states.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Parses the incoming URL and returns a Promise."><a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#.parseNavigation"><span class="package">sap.ui.generic.app.navigation.service.NavigationHandler.</span>parseNavigation</a></b><span class='signature'>()</span><span class='description'>Parses the incoming URL and returns a Promise.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Processes navigation-related tasks related to beforePopoverOpens event handling for the SmartLink control and returns a Promise object."><a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#.processBeforeSmartLinkPopoverOpens"><span class="package">sap.ui.generic.app.navigation.service.NavigationHandler.</span>processBeforeSmartLinkPopoverOpens</a></b><span class='signature'>(<span title="(object) The parameters made available by the SmartTable control when the SmartLink control has been clicked, an instance of a PopOver object">oTableEventParameters</span>, <span title="(string) Stringified JSON object as returned, for example, from getDataSuiteFormat() of the SmartFilterBar control">sSelectionVariant</span>, <span title="(object) Object containing the current state of the app.">mInnerAppData</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>Processes navigation-related tasks related to beforePopoverOpens event handling for the SmartLink control and returns a Promise object.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Changes the URL according to the current sAppStateKey."><a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#.replaceHash"><span class="package">sap.ui.generic.app.navigation.service.NavigationHandler.</span>replaceHash</a></b><span class='signature'>(<span title="(string) the new app state key.">sAppStateKey</span>)</span><span class='description'>Changes the URL according to the current sAppStateKey.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Sets the application specific technical parameters."><a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#.setTechnicalParameters"><span class="package">sap.ui.generic.app.navigation.service.NavigationHandler.</span>setTechnicalParameters</a></b><span class='signature'>(<span title="(array) list of parameter names to be considered as technical parameters.">aTechnicalParameters</span>)</span><span class='description'>Sets the application specific technical parameters.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Changes the URL according to the current app state and stores the app state for later retrieval."><a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#.storeInnerAppState"><span class="package">sap.ui.generic.app.navigation.service.NavigationHandler.</span>storeInnerAppState</a></b><span class='signature'>(<span title="(object) Object containing the current state of the app">mInnerAppData</span>, <span title="(boolean) If set to false, the inner app hash will not be replaced until storing is successful; do not set to false if you cannot react to the resolution of the Promise, for example, when calling the beforeLinkPressed event">bImmediateHashReplace</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>Changes the URL according to the current app state and stores the app state for later retrieval.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Changes the URL according to the current app state and stores the app state for later retrieval."><a href="sap.ui.generic.app.navigation.service.NavigationHandler.html#.storeInnerAppStateWithImmediateReturn"><span class="package">sap.ui.generic.app.navigation.service.NavigationHandler.</span>storeInnerAppStateWithImmediateReturn</a></b><span class='signature'>(<span title="(object) Object containing the current state of the app">mInnerAppData</span>, <span title="(boolean) If set to false, the inner app hash will not be replaced until storing is successful; do not set to false if you cannot react to the resolution of the Promise, for example, when calling the beforeLinkPressed event.">bImmediateHashReplace</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>Changes the URL according to the current app state and stores the app state for later retrieval.</span></div></div></div><div class="summary section"><div class="sectionTitle">Methods borrowed from class <a href="sap.ui.base.Object.html">sap.ui.base.Object</a></div><div class="sectionItems"><a href="sap.ui.base.Object.html#destroy">destroy</a>, <a href="sap.ui.base.Object.html#getInterface">getInterface</a>, <a href="sap.ui.base.Object.html#getMetadata">getMetadata</a></div></div><div class="section details"><div class="sectionTitle">Constructor Detail</div><div class="sectionItems"><div id="constructor" class='sectionItem classItem itemName static'><div class="itemTitle icon"> new sap.ui.generic.app.navigation.service.NavigationHandler<span class="signature">(<span title="(object) UI5 controller that contains a router and a component; typically the main controller of your application, for example, a subclass of the sap.ca.scfld.md.controller.BaseFullscreenController if scaffolding is used">oController</span>, <span title="(string) Mode to be used to handle conflicts when merging URL parameters and the SelectionVariant class, see sap.ui.generic.app.navigation.service.ParamHandlingMode">sParamHandlingMode</span><i class="help" title="Optional parameter">?</i>)</span></div><div class="full-description"></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">oController</td><td class="methodItemDesc">UI5 controller that contains a router and a component; typically the main controller of your application, for example, a subclass of the sap.ca.scfld.md.controller.BaseFullscreenController if scaffolding is used</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">sParamHandlingMode<i class="help" title="Optional parameter">?, Default: SelVarWins</i></td><td class="methodItemDesc">Mode to be used to handle conflicts when merging URL parameters and the SelectionVariant class, see <a href="sap.ui.generic.app.navigation.service.ParamHandlingMode.html">sap.ui.generic.app.navigation.service.ParamHandlingMode</a></td></tr></tbody></table><div class="heading">Throws:</div><table class="methodItem"><tbody><tr><td class="methodItemType light"></td><td class="methodItemDesc"><p>An instance of <a href="sap.ui.generic.app.navigation.service.NavError.html">sap.ui.generic.app.navigation.service.NavError</a> in case of input errors. Valid error codes are: </p><table><tr><th align="left">Error code</th><th align="left">Description</th></tr><tr><td>NavigationHandler.INVALID_INPUT</td><td>Indicates that the input parameter is invalid</td></tr></table></td></tr></tbody></table></div></div></div><div class="details section"><div class="sectionTitle">Method Detail</div><div class="sectionItems"><div id=".extend" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.generic.app.navigation.service.NavigationHandler.extend<span class="signature">(<span title="(string) Name of the class being created">sClassName</span>, <span title="(object) Object literal with information about the class">oClassInfo</span><i class="help" title="Optional parameter">?</i>, <span title="(function) Constructor function for the metadata object; if not given, it defaults to sap.ui.core.ElementMetadata">FNMetaImpl</span><i class="help" title="Optional parameter">?</i>)</span><span class="light" title="returns function">: function</span></div><div class="full-description"><p>Creates a new subclass of class sap.ui.generic.app.navigation.service.NavigationHandler with name <code>sClassName</code> and enriches it with the information contained in <code>oClassInfo</code>.</p><p><code>oClassInfo</code> might contain the same kind of information as described in <a href="sap.ui.base.Object.html#.extend">sap.ui.base.Object.extend</a>.</p></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">string</td><td class="methodItemName">sClassName</td><td class="methodItemDesc">Name of the class being created</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">oClassInfo<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object literal with information about the class</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">FNMetaImpl<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Constructor function for the metadata object; if not given, it defaults to <code>sap.ui.core.ElementMetadata</code></td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">function</td><td class="methodItemDesc">Created class / constructor function</td></tr></tbody></table></div><div id=".getMetadata" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.generic.app.navigation.service.NavigationHandler.getMetadata<span class="signature">()</span><span class="light" title="returns sap.ui.base.Metadata">: <a href="sap.ui.base.Metadata.html">sap.ui.base.Metadata</a></span></div><div class="full-description"> Returns a metadata object for class sap.ui.generic.app.navigation.service.NavigationHandler. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light"><a href="sap.ui.base.Metadata.html">sap.ui.base.Metadata</a></td><td class="methodItemDesc">Metadata object describing this class</td></tr></tbody></table></div><div id=".getTechnicalParameters" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.generic.app.navigation.service.NavigationHandler.getTechnicalParameters<span class="signature">()</span><span class="light" title="returns array">: array</span></div><div class="full-description"><p>Gets the application specific technical parameters. Technical parameters will not be added to the selection variant passed to the application. As a default the following values are considered as technical parameters: </p><ul><li><code>sap-system</code></li><li><code>sap-ushell-defaultedParameterNames</code></li><li><code>"hcpApplicationId"</code></li></ul></div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">array</td><td class="methodItemDesc">Containing the technical parameters.</td></tr></tbody></table></div><div id=".mixAttributesAndSelectionVariant" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.generic.app.navigation.service.NavigationHandler.mixAttributesAndSelectionVariant<span class="signature">(<span title="(object) Object containing key/value pairs">mSemanticAttributes</span>, <span title="(string) The selection variant in string format as provided by the SmartFilterBar control">sSelectionVariant</span>, <span title="(int) Indicates whether semantic attributes with special values (see sap.ui.generic.app.navigation.service.SuppressionBehavior suppression behavior) must be suppressed before they are combined with the selection variant; several sap.ui.generic.app.navigation.service.SuppressionBehavior suppression behaviors can be combined with the bitwise OR operator (|)">iSuppressionBehavior</span><i class="help" title="Optional parameter">?</i>)</span><span class="light" title="returns object">: object</span></div><div class="full-description"> Combines the given parameters and selection variant into a new selection variant containing properties from both, with the parameters overriding existing properties in the selection variant. The new selection variant does not contain any parameters. All parameters are merged into select options. The output of this function, converted to a JSON string, can be used for the <a href="#.navigate">NavigationHandler.navigate</a> method. <pre class="prettyprint example"><code>
var mSemanticAttributes = { "Customer" : "C0001" };
var sSelectionVariant = oSmartFilterBar.getDataSuiteFormat();
var oNavigationHandler = new sap.ui.generic.app.navigation.service.NavigationHandler(oController);
var sNavigationSelectionVariant = oNavigationHandler.mixAttributesAndSelectionVariant(mSemanticAttributes, sSelectionVariant).toJSONString();
// Optionally, you can specify one or several suppression behaviors. Several suppression behaviors are combined with the bitwise OR operator, e.g.
// var iSuppressionBehavior = sap.ui.generic.app.navigation.service.SuppressionBehavior.raiseErrorOnNull | sap.ui.generic.app.navigation.service.SuppressionBehavior.raiseErrorOnUndefined;
// var sNavigationSelectionVariant = oNavigationHandler.mixAttributesAndSelectionVariant(mSemanticAttributes, sSelectionVariant, iSuppressionBehavior).toJSONString();

oNavigationHandler.navigate("SalesOrder", "create", sNavigationSelectionVariant);
</code></pre></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">mSemanticAttributes</td><td class="methodItemDesc">Object containing key/value pairs</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">sSelectionVariant</td><td class="methodItemDesc">The selection variant in string format as provided by the SmartFilterBar control</td></tr><tr><td class="methodItemType light">int</td><td class="methodItemName">iSuppressionBehavior<i class="help" title="Optional parameter">?, Default: sap.ui.generic.app.navigation.service.SuppressionBehavior.standard</i></td><td class="methodItemDesc">Indicates whether semantic attributes with special values (see <a href="sap.ui.generic.app.navigation.service.SuppressionBehavior.html">suppression behavior</a>) must be suppressed before they are combined with the selection variant; several <a href="sap.ui.generic.app.navigation.service.SuppressionBehavior.html">suppression behaviors</a> can be combined with the bitwise OR operator (|)</td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemDesc">Instance of <a href="sap.ui.generic.app.navigation.service.SelectionVariant.html">sap.ui.generic.app.navigation.service.SelectionVariant</a></td></tr></tbody></table></div><div id=".navigate" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.generic.app.navigation.service.NavigationHandler.navigate<span class="signature">(<span title="(string) Name of the semantic object of the target app">sSemanticObject</span>, <span title="(string) Name of the action of the target app">sActionName</span>, <span title="(object|string) Navigation parameters as an object with key/value pairs or as a stringified JSON object">vNavigationParameters</span><i class="help" title="Optional parameter">?</i>, <span title="(object) Object for storing current state of the app">oInnerAppData</span><i class="help" title="Optional parameter">?</i>, <span title="(function) Callback that is called if an error occurs during navigation  Parameters:  {object}oErrorError object (instance of sap.ui.generic.app.navigation.service.NavError) that describes which kind of error occurred {string}oError.errorCodeCode to identify the error {string}oError.typeSeverity of the error (info/warning/error) {array}oError.paramsAn array of objects (typically strings) that describe additional value parameters required for generating the message ">fnOnError</span><i class="help" title="Optional parameter">?</i>)</span></div><div class="full-description"> Triggers a cross-app navigation after saving the inner and the cross-app states. Since 1.52.0 the navigation mode based on <code>sap-ushell-next-navmode</code> is taken into account. If set to <code>explace</code> the inner app state will note be changed. <pre class="prettyprint example"><code>
var oNavigationHandler = new sap.ui.generic.app.navigation.service.NavigationHandler(oController);
var sSemanticObject = "SalesOrder";
var sActionName = "create";

//simple parameters as Object
var vNavigationParameters = {
		CompanyCode : "0001",
		Customer : "C0001"
};

//or as selection variant
var oSelectionVariant = new sap.ui.generic.app.navigation.service.SelectionVariant();
oSelectionVariant.addSelectOption("CompanyCode", "I", "EQ", "0001");
oSelectionVariant.addSelectOption("Customer", "I", "EQ", "C0001");
vNavigationParameters = oSelectionVariant.toJSONString();

//or directly from SmartFilterBar
vNavigationParameters = oSmartFilterBar.getDataSuiteFormat();

//app state for back navigation
var oInnerAppData = {
		selectionVariant : oSmartFilterBar.getDataSuiteFormat(),
		tableVariantId : oSmartTable.getCurrentVariantId(),
		customData : oMyCustomData
};

// callback function in case of errors
var fnOnError = function(oError){
		var oi18n = oController.getView().getModel("i18n").getResourceBundle();
		oError.setUIText({oi18n : oi18n, sTextKey : "OUTBOUND_NAV_ERROR"});
		oError.showMessageBox();
};

oNavigationHandler.navigate(sSemanticObject, sActionName, vNavigationParameters, oInnerAppData, fnOnError);
</code></pre></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">string</td><td class="methodItemName">sSemanticObject</td><td class="methodItemDesc">Name of the semantic object of the target app</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">sActionName</td><td class="methodItemDesc">Name of the action of the target app</td></tr><tr><td class="methodItemType light">object|string</td><td class="methodItemName">vNavigationParameters<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Navigation parameters as an object with key/value pairs or as a stringified JSON object</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">oInnerAppData<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object for storing current state of the app</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">oInnerAppData.selectionVariant<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Stringified JSON object as returned, for example, from getDataSuiteFormat() of the SmartFilterBar control</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">oInnerAppData.tableVariantId<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">ID of the SmartTable variant</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">oInnerAppData.customData<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object that can be used to store arbitrary data</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">oInnerAppData.presentationVariant<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object containing the current ui state of the app</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">oInnerAppData.valueTexts<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object containing value descriptions</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">fnOnError<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc"><p>Callback that is called if an error occurs during navigation <br><b>Parameters:</b></p><table><tr><td align="center">{object}</td><td><b>oError</b></td><td>Error object (instance of <a href="sap.ui.generic.app.navigation.service.NavError.html">sap.ui.generic.app.navigation.service.NavError</a>) that describes which kind of error occurred</td><tr><td align="center">{string}</td><td><b>oError.errorCode</b></td><td>Code to identify the error</td><tr><td align="center">{string}</td><td><b>oError.type</b></td><td>Severity of the error (info/warning/error)</td><tr><td align="center">{array}</td><td><b>oError.params</b></td><td>An array of objects (typically strings) that describe additional value parameters required for generating the message</td></table></td></tr></tbody></table></div><div id=".parseNavigation" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.generic.app.navigation.service.NavigationHandler.parseNavigation<span class="signature">()</span><span class="light" title="returns object">: object</span></div><div class="full-description"> Parses the incoming URL and returns a Promise. If this method detects a back navigation, the inner app state is returned in the resolved Promise. Otherwise startup parameters will be merged into the app state provided by cross app navigation, and a combined app state will be returned. The conflict resolution can be influenced with sParamHandlingMode defined in the constructor. <pre class="prettyprint example"><code>
var oNavigationHandler = new sap.ui.generic.app.navigation.service.NavigationHandler(oController);
var oParseNavigationPromise = oNavigationHandler.parseNavigation();

oParseNavigationPromise.done(function(oAppData, oStartupParameters, sNavType){
		oSmartFilterBar.setDataSuiteFormat(oAppData.selectionVariant);
		// oAppData.oSelectionVariant can be used to manipulate the selection variant
		// oAppData.oDefaultedSelectionVariant contains the parameters which are set by user defaults
		// oAppData.bNavSelVarHasDefaultsOnly indicates whether only defaulted parameters and no navigation parameters are present
});
oParseNavigationPromise.fail(function(oError, oURLParameters, sNavType){
		// if e.g. the xapp state could not be loaded, nevertheless there may be URL parameters available
		//some error handling
});
</code></pre></div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemDesc"><p>A Promise object to monitor when all the actions of the function have been executed. If the execution is successful, the extracted app state, the startup parameters, and the type of navigation are returned, see also the example above. The app state is an object that contains the following information: </p><ul><li><code>oAppData.oSelectionVariant</code>: An instance of <a href="sap.ui.generic.app.navigation.service.SelectionVariant.html">sap.ui.generic.app.navigation.service.SelectionVariant</a> containing only parameters/select options that are related to navigation</li><li><code>oAppData.selectionVariant</code>: The navigation-related selection variant as a JSON-formatted string</li><li><code>oAppData.oDefaultedSelectionVariant</code>: An instance of <a href="sap.ui.generic.app.navigation.service.SelectionVariant.html">sap.ui.generic.app.navigation.service.SelectionVariant</a> containing only the parameters/select options that are set by user default data</li><li><code>oAppData.bNavSelVarHasDefaultsOnly</code>: A Boolean flag that indicates whether only defaulted parameters and no navigation parameters are present (<b>Note:</b> If no navigation parameters are available, bNavSelVarHasDefaultsOnly is<code>true</code>, even also no defaulted parameters may be available)</li></ul><p> If the navigation-related selection variant is empty, it is replaced by a copy of the defaulted selection variant.<br> The navigation type is an enumeration type of type <a href="sap.ui.generic.app.navigation.service.NavType.html">sap.ui.generic.app.navigation.service.NavType</a> (possible values are initial, URLParams, xAppState, and iAppState).<br><b>Note:</b> If the navigation type is <a href="sap.ui.generic.app.navigation.service.NavType.html#.iAppState">sap.ui.generic.app.navigation.service.NavType.iAppState</a> oAppData has two additional properties </p><ul><li><code>oAppData.tableVariantId</code></li><li><code>oAppData.customData</code></li></ul><p> which return the inner app data as stored in <a href="#.navigate">navigate</a> or <a href="#.storeInnerAppState">storeInnerAppState</a>. <code>oAppData.oDefaultedSelectionVariant</code> is an empty selection variant and <code>oAppData.bNavSelVarHasDefaultsOnly</code> is <code>false</code> in this case.<br><b>Note:</b> If the navigation type is <a href="sap.ui.generic.app.navigation.service.NavType.html#.initial">sap.ui.generic.app.navigation.service.NavType.initial</a> oAppData is an empty object!<br> If an error occurs, an error object of type <a href="sap.ui.generic.app.navigation.service.NavError.html">sap.ui.generic.app.navigation.service.NavError</a>, URL parameters (if available) and the type of navigation are returned.</p></td></tr></tbody></table></div><div id=".processBeforeSmartLinkPopoverOpens" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.generic.app.navigation.service.NavigationHandler.processBeforeSmartLinkPopoverOpens<span class="signature">(<span title="(object) The parameters made available by the SmartTable control when the SmartLink control has been clicked, an instance of a PopOver object">oTableEventParameters</span>, <span title="(string) Stringified JSON object as returned, for example, from getDataSuiteFormat() of the SmartFilterBar control">sSelectionVariant</span>, <span title="(object) Object containing the current state of the app.">mInnerAppData</span><i class="help" title="Optional parameter">?</i>)</span><span class="light" title="returns object">: object</span></div><div class="full-description"><p>Processes navigation-related tasks related to beforePopoverOpens event handling for the SmartLink control and returns a Promise object. In particular, the following tasks are performed before the SmartLink popover can be opened: </p><ul><li>If <code>mInnerAppData</code> is provided, this inner app state is saved for back navigation at a later time.</li><li>The table event parameters (semantic attributes) and the selection variant data are combined by calling the method <a href="#.mixAttributesAndSelectionVariant">mixAttributesAndSelectionVariant</a>.</li><li>The combined data is saved as the cross app state to be handed over to the target app, and the corresponding sap-xapp-state key is set in the URL.</li><li>All single selections ("including equal") of the combined selection data are passed to the SmartLink popover as semantic attributes.</li><li>The method <code>oTableEventParameters.open()</code> is called. Note that this does not really open the popover, but the SmartLink control proceeds with firing the event <code>navigationTargetsObtained</code>.</li></ul><pre class="prettyprint example"><code>
//event handler for the smart link event "beforePopoverOpens"
	onBeforePopoverOpens: function(oEvent) {
		var oTableEventParameters = oEvent.getParameters();

		var mInnerAppData = {
			selectionVariant : oSmartFilterBar.getDataSuiteFormat(),
			tableVariantId : oSmartTable.getCurrentVariantId(),
			customData : oMyCustomData
		};

		var oSelectionVariant = new sap.ui.generic.app.navigation.service.SelectionVariant();
		oSelectionVariant.addSelectOption("CompanyCode", "I", "EQ", "0001");
		oSelectionVariant.addSelectOption("Customer", "I", "EQ", "C0001");
		var sSelectionVariant= oSelectionVariant.toJSONString();

		var oNavigationHandler = new sap.ui.generic.app.navigation.service.NavigationHandler(oController);
		var oSmartLinkPromise = oNavigationHandler.processBeforeSmartLinkPopoverOpens(oTableEventParameters, sSelectionVariant, mInnerAppData);

		oSmartLinkPromise.done(function(oTableEventParameters){
			// here you can add coding that should run after all app states are saved and the semantic attributes are set
		});

		oSmartLinkPromise.fail(function(oError){
		//some error handling
		});
};
</code></pre></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">oTableEventParameters</td><td class="methodItemDesc">The parameters made available by the SmartTable control when the SmartLink control has been clicked, an instance of a PopOver object</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">sSelectionVariant</td><td class="methodItemDesc">Stringified JSON object as returned, for example, from getDataSuiteFormat() of the SmartFilterBar control</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object containing the current state of the app. If provided, opening the Popover is deferred until the inner app data is saved in a consistent way.</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">mInnerAppData.selectionVariant<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Stringified JSON object as returned, for example, from getDataSuiteFormat() of the the SmartFilterBar control; if provided, the selection is merged into the semantic attributes</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">mInnerAppData.tableVariantId<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">ID of the SmartTable variant</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData.customData<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object that can be used to store additional app-specific data</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData.presentationVariant<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object containing the current ui state of the app</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData.valueTexts<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object containing value descriptions</td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemDesc">A Promise object to monitor when all actions of the function have been executed; if the execution is successful, the modified oTableEventParameters is returned; if an error occurs, an error object of type <a href="sap.ui.generic.app.navigation.service.NavError.html">sap.ui.generic.app.navigation.service.NavError</a> is returned</td></tr></tbody></table></div><div id=".replaceHash" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.generic.app.navigation.service.NavigationHandler.replaceHash<span class="signature">(<span title="(string) the new app state key.">sAppStateKey</span>)</span></div><div class="full-description"> Changes the URL according to the current sAppStateKey. As an reaction route change event will be triggered. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">string</td><td class="methodItemName">sAppStateKey</td><td class="methodItemDesc">the new app state key.</td></tr></tbody></table></div><div id=".setTechnicalParameters" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.generic.app.navigation.service.NavigationHandler.setTechnicalParameters<span class="signature">(<span title="(array) list of parameter names to be considered as technical parameters.">aTechnicalParameters</span>)</span></div><div class="full-description"><p>Sets the application specific technical parameters. Technical parameters will not be added to the selection variant passed to the application. As a default the following values are considered as technical parameters: </p><ul><li><code>sap-system</code></li><li><code>sap-ushell-defaultedParameterNames</code></li><li><code>"hcpApplicationId"</code></li></ul></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">array</td><td class="methodItemName">aTechnicalParameters</td><td class="methodItemDesc">list of parameter names to be considered as technical parameters. <code>null</code> or <code>undefined</code> may be used to reset the complete list.</td></tr></tbody></table></div><div id=".storeInnerAppState" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.generic.app.navigation.service.NavigationHandler.storeInnerAppState<span class="signature">(<span title="(object) Object containing the current state of the app">mInnerAppData</span>, <span title="(boolean) If set to false, the inner app hash will not be replaced until storing is successful; do not set to false if you cannot react to the resolution of the Promise, for example, when calling the beforeLinkPressed event">bImmediateHashReplace</span><i class="help" title="Optional parameter">?</i>)</span><span class="light" title="returns object">: object</span></div><div class="full-description"> Changes the URL according to the current app state and stores the app state for later retrieval. <pre class="prettyprint example"><code>
var oNavigationHandler = new sap.ui.generic.app.navigation.service.NavigationHandler(oController);
var mInnerAppData = {
		selectionVariant : oSmartFilterBar.getDataSuiteFormat(),
		tableVariantId : oSmartTable.getCurrentVariantId(),
		customData : oMyCustomData
};

var oStoreInnerAppStatePromise = oNavigationHandler.storeInnerAppState(mInnerAppData);

oStoreInnerAppStatePromise.done(function(sAppStateKey){
	//your inner app state is saved now, sAppStateKey was added to URL
	//perform actions that must run after save
});

oStoreInnerAppStatePromise.fail(function(oError){
		//some error handling
});
</code></pre></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData</td><td class="methodItemDesc">Object containing the current state of the app</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">mInnerAppData.selectionVariant</td><td class="methodItemDesc">Stringified JSON object as returned, for example, from getDataSuiteFormat() of the SmartFilterBar control</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">mInnerAppData.tableVariantId<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">ID of the SmartTable variant</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData.customData<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object that can be used to store additional app-specific data</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData.presentationVariant<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object containing the current ui state of the app</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData.valueTexts<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object containing value descriptions</td></tr><tr><td class="methodItemType light">boolean</td><td class="methodItemName">bImmediateHashReplace<i class="help" title="Optional parameter">?, Default: true</i></td><td class="methodItemDesc">If set to false, the inner app hash will not be replaced until storing is successful; do not set to false if you cannot react to the resolution of the Promise, for example, when calling the beforeLinkPressed event</td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemDesc">A Promise object to monitor when all the actions of the function have been executed; if the execution is successful, the app state key is returned; if an error occurs, an object of type <a href="sap.ui.generic.app.navigation.service.NavError.html">sap.ui.generic.app.navigation.service.NavError</a> is returned</td></tr></tbody></table></div><div id=".storeInnerAppStateWithImmediateReturn" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.generic.app.navigation.service.NavigationHandler.storeInnerAppStateWithImmediateReturn<span class="signature">(<span title="(object) Object containing the current state of the app">mInnerAppData</span>, <span title="(boolean) If set to false, the inner app hash will not be replaced until storing is successful; do not set to false if you cannot react to the resolution of the Promise, for example, when calling the beforeLinkPressed event.">bImmediateHashReplace</span><i class="help" title="Optional parameter">?</i>)</span><span class="light" title="returns Object">: <a href="Object.html">Object</a></span></div><div class="full-description"> Changes the URL according to the current app state and stores the app state for later retrieval. <pre class="prettyprint example"><code>
var oNavigationHandler = new sap.ui.generic.app.navigation.service.NavigationHandler(oController);
var mInnerAppData = {
		selectionVariant : oSmartFilterBar.getDataSuiteFormat(),
		tableVariantId : oSmartTable.getCurrentVariantId(),
		customData : oMyCustomData
};

var oStoreInnerAppState = storeInnerAppStateWithNonDelayedReturn(mInnerAppData);
var sAppStateKey = oStoreInnerAppState.appStateKey;
if (!sAppStateKey) {
   // no appStateKey obtained...
};
var oStoreInnerAppStatePromise = oStoreInnerAppState.promise;

oStoreInnerAppStatePromise.done(function(sAppStateKey){
	//your inner app state is saved now, sAppStateKey was added to URL
	//perform actions that must run after save
});

oStoreInnerAppStatePromise.fail(function(oError){
		//some error handling
});
</code>

 </pre></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData</td><td class="methodItemDesc">Object containing the current state of the app</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">mInnerAppData.selectionVariant</td><td class="methodItemDesc">Stringified JSON object as returned, for example, from getDataSuiteFormat() of the SmartFilterBar control</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">mInnerAppData.tableVariantId<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">ID of the SmartTable variant</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData.customData<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object that can be used to store additional app-specific data</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData.presentationVariant<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object containing the current ui state of the app</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">mInnerAppData.valueTexts<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Object containing value descriptions</td></tr><tr><td class="methodItemType light">boolean</td><td class="methodItemName">bImmediateHashReplace<i class="help" title="Optional parameter">?, Default: false</i></td><td class="methodItemDesc">If set to false, the inner app hash will not be replaced until storing is successful; do not set to false if you cannot react to the resolution of the Promise, for example, when calling the beforeLinkPressed event. <b>Note:</b>If not provided it will be treated as set to false. <b>Note:</b>If set to true, the calling instance has to ensure that a follow-on call to <code>replaceHash</code> will take place!</td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light"><a href="Object.html">Object</a></td><td class="methodItemDesc">An object containing the appStateId and a promise object to monitor when all the actions of the function have been executed; Please note that the appStateKey may be undefined or empty. if an error occurs, an object of type <a href="sap.ui.generic.app.navigation.service.NavError.html">sap.ui.generic.app.navigation.service.NavError</a> is returned</td></tr></tbody></table></div></div></div></div></div></body></html>