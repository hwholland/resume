{
"version":"2.0",
"name":"sap.ui.vk.library-preload",
"dependencies":["sap.ui.core.library-preload"],
"modules":{
	"sap/ui/vk/BaseNodeProxy.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/base/Object'],function(q,l,B){'use strict';var g=sap.ui.vk.dvl.getJSONObject;var a=B.extend('sap.ui.vk.BaseNodeProxy',{metadata:{publicMethods:['getNodeId','getName','getNodeMetadata','getHasChildren']},constructor:function(n,b){this.init(n,b);}});a.prototype.init=function(n,b){this._dvl=n?n.getGraphicsCore()._getDvl():null;this._dvlSceneId=n?n._getDvlSceneId():null;this._dvlNodeId=b;};a.prototype.reset=function(){this._dvlNodeId=null;this._dvlSceneId=null;this._dvl=null;};a.prototype.getNodeId=function(){return this._dvlNodeId;};a.prototype.getName=function(){return g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_NAME)).NodeName;};a.prototype.getNodeMetadata=function(){return g(this._dvl.Scene.RetrieveMetadata(this._dvlSceneId,this._dvlNodeId)).metadata;};a.prototype.getHasChildren=function(){return(g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&(sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_MAPPED_HASCHILDREN|sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_CLOSED))===sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_MAPPED_HASCHILDREN;};return a;});\n",
	"sap/ui/vk/CheckEye.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/commons/CheckBox','./library'],function(q,C,l){'use strict';var a=C.extend('sap.ui.vk.CheckEye',{metadata:{library:'sap.ui.vk',properties:{}},onAfterRendering:function(){var $=this.$();$.removeClass('sapUiCb');$.removeClass('sapUiCbChk');$.removeClass('sapUiCbInteractive');$.removeClass('sapUiCbStd');$.addClass('sapUiCheckEye');},renderer:{}});return a;},true);\n",
	"sap/ui/vk/ContainerBase.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/core/Popup','sap/ui/Device','sap/m/library'],function(q,l,C,I,P,D,m){'use strict';var a=C.extend('sap.ui.vk.ContainerBase',{metadata:{library:'sap.ui.vk',properties:{'showFullScreen':{type:'boolean',group:'Misc',defaultValue:true},'showSettings':{type:'boolean',group:'Misc',defaultValue:true},'showSelection':{type:'boolean',group:'Misc',defaultValue:true},'fullScreen':{type:'boolean',group:'Misc',defaultValue:false},'title':{type:'string',group:'Misc',defaultValue:''},'autoAdjustHeight':{type:'boolean',group:'Misc',defaultValue:false}},defaultAggregation:'content',aggregations:{content:{type:'sap.ui.vk.ContainerContent',multiple:true,singularName:'content'},'toolbar':{type:'sap.m.Toolbar',multiple:false,visibility:'hidden'}},associations:{},events:{'contentChange':{parameters:{selectedItemId:'string'}},'settingsPressed':{}}}});a.prototype.switchContent=function(c){this.setSelectedContent(c);this.rerender();};a.prototype.updateContainer=function(){this._contentChanged=true;this.rerender();};a.prototype.setSelectedContent=function(c){this._oSelectedContent=c;};a.prototype.getSelectedContent=function(){return this._oSelectedContent;};a.prototype.init=function(){this._selectionState='SINGLE';this._firstTime=true;this._aContentIcons=[];this._selectedContent=null;this._oSelectedContent=null;this._bSegmentedButtonSaveSelectState=false;this._oMenu=null;var L=new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.High});var b=sap.m.ButtonType.Transparent;this._oFullScreenButton=new sap.m.OverflowToolbarButton({layoutData:L,type:b,icon:'sap-icon://full-screen',text:sap.ui.vk.getResourceBundle().getText('CONTAINERBASE_FULLSCREEN'),tooltip:sap.ui.vk.getResourceBundle().getText('CONTAINERBASE_FULLSCREEN'),press:function(){this._bSegmentedButtonSaveSelectState=true;this._toggleFullScreen();}.bind(this)});this._oSettingsButton=new sap.m.OverflowToolbarButton({layoutData:L.clone(),type:b,icon:'sap-icon://action-settings',text:sap.ui.vk.getResourceBundle().getText('CONTAINERBASE_SETTINGS'),tooltip:sap.ui.vk.getResourceBundle().getText('CONTAINERBASE_SETTINGS'),press:function(){this._bSegmentedButtonSaveSelectState=true;this.fireSettingsPressed();}.bind(this)});this._oSelectionButtonSingle=new sap.m.SegmentedButtonItem({icon:'sap-icon://map-container/selection-single',tooltip:sap.ui.vk.getResourceBundle().getText('CONTAINERBASE_MENU_SINGLE'),press:this._handleSelection.bind(this,'SINGLE')});this._oSelectionButtonRectangle=new sap.m.SegmentedButtonItem({icon:'sap-icon://map-container/selection-rectangle',tooltip:sap.ui.vk.getResourceBundle().getText('CONTAINERBASE_MENU_RECT'),press:this._handleSelection.bind(this,'RECT')});this._oSelectionButtonLasso=new sap.m.SegmentedButtonItem({icon:'sap-icon://map-container/selection-lasso',tooltip:sap.ui.vk.getResourceBundle().getText('CONTAINERBASE_MENU_LASSO'),press:this._handleSelection.bind(this,'LASSO')});this._selectionMenu=new sap.m.SegmentedButton({items:[this._oSelectionButtonSingle,this._oSelectionButtonRectangle,this._oSelectionButtonLasso]});this._oPopup=new P({modal:true,shadow:false,autoClose:false});this._oContentSegmentedButton=new sap.m.SegmentedButton({layoutData:L.clone(),select:this._onContentButtonSelect.bind(this)});this._oContTitle=new sap.m.Label();this._oToolbar=new sap.m.OverflowToolbar({width:'auto'}).addStyleClass('sapUiVkContainerBaseToolbar');this.setAggregation('toolbar',this._oToolbar);this.sResizeListenerId=null;if(D.system.desktop){this.sResizeListenerId=sap.ui.core.ResizeHandler.register(this,q.proxy(this._performHeightChanges,this));}else{D.orientation.attachHandler(this._performHeightChanges,this);D.resize.attachHandler(this._performHeightChanges,this);}q.sap.require('sap.ui.thirdparty.URI');var c=[{name:'selection-lasso',unicode:'E000'},{name:'selection-rectangle',unicode:'E001'},{name:'selection-single',unicode:'E002'}],d='map-container',f='map-container';c.forEach(function(i){sap.ui.core.IconPool.addIcon(i.name,d,f,i.unicode);});};a.prototype.exit=function(){if(this._oFullScreenButton){this._oFullScreenButton.destroy();this._oFullScreenButton=undefined;}if(this._oPopup){this._oPopup.destroy();this._oPopup=undefined;}if(this._oContentSegmentedButton){this._oContentSegmentedButton.destroy();this._oContentSegmentedButton=undefined;}if(this._oSelectedContent){this._oSelectedContent.destroy();this._oSelectedContent=undefined;}if(this._oToolbar){this._oToolbar.destroy();this._oToolbar=undefined;}if(D.system.desktop&&this.sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this.sResizeListenerId);this.sResizeListenerId=null;}else{D.orientation.detachHandler(this._performHeightChanges,this);D.resize.detachHandler(this._performHeightChanges,this);}};a.prototype.setFullScreen=function(f){if(this._firstTime){return;}if(this.getFullScreen()==f){return;}var b=this.getProperty('fullScreen');if(b!==f){this._toggleFullScreen();}};a.prototype.onAfterRendering=function(){var t=this;if((this.sResizeListenerId===null)&&(D.system.desktop)){this.sResizeListenerId=sap.ui.core.ResizeHandler.register(this,q.proxy(this._performHeightChanges,this));}if(this.getAutoAdjustHeight()||this.getFullScreen()){q.sap.delayedCall(500,this,function(){t._performHeightChanges();});}this._firstTime=false;if(this.getSelectedContent()!==null){var c=this.getSelectedContent().getContent();if(c instanceof sap.ui.vbm.GeoMap||c instanceof sap.ui.vbm.AnalyticMap){if(this.getShowSelection()){if(this._selectionState==='LASSO'){c.setLassoSelection(true);}else if(this._selectionState==='RECT'){c.setRectangularSelection(true);}else if(this._selectionState==='SINGLE'){c.setRectangularSelection(false);c.setLassoSelection(false);}}}}};a.prototype.onBeforeRendering=function(){if(this._contentChanged){this._contentChange();}this._oToolbar.removeAllContent();this._addToolbarContent();};a.prototype.setTitle=function(v){this._oContTitle.setText(v);this.setProperty('title',v,true);};a.prototype.addContent=function(o){this.addAggregation('content',o);this._contentChanged=true;};a.prototype.insertContent=function(o,i){this.insertAggregation('content',o,i);this._contentChanged=true;};a.prototype.updateContent=function(){this.updateAggregation('content');this._contentChanged=true;};a.prototype._toggleFullScreen=function(){var f=this.getProperty('fullScreen');var s;var h;var c;if(f){this._closeFullScreen();this.setProperty('fullScreen',false,true);c=this.getSelectedContent().getContent();s=c.getId();c.setWidth('100%');h=this._contentHeight[s];if(h){c.setHeight(h);}this.invalidate();}else{var o=this.getAggregation('content');this._contentHeight={};if(o){for(var i=0;i<o.length;i++){c=o[i].getContent();s=c.getId();if(q.isFunction(c.getHeight)){h=c.getHeight();}else{h=0;}this._contentHeight[s]=h;}}this._openFullScreen(true);this.setProperty('fullScreen',true,true);}var b=(f?'sap-icon://full-screen':'sap-icon://exit-full-screen');this._oFullScreenButton.setIcon(b);this._oFullScreenButton.focus();};a.prototype._openFullScreen=function(n){if((n!==null)&&(n===true)){this._oScrollEnablement=new sap.ui.core.delegate.ScrollEnablement(this,this.getId()+'-wrapper',{horizontal:true,vertical:true});}this.$content=this.$();if(this.$content){this.$tempNode=q('<div></div>');this.$content.before(this.$tempNode);this._$overlay=q(\"<div id='\"+q.sap.uid()+\"'></div>\");this._$overlay.addClass('sapUiVkContainerBaseOverlay');this._$overlay.append(this.$content);this._oPopup.setContent(this._$overlay);}else{q.sap.log.warn('Overlay: content does not exist or contains more than one child');}this._oPopup.open(200,undefined,undefined,q('body'));};a.prototype._closeFullScreen=function(){if(this._oScrollEnablement!==null){this._oScrollEnablement.destroy();this._oScrollEnablement=null;}this.$tempNode.replaceWith(this.$content);this._oToolbar.setDesign(sap.m.ToolbarDesign.Auto);this._oPopup.close();this._$overlay.remove();};a.prototype._performHeightChanges=function(){if(this.getAutoAdjustHeight()||this.getFullScreen()){var $=this.$();if(($.find('.sapUiVkContainerBaseToolbarArea').children()[0])&&($.find('.sapUiVkContainerBaseContentArea').children()[0])){var o=this.getSelectedContent().getContent();if(o.getDomRef().offsetWidth!==this.getDomRef().clientWidth){this.rerender();}}}};a.prototype._switchContent=function(c){var o=this._findContentById(c);this.setSelectedContent(o);this.fireContentChange({selectedItemId:c});this.rerender();};a.prototype._contentChange=function(){var c=this.getContent();this._oContentSegmentedButton.removeAllButtons();this._destroyButtons(this._aContentIcons);this._aContentIcons=[];if(c.length===0){this._oContentSegmentedButton.removeAllButtons();this._setDefaultOnSegmentedButton();this.switchContent(null);}if(c){for(var i=0;i<c.length;i++){var b=c[i].getContent();if(b.setWidth){b.setWidth('100%');}var B=new sap.m.SegmentedButtonItem({icon:c[i].getIcon(),tooltip:c[i].getTitle(),key:b.getId()});this._aContentIcons.push(B);this._oContentSegmentedButton.addItem(B);if(i===0){this.setSelectedContent(c[i]);}}}this._contentChanged=false;};a.prototype._onContentButtonSelect=function(e){var c=e.getParameter('key');this._switchContent(c);};a.prototype._findContentById=function(s){var c=null;var o=this.getAggregation('content');if(o){for(var i=0;!c&&i<o.length;i++){if(o[i].getContent().getId()===s){c=o[i];}}}return c;};a.prototype._addToolbarContent=function(){this._oToolbar.addContent(new sap.m.ToolbarSpacer());if(this._aContentIcons.length>1){this._oToolbar.addContent(this._oContentSegmentedButton);}if(this.getSelectedContent()!==null){var c=this.getSelectedContent().getContent();if(c instanceof sap.ui.vbm.GeoMap||c instanceof sap.ui.vbm.AnalyticMap){if(this.getShowSelection()){this._oToolbar.addContent(this._selectionMenu);}}}if(this.getShowSettings()){this._oToolbar.addContent(this._oSettingsButton);}if(!D.system.phone&&this.getShowFullScreen()){this._oToolbar.addContent(this._oFullScreenButton);}};a.prototype._setDefaultOnSegmentedButton=function(){if(!this._bSegmentedButtonSaveSelectState){this._oContentSegmentedButton.setSelectedButton(null);}this._bSegmentedButtonSaveSelectState=false;};a.prototype._destroyButtons=function(b){b.forEach(function(B){B.destroy();});};a.prototype._handleSelection=function(b){var c=this.getSelectedContent().getContent();if(c instanceof sap.ui.vbm.GeoMap){if(b=='LASSO'){c.setLassoSelection(true);this._selectionState=b;}else if(b=='RECT'){c.setRectangularSelection(true);this._selectionState=b;}else if(b==='SINGLE'){c.setRectangularSelection(false);c.setLassoSelection(false);this._selectionState=b;}}};return a;});\n",
	"sap/ui/vk/ContainerBaseRenderer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(function(){'use strict';var C={};C.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUiVkContainerBase');r.writeClasses(c);r.write('>');r.write('<div');r.writeAttributeEscaped('id',c.getId()+'-wrapper');r.addClass('sapUiVkContainerBaseWrapper');r.writeClasses();r.write('>');this.writeContentArea(r,c);this.writeToolbarArea(r,c);r.write('</div>');r.write('</div>');};C.writeContentArea=function(r,c){var s=c.getSelectedContent();r.write('<div');r.addClass('sapUiVkContainerBaseContentArea');r.writeClasses();r.write('>');if(s!==null){r.renderControl(s);}else if(c.getContent().length>0){s=c.getContent()[0];r.renderControl(s);}r.write('</div>');};C.writeToolbarArea=function(r,c){r.write('<div');r.addClass('sapUiVkContainerBaseToolbarArea');r.writeClasses();r.write('>');r.renderControl(c._oToolbar);r.write('</div>');};return C;},true);\n",
	"sap/ui/vk/ContainerContent.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['./library','sap/ui/core/Control'],function(l,C){'use strict';var a=C.extend('sap.ui.vk.ContainerContent',{metadata:{library:'sap.ui.vk',properties:{'icon':{type:'string',group:'Misc',defaultValue:null},'title':{type:'string',group:'Misc',defaultValue:null}},aggregations:{'content':{type:'sap.ui.core.Control',multiple:false}}}});a.prototype.setContent=function(c){if(c instanceof sap.ui.vbm.GeoMap){c.setNavcontrolVisible(false);c.setWidth('100%');c.setHeight('100%');}this.setAggregation('content',c);return this;};return a;});\n",
	"sap/ui/vk/ContainerContentRenderer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(function(){'use strict';var C={};C.render=function(r,c){r.renderControl(c.getContent());};return C;},true);\n",
	"sap/ui/vk/ContentResource.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/base/ManagedObject'],function(q,l,M){'use strict';var C=M.extend('sap.ui.vk.ContentResource',{metadata:{properties:{source:'any',sourceType:'string',sourceId:'string',localMatrix:'sap.ui.vk.TransformationMatrix',name:'string'},aggregations:{contentResources:'sap.ui.vk.ContentResource'},publicMethods:['getNodeProxy']},constructor:function(i,s,S){M.apply(this,arguments);this._nodeProxy=null;}});C.prototype.isTreeBinding=function(n){return n==='contentResources';};C.prototype.destroy=function(){this._nodeProxy=null;M.prototype.destroy.call(this);};C.prototype.setLocalMatrix=function(v){var n=this.getNodeProxy();if(n){n.setLocalMatrix(v);}this.setProperty('localMatrix',v,true);return this;};C.prototype.getNodeProxy=function(){return this._shadowContentResource&&this._shadowContentResource.nodeProxy||null;};C.collectCategories=function(r){var c=[];var m={};function g(a){var s=(a.getSourceType()||'').toLowerCase();if(s){var b=sap.ui.vk.ContentResourceSourceTypeToCategoryMap[s]||'unknown';if(!m.hasOwnProperty(b)){m[b]=true;c.push(b);}}a.getContentResources().forEach(g);}r.forEach(g);return c;};return C;});\n",
	"sap/ui/vk/DownloadManager.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/base/EventProvider','./Messages'],function(q,l,E,M){'use strict';var D=E.extend('sap.ui.vk.DownloadManager',{metadata:{publicMethods:['start','attachItemSucceeded','detachItemSucceeded','attachItemFailed','detachItemFailed','attachAllItemsCompleted','detachAllItemsCompleted'],events:{itemSucceeded:{parameters:{source:{type:'any'},response:{type:'object'}}},itemProgress:{parameters:{source:{type:'any'},loaded:{type:'number'},total:{type:'number'}}},itemFailed:{parameters:{source:{type:'any'},status:{type:'any'},statusText:{type:'string'}}},allItemsCompleted:{}}},constructor:function(s,m){this._messages=new M();E.apply(this);this._maxParallelTasks=m||5;this._sourcesToProcess=s.slice();this._sourcesBeingProcessed=[];}});D.prototype.start=function(){while(this._pickAndDispatchTask()){}return this;};D.prototype._pickAndDispatchTask=function(){if(this._sourcesToProcess.length>0&&this._sourcesBeingProcessed.length<this._maxParallelTasks){var s=this._sourcesToProcess.shift();this._sourcesBeingProcessed.push(s);this._runTask(s);return true;}return false;};D.prototype._taskFinished=function(s){var i=this._sourcesBeingProcessed.indexOf(s);if(i>=0){this._sourcesBeingProcessed.splice(i,1);}return this._sourcesToProcess.length===0&&this._sourcesBeingProcessed.length===0;};D.prototype._runTask=function(s){var t=this;if(typeof s==='string'){var x=new(typeof sinon==='object'&&sinon.xhr&&sinon.xhr.XMLHttpRequest||XMLHttpRequest);x.onerror=function(e){t.fireItemFailed({source:s,status:x.status,statusText:x.statusText});var i=t._taskFinished(s);t._pickAndDispatchTask();if(i){t.fireAllItemsCompleted({});}};x.onload=function(e){var i=t._taskFinished(s);t._pickAndDispatchTask();if(x.status===200||x.status===0){t.fireItemSucceeded({source:s,response:x.response});}else{t.fireItemFailed({source:s,status:x.status,statusText:x.statusText});}if(i){t.fireAllItemsCompleted({});}};x.onprogress=function(e){t.fireItemProgress({source:s,loaded:e.loaded,total:e.total});};x.open('GET',s,true);x.responseType='arraybuffer';x.send(null);}else if(s instanceof File){var f=new FileReader();f.onload=function(e){var i=t._taskFinished(s);t._pickAndDispatchTask();t.fireItemSucceeded({source:s,response:f.result});if(i){t.fireAllItemsCompleted({});}};f.onprogress=function(e){t.fireItemProgress({source:s.name,loaded:e.loaded,total:e.total});};f.onerror=function(e){var i=t._taskFinished(s);t._pickAndDispatchTask();t.fireItemFailed({source:s,status:f.error.name,statusText:f.error.message});if(i){t.fireAllItemsCompleted({});}};f.readAsArrayBuffer(s);}else{q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT5.summary),this._messages.messages.VIT5.code,'sap.ui.vk.DownloadManager');}return this;};D.prototype.attachItemSucceeded=function(d,f,a){return this.attachEvent('itemSucceeded',d,f,a);};D.prototype.detachItemSucceeded=function(f,a){return this.detachEvent('itemSucceeded',f,a);};D.prototype.fireItemSucceeded=function(p,a,e){return this.fireEvent('itemSucceeded',p,a,e);};D.prototype.attachItemFailed=function(d,f,a){return this.attachEvent('itemFailed',d,f,a);};D.prototype.detachItemFailed=function(f,a){return this.detachEvent('itemFailed',f,a);};D.prototype.fireItemFailed=function(p,a,e){return this.fireEvent('itemFailed',p,a,e);};D.prototype.attachAllItemsCompleted=function(d,f,a){return this.attachEvent('allItemsCompleted',d,f,a);};D.prototype.detachAllItemsCompleted=function(f,a){return this.detachEvent('allItemsCompleted',f,a);};D.prototype.fireAllItemsCompleted=function(p,a,e){return this.fireEvent('allItemsCompleted',p,a,e);};D.prototype.attachItemProgress=function(d,f,a){return this.attachEvent('itemProgress',d,f,a);};D.prototype.detachItemProgress=function(f,a){return this.detachEvent('itemProgress',f,a);};D.prototype.fireItemProgress=function(p,a,e){return this.fireEvent('itemProgress',p,a,e);};return D;});\n",
	"sap/ui/vk/DvlException.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/Exception'],function(q,E){'use strict';var D=function(c,m){this.name='DvlException';this.code=c;this.message=m;};D.prototype=q.sap.newObject(E.prototype);return D;});\n",
	"sap/ui/vk/FlexibleControl.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Control','sap/ui/core/EnabledPropagator','./library'],function(q,C,E,l){'use strict';var F=C.extend('sap.ui.vk.FlexibleControl',{metadata:{library:'sap.ui.vk',properties:{width:{type:'sap.ui.core.CSSSize',group:'Dimension',defaultValue:null},height:{type:'sap.ui.core.CSSSize',group:'Dimension',defaultValue:null},layout:{type:'string',group:'Behavior',defaultValue:'Stacked'},enabled:{type:'boolean',group:'Behavior',defaultValue:true}},defaultAggregation:'content',aggregations:{content:{type:'sap.ui.core.Control',multiple:true,singularName:'content'}},designTime:true}});E.call(F.prototype);return F;},true);\n",
	"sap/ui/vk/FlexibleControlLayoutData.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/LayoutData','./library'],function(q,L,l){'use strict';var F=L.extend('sap.ui.vk.FlexibleControlLayoutData',{metadata:{library:'sap.ui.vk',properties:{size:{type:'sap.ui.core.CSSSize',group:'Dimension',defaultValue:'auto'},minSize:{type:'sap.ui.core.CSSSize',group:'Dimension',defaultValue:'0px'},marginTop:{type:'sap.ui.core.CSSSize',group:'Dimension',defaultValue:'0px'},marginBottom:{type:'sap.ui.core.CSSSize',group:'Dimension',defaultValue:'0px'}}}});return F;},true);\n",
	"sap/ui/vk/FlexibleControlRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var F={};F.render=function(r,f){var a=r;a.write('<div');a.writeControlData(f);a.addClass('sapUiFlexControl');if(f.getWidth()&&f.getWidth()!=''){a.addStyle('width',f.getWidth());}if(f.getHeight()&&f.getHeight()!=''){a.addStyle('height',f.getHeight());}a.writeStyles();a.writeClasses();a.write('>');var c=f.getContent();var l=f.getLayout();var b='sapUiFlexCellStacked';if(l=='Vertical'){b='sapUiFlexCellVertical';}for(var i=0;i<c.length;i++){var d=c[i];a.write(\"<div id=\\\"\"+f.getId()+'Content_'+i+\"\\\" class=\\\"\"+b+\"\\\"\");var e=d.getLayoutData();if(e&&l!='Stacked'){a.write(\" style=\\\"\");if(e.getSize()&&e.getSize()!=''){a.write('height: '+e.getSize()+';');}if(e.getMinSize()&&e.getMinSize()!=''){a.write('min-height: '+e.getMinSize()+';');}if(e.getMarginTop()&&e.getMarginTop()!=''){a.write('margin-top: '+e.getMarginTop()+';');}if(e.getMarginBottom()&&e.getMarginBottom()!=''){a.write('margin-bottom: '+e.getMarginBottom()+';');}a.write(\"\\\"\");}a.write('>');a.renderControl(d);a.write('</div>');}a.write('</div>');};return F;},true);\n",
	"sap/ui/vk/GraphicsCore.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/base/EventProvider','./ve/dvl','./Scene','./NodeHierarchy','./ContentResource','./DownloadManager','./ViewStateManager','./DvlException','./Messages'],function(q,l,E,D,S,N,C,a,V,b,M){'use strict';function g(s){return s instanceof File?'local':'remote';}function c(s){return s instanceof File?s.name:s;}var d=function(s){Object.defineProperties(this,{source:{value:s,writable:false,enumerable:true},_refCount:{value:0,writable:true,enumerable:false}});};d.prototype.isInUse=function(){return this._refCount>0;};d.prototype.addRef=function(){++this._refCount;return this;};d.prototype.release=function(){--this._refCount;return this;};var e=function(i,s,r){Object.defineProperties(this,{dvlSceneId:{value:i,writable:false,enumerable:true},sourceDatum:{value:s,writable:false,enumerable:true},root:{value:!!r,writable:false,enumerable:true},_refCount:{value:0,writable:true,enumerable:false}});};e.prototype.isInUse=function(){return this._refCount>0;};e.prototype.addRef=function(){++this._refCount;return this;};e.prototype.release=function(){--this._refCount;return this;};e.prototype.destroy=function(){if(this.sourceDatum){this.sourceDatum.release();}};var f=function(i,j){Object.defineProperties(this,{source:{value:i.getSource()},sourceType:{value:i.getSourceType()},sourceId:{value:i.getSourceId(),writable:true},name:{value:i.getName()},localMatrix:{value:i.getLocalMatrix(),writable:true},children:{value:i.getContentResources().map(function(i){return new f(i);})},dvlSceneDatum:{value:null,writable:true},nodeProxy:{value:null,writable:true},fake:{value:!!j}});i._shadowContentResource=this;};f.prototype.destroy=function(){if(this.dvlSceneDatum){this.dvlSceneDatum.release();}};var h=function(v,s){Object.defineProperties(this,{vkScene:{value:v},shadowContentResource:{value:s}});};var G=E.extend('sap.ui.vk.GraphicsCore',{metadata:{publicMethods:['buildSceneTree','createViewStateManager','destroyScene','destroyViewStateManager','getApi','loadContentResourcesAsync','showDebugInfo']},constructor:function(r,w){E.apply(this);var s=q.extend({},r,{filePackagePrefixURL:q.sap.getResourcePath('sap/ve')+'/'});this._dvlClientId=q.sap.uid();this._dvl=sap.ve.dvl.createRuntime(s);this._dvl.CreateCoreInstance(this._dvlClientId);sap.ui.vk.dvl.checkResult(this._dvl.Core.Init(this._DVLMajorVersion,this._DVLMinorVersion));var u=sap.ui.getCore();u.attachLocalizationChanged(this._onlocalizationChanged,this);sap.ui.vk.dvl.checkResult(this._dvl.Core.SetLocale(u.getConfiguration().getLanguageTag()));this._canvas=this._createRenderingCanvasAndContext(w);this._dvl.Core.InitRenderer();this._sourceData=[];this._dvlSceneData=[];this._vkSceneData=[];this._viewports=[];this._viewStateManagers=[];this._messages=new M();},_DVLMajorVersion:6,_DVLMinorVersion:0});G.prototype.destroy=function(){sap.ui.getCore().detachLocalizationChanged(this._onlocalizationChanged,this);this._viewports.slice().forEach(function(v){v.setGraphicsCore(null);});this._viewports=null;this._cleanupVkSceneData();this._vkSceneData=null;this._cleanupDvlSceneData();this._dvlSceneData=null;this._cleanupSourceData();this._sourceData=null;this._viewStateManagers.slice().forEach(this.destroyViewStateManager.bind(this));this._viewStateManagers=null;this._webGLContext=null;this._canvas=null;this._dvl.Core.DoneRenderer();this._dvl.Core.Release();this._dvl=null;E.prototype.destroy.apply(this);};G.prototype._createRenderingCanvasAndContext=function(w){var i=document.createElement('canvas');i.id=q.sap.uid();this._webGLContext=this._dvl.Core.CreateWebGLContext(i,w);return i;};G.prototype._getCanvas=function(){return this._canvas;};G.prototype._getWebGLContext=function(){return this._webGLContext;};G.prototype._getDvl=function(){return this._dvl;};G.prototype._getDvlClientId=function(){return this._dvlClientId;};G.prototype._findSourceData=function(p){var i=Object.getOwnPropertyNames(p);return this._sourceData.filter(function(j){return i.every(function(k){return p[k]===j[k];});});};G.prototype._destroySourceDatum=function(s){this._dvl.Core.DeleteFileByUrl(c(s.source),g(s.source));return this;};G.prototype._cleanupSourceData=function(){for(var i=this._sourceData.length-1;i>=0;--i){var s=this._sourceData[i];if(!s.isInUse()){this._sourceData.splice(i,1);this._destroySourceDatum(s);}}return this;};G.prototype._findDvlSceneData=function(p){var i=Object.getOwnPropertyNames(p);return this._dvlSceneData.filter(function(j){return i.every(function(k){return p[k]===j[k];});});};G.prototype._destroyDvlSceneDatum=function(i){this._dvl.Scene.Release(i.dvlSceneId);i.destroy();return this;};G.prototype._cleanupDvlSceneData=function(){for(var i=this._dvlSceneData.length-1;i>=0;--i){var j=this._dvlSceneData[i];if(!j.isInUse()){this._dvlSceneData.splice(i,1);this._destroyDvlSceneDatum(j);}}};G.prototype._findVkSceneData=function(p){var i=Object.getOwnPropertyNames(p);return this._vkSceneData.filter(function(j){return i.every(function(k){return p[k]===j[k];});});};G.prototype._cleanupVkSceneData=function(){for(var i=this._vkSceneData.length-1;i>=0;--i){this.destroyScene(this._vkSceneData[i].vkScene);}};G.prototype._destroyShadowContentResource=function(v,s){if(s.children){s.children.forEach(this._destroyShadowContentResource.bind(this,v));}if(s.nodeProxy){this._dvl.Scene.DeleteNode(v._getDvlSceneId(),s.nodeProxy.getNodeId());v.getDefaultNodeHierarchy().destroyNodeProxy(s.nodeProxy);}s.destroy();};G.prototype.loadContentResourcesAsync=function(i,o,j){var t=this;function k(i){var s=[];i.forEach(function enumerate(r){var u=r.getSource();if(u&&s.indexOf(u)<0&&t._findSourceData({source:u}).length===0){s.push(u);}r.getContentResources().forEach(enumerate);});return s;}var s=k(i);var m=[];if(s.length>0){var n;var p=new a(s).attachItemSucceeded(function(r){var u=r.getParameter('source');var v=u instanceof File;var w=v?u.name:u;var x=r.getParameter('response');if(this._isVDS4File(x)){q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT20.summary),this._messages.messages.VIT20.code,'sap.ui.vk.GraphicsCore');}this._dvl.Core.CreateFileFromArrayBuffer(x,w,g(u));m.push(new d(u));},this).attachAllItemsCompleted(function(r){if(n){m.forEach(this._destroySourceDatum.bind(this));}else{Array.prototype.push.apply(this._sourceData,m);}if(o){o(n);}},this).attachItemFailed(function(r){n=n||[];n.push({source:r.getParameter('source'),status:r.getParameter('status'),statusText:r.getParameter('statusText')});},this);if(j){p.attachItemProgress(j,this);}p.start();}else if(o){o();}return this;};G.prototype._mergeContentResource=function(i,n,j,k,s){var m=this._dvl.Scene.CreateNode(i,j,s.name,k);s.nodeProxy=n.createNodeProxy(m);if(s.localMatrix){s.nodeProxy.setLocalMatrix(s.localMatrix);}if(s.source){var o=this._findSourceData({source:s.source})[0];var p=this._findDvlSceneData({sourceDatum:o,root:false})[0];if(!p){p=new e(sap.ui.vk.dvl.getPointer(this._dvl.Core.LoadSceneByUrl(c(o.source),null,g(o.source))),o,false);this._dvlSceneData.push(p);o.addRef();}s.dvlSceneDatum=p;p.addRef();this._dvl.Scene.RetrieveSceneInfo(p.dvlSceneId,sap.ve.dvl.DVLSCENEINFO.DVLSCENEINFO_CHILDREN).ChildNodes.forEach(function(r){this._dvl.Scene.CreateNodeCopy(i,r,m,sap.ve.dvl.DVLCREATENODECOPYFLAG.COPY_CHILDREN);}.bind(this));}s.children.forEach(this._mergeContentResource.bind(this,i,n,m,undefined));};G.prototype.buildSceneTree=function(i){if(i.length===0){return null;}var r;var j;var s=i.map(function(n){return new f(n);});if(s.length===1){j=s[0];if(j.source){var k=this._findSourceData({source:j.source})[0];r=new e(sap.ui.vk.dvl.getPointer(this._dvl.Core.LoadSceneByUrl(c(k.source),null,g(k.source))),k,true);k.addRef();}else{r=new e(this._dvl.Core.CreateEmptyScene(),null,true);}}else{var m=new C({sourceType:'vds',sourceId:q.sap.uid()});j=new f(m,true);m.destroy();m=null;Array.prototype.push.apply(j.children,s);s=[j];r=new e(this._dvl.Core.CreateEmptyScene(),null,true);}this._dvlSceneData.push(r);j.dvlSceneDatum=r;r.addRef();var v=new S(this,r.dvlSceneId);this._vkSceneData.push(new h(v,j));j.children.forEach(this._mergeContentResource.bind(this,r.dvlSceneId,v.getDefaultNodeHierarchy(),null,undefined));return v;};G.prototype.updateSceneTree=function(v,j){if(j.length===0){return null;}if(!v){return this.buildSceneTree(j);}var r=this._findVkSceneData({vkScene:v})[0].shadowContentResource;var o=!!r.source;var n=j.length===1&&!!j[0].getSource();if(!(o&&n&&r.source===j[0].getSource()||!o&&!n&&r.fake===j.length>1)){return this.buildSceneTree(j);}var t=this;var k=v._getDvlSceneId();var m=v.getDefaultNodeHierarchy();function u(s,j,p){function w(z,A){if(!z&&!A){return true;}else if(!!z^!!A){return false;}else{return z.source===A.getSource()&&z.sourceType===A.getSourceType()&&z.name===A.getName();}}function x(z,A){A._shadowContentResource=z;z.sourceId=A.getSourceId();z.localMatrix=A.getLocalMatrix();if(z.nodeProxy){z.nodeProxy.setLocalMatrix(z.localMatrix);}}var i=0;var y=q.sap.arrayDiff(s,j,w,true);y.forEach(function(z){for(;i<z.index;++i){u(s[i].children,j[i].getContentResources(),s[i].nodeProxy.getNodeId());x(s[i],j[i]);}if(z.type==='delete'){t._destroyShadowContentResource(v,s[z.index]);s.splice(z.index,1);}else if(z.type==='insert'){var A;if(i<s.length&&s[i].nodeProxy){A=s[i].nodeProxy.getNodeId();}var B=new f(j[z.index]);t._mergeContentResource(k,m,p,A,B);s.splice(z.index,0,B);++i;}});for(;i<s.length;++i){u(s[i].children,j[i].getContentResources(),s[i].nodeProxy&&s[i].nodeProxy.getNodeId());x(s[i],j[i]);}}u(r.fake?r.children:[r],j,0);return v;};G.prototype.destroyScene=function(v){var i;for(i=0;i<this._vkSceneData.length;++i){if(this._vkSceneData[i].vkScene===v){break;}}if(i===this._vkSceneData.length){q.sap.log.warning(\"Scene with id '\"+v.getId()+\"' is not created by this GraphicsCore.\");return this;}var j=this._vkSceneData.splice(i,1)[0];this._destroyShadowContentResource(v,j.shadowContentResource);v.destroy();return this;};G.prototype._registerViewport=function(v){if(this._viewports.indexOf(v)>=0){return false;}this._viewports.push(v);return true;};G.prototype._unregisterViewport=function(v){var i=this._viewports.indexOf(v);if(i<0){return false;}this._viewports.splice(i,1);return true;};G.prototype._getViewportCount=function(){return this._viewports.length;};G.prototype.createViewStateManager=function(n){var v=new V(n);this._viewStateManagers.push(v);return v;};G.prototype.destroyViewStateManager=function(v){var i=this._viewStateManagers.indexOf(v);if(i>=0){this._viewStateManagers.splice(i,1)[0].destroy();}return this;};G.prototype.showDebugInfo=function(i){this._viewports.forEach(function(v){v.setShowDebugInfo(i);});return this;};G.prototype.getApi=function(i){switch(i){case sap.ui.vk.GraphicsCoreApi.LegacyDvl:return this._dvl;default:return null;}};G.prototype.collectGarbage=function(){this._cleanupDvlSceneData();this._cleanupSourceData();return this;};G.prototype._onlocalizationChanged=function(i){if(i.getParameter('changes').language){sap.ui.vk.dvl.checkResult(this._dvl.Core.SetLocale(sap.ui.getCore().getConfiguration().getLanguageTag()));}};G.prototype._isVDS4File=function(i){var j=new Uint8Array(i);var s=String.fromCharCode.apply(null,j.subarray(0,15));return(q.sap.startsWith(s,'SQLite format 3')||q.sap.startsWith(s,'ZV-'));};return G;});\n",
	"sap/ui/vk/InputDeviceMouse.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/EventProvider'],function(q,E){'use strict';var M=E.extend('sap.ui.vk.InputDeviceMouse',{metadata:{publicMethods:['isSupported','enable','disable']},constructor:function(L){this._loco=L;this._buttons=0;this._buttonFlagsValue=0;this._zoomOrigin={x:0,y:0};}});M.prototype._buttonFlags=function(b,d){if(d){this._buttonFlagsValue|=(1<<b);}else{this._buttonFlagsValue&=~(1<<b);}return this._buttonFlagsValue;};M.prototype._eventToInput=function(e,b){var a=(e.buttons!=undefined)?e.buttons:this._buttonFlagsValue;if(b){a=b;}var i={x:0,y:0,z:0,d:0,n:0,buttons:a,scroll:e.wheelDelta,points:[],handled:false};var n=0;switch(a){case 0:case 1:n=1;i.points.push({x:e.pageX,y:e.pageY,z:0});break;case 3:case 4:case 5:n=2;i.points.push({x:e.pageX,y:e.pageY,z:0});i.points.push({x:e.pageX,y:e.pageY,z:0});break;case 2:n=2;i.points.push({x:this._zoomOrigin.x,y:e.pageY,z:0});i.points.push({x:this._zoomOrigin.x,y:e.pageY+(this._zoomOrigin.y-e.pageY)*2,z:0});break;default:n=0;break;}i.n=n;return i;};M.prototype._onmouseup=function(e){this._capturedByControl=true;var b=(e.buttons!=undefined)?e.buttons:this._buttonFlags(e.button,false);if(e._sapui_handledByControl){return;}var i=this._eventToInput(e,this._buttons);this._loco.endGesture(i);if(b==2){this._zoomOrigin.x=e.pageX;this._zoomOrigin.y=e.pageY;}var i=this._eventToInput(e);if(b!=0){i.handled=false;this._loco.beginGesture(i);}this._buttons=b;if(i.handled){e.preventDefault();}e._sapui_handledByControl=true;};M.prototype._onmouseupWindowListener=function(e){if(!this._capturedByControl){this._onmouseup(e);}this._capturedByControl=false;};M.prototype._onmousemove=function(e){var b=(e.buttons!=undefined)?e.buttons:this._buttonFlagsValue;if(e._sapui_handledByControl||b==0){return;}if(sap.ui.Device.os.name===sap.ui.Device.os.OS.MACINTOSH&&e.buttons===2){e.buttons=3;}var i=this._eventToInput(e);this._loco.move(i);if(i.handled){e._sapui_handledByControl=true;e.preventDefault();}};M.prototype._onmousedown=function(e){var b=(e.buttons!=undefined)?e.buttons:this._buttonFlags(e.button,true);if(e._sapui_handledByControl){return;}if(this._buttons!=0){var i=this._eventToInput(e,this._buttons);this._loco.endGesture(i);}if(b==2){this._zoomOrigin.x=e.pageX;this._zoomOrigin.y=e.pageY;}var i=this._eventToInput(e);i.handled=false;this._loco.beginGesture(i);this._prevButtons=b;this._buttons=b;if(i.handled){e._sapui_handledByControl=true;e.preventDefault();}};M.prototype._onmousewheel=function(e){var a=e.originalEvent?e.originalEvent:e;if(a._sapui_handledByControl||this._buttons!=0){return;}this._zoomOrigin.x=a.pageX;this._zoomOrigin.y=a.pageY;var s={pageX:a.pageX,pageY:a.pageY,buttons:2,wheelDelta:a.wheelDelta};var i=this._eventToInput(s);this._loco.beginGesture(i);var d=a.detail?a.detail*(-40):a.wheelDelta;s.pageY-=d/5;i=this._eventToInput(s);i.handled=false;this._loco.move(i);i.handled=false;this._loco.endGesture(i);if(i.handled){a._sapui_handledByControl=true;a.preventDefault();}};M.prototype._oncontextmenu=function(e){var i=this._eventToInput(e);this._loco.contextMenu(i);if(i.handled){e._sapui_handledByControl=true;e.preventDefault();}};M.prototype.isSupported=function(){return true;};M.prototype.enable=function(c){this._buttonFlagsValue=0;this._buttons=0;this._mousedownProxy=this._onmousedown.bind(this);this._mouseupProxy=this._onmouseup.bind(this);this._mousemoveProxy=this._onmousemove.bind(this);this._mousewheelProxy=this._onmousewheel.bind(this);this._contextmenuProxy=this._oncontextmenu.bind(this);this._control=c;var f=(this._control)?this._control.attachBrowserEvent.bind(this._control):window.document.addEventListener;f('mousedown',this._mousedownProxy,false);f('mouseup',this._mouseupProxy,false);f('mousemove',this._mousemoveProxy,false);f('mousewheel',this._mousewheelProxy,false);f('DOMMouseScroll',this._mousewheelProxy,false);f('contextmenu',this._contextmenuProxy,false);window.document.addEventListener('mouseup',this._onmouseupWindowListener.bind(this));};M.prototype.disable=function(){var f=(this._control)?this._control.attachBrowserEvent.bind(this._control):window.document.addEventListener;f('mousedown',this._mousedownProxy);f('mouseup',this._mouseupProxy);f('mousemove',this._mousemoveProxy);f('mousewheel',this._mousewheelProxy);f('DOMMouseScroll',this._mousewheelProxy);f('contextmenu',this._contextmenuProxy);window.document.removeEventListener('mouseup',this._onmouseupWindowListener.bind(this));};return M;},true);\n",
	"sap/ui/vk/InputDevicePointer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/EventProvider','./InputDeviceMouse'],function(q,E,I){'use strict';var P=E.extend('sap.ui.vk.InputDevicePointer',{metadata:{publicMethods:['isSupported','enable','disable']},constructor:function(L){this._loco=L;this._pointerIds=[];this._pointers=[];this._count=0;this._points=0;this._buttons=0;this._mouse=new I(this._loco);}});P.prototype._clearPointers=function(){this._pointerIds=[];this._pointers=[];this._count=0;this._points=0;this._buttons=0;};P.prototype._addPointer=function(i,_,a){if(this._pointerIds[i]==null){this._pointerIds[i]=this._count;}var b=this._pointerIds[i];if(this._pointers.length<=b||this._pointers[b]==null){this._count++;}this._pointers[b]={x:_,y:a};return this._count;};P.prototype._removePointer=function(i){if(this._pointerIds[i]==null){return this._count;}var a=this._pointerIds[i];this._pointerIds[i]=null;if(this._pointers.length>a&&this._pointers[a]!=null){this._count--;}this._pointers[a]=null;return this._count;};P.prototype._eventToInput=function(e){var a={x:0,y:0,z:0,d:0,n:this._count,buttons:0,scroll:0,points:[],handled:false};var t=this._pointers;var l=t.length;for(var i=0;i<l;i++){var b=t[i];if(b!=null){a.points.push({x:b.x,y:b.y,z:0});}}return a;};P.prototype._onpointerdown=function(e){var a=e.originalEvent?e.originalEvent:e;if(a.pointerType!='touch'&&a.pointerType!='pen'){this._buttons=a.buttons;this._mouse._onmousedown(a);return;}if(a.isPrimary){this._clearPointers();}this._addPointer(a.pointerId,a.pageX,a.pageY);a.target.setPointerCapture(a.pointerId);var i=this._eventToInput(a);if(this._points!=0&&this._points!=i.n){this._loco.endGesture(i);}this._points=i.n;i.handled=false;this._loco.beginGesture(i);if(i.handled){a._sapui_handledByControl=true;a.preventDefault();}else{this._removePointer(a.pointerId);}};P.prototype._onpointerup=function(e){this._capturedByControl=true;var a=e.originalEvent?e.originalEvent:e;if(a.pointerType!='touch'&&a.pointerType!='pen'){this._buttons=0;this._mouse._onmouseup(a);return;}this._removePointer(a.pointerId);a.target.releasePointerCapture(a.pointerId);var i=this._eventToInput(a);this._loco.endGesture(i);if(i.n!=0&&this._points!=i.n){i.handled=false;this._loco.beginGesture(i);}this._points=i.n;if(i.handled){a._sapui_handledByControl=true;a.preventDefault();}};P.prototype._onpointerupWindowListener=function(e){if(!this._capturedByControl){this._onpointerup(e);}this._capturedByControl=false;};P.prototype._onpointermove=function(e){if(e.buttons!==0){var a=e.originalEvent?e.originalEvent:e;if(a.pointerType!='touch'&&a.pointerType!='pen'){if(this._buttons!=a.buttons){this._mouse._onmousedown(a);this._buttons=a.buttons;}else{this._mouse._onmousemove(a);}return;}this._addPointer(a.pointerId,a.pageX,a.pageY);var i=this._eventToInput(a);if(this._points!=i.n){this._loco.endGesture(i);i.handled=false;this._loco.beginGesture(i);this._points=i.n;}else{this._loco.move(i);}if(i.handled){a._sapui_handledByControl=true;a.preventDefault();}}};P.prototype.isSupported=function(){return false;};P.prototype.enable=function(c){this._pointerIds=[];this._pointers=[];this._points=0;this._count=0;this._buttons=0;this._mouse._buttons=0;this._pointerdownProxy=this._onpointerdown.bind(this);this._pointerupProxy=this._onpointerup.bind(this);this._pointermoveProxy=this._onpointermove.bind(this);this._mousewheelProxy=this._mouse._onmousewheel.bind(this._mouse);this._contextmenuProxy=this._mouse._oncontextmenu.bind(this._mouse);this._control=c;this._mouse._control=c;var f=(this._control)?this._control.attachBrowserEvent.bind(this._control):window.document.addEventListener;f('pointerdown',this._pointerdownProxy,false);f('pointerup',this._pointerupProxy,false);f('pointermove',this._pointermoveProxy,false);f('mousewheel',this._mousewheelProxy,false);f('DOMMouseScroll',this._mousewheelProxy,false);f('contextmenu',this._contextmenuProxy,false);window.document.addEventListener('pointerup',this._onpointerupWindowListener.bind(this));};P.prototype.disable=function(){var f=(this._control)?this._control.attachBrowserEvent.bind(this._control):window.document.addEventListener;f('pointerdown',this._pointerdownProxy);f('pointerup',this._pointerupProxy);f('pointermove',this._pointermoveProxy);f('mousewheel',this._mousewheelProxy);f('DOMMouseScroll',this._mousewheelProxy);f('contextmenu',this._contextmenuProxy);window.document.removeEventListener('pointerup',this._onpointerupWindowListener.bind(this));};return P;},true);\n",
	"sap/ui/vk/InputDeviceSAPUI5.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/EventProvider'],function(q,E){'use strict';var T=E.extend('sap.ui.vk.InputDeviceSAPUI5',{metadata:{publicMethods:['isSupported','enable','disable']},constructor:function(L){this._loco=L;this._points=0;}});T.prototype._eventToInput=function(e){var a={x:0,y:0,z:0,d:0,n:e.touches.length,buttons:0,scroll:0,points:[],handled:false};for(var i=0;i<a.n;i++){var b=e.touches[i];a.points.push({x:b.pageX,y:b.pageY,z:0});}return a;};T.prototype._ontouchdown=function(e){var i=this._eventToInput(e);if(this._points!=0&&this._points!=i.n){this._loco.endGesture(i);}this._points=i.n;i.handled=false;this._loco.beginGesture(i);if(i.handled){e._sapui_handledByControl=true;e.preventDefault();}};T.prototype._ontouchup=function(e){var i=this._eventToInput(e);this._loco.endGesture(i);this._points=0;if(i.handled){e._sapui_handledByControl=true;e.preventDefault();}};T.prototype._ontouchmove=function(e){var i=this._eventToInput(e);if(this._points!=i.n){this._loco.endGesture(i);i.handled=false;this._loco.beginGesture(i);this._points=i.n;}else{this._loco.move(i);}if(i.handled){e._sapui_handledByControl=true;e.preventDefault();}};T.prototype.isSupported=function(){return typeof window.ontouchstart!=='undefined';};T.prototype.enable=function(c){this._points=0;this._touchdownProxy=this._ontouchdown.bind(this);this._touchupProxy=this._ontouchup.bind(this);this._touchmoveProxy=this._ontouchmove.bind(this);this._control=c;if(!this._control){return;}c.attachBrowserEvent('saptouchstart',this._touchdownProxy,false);c.attachBrowserEvent('saptouchend',this._touchupProxy,false);c.attachBrowserEvent('saptouchmove',this._touchmoveProxy,false);c.attachBrowserEvent('touchstart',this._touchdownProxy,false);c.attachBrowserEvent('touchend',this._touchupProxy,false);c.attachBrowserEvent('touchmove',this._touchmoveProxy,false);};T.prototype.disable=function(){if(!this._control){return;}this._control.detachBrowserEvent('saptouchstart',this._touchdownProxy,false);this._control.detachBrowserEvent('saptouchend',this._touchupProxy,false);this._control.detachBrowserEvent('saptouchmove',this._touchmoveProxy,false);this._control.detachBrowserEvent('touchstart',this._touchdownProxy,false);this._control.detachBrowserEvent('touchend',this._touchupProxy,false);this._control.detachBrowserEvent('touchmove',this._touchmoveProxy,false);};return T;},true);\n",
	"sap/ui/vk/InputDeviceTouch.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/EventProvider'],function(q,E){'use strict';var T=E.extend('sap.ui.vk.InputDeviceTouch',{metadata:{publicMethods:['isSupported','enable','disable']},constructor:function(L){this._loco=L;this._points=0;}});T.prototype._eventToInput=function(e){var a={x:0,y:0,z:0,d:0,n:e.touches.length,buttons:0,scroll:0,points:[],handled:false};for(var i=0;i<a.n;i++){var b=e.touches[i];a.points.push({x:b.pageX,y:b.pageY,z:0});}return a;};T.prototype._ontouchdown=function(e){var i=this._eventToInput(e);if(this._points!=0&&this._points!=i.n){this._loco.endGesture(i);}this._points=i.n;i.handled=false;this._loco.beginGesture(i);if(i.handled){e._sapui_handledByControl=true;e.preventDefault();}};T.prototype._ontouchup=function(e){var i=this._eventToInput(e);this._loco.endGesture(i);this._points=0;if(i.handled){e._sapui_handledByControl=true;e.preventDefault();}};T.prototype._ontouchmove=function(e){var i=this._eventToInput(e);if(this._points!=i.n){this._loco.endGesture(i);i.handled=false;this._loco.beginGesture(i);this._points=i.n;}else{this._loco.move(i);}if(i.handled){e._sapui_handledByControl=true;e.preventDefault();}};T.prototype.isSupported=function(){return typeof window.ontouchstart!=='undefined';};T.prototype.enable=function(c){this._points=0;this._touchdownProxy=this._ontouchdown.bind(this);this._touchupProxy=this._ontouchup.bind(this);this._touchmoveProxy=this._ontouchmove.bind(this);this._control=c;var f=(this._control)?this._control.attachBrowserEvent.bind(this._control):window.document.addEventListener;f('touchstart',this._touchdownProxy,false);f('touchend',this._touchupProxy,false);f('touchmove',this._touchmoveProxy,false);};T.prototype.disable=function(){var f=(this._control)?this._control.attachBrowserEvent.bind(this._control):window.document.addEventListener;f('touchstart',this._touchdownProxy);f('touchend',this._touchupProxy);f('touchmove',this._touchmoveProxy);};return T;},true);\n",
	"sap/ui/vk/LayerProxy.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/base/ManagedObject'],function(q,l,M){'use strict';var g=sap.ui.vk.dvl.getJSONObject;var L=M.extend('sap.ui.vk.LayerProxy',{metadata:{properties:{layerId:'string',veIds:'object[]',name:'string',description:'string',layerMetadata:'object'}},constructor:function(n,a){M.call(this);this._dvl=n?n.getGraphicsCore()._getDvl():null;this._dvlSceneId=n?n._getDvlSceneId():null;this._dvlLayerId=a;}});L.prototype.destroy=function(){this._dvlLayerId=null;this._dvlSceneId=null;this._dvl=null;M.prototype.destroy.call(this);};L.prototype.getLayerId=function(){return this._dvlLayerId;};L.prototype.getVeIds=function(){return g(this._dvl.Scene.RetrieveVEIDs(this._dvlSceneId,this._dvlLayerId));};L.prototype.getName=function(){return g(this._dvl.Scene.RetrieveLayerInfo(this._dvlSceneId,this._dvlLayerId)).name;};L.prototype.getDescription=function(){return g(this._dvl.Scene.RetrieveLayerInfo(this._dvlSceneId,this._dvlLayerId)).description;};L.prototype.getLayerMetadata=function(){return g(this._dvl.Scene.RetrieveMetadata(this._dvlSceneId,this._dvlLayerId)).metadata;};L.prototype.getNodes=function(){return g(this._dvl.Scene.RetrieveLayerInfo(this._dvlSceneId,this._dvlLayerId)).nodes;};delete L.prototype.setDescription;delete L.prototype.setLayerId;delete L.prototype.setLayerMetadata;delete L.prototype.setName;delete L.prototype.setVeIds;return L;});\n",
	"sap/ui/vk/LegendItem.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['./library','sap/m/StandardListItem'],function(l,S){'use strict';var L=S.extend('sap.ui.vk.LegendItem',{metadata:{library:'sap.ui.vk',properties:{color:{type:'sap.ui.core.CSSColor',group:'Appearance',defaultValue:null},semanticSpotType:{type:'sap.ui.vbm.SemanticType',group:'Behavior',defaultValue:null}},aggregations:{}}});return L;});\n",
	"sap/ui/vk/LegendItemRenderer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['sap/m/StandardListItemRenderer','sap/ui/core/Renderer'],function(B,R){'use strict';var L=R.extend(B);L.renderLIContent=function(r,c){var s=c.getColor();var t=c.getSemanticSpotType();var i=null;if(s){r.write('<span');r.addClass('sapUiVkLegendItemSquare');r.addStyle('background-color',s);r.writeStyles();r.writeClasses();r.write('>');r.write('</span>');}if(t){switch(t){case sap.ui.vbm.SemanticType.Error:i=sap.ui.resource('sap.ui.vbm','themes/base/img/Pin_Red.png');break;case sap.ui.vbm.SemanticType.Warning:i=sap.ui.resource('sap.ui.vbm','themes/base/img/Pin_Orange.png');break;case sap.ui.vbm.SemanticType.Success:i=sap.ui.resource('sap.ui.vbm','themes/base/img/Pin_Green.png');break;case sap.ui.vbm.SemanticType.Default:i=sap.ui.resource('sap.ui.vbm','themes/base/img/Pin_Blue.png');break;case sap.ui.vbm.SemanticType.Inactive:i=sap.ui.resource('sap.ui.vbm','themes/base/img/Pin_Grey.png');break;default:break;}if(i){c.addStyleClass('sapUiVkLegendItemSpotType');c.setIcon(i);}}B.renderLIContent(r,c);};return L;},true);\n",
	"sap/ui/vk/ListPanel.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['./library','sap/ui/core/Control','sap/m/library'],function(l,C,m){'use strict';var L=C.extend('sap.ui.vk.ListPanel',{metadata:{library:'sap.ui.vk',properties:{'headerText':{type:'string',group:'Misc'},'headerIcon':{type:'sap.ui.core.URI',group:'Misc'},'expanded':{type:'boolean',group:'Misc',defaultValue:true},'expandAnimation':{type:'boolean',group:'Misc',defaultValue:true},'selectionMode':{type:'sap.m.ListMode',group:'Misc',defaultValue:sap.m.ListMode.MultiSelect}},aggregations:{'items':{type:'sap.m.ListItemBase',multiple:true,singularName:'item'},'panel':{type:'sap.m.Panel',multiple:false,visibility:'hidden'}},events:{headerIconPress:{},expand:{},selectionChange:{parameters:{listItem:{type:'sap.m.ListItemBase'},listItems:{type:'sap.m.ListItemBase[]'},selected:{type:'boolean'}}},itemPress:{parameters:{listItem:{type:'sap.m.ListItemBase'},srcControl:{type:'sap.ui.core.Control'}}}}}});L.prototype.getSelectedItem=function(){return this._oList.getSelectedItem();};L.prototype.setSelectedItem=function(o,s,f){this._oList.setSelectedItem(o,s,f);};L.prototype.getSelectedItems=function(){return this._oList.getSelectedItems();};L.prototype.init=function(){this._oList=new sap.m.ListBase({mode:this.getSelectionMode(),itemPress:this.fireItemPress.bind(this),selectionChange:this.fireSelectionChange.bind(this)});this._oPanel=new sap.m.Panel({expandable:true,expanded:true,expandAnimation:true,headerToolbar:new sap.m.Toolbar({active:true,press:this._onHeaderToolbarPress.bind(this)}),content:[this._oList],expand:this.fireExpand.bind(this)});this._oPanel.getHeaderToolbar().addStyleClass('sapUiVkLPTb');this.setAggregation('panel',this._oPanel,true);this._oHeaderIcon=null;this._oHeaderText=null;this._bHeaderToolbarChanged=true;};L.prototype.exit=function(){this._destroyControl(this._oList);this._destroyControl(this._oPanel);this._destroyControl(this._oHeaderIcon);this._destroyControl(this._oHeaderText);};L.prototype.getItems=function(){return this._oList.getItems();};L.prototype.addItem=function(o){return this._oList.addItem(o);};L.prototype.insertItem=function(o,i){return this._oList.insertItem(o,i);};L.prototype.removeItem=function(o){return this._oList.removeItem(o);};L.prototype.removeAllItems=function(){return this._oList.removeAllItems();};L.prototype.setHeaderText=function(v){if(!this._oHeaderText){this._oHeaderText=new sap.m.Title();}this._oHeaderText.setText(v);this._bHeaderToolbarChanged=true;return this.setProperty('headerText',v);};L.prototype.getExpanded=function(){return this._oPanel.getExpanded();};L.prototype.setExpanded=function(v){return this._oPanel.setExpanded(v);};L.prototype.getExpandAnimation=function(){return this._oPanel.getExpandAnimation();};L.prototype.setExpandAnimation=function(v){return this._oPanel.setExpandAnimation(v);};L.prototype.setHeaderIcon=function(v){if(!this._oHeaderIcon){this._oHeaderIcon=new sap.m.Button({press:this.fireHeaderIconPress.bind(this),type:sap.m.ButtonType.Transparent});}this._oHeaderIcon.setIcon(v);this._bHeaderToolbarChanged=true;return this.setProperty('headerIcon',v);};L.prototype.setSelectionMode=function(v){this._oList.setMode(v);return this.setProperty('selectionMode',v);};L.prototype.onBeforeRendering=function(){if(this._bHeaderToolbarChanged){var t=this._oPanel.getHeaderToolbar();t.removeAllContent();if(this._oHeaderIcon){t.addContent(this._oHeaderIcon);}if(this._oHeaderText){t.addContent(this._oHeaderText);}this._bHeaderToolbarChanged=false;}};L.prototype._destroyControl=function(c){if(c){c.destroy();c=undefined;}};L.prototype._onHeaderToolbarPress=function(e){this._oPanel.setExpanded(!this._oPanel.getExpanded());};return L;});\n",
	"sap/ui/vk/ListPanelRenderer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(function(){'use strict';var L={};L.render=function(r,c){var p=c._oPanel;p.addStyleClass('sapUiVkListPanel');r.write('<div');r.writeControlData(c);r.write('>');r.renderControl(p);r.write('</div>');};return L;},true);\n",
	"sap/ui/vk/ListPanelStack.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['./library','sap/ui/core/Control','sap/ui/layout/library'],function(l,C,a){'use strict';var L=C.extend('sap.ui.vk.ListPanelStack',{metadata:{library:'sap.ui.vk',properties:{'width':{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:'100%'},'expanded':{type:'boolean',group:'Misc',defaultValue:true},'expandAnimation':{type:'boolean',group:'Misc',defaultValue:true},'collapsible':{type:'boolean',group:'Misc',defaultValue:true}},aggregations:{'content':{type:'sap.ui.vk.ListPanel',multiple:true,singularName:'content'},'layout':{type:'sap.ui.layout.VerticalLayout',multiple:false,visibility:'hidden'}}}});L.prototype.init=function(){this._oLayout=new sap.ui.layout.VerticalLayout();this._oLayout.addStyleClass('sapUiVkLPSTrans');this.setAggregation('layout',this._oLayout,true);this._bFirstTime=true;};L.prototype.exit=function(){if(this._oLayout){this._oLayout.destroy();this._oLayout=undefined;}};L.prototype.getContent=function(){return this._oLayout.getContent();};L.prototype.addContent=function(o){o.attachExpand(this._onContentExpand.bind(this));o.attachHeaderIconPress(this._onContentHeaderIconPress.bind(this));return this._oLayout.addContent(o);};L.prototype.removeContent=function(o){return this._oLayout.removeContent(o);};L.prototype.insertContent=function(o,i){return this._oLayout.insertContent(o,i);};L.prototype.removeAllContent=function(){return this._oLayout.removeAllContent();};L.prototype.getWidth=function(){return this._oLayout.getWidth();};L.prototype.setWidth=function(v){this.setProperty('width',v,true);return this._oLayout.setWidth(v);};L.prototype.setExpanded=function(v){if(v!=this.getExpanded()){if(v){this._expand();}else{this._collapse();}}return this;};L.prototype.setExpandAnimation=function(v){this._oLayout.removeStyleClass('sapUiVkLPSTrans');if(v){this._oLayout.addStyleClass('sapUiVkLPSTrans');}return this.setProperty('expandAnimation',v,true);};L.prototype.onBeforeRendering=function(){if(this._bFirstTime){var e=false;var c=this.getContent();for(var i=0;i<c.length;++i){if(c[i].getExpanded()){e=true;}}this.setExpanded(e);this._bFirstTime=false;}};L.prototype.onAfterRendering=function(){if(!this.getExpanded()){this._updateCollapsedLayoutWidth();}};L.prototype._onContentExpand=function(e){var b=false;var c=this._oLayout.getContent();for(var i=0;i<c.length;++i){if(c[i].getExpanded()){b=true;}}this.setExpanded(b);};L.prototype._onContentHeaderIconPress=function(e){var b=e.oSource.getExpanded()?false:true;e.oSource.setExpanded(b);var E=false;var c=this._oLayout.getContent();for(var i=0;i<c.length;++i){if(c[i].getExpanded()){E=true;break;}}this.setExpanded(E);};L.prototype._expand=function(){this._oLayout.removeStyleClass('sapUiVkLPSCollapse');this._oLayout.setWidth(this.getProperty('width'));this.setProperty('expanded',true,true);};L.prototype._collapse=function(){if(!this.getCollapsible()){return;}var c=this.getContent();for(var i=0;i<c.length;++i){c[i].setExpanded(false);}this._oLayout.addStyleClass('sapUiVkLPSCollapse');this._updateCollapsedLayoutWidth();this.setProperty('expanded',false,true);};L.prototype._updateCollapsedLayoutWidth=function(){if(this._oLayout.$().closest('.sapUiSizeCompact').length===0){this._oLayout.setWidth('3rem');}else{this._oLayout.setWidth('2.5rem');}};return L;});\n",
	"sap/ui/vk/ListPanelStackRenderer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(function(){'use strict';var L={};L.render=function(r,c){c._oLayout.addStyleClass('sapUiVkListPanelStack');r.renderControl(c._oLayout);};return L;},true);\n",
	"sap/ui/vk/Loco.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/EventProvider','./InputDevicePointer','./InputDeviceMouse','./InputDeviceTouch'],function(q,E,I,a,b){'use strict';var L=E.extend('sap.ui.vk.Loco',{metadata:{publicMethods:['addHandler','removeHandler','beginGesture','move','endGesture','contextMenu']},constructor:function(){if(L._instance){return L._instance;}E.apply(this);this._handlers=[];this._gesture=false;this._touchOrigin={x:0,y:0,z:0};this._touchMoved=false;this._touchButton=0;this._touchStart=0;this._touchEnd=0;this._clickTimer=0;this._isDoubleClick=false;L._instance=this;}});L.prototype.destroy=function(){this._gesture=false;this._handlers=[];};L.prototype.addHandler=function(h){this._handlers.push(h);var v=h.getViewport();var p=new I(this);if(p.isSupported()){p.enable(v);v._pointer=p;}else{var m=new a(this);if(m.isSupported()){m.enable(v);v._mouse=m;}var t=new b(this);if(t.isSupported()){t.enable(v);v._touch=t;}}};L.prototype.removeHandler=function(c){var h=this._handlers;var d=h.length;var v=c.getViewport();for(var i=d-1;i>=0;i--){if(h[i]==c){h.splice(i,1);if(v._pointer){v._pointer.disable();v._pointer=null;}if(v._touch){v._touch.disable();v._touch=null;}if(v._mouse){v._mouse.disable();v._mouse=null;}break;}}};L.prototype._processClick=function(d){this._clickTimer=0;var e={x:0,y:0,z:0,d:0,n:0,buttons:0,scrolls:[],points:[],handled:false};e.x=this._touchOrigin.x;e.y=this._touchOrigin.y;e.z=this._touchOrigin.z;e.buttons=this._touchButton;var h=this._handlers;var c=h.length;for(var i=c-1;i>=0;i--){if(d){var n=h[i]._viewport.getId();var p=/-nativeViewport$/.test(n)?n.replace(/-nativeViewport$/,''):null;var f=sap.ui.getCore().byId(p);if(!f||!f.getOverlay()||!(typeof f.getOverlay().mIACreateCB==='function')){h[i].doubleClick(e);}}else{h[i].click(e);}if(e.handled){break;}}};L.prototype._processInput=function(e){var c=e.points;switch(e.n){case 0:e.x=0;e.y=0;e.z=0;e.d=0;break;case 2:var d=c[0].x-c[1].x,f=c[0].y-c[1].y,g=c[0].z-c[1].z;e.x=(c[0].x+c[1].x)/2;e.y=(c[0].y+c[1].y)/2;e.z=(c[0].z+c[1].z)/2;e.d=Math.sqrt(d*d+f*f+g*g);break;default:e.x=c[0].x;e.y=c[0].y;e.z=c[0].z;e.d=0;break;}return e;};L.prototype.beginGesture=function(e){if(this._gesture){return;}if(this._clickTimer>0){clearTimeout(this._clickTimer);this._clickTimer=0;this._isDoubleClick=true;if(e.n==1&&e.buttons<=1&&this._touchButton<=1){this._processClick(true);}}this._processInput(e);var h=this._handlers;var c=h.length;for(var i=c-1;i>=0;i--){h[i].beginGesture(e);if(e.handled){break;}}var n=new Date();this._touchStart=n.getTime();this._touchMoved=false;this._gesture=true;this._touchOrigin.x=e.x;this._touchOrigin.y=e.y;this._touchOrigin.z=e.z;this._touchButton=e.buttons;if(this._touchEnd!=0&&this._touchStart-this._touchEnd<50){this._touchMoved=true;}};L.prototype.move=function(e){if(!this._gesture){return;}this._processInput(e);var h=this._handlers;var c=h.length;for(var i=c-1;i>=0;i--){h[i].move(e);if(e.handled){break;}}var d=this._touchOrigin.x-e.x;var f=this._touchOrigin.y-e.y;var g=this._touchOrigin.z-e.z;if((d*d+f*f+g*g)>8){this._touchMoved=true;}};L.prototype.endGesture=function(e){if(!this._gesture){return;}this._processInput(e);var h=this._handlers;var c=h.length;for(var i=c-1;i>=0;i--){h[i].endGesture(e);if(e.handled){break;}}var n=new Date();this._touchEnd=n.getTime();if(!this._touchMoved&&!this._isDoubleClick&&(this._touchEnd-this._touchStart)<2000){this._clickTimer=setTimeout(function(t){t._processClick(false);},200,this);}this._isDoubleClick=false;this._gesture=false;};L.prototype.contextMenu=function(e){this._processInput(e);var h=this._handlers;var c=h.length;for(var i=c-1;i>=0;i--){h[i].contextMenu(e);if(e.handled){break;}}};return L;},true);\n",
	"sap/ui/vk/MapContainer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/vk/ContainerBase','sap/ui/core/IconPool','sap/ui/vbm/lib/sapvbi','sap/ui/Device'],function(q,l,C,I,s,D){'use strict';var M=C.extend('sap.ui.vk.MapContainer',{metadata:{library:'sap.ui.vk',properties:{'showNavbar':{type:'boolean',group:'Misc',defaultValue:true},'showHome':{type:'boolean',group:'Misc',defaultValue:true},'showRectangularZoom':{type:'boolean',group:'Misc',defaultValue:true},'showZoom':{type:'boolean',group:'Misc',defaultValue:true}},aggregations:{'listPanelStack':{type:'sap.ui.vk.ListPanelStack',multiple:false},'scrollCont':{type:'sap.m.ScrollContainer',multiple:false,visibility:'hidden'}},associations:{},events:{}}});M.prototype.init=function(){C.prototype.init.apply(this,arguments);var m=new sap.ui.model.json.JSONModel();m.setData({rectZoom:false});this.setModel(m,'rectZoom');this._oNavbar=new sap.m.Toolbar({width:'auto'});this._oScrollCont=new sap.m.ScrollContainer({height:'100%',horizontal:false,vertical:true,focusable:false});this.setAggregation('scrollCont',this._oScrollCont,true);this._oHomeButton=new sap.m.Button({icon:'sap-icon://home',type:sap.m.ButtonType.Transparent,tooltip:sap.ui.vk.getResourceBundle().getText('MAPCONTAINER_HOME'),press:this._onNavbarHome.bind(this)});this._oRectZoomButton=new sap.m.ToggleButton({icon:'sap-icon://draw-rectangle',type:sap.m.ButtonType.Transparent,pressed:'{rectZoom>/rectZoom}',tooltip:sap.ui.vk.getResourceBundle().getText('MAPCONTAINER_RECT_ZOOM')}).setModel(m,'rectZoom');this._oZoomInButton=new sap.m.Button({icon:'sap-icon://add',type:sap.m.ButtonType.Transparent,tooltip:sap.ui.vk.getResourceBundle().getText('MAPCONTAINER_ZOOMIN'),press:this._onNavbarZoomIn.bind(this)});this._oZoomOutButton=new sap.m.Button({icon:'sap-icon://less',type:sap.m.ButtonType.Transparent,tooltip:sap.ui.vk.getResourceBundle().getText('MAPCONTAINER_ZOOMOUT'),press:this._onNavbarZoomOut.bind(this)});if(D.system.phone){this._oMenuOpenButton=new sap.m.Button({layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}),icon:'sap-icon://menu2',type:sap.m.ButtonType.Transparent,tooltip:sap.ui.vk.getResourceBundle().getText('CONTAINERBASE_MENU'),press:function(){this._bSegmentedButtonSaveSelectState=true;this._showListPanelStack();}.bind(this)});this._oMenuCloseButton=new sap.m.Button({type:sap.m.ButtonType.Transparent,icon:'sap-icon://nav-back',press:function(){this._bSegmentedButtonSaveSelectState=true;this._hideListPanelStack();}.bind(this)});}};M.prototype.exit=function(){if(this._oNavbar){this._oNavbar.destroy();this._oNavbar=undefined;}if(this._oScrollCont){this._oScrollCont.destroy();this._oScrollCont=undefined;}C.prototype.exit.apply(this,arguments);};M.prototype.getListPanelStack=function(){return this._oScrollCont.getContent()[0];};M.prototype.setListPanelStack=function(p){if(D.system.phone){p.setCollapsible(false);p.setWidth('100%');}this._oScrollCont.removeAllContent();return this._oScrollCont.addContent(p);};M.prototype.onBeforeRendering=function(){C.prototype.onBeforeRendering.apply(this,arguments);this._oNavbar.removeAllContent();var c=this.getSelectedContent();if(c!==null){var a=c.getContent();this._isInstanceGeoAnalytic=a instanceof sap.ui.vbm.GeoMap||a instanceof sap.ui.vbm.AnalyticMap;if(this._isInstanceGeoAnalytic){if(this.getShowHome()){this._oNavbar.addContent(this._oHomeButton);}if(!D.system.phone&&this.getShowRectangularZoom()){this._oNavbar.addContent(this._oRectZoomButton);}if(this.getShowZoom()){this._oNavbar.addContent(this._oZoomInButton);this._oNavbar.addContent(this._oZoomOutButton);}this._shouldRenderListPanel=true;}else{this._shouldRenderListPanel=false;}}};M.prototype.onAfterRendering=function(){if(D.system.phone){var L=document.getElementById(this.getId()+'-LPW');this.getDomRef().appendChild(L);}C.prototype.onAfterRendering.apply(this,arguments);};M.prototype.setSelectedContent=function(c){var o;if(this._oSelectedContent){if((o=this._oSelectedContent.getContent())instanceof sap.ui.vbm.GeoMap){o.unbindProperty('rectZoom','rectZoom>/rectZoom');}}C.prototype.setSelectedContent.apply(this,arguments);var n=this._oSelectedContent.getContent();if(n instanceof sap.ui.vbm.GeoMap){n.bindProperty('rectZoom','rectZoom>/rectZoom');}};M.prototype._addToolbarContent=function(){if(D.system.phone){this._oToolbar.addContent(this._oMenuOpenButton);}C.prototype._addToolbarContent.apply(this,arguments);};M.prototype._onNavbarZoomIn=function(e){var c=this.getSelectedContent().getContent();if(c.getZoomlevel&&c.setZoomlevel&&c.setEnableAnimation){c.setEnableAnimation(true);c.setZoomlevel(c.getZoomlevel()+1);}};M.prototype._onNavbarZoomOut=function(e){var c=this.getSelectedContent().getContent();if(c.getZoomlevel&&c.setZoomlevel&&c.setEnableAnimation){c.setEnableAnimation(true);c.setZoomlevel(c.getZoomlevel()-1);}};M.prototype._onNavbarHome=function(e){var c=this.getSelectedContent().getContent();if(c.goToStartPosition){c.goToStartPosition();}};M.prototype._showListPanelStack=function(){q('#'+this.getId()+'-LPW').addClass('sapUiVkMapContainerLPWIn');q('#'+this.getId()+'-wrapper').addClass('sapUiVkMapContainerMapOut');};M.prototype._hideListPanelStack=function(){q('#'+this.getId()+'-LPW').removeClass('sapUiVkMapContainerLPWIn');q('#'+this.getId()+'-wrapper').removeClass('sapUiVkMapContainerMapOut');};return M;});\n",
	"sap/ui/vk/MapContainerRenderer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['./ContainerBaseRenderer','sap/ui/core/Renderer','sap/ui/Device'],function(B,R,D){'use strict';var M=R.extend(B);M.render=function(r,c){c.addStyleClass('sapUiVkMapContainer');B.render.apply(this,arguments);};M.writeToolbarArea=function(r,c){r.write('<div');r.addClass('sapUiVkMapContainerOverlay');r.writeClasses();r.write('>');if(c.getShowNavbar()){r.write('<div');r.addClass('sapUiVkMapContainerNavbarArea');r.writeClasses();r.write('>');r.renderControl(c._oNavbar);r.write('</div>');}if(!D.system.phone&&c._shouldRenderListPanel){c._oScrollCont.addStyleClass('sapUiVkMapContainerListPanelArea');r.renderControl(c._oScrollCont);}B.writeToolbarArea(r,c);r.write('</div>');if(D.system.phone){r.write('<div id='+c.getId()+'-LPW');r.addClass('sapUiVkMapContainerLPW');r.writeClasses();r.write('>');r.renderControl(c._oMenuCloseButton);c._oScrollCont.addStyleClass('sapUiVkMapContainerListPanelArea');r.renderControl(c._oScrollCont);r.write('</div>');}};return M;},true);\n",
	"sap/ui/vk/Messages.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/ManagedObject'],function(q,M){'use strict';var a=M.extend('sap.ui.vk.Messages',{metadata:{library:'sap.ui.vk'}});a.prototype.init=function(){this.messages={VIT1:{summary:'NATIVEVIEWPORT_MSG_NOTBELOADED_SUMMARY',cause:'NATIVEVIEWPORT_MSG_NOTBELOADED_NOTFOUND_CAUSE',resolution:'NATIVEVIEWPORT_MSG_NOTBELOADED_NOTFOUND_CHECKEXISTS_RESOLUTION',code:'VIT1'},VIT2:{summary:'NATIVEVIEWPORT_MSG_NOTBELOADED_SUMMARY',cause:'NATIVEVIEWPORT_MSG_NOTBELOADED_NOTFOUND_CAUSE',resolution:'NATIVEVIEWPORT_MSG_NOTBELOADED_NOTFOUND_CHECKEXISTS_RESOLUTION',code:'VIT2'},VIT3:{summary:'NATIVEVIEWPORT_MSG_NOTBELOADED_SUMMARY',cause:'NATIVEVIEWPORT_MSG_NOTBELOADED_UNSUPPORTEDFILEFORMAT_CAUSE',resolution:'NATIVEVIEWPORT_MSG_NOTBELOADED_UNSUPPORTEDFILEFORMAT_CHECKFILEFORMAT_RESOLUTION',code:'VIT3'},VIT4:{summary:'NATIVEVIEWPORT_MSG_NOTBELOADED_SUMMARY',cause:'NATIVEVIEWPORT_MSG_NOTBELOADED_UNSUPPORTEDFILEFORMAT_CAUSE',resolution:'NATIVEVIEWPORT_MSG_NOTBELOADED_UNSUPPORTEDFILEFORMAT_CHECKFILEFORMAT_RESOLUTION',code:'VIT4'},VIT5:{summary:'DOWNLOADMANAGER_MSG_NOTBELOADED_SUMMARY',cause:'DOWNLOADMANAGER_MSG_NOTBELOADED_VALUESOURCEUNSUPPORTED_CAUSE',resolution:'DOWNLOADMANAGER_MSG_NOTBELOADED_VALUESOURCEUNSUPPORTED_CHECKSOURCEISURLORFILE_RESOLUTION',code:'VIT5'},VIT6:{summary:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_SUMMARY',cause:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_INVALIDQUERY_CAUSE',resolution:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_INVALIDQUERY_SPECIFYVALUEPROPERTY_RESOLUTION',code:'VIT6'},VIT7:{summary:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_SUMMARY',cause:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_PREDICATENOTSPECIFIED_CAUSE',resolution:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_PREDICATENOTSPECIFIED_SPECIFYPREDICATE_RESOLUTION',code:'VIT7'},VIT8:{summary:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_SUMMARY',cause:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_INCORRECTPREDICATEVALUE_CAUSE',resolution:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_INCORRECTPREDICATEVALUE_INVALIDPREDICATE_RESOLUTION',code:'VIT8'},VIT9:{summary:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_SUMMARY',cause:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_INCORRECTPREDICATEVALUE_CAUSE',resolution:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_INCORRECTPREDICATEVALUE_INVALIDPREDICATE_RESOLUTION',code:'VIT9'},VIT10:{summary:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_SUMMARY',cause:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_NOMETADATASPECIFIED_CAUSE',resolution:'NODEHIERARCHY_MSG_COULDNOTSEARCHNODES_NOMETADATASPECIFIED_SPECIFYMETADATACATEGORY_RESOLUTION',code:'VIT10'},VIT11:{summary:'OVERLAY_MSG_EVENTHANDLERFAILED_SUMMARY',cause:'OVERLAY_MSG_EVENTHANDLERFAILED_UNSUPPORTEDEVENTTYPE_CAUSE',resolution:'OVERLAY_MSG_EVENTHANDLERFAILED_UNSUPPORTEDEVENTTYPE_CHECKEVENTTYPE_RESOLUTION',code:'VIT11'},VIT12:{summary:'STEPNAVIGATION_MSG_STEPCOULDNOTBEPLAYED_SUMMARY',cause:'STEPNAVIGATION_MSG_STEPCOULDNOTBEPLAYED_INCORRECTSTEPEVENTTYPE_CAUSE',resolution:'STEPNAVIGATION_MSG_STEPCOULDNOTBEPLAYED_INCORRECTSTEPEVENTTYPE_CHECKSTEPEVENTTYPEVALUE_RESOLUTION',code:'VIT12'},VIT13:{summary:'VIEWER_MSG_CONTENTRESOURCESNOTLOADED_SUMMARY',cause:'VIEWER_MSG_CONTENTRESOURCESNOTLOADED_NONEXISTINGORUNSUPPORTEDFILE_CAUSE',resolution:'VIEWER_MSG_CONTENTRESOURCESNOTLOADED_NONEXISTINGORUNSUPPORTEDFILE_CHECKFILEEXISTSANDIFSUPPORT_RESOLUTION',code:'VIT13'},VIT14:{summary:'VIEWER_MSG_FAILEDTOBUILDSCENE_SUMMARY',cause:'VIEWER_MSG_FAILEDTOBUILDSCENE_COULDNOTCREATESCENE_CAUSE',resolution:'VIEWER_MSG_FAILEDTOBUILDSCENE_COULDNOTCREATESCENE_RELOADORSELECTANOTHERFILE_RESOLUTION',code:'VIT14'},VIT15:{summary:'VIEWER_MSG_ERRORLOADINGMULTIPLEFILES_SUMMARY',cause:'VIEWER_MSG_ERRORLOADINGMULTIPLEFILES_LOADINGMULTIPLE2DNOTSUPPORTED_CAUSE',resolution:'VIEWER_MSG_ERRORLOADINGMULTIPLEFILES_LOADINGMULTIPLE2DNOTSUPPORTED_LOADONE2D_RESOLUTION',code:'VIT15'},VIT16:{summary:'VIEWER_MSG_NOTBELOADED_SUMMARY',cause:'VIEWER_MSG_NOTBELOADED_NONATIVESUPPORT_CAUSE',resolution:'VIEWER_MSG_NOTBELOADED_NONATIVESUPPORT_CHECKFILEFORMATSUPPORT_RESOLUTION',code:'VIT16'},VIT17:{summary:'VIEWER_MSG_ERRORLOADINGMULTIPLEFILES_SUMMARY',cause:'VIEWER_MSG_ERRORLOADINGMULTIPLEFILES_COMBINATIONOF2D3DNOTSUPPORTED_CAUSE',resolution:'VIEWER_MSG_ERRORLOADINGMULTIPLEFILES_COMBINATIONOF2D3DNOTSUPPORTED_MULTIPLESUPPORTFOR3DONLY_RESOLUTION',code:'VIT17'},VIT18:{summary:'VIEWPORT_MSG_ERRORLOADINGVIEWPORT_SUMMARY',cause:'VIEWPORT_MSG_ERRORLOADINGVIEWPORT_CREATINGMULTIPLEVIEWPORTINSTANCES_CAUSE',resolution:'VIEWPORT_MSG_ERRORLOADINGVIEWPORT_CREATINGMULTIPLEVIEWPORTINSTANCES_ONEINSTANCEOFVIEWPORTSUPPORTED_RESOLUTION',code:'VIT18'},VIT19:{summary:'VIEWPORT_MSG_COULDNOTSETCAMERAPROJECTION_SUMMARY',cause:'VIEWPORT_MSG_COULDNOTSETCAMERAPROJECTION_SPECIFIEDCAMERAPROJECTIONNOTSUPPORTED_CAUSE',resolution:'VIEWPORT_MSG_COULDNOTSETCAMERAPROJECTION_SPECIFIEDCAMERAPROJECTIONNOTSUPPORTED_CHECKPROJECTIONTYPESUPPORTED_RESOLUTION',code:'VIT19'},VIT20:{summary:'DOWNLOADMANAGER_MSG_VDS4_BETA_WARNING_SUMMARY',cause:'DOWNLOADMANAGER_MSG_VDS4_BETA_WARNING_CAUSE',resolution:'DOWNLOADMANAGER_MSG_VDS4_BETA_WARNING_RESOLUTION',code:'VIT20'},VIT21:{summary:'VIEWER_MSG_FAILEDTOBUILDSCENE_SUMMARY',cause:'VIEWER_MSG_FAILEDTOBUILDSCENE_MISSINGPASSWORD_CAUSE',resolution:'VIEWER_MSG_FAILEDTOBUILDSCENE_MISSINGPASSWORD_PROVIDEPASSWORD_RESOLUTION',code:'VIT21'},VIT22:{summary:'GRAPHICSCORE_MSG_VDSL_NOFILEPROPERTY_SUMMARY',cause:'GRAPHICSCORE_MSG_VDSL_EMPTY_CAUSE',resolution:'GRAPHICSCORE_MSG_VDSL_FIRSTLINE_WRONGFORMAT_RESOLUTION',code:'VIT22'},VIT23:{summary:'GRAPHICSCORE_MSG_VDSL_FIRSTLINE_WRONGFORMAT_SUMMARY',cause:'GRAPHICSCORE_MSG_VDSL_WRONGFORMAT_CAUSE',resolution:'GRAPHICSCORE_MSG_VDSL_FIRSTLINE_WRONGFORMAT_RESOLUTION',code:'VIT23'},VIT24:{summary:'GRAPHICSCORE_MSG_VDSL_RELATIVE_IN_LOCAL_SUMMARY',cause:'GRAPHICSCORE_MSG_VDSL_WRONGFORMAT_CAUSE',resolution:'GRAPHICSCORE_MSG_VDSL_RELATIVE_IN_LOCAL_RESOLUTION',code:'VIT24'},VIT25:{summary:'GRAPHICSCORE_MSG_VDS3ENCRYPTED_SUMMARY',cause:'GRAPHICSCORE_MSG_VDS3ENCRYPTED_CAUSE',resolution:'GRAPHICSCORE_MSG_VDS3ENCRYPTED_RESOLUTION',code:'VIT25'},VIT26:{summary:'VIEWPORT_UNSUPPORTED_STEP_INDEX_SUMMARY',cause:'VIEWPORT_UNSUPPORTED_STEP_INDEX_CAUSE',resolution:'VIEWPORT_UNSUPPORTED_STEP_INDEX_RESOLUTION',code:'VIT26'},VIT27:{summary:'VIEWPORT_UNSUPPORTED_PROCEDURE_INDEX_SUMMARY',cause:'VIEWPORT_UNSUPPORTED_PROCEDURE_INDEX_CAUSE',resolution:'VIEWPORT_UNSUPPORTED_PROCEDURE_INDEX_RESOLUTION',code:'VIT27'}};};return a;});\n",
	"sap/ui/vk/NativeViewport.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/ResizeHandler','./Loco','./ViewportHandler','./Messages'],function(q,l,C,R,L,V,M){'use strict';var N=C.extend('sap.ui.vk.NativeViewport',{metadata:{library:'sap.ui.vk',properties:{limitZoomOut:{type:'boolean',group:'Behavior',defaultValue:false}},publicMethods:['beginGesture','endGesture','pan','rotate','zoom','tap','queueCommand','getViewInfo','setViewInfo','loadUrl'],events:{'resize':{parameters:{oldSize:'object',size:'object'}},'move':{parameters:{pan:'object',zoom:'float'}}}}});N.prototype.init=function(){this._messages=new M();if(C.prototype.init){C.prototype.init(this);}this._canvas=null;this._canvas=document.createElement('div');this._canvas.style.textAlign='left';this._canvas.id=q.sap.uid();this._resizeListenerId=null;this._viewportHandler=new V(this);this._loco=new L();this._loco.addHandler(this._viewportHandler);this._img=null;this._svg=null;this._svgError=null;this._reset();this._gx=0;this._gy=0;this._errorImageWidth=550;this._errorImageHeight=512;this._imageW=0;this._imageH=0;this._s4BestFit=0;this._update=function(){};this._svgid=this.getId()+'-svg';};N.prototype.exit=function(){this._loco.removeHandler(this._viewportHandler);this._viewportHandler.destroy();if(this._resizeListenerId){R.deregister(this._resizeListenerId);this._resizeListenerId=null;}if(C.prototype.exit){C.prototype.exit.apply(this);}};N.prototype.onBeforeRendering=function(){if(this._resizeListenerId){R.deregister(this._resizeListenerId);this._resizeListenerId=null;}};N.prototype.onAfterRendering=function(){if(this._canvas){var d=this.getDomRef();d.appendChild(this._canvas);this._resizeListenerId=R.register(this,this._handleResize.bind(this));this._bestFit();this._handleResize({size:{width:d.clientWidth,height:d.clientHeight}});}};N.prototype._handleResize=function(e){this.fireResize({oldSize:e.oldSize,size:e.size});this._update();};N.prototype._reset=function(){this._x=0;this._y=0;this._s=1.0;this._r=0;};N.prototype._updateIMG=function(){if(this._img!=null){var x=this._x-(this._imageW-this._canvas.clientWidth)/2;var y=this._y-(this._imageH-this._canvas.clientHeight)/2;var t='matrix('+this._s+',0,0,'+this._s+','+x+','+y+')';this._img.style.transform=t;this._img.style.webkitTransform=t;this._img.style.msTransform=t;this._img.style.MozTransform=t;this._img.style.OTransform=t;}};N.prototype._updateSVG=function(){if(this._svg!=null){var x=this._x-(this._imageW-this._canvas.clientWidth)/2;var y=this._y-(this._imageH-this._canvas.clientHeight)/2;if((this.x<0)&&(this.y<0)){x=0;y=0;}var t='matrix('+this._s+',0,0,'+this._s+','+x+','+y+');';this._svg.setAttribute('style','transform:'+t+'webkitTransform:'+t+'msTransform:'+t+'MozTransform:'+t+'OTransform:'+t);}};N.prototype._updateError=function(){if(this._svgError!=null){var x=this._x-(this._imageW-this._canvas.clientWidth)/2;var y=this._y-(this._imageH-this._canvas.clientHeight)/2;if((this.x<0)&&(this.y<0)){x=0;y=0;}var t='matrix('+this._s+',0,0,'+this._s+','+x+','+y+');';this._svgError.setAttribute('style','transform:'+t+'webkitTransform:'+t+'msTransform:'+t+'MozTransform:'+t+'OTransform:'+t);}};N.prototype._bestFit=function(){if(this._canvas.children[0]&&this._canvas.children[0].getBoundingClientRect().width&&this._canvas.children[0].getBoundingClientRect().height){var w=this._canvas.clientWidth/this._canvas.children[0].getBoundingClientRect().width,h=this._canvas.clientHeight/this._canvas.children[0].getBoundingClientRect().height,s=w<h?w:h;this.zoom(s);var o=q(this._canvas.children[0]).position().left-q(this._canvas).position().left,a=q(this._canvas.children[0]).position().top-q(this._canvas).position().top,i=this._canvas.children[0].getBoundingClientRect().width,b=this._canvas.children[0].getBoundingClientRect().height,v=this._canvas.getBoundingClientRect().width,c=this._canvas.getBoundingClientRect().height;var d=(v-i)/2-o,e=(c-b)/2-a;this.pan(d,e);}};N.prototype.loadUrl=function(u,o,a,b,c){if(/^(svg)$/.test(c.toLowerCase())){while(this._canvas.lastChild){this._canvas.removeChild(this._canvas.lastChild);}this._reset();this._svg=document.createElement('object');this._svg.setAttribute('type','image/svg+xml');this._svg.setAttribute('data',u);this._svg.setAttribute('id',this._svgid);this._svg.setAttribute('class','SVGImage');this._canvas.appendChild(this._svg);var s=document.createElement('div');this._canvas.appendChild(s);s.style.position='absolute';s.style.top=0;s.style.left=0;s.style.height='100%';s.style.width='100%';this._svg.style.visibility='hidden';this._svg.onload=function(){setTimeout(function(){this._imageW=q('#'+this._svgid).width();this._imageH=q('#'+this._svgid).height();this._s=1;this._update=this._updateSVG.bind(this);this._bestFit();o();}.bind(this),0);}.bind(this);this._svg.src=u;this._svg.onerror=function(){q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT1.summary),this._messages.messages.VIT1.code,'sap.ui.vk.NativeViewport');a();}.bind(this);return this;}else if(/^(jpg|png|gif|bmp|tif|tiff)$/.test(c.toLowerCase())){while(this._canvas.lastChild){this._canvas.removeChild(this._canvas.lastChild);}this._reset();this._img=new Image();this._img.onload=function(){this._imageW=this._img.width;this._imageH=this._img.height;setTimeout(function(){this._canvas.appendChild(this._img);this._update=this._updateIMG.bind(this);this._bestFit();}.bind(this),0);o();}.bind(this);this._img.onerror=function(){q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT2.summary),this._messages.messages.VIT2.code,'sap.ui.vk.NativeViewport');a();}.bind(this);this._img.src=u;return this;}else{q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT3.summary),this._messages.messages.VIT3.code,'sap.ui.vk.NativeViewport');a();}};N.prototype.loadFailed=function(t){while(this._canvas.lastChild){this._canvas.removeChild(this._canvas.lastChild);}this._reset();this._svgError=document.createElement('div');this._svgError.className='svgErrorContainer';this._svgErrorElement=document.createElementNS('http://www.w3.org/2000/svg','svg');this._svgErrorElement.setAttribute('width','550px');this._svgErrorElement.setAttribute('height','512px');this._svgErrorElement.setAttribute('viewBox','-244 -244 512 512');this._svgErrorElement.setAttribute('enable-background','new -244 -244 512 512');this._svgErrorElement.setAttribute('id','SVGError');var a=document.createElementNS('http://www.w3.org/2000/svg','rect');a.setAttribute('fill','#FFFFFF');a.setAttribute('x','-244');a.setAttribute('y','-244');a.setAttribute('width','512');a.setAttribute('height','512');a.setAttribute('opacity','0.1');this._svgErrorElement.appendChild(a);var b=document.createElementNS('http://www.w3.org/2000/svg','path');b.setAttribute('fill','#474747');b.setAttribute('d','M12.833,89.742c-70.781,0-128.366-57.584-128.366-128.366c0-70.781,57.584-128.365,128.366-128.365 s128.365,57.584,128.365,128.365C141.198,32.158,83.614,89.742,12.833,89.742z M12.833-146.989 c-59.753,0-108.366,48.612-108.366,108.365c0,59.752,48.613,108.366,108.366,108.366S121.198,21.129 121.198-38.624 C121.198-98.376,72.586-146.989,12.833-146.989z');b.setAttribute('opacity','0.3');this._svgErrorElement.appendChild(b);var c=document.createElementNS('http://www.w3.org/2000/svg','rect');c.setAttribute('fill','#474747');c.setAttribute('x','-2.167');c.setAttribute('y','-120.847');c.setAttribute('width','30');c.setAttribute('height','119.447');c.setAttribute('fill','#474747');c.setAttribute('opacity','0.3');this._svgErrorElement.appendChild(c);var d=document.createElementNS('http://www.w3.org/2000/svg','rect');d.setAttribute('fill','#474747');d.setAttribute('x','-2.167');d.setAttribute('y','13.6');d.setAttribute('width','30');d.setAttribute('height','30');d.setAttribute('opacity','0.3');this._svgErrorElement.appendChild(d);var e=document.createElementNS('http://www.w3.org/2000/svg','path');e.setAttribute('fill','#474747');e.setAttribute('d','M10.833,87.33c-70.781,0-128.366-57.584-128.366-128.365c0-70.781,57.584-128.365,128.366-128.365 s128.365,57.584,128.365,128.365C139.198,29.746,81.614,87.33,10.833,87.33z M10.833-149.4 c-59.753,0-108.366,48.612-108.366,108.365S-48.92,67.33,10.833,67.33S119.198,18.718,119.198-41.035S70.586-149.4,10.833-149.4z');this._svgErrorElement.appendChild(e);var f=document.createElementNS('http://www.w3.org/2000/svg','rect');f.setAttribute('fill','#474747');f.setAttribute('x','-4.167');f.setAttribute('y','-123.259');f.setAttribute('width','30');f.setAttribute('height','119.447');f.setAttribute('fill','#474747');this._svgErrorElement.appendChild(f);var g=document.createElementNS('http://www.w3.org/2000/svg','rect');g.setAttribute('fill','#474747');g.setAttribute('x','-4.167');g.setAttribute('y','11.188');g.setAttribute('width','30');g.setAttribute('height','30');g.setAttribute('fill','#474747');this._svgErrorElement.appendChild(g);var h=document.createElementNS('http://www.w3.org/2000/svg','text');h.setAttribute('id','textError');h.setAttribute('left','auto');h.setAttribute('right','auto');h.setAttribute('y','150');h.setAttribute('x','10');h.setAttribute('display','block');h.setAttribute('text-anchor','middle');h.setAttribute('fill','#474747');h.setAttribute('style','font-family:Arial');h.setAttribute('font-size','32');h.textContent=t?t:sap.ui.vk.getResourceBundle().getText('VIEWPORT_MESSAGEUNSUPPORTEDFILEFORMAT');this._svgErrorElement.appendChild(h);this._svgError.appendChild(this._svgErrorElement);this._canvas.appendChild(this._svgError);this._imageW=this._errorImageWidth;this._imageH=this._errorImageHeight;this._update=this._updateError.bind(this);setTimeout(function(){this._bestFit();}.bind(this),0);setTimeout(function(){this._bestFit();}.bind(this),0);q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT4.summary),this._messages.messages.VIT4.code,'sap.ui.vk.NativeViewport');return this;};N.prototype.beginGesture=function(x,y){this._gx=(x-this._canvas.clientWidth/2-this._x)/this._s;this._gy=(y-this._canvas.clientHeight/2-this._y)/this._s;return this;};N.prototype.endGesture=function(){this._gx=0;this._gy=0;return this;};N.prototype.pan=function(d,a){this._x+=d;this._y+=a;this._update();this.fireMove({pan:{x:d,y:a},zoom:1.0});return this;};N.prototype.rotate=function(d,a){this._x+=d;this._y+=a;this._update();this.fireMove({pan:{x:d,y:a},zoom:1.0});return this;};N.prototype.zoom=function(z){var g=this._gx*this._s;var a=this._gy*this._s;var n=this._s*z;var b=(this.getLimitZoomOut())?this._s4BestFit*0.25:0;if(n>b){this._s=n;}else{z=b/this._s;this._s=b;}var c=this._gx*this._s;var d=this._gy*this._s;var e=g-c;var f=a-d;this._x+=e;this._y+=f;this._update();this.fireMove({pan:{x:e,y:f},zoom:z});return this;};N.prototype.tap=function(x,y,i){if(i){this._bestFit();}return this;};N.prototype.queueCommand=function(c){c();return this;};N.prototype.getViewInfo=function(){var v={};v.camera=[this._s,0,0,this._s,this._x,this._y];return v;};N.prototype.setViewInfo=function(v){var c=v.camera;this._s=c[0];this._x=c[4];this._y=c[5];this._update();return this;};var r=2;var p=2;[{key:'left',dx:-p,dy:0},{key:'right',dx:+p,dy:0},{key:'up',dx:0,dy:-p},{key:'down',dx:0,dy:+p}].forEach(function(i){N.prototype['onsap'+i.key]=function(e){this.beginGesture(this.$().width()/2,this.$().height()/2);this.pan(i.dx,i.dy);this.endGesture();e.preventDefault();e.stopPropagation();};});[{key:'left',dx:-r,dy:0},{key:'right',dx:+r,dy:0},{key:'up',dx:0,dy:-r},{key:'down',dx:0,dy:+r}].forEach(function(i){N.prototype['onsap'+i.key+'modifiers']=function(e){if(e.shiftKey&&!(e.ctrlKey||e.altKey||e.metaKey)){this.beginGesture(this.$().width()/2,this.$().height()/2);this.rotate(i.dx,i.dy);this.endGesture();e.preventDefault();e.stopPropagation();}};});[{key:'minus',d:0.98},{key:'plus',d:1.02}].forEach(function(i){N.prototype['onsap'+i.key]=function(e){this.beginGesture(this.$().width()/2,this.$().height()/2);this.zoom(i.d);this.endGesture();e.preventDefault();e.stopPropagation();};});return N;});\n",
	"sap/ui/vk/NativeViewportRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var N={};N.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapVizKitNativeViewport');r.writeClasses();r.writeAttribute('tabindex',0);r.write('>');r.write('</div>');};return N;},true);\n",
	"sap/ui/vk/NodeHierarchy.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/base/EventProvider','sap/ui/base/ObjectPool','./BaseNodeProxy','./NodeProxy','./LayerProxy','./Messages'],function(q,l,E,O,B,N,L,M){'use strict';var g=sap.ui.vk.dvl.getJSONObject;var a=E.extend('sap.ui.vk.NodeHierarchy',{metadata:{publicMethods:['createNodeProxy','destroyNodeProxy','enumerateAncestors','enumerateChildren','getGraphicsCore','getScene','getChildren','getAncestors']},_baseNodeProxyPool:new O(B),constructor:function(s){this._messages=new M();E.apply(this);this._graphicsCore=s.getGraphicsCore();this._scene=s;this._dvlSceneId=this._scene._getDvlSceneId();this._dvl=this._graphicsCore._getDvl();this._nodeProxies=[];this._layerProxies=[];this._searchDictionary={modeDictionary:{equals:function(i){return i?sap.ve.dvl.DVLFINDNODEMODE.DVLFINDNODEMODE_EQUAL:sap.ve.dvl.DVLFINDNODEMODE.DVLFINDNODEMODE_EQUAL_CASE_INSENSITIVE;},contains:function(i){return i?sap.ve.dvl.DVLFINDNODEMODE.DVLFINDNODEMODE_SUBSTRING:sap.ve.dvl.DVLFINDNODEMODE.DVLFINDNODEMODE_SUBSTRING_CASE_INSENSITIVE;},startsWith:function(i){return i?sap.ve.dvl.DVLFINDNODEMODE.DVLFINDNODEMODE_STARTS_WITH:sap.ve.dvl.DVLFINDNODEMODE.DVLFINDNODEMODE_STARTS_WITH_CASE_INSENSITIVE;}}};}});a.prototype.destroy=function(){this._layerProxies.slice().forEach(this.destroyLayerProxy,this);this._nodeProxies.slice().forEach(this.destroyNodeProxy,this);this._dvl=null;this._dvlSceneId=null;this._scene=null;this._graphicsCore=null;this._searchDictionary=null;E.prototype.destroy.apply(this);};a.prototype.getGraphicsCore=function(){return this._graphicsCore;};a.prototype.getScene=function(){return this._scene;};a.prototype._getDvlSceneId=function(){return this._dvlSceneId;};a.prototype.enumerateChildren=function(n,c,s,p){if(typeof n==='function'){p=s;s=c;c=n;n=undefined;}var b;if(n){if(s||(g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,n,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_CLOSED)===0){b=g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,n,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_CHILDREN)).ChildNodes;}else{b=[];}}else{b=g(this._dvl.Scene.RetrieveSceneInfo(this._dvlSceneId,sap.ve.dvl.DVLSCENEINFO.DVLSCENEINFO_CHILDREN)).ChildNodes;}if(p){b.forEach(c);}else{var d=this._baseNodeProxyPool.borrowObject();try{b.forEach(function(n){d.init(this,n);c(d);d.reset();}.bind(this));}finally{this._baseNodeProxyPool.returnObject(d);}}return this;};a.prototype.enumerateAncestors=function(n,c,p){var b=g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,n,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_PARENTS)).ParentNodes;if(p){b.forEach(c);}else{var d=this._baseNodeProxyPool.borrowObject();try{b.forEach(function(n){d.init(this,n);c(d);d.reset();}.bind(this));}finally{this._baseNodeProxyPool.returnObject(d);}}return this;};a.prototype.createNodeProxy=function(n){var b=new N(this,n);this._nodeProxies.push(b);return b;};a.prototype.destroyNodeProxy=function(n){var i=this._nodeProxies.indexOf(n);if(i>=0){this._nodeProxies.splice(i,1)[0].destroy();}return this;};a.prototype.getChildren=function(n,s){if(typeof n==='boolean'){s=n;n=undefined;}if(n){if(s||(g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,n,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_CLOSED)===0){return g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,n,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_CHILDREN)).ChildNodes;}else{return[];}}else{return g(this._dvl.Scene.RetrieveSceneInfo(this._dvlSceneId,sap.ve.dvl.DVLSCENEINFO.DVLSCENEINFO_CHILDREN)).ChildNodes;}};a.prototype.getAncestors=function(n){return g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,n,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_PARENTS)).ParentNodes;};a.prototype.findNodesById=function(b){if(b.fields.some(function(h){return!h.caseSensitive;})){b=q.extend(true,{},b);b.fields.forEach(function(h){if(!h.caseSensitive){h.value=h.value.toLowerCase();}});}var c=function(p,h,v,j){var m;p=p||'equals';j=j||'';var k=h?v:v.toLowerCase();switch(p){case'equals':m=(k===j);break;case'contains':m=(k.indexOf(j)!==-1);break;case'startsWith':m=(k.indexOf(j)===0);break;default:m=false;q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT8.summary),this._messages.messages.VIT8.code,'sap.ui.vk.NodeHierarchy');}return m;};var i=function(h,j){return!h.some(function(v){return j.name===v.name?c(j.predicate,j.caseSensitive,v.value,j.value):false;});};var f=function(b,v){return b.source===v.source&&b.type===v.type&&!b.fields.some(i.bind(undefined,v.fields));};var d=this.findNodesByName();var e=d.filter(function(n){var h=this.createNodeProxy(n);var v=h.getVeIds();this.destroyNodeProxy(h);return v.some(f.bind(undefined,b));}.bind(this));return e;};a.prototype.findNodesByName=function(b){var s=sap.ve.dvl.DVLFINDNODETYPE.DVLFINDNODETYPE_NODE_NAME,c=[],d,e;if(b===undefined||b===null||q.isEmptyObject(b)){d=this._searchDictionary.modeDictionary.contains(false);e=[''];}else{if(b.value===undefined||b.value===null||b.value===''){q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT6.summary),this._messages.messages.VIT6.code,'sap.ui.vk.NodeHierarchy');}var p=b.hasOwnProperty('predicate')?b.predicate:'equals';if(p===undefined||p===null||p===''){q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT7.summary),this._messages.messages.VIT7.code,'sap.ui.vk.NodeHierarchy');}else if(['equals','contains','startsWith'].indexOf(p)===-1){q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT8.summary),this._messages.messages.VIT8.code,'sap.ui.vk.NodeHierarchy');}d=this._searchDictionary.modeDictionary[p](b.caseSensitive);e=(typeof b.value==='string')?[b.value]:b.value;}for(var i=0;i<e.length;i++){c=c.concat(g(this._dvl.Scene.FindNodes(this._dvlSceneId,s,d,e[i])).nodes);}return q.sap.unique(c);};a.prototype.findNodesByMetadata=function(b){var c=function(m,k,n,v,i,j){if(m.hasOwnProperty(k)){var o=m[k];if(o.hasOwnProperty(n)){var s=o[n];if(!j){s=s.toLowerCase();}return v.some(i.bind(undefined,s));}}return false;};var d=function(m,k){return m.hasOwnProperty(k);};var e=function(f,h,k,m,v,i,j){var n=this._baseNodeProxyPool.borrowObject();var r=f.filter(function(o){n.init(this,o);var s=n.getNodeMetadata();var t=h(s,k,m,v,i,j);n.reset();return t;}.bind(this));this._baseNodeProxyPool.returnObject(n);return r;};var f=this.findNodesByName(),r=[];if(b===undefined||b===null||q.isEmptyObject(b)){r=f;}else if(b.category!==null&&b.category!==undefined&&b.category!==''){var h,v,p,i,j=!!(b&&b.caseSensitive);if(b.key===undefined||b.key===null){h=d;}else{v=b.value;p=b.predicate||'equals';if(v===undefined||v===null){v='';p='contains';}if(!Array.isArray(v)){v=[v];}if(!j){v=v.map(function(k){return k.toLowerCase();});}switch(p){case'equals':i=function(m,k){return m===k;};break;case'contains':i=function(m,k){return m.indexOf(k)!==-1;};break;case'startsWith':i=function(m,k){return m.indexOf(k)===0;};break;default:q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT9.summary),this._messages.messages.VIT9.code,'sap.ui.vk.NodeHierarchy');}h=c;}r=e.bind(this)(f,h,b.category,b.key,v,i,j);}else{q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT10.summary),this._messages.messages.VIT10.code,'sap.ui.vk.NodeHierarchy');}return q.sap.unique(r);};a.prototype.createLayerProxy=function(b){var c=new L(this,b);this._layerProxies.push(c);return c;};a.prototype.destroyLayerProxy=function(b){var i=this._layerProxies.indexOf(b);if(i>=0){this._layerProxies.splice(i,1)[0].destroy();}return this;};a.prototype.getLayers=function(){return g(this._dvl.Scene.RetrieveSceneInfo(this._dvlSceneId,sap.ve.dvl.DVLSCENEINFO.DVLSCENEINFO_LAYERS)).Layers;};return a;});\n",
	"sap/ui/vk/NodeProxy.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/base/ManagedObject'],function(q,l,M){'use strict';var g=sap.ui.vk.dvl.getJSONObject;var N=M.extend('sap.ui.vk.NodeProxy',{metadata:{properties:{nodeId:'string',veIds:'object[]',name:'string',localMatrix:{type:'sap.ui.vk.TransformationMatrix',bindable:'bindable'},worldMatrix:{type:'sap.ui.vk.TransformationMatrix',bindable:'bindable'},opacity:{type:'float',bindable:'bindable'},tintColorABGR:{type:'int',bindable:'bindable'},nodeMetadata:'object',hasChildren:'boolean',closed:'boolean'}},constructor:function(n,a){M.call(this);this._dvl=n?n.getGraphicsCore()._getDvl():null;this._dvlSceneId=n?n._getDvlSceneId():null;this._dvlNodeId=a;}});N.prototype.destroy=function(){this._dvlNodeId=null;this._dvlSceneId=null;this._dvl=null;M.prototype.destroy.call(this);};N.prototype.getNodeId=function(){return this._dvlNodeId;};N.prototype.getVeIds=function(){return g(this._dvl.Scene.RetrieveVEIDs(this._dvlSceneId,this._dvlNodeId));};N.prototype.getName=function(){return g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_NAME)).NodeName;};N.prototype.getLocalMatrix=function(){return sap.ui.vk.TransformationMatrix.convertTo4x3(g(this._dvl.Scene.GetNodeLocalMatrix(this._dvlSceneId,this._dvlNodeId)).matrix);};N.prototype.setLocalMatrix=function(v){this._dvl.Scene.SetNodeLocalMatrix(this._dvlSceneId,this._dvlNodeId,v&&sap.ui.vk.TransformationMatrix.convertTo4x4(v));this.setProperty('localMatrix',v,true);return this;};N.prototype.getWorldMatrix=function(){return sap.ui.vk.TransformationMatrix.convertTo4x3(g(this._dvl.Scene.GetNodeWorldMatrix(this._dvlSceneId,this._dvlNodeId)).matrix);};N.prototype.setWorldMatrix=function(v){this._dvl.Scene.SetNodeWorldMatrix(this._dvlSceneId,this._dvlNodeId,v&&sap.ui.vk.TransformationMatrix.convertTo4x4(v));this.setProperty('worldMatrix',v,true);return this;};N.prototype.getOpacity=function(){return g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_OPACITY)).Opacity;};N.prototype.setOpacity=function(v){this._dvl.Scene.SetNodeOpacity(this._dvlSceneId,this._dvlNodeId,v);this.setProperty('opacity',v,true);return this;};N.prototype.getTintColorABGR=function(){return g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_HIGHLIGHT_COLOR)).HighlightColor;};N.prototype.setTintColorABGR=function(v){this._dvl.Scene.SetNodeHighlightColor(this._dvlSceneId,this._dvlNodeId,v);this.setProperty('tintColorABGR',v,true);return this;};N.prototype.getNodeMetadata=function(){return g(this._dvl.Scene.RetrieveMetadata(this._dvlSceneId,this._dvlNodeId)).metadata;};N.prototype.getHasChildren=function(){return(g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&(sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_MAPPED_HASCHILDREN|sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_CLOSED))===sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_MAPPED_HASCHILDREN;};N.prototype.getClosed=function(){return(g(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,this._dvlNodeId,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_CLOSED)!==0;};delete N.prototype.setClosed;delete N.prototype.setHasChildren;delete N.prototype.setName;delete N.prototype.setNodeId;delete N.prototype.setNodeMetadata;delete N.prototype.setVeIds;return N;});\n",
	"sap/ui/vk/Notifications.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/model/json/JSONModel','./Messages'],function(q,l,C,J,M){'use strict';var N=C.extend('sap.ui.vk.Notifications',{metadata:{library:'sap.ui.vk',aggregations:{_messagePopover:{type:'sap.m.MessagePopover',multiple:false,visibility:'hidden'},_messagePopoverItem:{type:'sap.m.MessagePopoverItem',multiple:false,visibility:'hidden'},_messagePopoverToggleButton:{type:'sap.m.ToggleButton',multiple:false,visibility:'hidden'}},events:{allMessagesCleared:{},messageAdded:{}},publicMethods:['clearAllMessages']}});N.prototype.clearAllMessages=function(m,a){m.removeAllItems();a.setText(m.getItems().length);this.fireAllMessagesCleared();m.close();return this;};N.prototype.init=function(){this._messages=new M();this._listener={};this._messagePopover=new sap.m.MessagePopover();this._messagePopover.addStyleClass('sapVizKitNotificationPopover');this._messagePopoverToggleButton=new sap.m.ToggleButton({icon:'sap-icon://message-popup',type:sap.m.ButtonType.Emphasized,tooltip:sap.ui.vk.getResourceBundle().getText('MESSAGEPOPOVERBUTTON'),text:'0',press:function(e){if(e.getSource().getPressed()){this._messagePopover.openBy(e.getSource());}else{this._messagePopover.close();}}.bind(this)});this._messagePopoverToggleButton.addStyleClass('messagePopoverButton');this._messagePopover.attachAfterClose(function(e){this._messagePopoverToggleButton.setPressed(false);}.bind(this));var h=new sap.m.Button({text:sap.ui.vk.getResourceBundle().getText('MESSAGEPOPOVER_CLEARBUTTON'),type:sap.m.ButtonType.Emphasized,tooltip:sap.ui.vk.getResourceBundle().getText('MESSAGEPOPOVER_CLEARBUTTON'),press:this.clearAllMessages.bind(this,this._messagePopover,this._messagePopoverToggleButton)});this._messagePopover.setHeaderButton(h);this.setAggregation('_messagePopover',this._messagePopover);this.setAggregation('_messagePopoverToggleButton',this._messagePopoverToggleButton);this._listener.onLogEntry=function(e){if(/^sap\\.ui\\.vk/.test(e.component)){var m=e.details,c,r,a;if(this._messages.messages[e.details]){m=sap.ui.vk.getResourceBundle().getText(this._messages.messages[e.details].summary);c=sap.ui.vk.getResourceBundle().getText(this._messages.messages[e.details].cause);r=sap.ui.vk.getResourceBundle().getText(this._messages.messages[e.details].resolution);a=sap.ui.vk.getResourceBundle().getText('ERROR_DESCRIPTION_CODE');}var b=sap.ui.vk.getResourceBundle().getText('ERROR_DESCRIPTION_COMPONENT');var d=sap.ui.vk.getResourceBundle().getText('ERROR_DESCRIPTION_DATE');var t=sap.ui.vk.getResourceBundle().getText('ERROR_DESCRIPTION_TIME');var f=sap.ui.vk.getResourceBundle().getText('ERROR_DESCRIPTION_LEVEL');var g=sap.ui.vk.getResourceBundle().getText('ERROR_DESCRIPTION_MESSAGE');var i=sap.ui.vk.getResourceBundle().getText('ERROR_DESCRIPTION_CAUSE');var j=sap.ui.vk.getResourceBundle().getText('ERROR_DESCRIPTION_RESOLUTION');var k='<div><b>'+b+':</b><br>'+e.component+'</div><br>'+'<div><b>'+d+':</b><br>'+e.date+'</div><br>'+(a?'<div><b>'+a+':</b><br>'+e.details+'</div><br>':'')+'<div><b>'+t+':</b><br>'+e.time.slice(0,e.time.indexOf('.'))+'</div><br>'+'<div><b>'+f+':</b><br>'+e.level+'</div><br>'+'<div><b>'+g+':</b><br>'+m+'</div><br>'+(c?'<div><b>'+i+':</b><br>'+c+'</div><br>':'')+(r?'<div><b>'+j+':</b><br>'+r+'</div>':'');var I=new sap.m.MessagePopoverItem({markupDescription:true,title:e.message,description:k});this._messagePopover.addItem(I);this._messagePopoverToggleButton.setText(this._messagePopover.getItems().length);this.fireMessageAdded();}}.bind(this);q.sap.log.addLogListener(this._listener);};N.prototype.attachAllMessagesCleared=function(d,f,a){return this.attachEvent('allMessagesCleared',d,f,a);};N.prototype.detachAllMessagesCleared=function(f,a){return this.detachEvent('allMessagesCleared',f,a);};N.prototype.fireAllMessagesCleared=function(p,a,e){return this.fireEvent('allMessagesCleared',p,a,e);};N.prototype.attachMessageAdded=function(d,f,a){return this.attachEvent('messageAdded',d,f,a);};N.prototype.detachMessageAdded=function(f,a){return this.detachEvent('messageAdded',f,a);};N.prototype.fireMessageAdded=function(p,a,e){return this.fireEvent('messageAdded',p,a,e);};return N;});\n",
	"sap/ui/vk/NotificationsRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var N={};N.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapVizKitNotifications');r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_messagePopoverToggleButton'));r.write('</div>');};return N;},true);\n",
	"sap/ui/vk/Overlay.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/vbm/library','sap/ui/vbm/lib/sapvbi','./Messages'],function(q,l,C,v,a,M){'use strict';var O=C.extend('sap.ui.vk.Overlay',{metadata:{library:'sap.ui.vk',properties:{zoomOnResize:{type:'boolean',group:'Behavior',defaultValue:true}},aggregations:{areas:{type:'sap.ui.vk.OverlayArea',multiple:true,singularName:'area'}},associations:{target:{type:'sap.ui.core.Control',cardinality:'0..1'}},events:{click:{parameters:{clientX:{type:'int'},clientY:{type:'int'},pos:{type:'string'}}},contextMenu:{parameters:{pos:{type:'string'},menu:{type:'sap.ui.unified.Menu'}}}}}});O.prototype.getPositionInteractive=function(p,c){if(!this.mIACreateCB&&c&&typeof(c)==='function'){this.mIACreateCB=c;var t='POS';if(p){t+='ARRAY';}var L={'SAPVB':{'Automation':{'Call':{'handler':'OBJECTCREATIONHANDLER','name':'CreateObject','object':'MainScene','scene':'MainScene','instance':'','Param':{'name':'data','#':'{'+t+'}'}}}}};this._load(L);return true;}else{return false;}};O.prototype.openContextMenu=function(m){this._openContextMenu('Overlay',this,m);};O.prototype.setPanAndZoom=function(n,b,z){if(n===0&&b===0&&z===1){return;}var s=this.mVBIContext.GetMainScene();this.totalCenterOffset.dx+=n;this.totalCenterOffset.dy+=b;if(z===1){s.MoveMap(n,b);}else{var c=s.m_Canvas[0];var d=c.m_nExactLOD+Math.log(z)*Math.LOG2E;s.ZoomToGeoPosition(VBI.MathLib.DegToRad([0.5,0.5]),d);s.MoveMap(this.totalCenterOffset.dx,this.totalCenterOffset.dy);}};O.prototype.reset=function(){this.totalCenterOffset.dx=this.totalCenterOffset.dy=0;var s=this.mVBIContext.GetMainScene();if(s){s.ZoomToGeoPosition(VBI.MathLib.DegToRad([0.5,0.5]),this.initialZoom);}};O.prototype.init=function(){this._messages=new M();this.aLoadQueue=null;this.oTargetDomRef=null;this.mVBIContext=new VBI.VBIContext(this);this.resizeID='';this.resizeIDTarget='';this.bVosDirty=true;this.bWindowsDirty=true;this.bSceneDirty=true;this.bDataDeltaUpdate=false;this.bHandleDataChangeActive=false;this.bForceDataUpdate=false;this.mAddMenuItems=[];this.totalCenterOffset={dx:0,dy:0};this.initialZoom=10;};O.prototype.exit=function(){if(this.mVBIContext){this.mVBIContext.clear();}if(this.resizeID!=''){sap.ui.core.ResizeHandler.deregister(this.resizeID);this.resizeID='';}if(this.resizeIDTarget!=''){sap.ui.core.ResizeHandler.deregister(this.resizeIDTarget);this.resizeIDTarget='';}};O.prototype.resize=function(e){var c=(this.oControl!=undefined)?this.oControl:this;var b=c.mVBIContext;if(b){var s=b.GetMainScene();if(s){if(c.getZoomOnResize()&&e&&e.oldSize.width>0){var z=Math.log(e.size.width/e.oldSize.width)*Math.LOG2E;s.ZoomToGeoPosition(s.GetCenterPos(),s.GetCurrentZoomlevel()+z,false,true,true);}s.resizeCanvas(e,true,true);}}};O.prototype.setTarget=function(t){if(!t){return;}this.setAssociation('target',t);this.reset();if(t instanceof sap.m.Image){t.addDelegate({onAfterRendering:function(e){this.oTargetDomRef=t.getDomRef();this.oTargetDomRef.addEventListener('load',q.proxy(this._adaptSizeOfTarget,this));}.bind(this)});}else{t.addDelegate({onAfterRendering:function(e){this.oTargetDomRef=t.getDomRef();this._adaptSizeOfTarget();}.bind(this)});}if(this.resizeIDTarget!=''){sap.ui.core.ResizeHandler.deregister(this.resizeIDTarget);this.resizeIDTarget='';}this.resizeIDTarget=sap.ui.core.ResizeHandler.register(t,this._adaptSizeOfTarget.bind(this));};O.prototype._adaptSizeOfTarget=function(){var t=this.oTargetDomRef;var d=this.getDomRef();if(t){try{var T=q(t);var p={top:T.offset().top,left:T.offset().left,width:T.outerWidth(),height:T.outerHeight()};q(d).width(p.width).height(p.height).css('position','absolute');q(d).css('top','0px').css('left','0px').css('visibility','');}catch(e){q.sap.log.error(e);}}else{q(d).css('position','fixed').width('0px').height('0px').css('top','0px').css('left','0px').css('visibility','hidden');}};O.prototype.onAfterRendering=function(){if(this.$oldContent.length>0){this.$().append(this.$oldContent);}this._adaptSizeOfTarget();if(this.aLoadQueue){var n;for(n=0;n<this.aLoadQueue.length;++n){this._load(this.aLoadQueue[n]);}this.aLoadQueue=null;}if(this.resizeID==''){this.resize();this.resizeID=sap.ui.core.ResizeHandler.register(this,this.resize);}var o=this.getId();if(this.mVBIContext.m_Windows){this.mVBIContext.m_Windows.Awake(o);}};O.prototype.onBeforeRendering=function(){this.$oldContent=sap.ui.core.RenderManager.findPreservedContent(this.getId());};O.prototype.invalidate=function(s){this.bSceneDirty=true;if(s instanceof sap.ui.vk.OverlayArea){this.bVosDirty=true;this.bDataDeltaUpdate=this.bHandleDataChangeActive;}sap.ui.core.Control.prototype.invalidate.apply(this,arguments);};O.prototype._load=function(d){if(!this.isRendered()){if(!this.aLoadQueue){this.aLoadQueue=[];}this.aLoadQueue.push(d);return;}this._loadHtml(d);};O.prototype._loadHtml=function(d){var o=this.getId();var b=null;if(typeof d=='string'){b=JSON.parse(d.indexOf('{')?d.substr(d.indexOf('{')):d);}else if(typeof d=='object'){b=d;}if(!b){return;}if(!b['SAPVB']){var m;if(this.mVBIContext&&(m=(new VBI.Adaptor(this.mVBIContext)).CreateLoadData(b))){this.loadHtml(m);return;}else{return;}}var c=false;var e=false;var f=false;if(q.type(b)=='object'){if(b.SAPVB){if(b.SAPVB.Config){this.mVBIContext.GetConfig().load(b.SAPVB.Config,this.mVBIContext);}if(b.SAPVB.Resources){this.mVBIContext.GetResources().load(b.SAPVB.Resources,this.mVBIContext);}if(b.SAPVB.DataTypes){if(!this.mVBIContext.m_DataTypeProvider){this.mVBIContext.m_DataTypeProvider=new VBI.DataTypeProvider();}this.mVBIContext.m_DataTypeProvider.load(b.SAPVB.DataTypes,this.mVBIContext);}if(b.SAPVB.Data){if(!this.mVBIContext.m_DataProvider){this.mVBIContext.m_DataProvider=new VBI.DataProvider();}this.mVBIContext.m_DataProvider.load(b.SAPVB.Data,this.mVBIContext);c=true;}if(b.SAPVB.Windows){if(!this.mVBIContext.m_Windows){this.mVBIContext.m_Windows=new VBI.Windows();}this.mVBIContext.m_Windows.load(b.SAPVB.Windows,this.mVBIContext);f=true;}if(b.SAPVB.Actions){if(!this.mVBIContext.m_Actions){this.mVBIContext.m_Actions=new VBI.Actions();}this.mVBIContext.m_Actions.load(b.SAPVB.Actions,this.mVBIContext);}if(b.SAPVB.Automation){if(!this.mVBIContext.m_Automations){this.mVBIContext.m_Automations=new VBI.Automations();}this.mVBIContext.m_Automations.load(b.SAPVB.Automation,this.mVBIContext);}if(b.SAPVB.Menus){if(!this.mVBIContext.m_Menus){this.mVBIContext.m_Menus=new VBI.Menus();}this.mVBIContext.m_Menus.load(b.SAPVB.Menus,this.mVBIContext);}if(b.SAPVB.Scenes){if(!this.mVBIContext.m_SceneManager){this.mVBIContext.m_SceneManager=new VBI.SceneManager();}this.mVBIContext.m_SceneManager.load(b.SAPVB.Scenes,this.mVBIContext);e=true;}}if(c){if(this.mVBIContext.m_Windows){this.mVBIContext.m_Windows.NotifyDataChange();}}if(e||f){if(this.mVBIContext.m_Windows){this.mVBIContext.m_Windows.Awake(o);}}if(e||c){if(this.mVBIContext.m_Windows){this.mVBIContext.m_Windows.RenderAsync();}}}};O.prototype._openContextMenu=function(t,i,m){if(m&&m.vbi_data&&m.vbi_data.VBIName=='DynContextMenu'){if(!this.mVBIContext.m_Menus){this.mVBIContext.m_Menus=new window.VBI.Menus();}for(var n=0;n<this.mAddMenuItems.length;++n){m.addItem(this.mAddMenuItems[n]);}this.mVBIContext.m_Menus.m_menus.push(m);this._loadHtml({'SAPVB':{'version':'2.0','Automation':{'Call':{'earliest':'0','handler':'CONTEXTMENUHANDLER','instance':i.sId,'name':'SHOW','object':t,'refID':'CTM','Param':[{'name':'x','#':i.mClickPos[0]},{'name':'y','#':i.mClickPos[1]},{'name':'scene','#':'MainScene'}]}}}});}this.mAddMenuItems=[];};O.prototype._update=function(){var A={SAPVB:{}};if(this.bSceneDirty){this._updateScene(A);}this._updateWindows(A);if(A.SAPVB.Actions){Array.prototype.push.apply(A.SAPVB.Actions.Set.Action,this._getActionArray());}return this._minimizeApp(A);};O.prototype._minimizeApp=function(A){var t,s;s=null;if(!this.bWindowsDirty){(t=A)&&(t=t.SAPVB)&&(t=t.Windows)&&(s=JSON.stringify(t))&&(s==this.mCurWindows)&&(delete A.SAPVB.Windows)||(this.mCurWindows=s?s:this.mCurWindows);}else{this.bWindowsDirty=false;}s=null;(t=A)&&(t=t.SAPVB)&&(t=t.Scenes)&&(s=JSON.stringify(t))&&(s==this.mCurScenes)&&(delete A.SAPVB.Scenes)||(this.mCurScenes=s?s:this.mCurScenes);s=null;(t=A)&&(t=t.SAPVB)&&(t=t.Actions)&&(s=JSON.stringify(t))&&(s==this.mCurActions)&&(delete A.SAPVB.Actions)||(this.mCurActions=s?s:this.mCurActions);s=null;(t=A)&&(t=t.SAPVB)&&(t=t.DataTypes)&&(s=JSON.stringify(t))&&(s==this.mCurDataTypes)&&(delete A.SAPVB.DataTypes)||(this.mCurDataTypes=s?s:this.mCurDataTypes);if(!this.bForceDataUpdate){s=null;(t=A)&&(t=t.SAPVB)&&(t=t.Data)&&(s=JSON.stringify(t))&&(s==this.mCurData)&&(delete A.SAPVB.Data)||(this.mCurData=s?s:this.mCurData);}else{this.bForceDataUpdate=false;}return A;};O.prototype._updateWindows=function(A){A.SAPVB.Windows={'Set':[{'name':'Main','Window':{'id':'Main','caption':'MainWindow','type':'geo','refParent':'','refScene':'MainScene','modal':'true'}}]};};O.prototype._updateScene=function(A){var s=[];var b=[];var c=[];var d=[];this._updateVOData(s,b,c,d);var _=JSON.stringify(s);var m=true;if(!this.saVO){((((A.SAPVB.Scenes={}).Set={}).SceneGeo={id:'MainScene',scaleVisible:'false',navControlVisible:'false',VisualFrame:{minLOD:5},NavigationDisablement:{move:'true',zoom:'true'},initialZoom:this.initialZoom.toString(),initialStartPosition:'0.5;0.5;0'}).VO=s);}else if(this.bRefMapLayerStackDirty||!(this.saVO===_)){(A.SAPVB.Scenes=this._getSceneVOdelta(JSON.parse(this.m_saVO),s));}else{m=false;}this.saVO=_;if(this.bDataDeltaUpdate){A.SAPVB.Data=[];for(var n=0;n<b.length;++n){A.SAPVB.Data.push({Set:{name:b[n].name,type:'N',N:b[n]}});}}else{((A.SAPVB.Data={}).Set={}).N=b;}if(m){(((A.SAPVB.DataTypes={}).Set={}).N=c);}(((A.SAPVB.Actions={}).Set={}).Action=d);this.bSceneDirty=this.bVosDirty=this.bDataDeltaUpdate=false;};O.prototype._isEventRegistered=function(A,e){var b=this.getAggregation(A);if(!b){return false;}for(var n=0;n<b.length;++n){var i=b[n];if(i.hasListeners(e)){return true;}}return false;};O.prototype._getTemplateBindingInfo=function(A){var b=this.getBindingInfo(A);if(b&&b.template){return b.template.mBindingInfos;}};O.prototype._getBindInfo=function(A){var b={};var t=this._getTemplateBindingInfo(A);b.C=(t)?t.hasOwnProperty('color'):true;b.CB=(t)?t.hasOwnProperty('colorBorder'):true;b.DCH=(t)?t.hasOwnProperty('deltaColorHot'):true;b.CS=(t)?t.hasOwnProperty('colorSelect'):true;b.CNS=(t)?t.hasOwnProperty('colorNonSelect'):true;b.TT=(t)?t.hasOwnProperty('tooltip'):true;b.M=(t)?t.hasOwnProperty('changeable'):true;b.hasTemplate=(t)?true:false;return b;};O.prototype._updateVOData=function(s,b,c,d){var B,V;this.AreaBindInfo=B=(this.AreaBindInfo)?this.AreaBindInfo:this._getBindInfo('areas');V=(B.hasTemplate)?this.getBindingInfo('areas').template:null;var o={id:'OverlayArea',datasource:'OverlayArea',type:'{00100000-2012-0004-B001-F311DE491C77}'};o['posarray.bind']=o.id+'.P';if(B.C){o['color.bind']=o.id+'.C';}else{o.color=V.getColor();}if(B.CB){o['colorBorder.bind']=o.id+'.C';}else{o.colorBorder=V.getColorBorder();}if(B.DCH){o['hotDeltaColor.bind']=o.id+'.DCH';}else{o.hotDeltaColor=V.getDeltaColorHot();}if(B.CS){o['colorSelect.bind']=o.id+'.C';}else{o.colorSelect=V.getColorSelect();}if(B.CNS){o['colorNonSelect.bind']=o.id+'.C';}else{o.colorNonSelect=V.getColorNonSelect();}if(!B.M){o['VB:c']=V.getChangeable();}s.push(o);var e={name:o.id,key:'K'};e.A=[{'name':'K','alias':'K','type':'string'},{'name':'VB:s','alias':'VB:s','type':'boolean'},{'name':'P','alias':'P','type':'vectorarray','changeable':'true'}];if(B.C){e.A.push({'name':'C','alias':'C','type':'color'});}if(B.CB){e.A.push({'name':'CB','alias':'CB','type':'string'});}if(B.DCH){e.A.push({'name':'DCH','alias':'DCH','type':'string'});}if(B.CS){e.A.push({'name':'CS','alias':'CS','type':'string'});}if(B.CNS){e.A.push({'name':'CNS','alias':'CNS','type':'string'});}if(B.TT){e.A.push({'name':'TT','alias':'TT','type':'string'});}c.push(e);var i=o.id;if(this._isEventRegistered('areas','click')){d.push({'id':i+'1','name':'click','refScene':'MainScene','refVO':i,'refEvent':'Click','AddActionProperty':[{'name':'pos'}]});}if(this._isEventRegistered('areas','contextMenu')){d.push({'id':i+'2','name':'contextMenu','refScene':'MainScene','refVO':i,'refEvent':'ContextMenu'});}if(this._isEventRegistered('areas','edgeClick')){d.push({'id':i+'7','name':'edgeClick','refScene':'MainScene','refVO':i,'refEvent':'EdgeClick'});}d.push({'id':i+'4','name':'handleMoved','refScene':'MainScene','refVO':i,'refEvent':'HandleMoved'});d.push({'id':i+'5','name':'handleContextMenu','refScene':'MainScene','refVO':i,'refEvent':'HandleContextMenu'});d.push({'id':i+'8','name':'edgeContextMenu','refScene':'MainScene','refVO':i,'refEvent':'EdgeContextMenu'});if(this._isEventRegistered('areas','handleClick')){d.push({'id':i+'6','name':'handleClick','refScene':'MainScene','refVO':i,'refEvent':'HandleClick'});}var f={name:o.id,E:[]};var g=this.getAreas();for(var n=0;n<g.length;++n){f.E.push(g[n].getDataElement());}b.push(f);};O.prototype._getSceneVOdelta=function(c,n){var V=[];var r=[];var o={};for(var b=0,d=c.length;b<d;++b){o[c[b].id]=c[b];}for(var e=0;e<n.length;++e){if(o[n[e].id]){if(JSON.stringify(n[e])!=JSON.stringify(o[n[e].id])){r.push({'id':n[e].id,'type':'VO'});V.push(n[e]);}}else{V.push(n[e]);}delete o[n[e].id];}for(var i in o){r.push({'id':i,'type':'VO'});}var f={'Merge':{'name':'MainScene','type':'SceneGeo','SceneGeo':{'id':'MainScene'}}};if(r.length){f.Merge.SceneGeo.Remove=r;}if(V.length){f.Merge.SceneGeo.VO=V;}return f;};O.prototype._getActionArray=function(){var A=[];if(this.mEventRegistry['click']){A.push({'id':'Overlay1','name':'click','refScene':'MainScene','refVO':'Map','refEvent':'Click','AddActionProperty':[{'name':'pos'}]});}if(this.mEventRegistry['contextMenu']){A.push({'id':'Overlay2','name':'contextMenu','refScene':'MainScene','refVO':'Map','refEvent':'ContextMenu','AddActionProperty':[{'name':'pos'}]});}A.push({'id':'Overlay3','name':'GetPosComplete','refScene':'MainScene','refVO':'General','refEvent':'CreateComplete'});return A;};O.prototype._handleChangedData=function(n){try{this.bHandleDataChangeActive=true;if(n&&n.length){for(var b=0,N;b<n.length;++b){N=n[b];if(N.E&&N.E.length){for(var c=0,e,i;c<N.E.length;++c){e=N.E[c];i=this._findInstance(e.K);if(i){i.handleChangedData(e);}}}}}this.bHandleDataChangeActive=false;}catch(d){this.bHandleDataChangeActive=false;throw d;}};O.prototype._findInstance=function(i){var I=(i.indexOf('.')!==-1)?i.split('.')[1]:i;var A=this.getAreas();for(var n=0;n<A.length;++n){var e=A[n];if(e.getId()===I){return e;}}return null;};O.prototype._handleAggregationEvent=function(e){var E;if((E=this._findInstance(e.Action.instance))){try{E.handleEvent(e);}catch(b){q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT11.summary),this._messages.messages.VIT11.code,'sap.ui.vk.Overlay');}}};O.prototype.isRendered=function(){return this.getDomRef()?true:false;};O.prototype.fireSubmit=function(e){var d=JSON.parse(e.data);if(d.Data&&d.Data.Merge){this._handleChangedData(d.Data.Merge.N);}if(d.Action.object==='OverlayArea'){this._handleAggregationEvent(d);}else{var A=d.Action.name,c;if(A==='click'||A==='contextMenu'){c=[d.Action.Params.Param[0]['#'],d.Action.Params.Param[1]['#']];}switch(A){case'GetPosComplete':if(this.mIACreateCB){try{this.mIACreateCB(d.Action.Params.Param[0]['#']);this.mIACreateCB=null;}catch(b){this.mIACreateCB=null;throw b;}}break;case'click':this.fireClick({clientX:c[0],clientY:c[1],pos:d.Action.AddActionProperties.AddActionProperty[0]['#']});break;case'contextMenu':if(this.mVBIContext.m_Menus){this.mVBIContext.m_Menus.deleteMenu('DynContextMenu');}sap.ui.getCore().loadLibrary('sap.ui.unified');var m=new sap.ui.unified.Menu();m.vbi_data={};m.vbi_data.menuRef='CTM';m.vbi_data.VBIName='DynContextMenu';this.mClickPos=c;this.fireContextMenu({pos:d.Action.AddActionProperties.AddActionProperty[0]['#'],menu:m});break;default:break;}}};O.prototype.fireRender=function(d){};O.prototype.fireMove=function(d){};O.prototype.fireZoom=function(d){};O.prototype.fireOpenWindow=function(d){};O.prototype.fireCloseWindow=function(d){};return O;});\n",
	"sap/ui/vk/OverlayArea.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['./library','sap/ui/core/Element'],function(l,E){'use strict';var O=E.extend('sap.ui.vk.OverlayArea',{metadata:{library:'sap.ui.vk',properties:{key:{type:'string',group:'Misc',defaultValue:null},position:{type:'string',group:'Misc',defaultValue:null},color:{type:'sap.ui.core.CSSColor',group:'Misc',defaultValue:'rgba(200, 50, 50, 0.3)'},colorBorder:{type:'sap.ui.core.CSSColor',group:'Misc',defaultValue:'rgba(200, 50, 50, 1.0)'},colorSelect:{type:'string',group:'Misc',defaultValue:null},colorNonSelect:{type:'string',group:'Misc',defaultValue:null},deltaColorHot:{type:'string',group:'Misc',defaultValue:'RHLSA(0;1.3;1.0;1.0)'},select:{type:'boolean',group:'Misc',defaultValue:false},changeable:{type:'boolean',group:'Misc',defaultValue:false}},events:{click:{clientX:{type:'int'},clientY:{type:'int'}},contextMenu:{parameters:{menu:{type:'sap.ui.unified.Menu'}}},edgeClick:{parameters:{index:{type:'int'}}},edgeContextMenu:{parameters:{index:{type:'int'},menu:{type:'sap.ui.unified.Menu'}}},handleMoved:{},handleContextMenu:{parameters:{index:{type:'int'},menu:{type:'sap.ui.unified.Menu'}}},handleClick:{index:{type:'int'}}}}});O.prototype.openContextMenu=function(m){this.getParent().openContextMenu('OverlayArea',this,m);};O.prototype.getDataElement=function(){var e={};var b=this.getParent().AreaBindInfo;e.K=this.getId();if(b.C){e.C=this.getColor();}if(b.CB){e.CB=this.getColorBorder();}if(b.DCH){e.DCH=this.getDeltaColorHot();}if(b.CS){e.CS=this.getColorSelect();}if(b.CNS){e.CNS=this.getColorNonSelect();}if(b.TT){e.TT=this.getTooltip();}e['VB:s']=this.getSelect();e.P=this.getPosition();if(b.M){e['VB:c']=this.getChangeable();}return e;};O.prototype.handleChangedData=function(e){if(e.P){this.setPosition(e.P);}};O.prototype.handleEvent=function(e){var a=e.Action.name;var f='fire'+a[0].toUpperCase()+a.slice(1);if(a==='contextMenu'||a==='edgeContextMenu'||a==='handleContextMenu'){var p=this.getParent();this.mClickPos=[e.Action.Params.Param[0]['#'],e.Action.Params.Param[1]['#']];if(p.mVBIContext.m_Menus){p.mVBIContext.m_Menus.deleteMenu('DynContextMenu');}sap.ui.getCore().loadLibrary('sap.ui.unified');var m=new sap.ui.unified.Menu();m.vbi_data={};m.vbi_data.menuRef='CTM';m.vbi_data.VBIName='DynContextMenu';if(this.getChangeable()){if(a==='edgeContextMenu'){var s=e.Action.Params.Param[2]['#'];p.mAddMenuItems.push(new sap.ui.unified.MenuItem({text:sap.ui.vk.getResourceBundle().getText('OVL_AREA_EDGE_SPLIT'),select:this._handleCtxFunction.bind(this,'SPLIT',s)}));}else if(a==='handleContextMenu'){var h=e.Action.Params.Param[2]['#'];p.mAddMenuItems.push(new sap.ui.unified.MenuItem({text:sap.ui.vk.getResourceBundle().getText('OVL_AREA_HANDLE_REMOVE'),select:this._handleCtxFunction.bind(this,'REMOVE',h)}));}}if(this.hasListeners(a)){if(a==='contextMenu'){this.firecontextMenu({menu:m});}else{this[f]({index:e.Action.Params.Param[2]['#'],menu:m});}}else{p._openContextMenu(e.Action.object,this,m);}}else{if(a=='click'){this.mClickPos=e.Action.AddActionProperties.AddActionProperty[0]['#'];this.fireClick({clientX:e.Action.Params.Param[0]['#'],clientY:e.Action.Params.Param[1]['#']});}else if(a.indexOf('Click')>-1){this[f]({index:e.Action.Params.Param[2]['#']});}else{this[f]();}}};O.prototype.getKey=function(){var k=this.getProperty('key');if(!k){k=this.getId();}return k;};O.prototype._handleCtxFunction=function(f,c){var p=this.getPosition().split(';');var o=c*3;if(f==='REMOVE'){p.splice(o,3);}else if(f==='SPLIT'){var s=[p[o],p[o+1]];var e=(o+3<p.length)?[p[o+3],p[o+4]]:[p[0],p[1]];var m=[parseFloat(s[0])+(e[0]-s[0])/2,parseFloat(s[1])+(e[1]-s[1])/2];p.splice(o+3,0,m[0].toString(),m[1].toString(),'0');}this.setPosition(p.toString().replace(/,/g,';'));};return O;});\n",
	"sap/ui/vk/OverlayRenderer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(function(){'use strict';var O={};O.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUiVkOverlay');r.writeClasses(c);r.write('>');r.write('</div>');var a;if((a=c._update())){c._load(a);}};return O;},true);\n",
	"sap/ui/vk/ProgressIndicator.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){'use strict';var P=C.extend('sap.ui.vk.ProgressIndicator',{metadata:{library:'sap.ui.vk',properties:{numberOfFiles:{type:'int',defaultValue:0}},publicMethods:['reset','updateDownloadStatus','updateRenderStatus'],aggregations:{progressBar:{type:'sap.m.ProgressIndicator',multiple:false,visibility:'hidden'},progressText:{type:'sap.m.Text',multiple:false,visibility:'hidden'}}}});P.prototype.init=function(){this._progressBar=new sap.m.ProgressIndicator({width:'100%',height:'0.375em'});this.setAggregation('progressBar',this._progressBar);this._progressText=new sap.m.Text();this._progressText.addStyleClass('sapUiVizkitProgressIndicatorText');this.setAggregation('progressText',this._progressText);this.reset();};P.prototype.reset=function(){this._downloadStatusByFile={};this._downloadStatusTotal=0;this._renderStatusFileCounter=0;this._renderStatusByFile={};this._renderStatusPreviousUpdate=-1;this._renderStatusTotal=0;this.setNumberOfFiles(0);this._progressBar.setPercentValue(0);return this;};P.prototype.updateDownloadStatus=function(f,a,t){if(!t){this._downloadStatusTotal=50;this._progressText.setText(sap.ui.vk.getResourceBundle().getText('PROGRESS_INDICATOR_DOWNLOADING'));}else{var s=a/t*100/this.getNumberOfFiles()/2;this._downloadStatusByFile[f]=s;this._downloadStatusTotal=0;for(var p in this._downloadStatusByFile){if(this._downloadStatusByFile.hasOwnProperty(p)){this._downloadStatusTotal+=this._downloadStatusByFile[p];}}var b=Math.floor(this._downloadStatusTotal+this._renderStatusTotal);this._progressBar.setPercentValue(b);this._progressText.setText(sap.ui.vk.getResourceBundle().getText('PROGRESS_INDICATOR_DOWNLOADING')+b+'%');}return this;};P.prototype.updateRenderStatus=function(c){if(c<this._renderStatusPreviousUpdate){this._renderStatusFileCounter++;}this._renderStatusPreviousUpdate=c;this._renderStatusTotal=(c+this._renderStatusFileCounter)*100/this.getNumberOfFiles()/2;var b=Math.floor(this._downloadStatusTotal+this._renderStatusTotal);this._progressBar.setPercentValue(b);this._progressText.setText(sap.ui.vk.getResourceBundle().getText('PROGRESS_INDICATOR_RENDERING')+b+'%');return this;};return P;});\n",
	"sap/ui/vk/ProgressIndicatorRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var P={};P.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUiVizkitProgressIndicator');r.writeClasses();r.write('>');r.renderControl(c.getAggregation('progressText'));r.renderControl(c.getAggregation('progressBar'));r.write('</div>');};return P;},true);\n",
	"sap/ui/vk/Scene.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/base/EventProvider','./NodeHierarchy'],function(q,l,E,N){'use strict';var a=q.sap.log;var S=E.extend('sap.ui.vk.Scene',{metadata:{publicMethods:['getId','getGraphicsCore','getDefaultNodeHierarchy']},constructor:function(g,d){a.debug('sap.ui.vk.Scene.constructor() called.');E.apply(this);this._id=q.sap.uid();this._graphicsCore=g;this._dvlSceneId=d;this._defaultNodeHierarchy=null;}});S.prototype.destroy=function(){a.debug('sap.ui.vk.Scene.destroy() called.');if(this._defaultNodeHierarchy){this._defaultNodeHierarchy.destroy();this._defaultNodeHierarchy=null;}this._dvlSceneId=null;this._graphicsCore=null;E.prototype.destroy.apply(this);};S.prototype.getId=function(){return this._id;};S.prototype.getGraphicsCore=function(){return this._graphicsCore;};S.prototype.getDefaultNodeHierarchy=function(){if(!this._defaultNodeHierarchy){this._defaultNodeHierarchy=new N(this);}return this._defaultNodeHierarchy;};S.prototype._getDvlSceneId=function(){return this._dvlSceneId;};return S;});\n",
	"sap/ui/vk/SceneTree.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/table/TreeTable','sap/ui/table/Column','sap/ui/model/json/JSONModel','sap/m/Title','./CheckEye','./NodeProxy'],function(q,l,C,T,a,J,b,c,N){'use strict';var S=C.extend('sap.ui.vk.SceneTree',{metadata:{library:'sap.ui.vk',properties:{},events:{},associations:{},aggregations:{_tree:{type:'sap.ui.table.TreeTable',multiple:false,visibility:'hidden'}}}});var g=function(i,s){return sap.ui.vk.getResourceBundle().getText(i?'SCENETREE_VISIBILITYSTATEVISIBLE':'SCENETREE_VISIBILITYSTATEHIDDEN');};S.prototype._createNodeForSceneTree=function(n,d,v){var e=v.getVisibilityState(d);return{name:n,id:d,visible:e,checkEyeTooltip:g(e,this)};};S.prototype.setScene=function(s,v){if(this._nodeSelectionChangedBinding==undefined){this._nodeSelectionChangedBinding=this._nodeSelectionChanged.bind(this);this._nodeVisibilityChangedBinding=this._nodeVisibilityChanged.bind(this);}if(this._viewStateManager){this._viewStateManager.detachSelectionChanged(this._nodeSelectionChangedBinding);this._viewStateManager.detachSelectionChanged(this._nodeVisibilityChangedBinding);}this._scene=s;this._viewStateManager=v;if(this._viewStateManager){this._viewStateManager.attachSelectionChanged(this._nodeSelectionChangedBinding);this._viewStateManager.attachVisibilityChanged(this._nodeVisibilityChangedBinding);}this.refresh();};S.prototype.init=function(){var d=this;if(C.prototype.init){C.prototype.init.apply(this);}var _=new b({text:sap.ui.vk.getResourceBundle().getText('SCENETREE_TITLE'),tooltip:sap.ui.vk.getResourceBundle().getText('SCENETREE_TITLE')});_.onAfterRendering=function(){var $=this.$();$.addClass('sapUiVkTitle');};this._visibilityColumnHeader=new c({checked:true,tooltip:g(true,d),change:function(e){var i=e.getParameters('checked').checked;this.setTooltip(g(i,d));d._toggleVisibilityForAllChildren(d._model.getData(),i);}});this._tree=new T({title:_,columnHeaderHeight:32,columns:[new a({label:sap.ui.vk.getResourceBundle().getText('SCENETREE_NAME'),tooltip:sap.ui.vk.getResourceBundle().getText('SCENETREE_NAME'),template:new sap.m.Text({text:'{name}',maxLines:1,tooltip:'{name}'}),resizable:false}),new a({label:d._visibilityColumnHeader,template:new c({checked:'{visible}',tooltip:'{checkEyeTooltip}'}),width:'2.7em',resizable:false,hAlign:'Center'})],selectionMode:'MultiToggle',selectionBehavior:'RowSelector',visibleRowCountMode:'Auto',expandFirstLevel:false,collapseRecursive:true,rowHeight:32});this.setAggregation('_tree',this._tree,true);this._model=new J();this._tree.setModel(this._model);this._tree.bindRows({path:'/'});this._tree.attachRowSelectionChange(this._nodeSelection.bind(this));this._tree.getBinding('rows').attachChange(this._dataChange.bind(this));this._viewStateManager=null;this._scene=null;this._syncing=false;this._selected={};this._toggled={};this._vsmSelected={};this._forwardTimer=0;this._reverseTimer=0;this._vSyncing=false;this._lastChangeIsExpand=false;this._forwardVTimer=0;this._reverseVTimer=0;this._scrollTimer=0;this._totalNodes=null;};S.prototype.exit=function(){};S.prototype.onBeforeRendering=function(){this._tree.setVisible(true);};S.prototype._pathToNode=function(p,d,t){p=p.substr(1);if(d==undefined){d=this._model.getData();}var n=d;var e=n;var f='';while(p.length>0){var h=p.indexOf('/');if(h>=0){f=p.substr(0,h);p=p.substr(h+1);}else{f=p;p='';}e=n;n=e[f];}if(t!=undefined){e[f]=t;}return n;};S.prototype._indexToNodeId=function(i){var d=this._tree.getContextByIndex(i);if(d){var n=this._pathToNode(d.sPath,d.oModel.oData);return n.id;}else{return null;}};S.prototype._deselectHidden=function(){var v=this._vsmSelected;var d=this._viewStateManager;var e=[];var u={};for(var i=0;;i++){var f=this._indexToNodeId(i);if(f==null){break;}if(v.hasOwnProperty(f)){u[f]=true;}}for(var k in v){if(v.hasOwnProperty(k)&&v[k]==true&&!u.hasOwnProperty(k)&&k!=''){e.push(k);v[k]=false;}}if(e.length>0){this._syncing=true;d.setSelectionState(e,false,true);this._syncing=false;}};S.prototype._nodeSelection=function(e){if(this._tree.getBinding('rows')._aSelectedContexts!=undefined){return;}if(!this._syncing){if(this._forwardTimer>0){clearTimeout(this._forwardTimer);}var p=e.mParameters;var d=p.rowIndices;var f=this._tree.getSelectedIndices();if(d.length>=1&&f.length==1){if(d.indexOf(f[0])!=-1){this._deselectHidden();}}for(var i=0;i<d.length;i++){var h=d[i];if(this._toggled.hasOwnProperty(h)){this._toggled[h]=!this._toggled[h];}else{this._toggled[h]=true;}if(!this._selected.hasOwnProperty(h)){this._selected[h]=false;}}this._forwardTimer=setTimeout(this._resyncSelectionForward.bind(this,d),100);}};S.prototype._nodeSelectionChanged=function(e){if(!this._syncing){if(this._reverseTimer>0){clearTimeout(this._reverseTimer);}var s=e.mParameters.selected;var d=e.mParameters.unselected;for(var i=0;i<d.length;i++){if(this._vsmSelected[d[i]]!=undefined){delete this._vsmSelected[d[i]];}}for(var j=0;j<s.length;j++){this._vsmSelected[s[j]]=true;}if(s.length==1){this._expandToNode(s[0],this._resyncSelectionReverse.bind(this));}else{this._reverseTimer=setTimeout(this._resyncSelectionReverse.bind(this),100,true);}}};S.prototype._resyncSelectionForward=function(t){this._forwardTimer=0;if(this._syncing){return false;}this._syncing=true;for(var i in this._selected){if(this._selected.hasOwnProperty(i)){var d=this._indexToNodeId(parseInt(i,10));if(d==null||d==''){continue;}var e=this._selected[i];if(this._toggled[i]){e=!e;}if(t.indexOf(parseInt(i,10))!==-1){this._viewStateManager.setSelectionState(d,e,true);if(!e){var n=this._viewStateManager.getNodeHierarchy();var f=n.getAncestors(d);var p=f[f.length-1];if(this._viewStateManager._selectedNodes.has(p)){this._viewStateManager.setSelectionState(p,false);var s=this._tree.getSelectedIndices();for(var j=0,h=s.length;j<h;j++){var k=s[j];if(p===this._indexToNodeId(k)){this._selected[k]=false;break;}}this._vsmSelected[p]=false;}}}this._selected[i]=e;this._vsmSelected[d]=e;}}this._toggled={};this._syncing=false;};S.prototype._resyncSelectionReverse=function(s){this._reverseTimer=0;if(this._syncing){return;}this._syncing=true;var v=this._viewStateManager;var t=this._tree;var d=0;this._selected={};for(var i=0;;i++){var e=this._indexToNodeId(i);if(e==null||e==''){break;}var f=v.getSelectionState(e);if(f){this._selected[i]=true;d++;}if(f!=t.isIndexSelected(i)){if(f){t.addSelectionInterval(i,i);}else{t.removeSelectionInterval(i,i);}}}this._syncing=false;};S.prototype._expandToNode=function(n,d){var t=this._totalNodes;var e=function(m,o){o.forEach(function(r){m=m[r];});return m;};var f=function(m,r,o){var u;if((r<m)||(r>=(m+o))){u=r-(o/2);}else{u=m;}u=u>0?Math.floor(u):0;return u;};var s=function(m,r){var o=m.getVisibleRowCount(),u=m.getFirstVisibleRow(),v=f(u,r,o);if(v!==u){m.setFirstVisibleRow(v);}};var h=function(m,n){var r=null,o;for(var u=0;u<t;u++){o=m.getContextByIndex(u);if(o){var v=o.getPath().split('/');v.shift();var w=o.getModel().getData();if(e(w,v).id===n){r=u;break;}}}return r;};var i=this._scene.getDefaultNodeHierarchy(),j=i.getAncestors(n);var p=function(m,j){setTimeout(function(){if(j.length){var o=j.shift();var r=h(m,o);if(r!==null){m.expand(r);}}else{var u=h(m,n);if(u!==null){s(m,u);m.getBinding('rows').detachChange(k);d();}}},70);};var k=function(m,j,o){if(o.getParameter('reason')==='expand'){p(m,j);}};this._tree.getBinding('rows').attachChange(k.bind(this,this._tree,j));p(this._tree,j);};S.prototype._dataChange=function(e){if(this._viewStateManager==null||this._scene==null||this._vSyncing){return;}if(this._lastChangeIsExpand){this._lastChangeIsExpand=false;return;}if(this._forwardVTimer>0){clearTimeout(this._forwardVTimer);}this._forwardVTimer=setTimeout(this._resyncVisibilityForward.bind(this),100);};S.prototype._resyncVisibilityForward=function(){if(!this._vSyncing){this._vSyncing=true;this._forwardVTimer=0;this._setNodeVisibilityRecursive(this._model.getData(),this._viewStateManager);this._vSyncing=false;}};S.prototype._enumerateChildrenIntoArray=function(n,d){var e=this._scene.getDefaultNodeHierarchy();e.enumerateChildren(n,function(p){var i=p.getNodeId();d.push(i);if(p.getHasChildren()){this._enumerateChildrenIntoArray(i,d);}});};S.prototype._setNodeVisibilityRecursive=function(n,v){if(n.id!=null&&v.getVisibilityState(n.id)!=n.visible){v.setVisibilityState(n.id,n.visible,true);if(n[0]!=undefined){if(this._reverseVTimer>0){clearTimeout(this._reverseVTimer);}this._reverseVTimer=setTimeout(this._resyncVisibilityReverse.bind(this),100);}}else{for(var i=0;n[i]!=null;i++){this._setNodeVisibilityRecursive(n[i],v);}}};S.prototype._toggleVisibilityForAllChildren=function(n,d){for(var i=0;n[i]!=null;i++){this._viewStateManager.setVisibilityState(n[i].id,d,true);}};S.prototype._nodeVisibilityChanged=function(e){if(!this._vSyncing){if(this._reverseVTimer>0){clearTimeout(this._reverseVTimer);}this._reverseVTimer=setTimeout(this._resyncVisibilityReverse.bind(this),100);}};S.prototype._resyncVisibilityReverse=function(){if(!this._vSyncing){this._vSyncing=true;this._forwardVTimer=0;this._getNodeVisibilityRecursive(this._model.getData(),this._viewStateManager);this._tree.getModel().refresh(true);this._vSyncing=false;}};S.prototype._getNodeVisibilityRecursive=function(n,v){if(n.id!=null){n.visible=v.getVisibilityState(n.id);n.checkEyeTooltip=g(n.visible,this);}for(var i=0;n[i]!=null;i++){this._getNodeVisibilityRecursive(n[i],v);}};S.prototype.refresh=function(){if(this._scene==null){this._model.setData([]);return;}var n=this._scene.getDefaultNodeHierarchy();var t={};this._totalNodes=0;var d=function(t,e){e.forEach(function(f,i){var h=new N(n,f);var j=this._createNodeForSceneTree(h.getName(),h.getNodeId(),this._viewStateManager);t[i]=j;h.destroy();this._totalNodes++;d.bind(this)(t[i],n.getChildren(f));}.bind(this));};d.bind(this)(t,n.getChildren());this._model.setData(t);this._tree.setModel(this._model);this._tree.bindRows({path:'/'});this._tree.getBinding('rows').attachChange(this._dataChange.bind(this));this._visibilityColumnHeader.setChecked(true);this._visibilityColumnHeader.setTooltip(g(true,this));};S.prototype.onAfterRendering=function(){};return S;},true);\n",
	"sap/ui/vk/SceneTreeRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUiSizeCompact');r.addClass('sapRULTSceneTree');r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_tree'));r.write('</div>');};return S;},true);\n",
	"sap/ui/vk/StepNavigation.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/ResizeHandler','./Loco','./ViewportHandler','sap/ui/core/Popup','sap/ui/core/IconPool','./Messages'],function(q,l,C,R,L,V,P,I,M){'use strict';var S=C.extend('sap.ui.vk.StepNavigation',{metadata:{library:'sap.ui.vk',properties:{settings:'object',width:{type:'sap.ui.core.CSSSize',defaultValue:'100%'},height:{type:'sap.ui.core.CSSSize',defaultValue:'100%'},showThumbnails:{type:'boolean',group:'Appearance',defaultValue:true},showToolbar:{type:'boolean',group:'Appearance',defaultValue:true},showStepInfo:{type:'boolean',group:'Appearance',defaultValue:false}},publicMethods:['setGraphicsCore','setScene','playStep','pauseStep','playAllSteps','getStep','getNextStep','getPreviousStep','getProceduresAndSteps','refresh','clear'],associations:{},aggregations:{procedureItemTemplate:{type:'sap.ui.core.Item',multiple:false},stepInfoPopup:{type:'sap.ui.core.Control',multiple:false},layout:{type:'sap.m.Toolbar',multiple:false},thumbnailsContainer:{type:'sap.m.Panel',multiple:false}},events:{'resize':{parameters:{oldSize:'object',size:'object'}},'stepChanged':{parameters:{clientId:'object',type:'object',stepId:'object'}}}}});S.prototype.setGraphicsCore=function(g){if(g!=this._graphicsCore){this._graphicsCore=g;}this.instanceSettings={};this.oDvl=this._graphicsCore.getApi(sap.ui.vk.GraphicsCoreApi.LegacyDvl);this.oDvl.Client.OnStepEvent=function(c,t,s){var o=this.getSettings();this.instanceSettings.currentStepId=s;switch(t){case sap.ve.dvl.DVLSTEPEVENT.DVLSTEPEVENT_FINISHED:o.currentStepFinished=true;o.currentStepPaused=false;o.playAllActive=false;o.isPlaying=false;this._togglePlayPause(true);break;case sap.ve.dvl.DVLSTEPEVENT.DVLSTEPEVENT_SWITCHED:case sap.ve.dvl.DVLSTEPEVENT.DVLSTEPEVENT_STARTED:o.currentStepId=s;o.currentStepFinished=false;this._highlightStep(s);if(o.currentStepPaused){this.pauseStep();}break;default:q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT12.summary),this._messages.messages.VIT12.code,'sap.ui.vk.StepNavigation');}this.fireStepChanged({clientId:c,type:t,stepId:s});}.bind(this);return this;};S.prototype.hasGraphicsCore=function(){if(this._graphicsCore){return true;}return false;};S.prototype.setScene=function(s){this._scene=s;if(this['_getStepThumbnails']){if(!this._graphicsCore){this.setGraphicsCore(this._scene.getGraphicsCore());}delete this._procedures;var p=this.getProcedureList();var o=this.getSettings();o.reset();p.unbindItems();p.setSelectedItem(p.getFirstItem());if(o.stepInfo.stepMessagePopup){if(!o.stepInfo.stepMessagePopup.isOpen()){o.stepInfo.stepMessagePopup.close();}o.stepInfo.stepMessagePopup.destroy();o.stepInfo.stepMessagePopup=null;this.getShowStepInfoButton().setText(sap.ui.vk.getResourceBundle().getText('STEP_NAV_STEPDESCRIPTIONHEADING'));}var a=this._getStepThumbnails();this.oModel.setData(a);this._togglePlayPause(true);this._refreshControl();}this.refresh();};S.prototype.init=function(){this._messages=new M();if(C.prototype.init){C.prototype.init(this);}if(this.getSettings()==undefined){this.setSettings(new this._settings());}this._graphicsCore=null;this.oModel=new sap.ui.model.json.JSONModel();this._layout=new sap.m.Toolbar({design:sap.m.ToolbarDesign.Solid});this.setAggregation('layout',this._layout);if(this.getShowThumbnails()){this._thumbnailsScroller=new sap.m.ScrollContainer(this.getId()+'-scroller',{width:'100%',horizontal:true,vertical:false,focusable:true});this._thumbnailsContainer=new sap.m.Panel({expandable:false,content:[this._thumbnailsScroller]});this.setAggregation('thumbnailsContainer',this._thumbnailsContainer);}this.playPreviousButton=new sap.m.Button(this.getId()+'-playPreviousButton',{type:sap.m.ButtonType.Transparent,icon:'sap-icon://slim-arrow-left',tooltip:sap.ui.vk.getResourceBundle().getText('STEP_NAV_PREVIOUSSTEPBUTTON'),visible:true,press:function(e){var s=this.getSettings();var p=this.getPreviousStep(s.currentProcedureIndex);if(p){s.currentStepPaused=false;this.playStep(p.id,true,s.playAllActive);this._togglePlayPause(false);}}.bind(this)});this.playNextButton=new sap.m.Button(this.getId()+'-playNextButton',{type:sap.m.ButtonType.Transparent,icon:'sap-icon://slim-arrow-right',tooltip:sap.ui.vk.getResourceBundle().getText('STEP_NAV_NEXTSTEPBUTTON'),visible:true,press:function(e){var s=this.getSettings();var n=this.getNextStep(s.currentProcedureIndex);if(n){s.currentStepPaused=false;this.playStep(n.id,true,s.playAllActive);this._togglePlayPause(false);}}.bind(this)});this.playOptionButton=new sap.m.Button(this.getId()+'-playOptionButton',{type:sap.m.ButtonType.Transparent,icon:'sap-icon://media-play',tooltip:sap.ui.vk.getResourceBundle().getText('STEP_NAV_PLAYBUTTON_PLAY'),visible:true,press:function(e){var k=this.getPlayMenuButton().getSelectedKey();var s=this.getSettings();var f=null;switch(k){case'0':if(!s.currentStepId){f=this.getNextStep(s.currentProcedureIndex);if(f){s.currentStepId=f.id;}else{return;}}s.playAllActive=false;this.playStep(s.currentStepId,!s.currentStepPaused,s.playAllActive);s.isPlaying=true;s.currentStepPaused=false;this._togglePlayPause(false);break;case'1':s.playAllActive=true;s.currentStepPaused=false;this.playAllSteps(s.currentProcedureId);s.isPlaying=true;this._togglePlayPause(false);break;case'2':if(!s.currentStepId){f=this.getNextStep(s.currentProcedureIndex);if(f){s.currentStepId=f.id;}else{return;}}s.playAllActive=true;var p=!s.currentStepPaused;s.currentStepPaused=false;this.playStep(s.currentStepId,p,s.playAllActive);s.isPlaying=true;this._togglePlayPause(false);break;default:break;}}.bind(this)});this.procedureList=new sap.m.Select(this.getId()+'-procedureList',{tooltip:sap.ui.vk.getResourceBundle().getText('STEP_NAV_PROCEDURESLISTHEADING'),selectedKey:'0',type:sap.m.SelectType.Default,enabled:true,width:'30%',autoAdjustWidth:true,change:function(c){var p=this.getProcedureList();var s=this.getSettings();s.currentProcedureIndex=0;s.currentProcedureId=this.instanceSettings.currentProcedureId=p.getSelectedKey();s.currentStepId=this.instanceSettings.currentStepId=null;for(var i=0;i<this.oModel.oData.procedures.length;i++){if(this.oModel.oData.procedures[i].id==s.currentProcedureId){s.currentProcedureIndex=i;s.currentProcedure=this.oModel.oData.procedures[i];break;}}if(s.stepInfo.stepMessagePopup){if(!s.stepInfo.stepMessagePopup.isOpen()){s.stepInfo.stepMessagePopup.close();}s.stepInfo.stepMessagePopup.destroy();s.stepInfo.stepMessagePopup=null;}this._refreshItems();}.bind(this)});this.procedureList.addStyleClass('sapVizKitStepNavigationProcedureList');this.setAggregation('procedureItemTemplate',(new sap.ui.core.ListItem().bindProperty('text','name').bindProperty('key','id').bindProperty('tooltip','name')));this.playMenuButton=(new sap.m.Select(this.getId()+'-playMenuButtonIcon',{selectedKey:'0',type:sap.m.SelectType.Default,tooltip:sap.ui.vk.getResourceBundle().getText('STEP_NAV_PLAYMENU_PLAYOPTIONS'),enabled:true,autoAdjustWidth:false,items:[new sap.ui.core.ListItem({key:'0',icon:'sap-icon://media-play',text:sap.ui.vk.getResourceBundle().getText('STEP_NAV_PLAYMENU_PLAY'),tooltip:sap.ui.vk.getResourceBundle().getText('STEP_NAV_PLAYMENU_PLAY')}),new sap.ui.core.ListItem({key:'1',icon:'sap-icon://media-play',text:sap.ui.vk.getResourceBundle().getText('STEP_NAV_PLAYMENU_PLAYALL'),tooltip:sap.ui.vk.getResourceBundle().getText('STEP_NAV_PLAYMENU_PLAYALL')}),new sap.ui.core.ListItem({key:'2',icon:'sap-icon://media-play',text:sap.ui.vk.getResourceBundle().getText('STEP_NAV_PLAYMENU_PLAYALLREMAINING'),tooltip:sap.ui.vk.getResourceBundle().getText('STEP_NAV_PLAYMENU_PLAYALLREMAINING')})]}));this.playMenuButton.addStyleClass('sapVizKitStepNavigationPlayOptionsSelect');this.pauseButton=new sap.m.Button(this.getId()+'-pauseButton',{type:sap.m.ButtonType.Transparent,icon:'sap-icon://media-pause',visible:false,tooltip:sap.ui.vk.getResourceBundle().getText('STEP_NAV_PLAYMENU_PAUSE'),press:function(e){var s=this.getSettings();this.pauseStep();s.currentStepPaused=true;s.isPlaying=false;this._togglePlayPause(true);}.bind(this)});this.showStepInfoButton=new sap.m.ToggleButton(this.getId()+'-showStepInfoButton',{icon:'sap-icon://hide',type:sap.m.ButtonType.Transparent,pressed:false,text:sap.ui.vk.getResourceBundle().getText('STEP_NAV_STEPDESCRIPTIONHEADING'),tooltip:sap.ui.vk.getResourceBundle().getText('STEP_NAV_STEPDESCRIPTIONHEADING'),press:function(e){var t=e.getSource();if(t.getPressed()){this.setShowStepInfo(true);t.setIcon('sap-icon://show');t.setTooltip(sap.ui.vk.getResourceBundle().getText('STEP_NAV_HIDESTEPDESCRIPTIONBUTTON'));}else{this.setShowStepInfo(false);t.setIcon('sap-icon://hide');t.setTooltip(sap.ui.vk.getResourceBundle().getText('STEP_NAV_SHOWSTEPDESCRIPTIONBUTTON'));}}.bind(this)});this._layout.addContent(this.playPreviousButton);this._layout.addContent(this.playOptionButton);this._layout.addContent(this.pauseButton);this._layout.addContent(this.playMenuButton);this._layout.addContent(this.procedureList);this._layout.addContent(this.showStepInfoButton);this._layout.addContent(new sap.m.ToolbarSpacer());this._layout.addContent(this.playNextButton);};S.prototype.getScroller=function(){return this._thumbnailsScroller;};S.prototype.getProcedureList=function(){var i=this.getId()+'-procedureList';var h=this._layout;var c=sap.ui.getCore().byId(i);return h.getContent()[h.indexOfContent(c)];};S.prototype.getPlayMenuButton=function(){var i=this.getId()+'-playMenuButtonIcon';var h=this._layout;var c=sap.ui.getCore().byId(i);return h.getContent()[h.indexOfContent(c)];};S.prototype.getPlayOptionButton=function(){var i=this.getId()+'-playOptionButton';var h=this._layout;var c=sap.ui.getCore().byId(i);return h.getContent()[h.indexOfContent(c)];};S.prototype.getPauseButton=function(){var i=this.getId()+'-pauseButton';var h=this._layout;var c=sap.ui.getCore().byId(i);return h.getContent()[h.indexOfContent(c)];};S.prototype.getPlayNextButton=function(){var i=this.getId()+'-playNextButton';var h=this._layout;var c=sap.ui.getCore().byId(i);return h.getContent()[h.indexOfContent(c)];};S.prototype.getPlayPreviousButton=function(){var i=this.getId()+'-playPreviousButton';var h=this._layout;var c=sap.ui.getCore().byId(i);return h.getContent()[h.indexOfContent(c)];};S.prototype.getShowStepInfoButton=function(){var i=this.getId()+'-showStepInfoButton';var h=this._layout;var c=sap.ui.getCore().byId(i);return h.getContent()[h.indexOfContent(c)];};S.prototype.exit=function(){if(this._resizeListenerId){R.deregister(this._resizeListenerId);this._resizeListenerId=null;}if(C.prototype.exit){C.prototype.exit.apply(this);}};S.prototype._settings=function(){return{enabled:false,toggle:{addCss:function(k,p,o,a){if(!this.targets[k]){this.targets[k]={'type':'css','property':p,'onValue':o,'offValue':a};}},addMethod:function(t,m,o,a,u){var k=t.getId();if(!this.targets[k]){this.targets[k]={'type':'method','target':t,'method':m,'onValue':o,'offValue':a,'useJQuery':u};}},targets:{}},currentProcedureIndex:0,currentProcedureId:'',currentProcedure:null,currentStepId:null,currentStep:null,currentStepPaused:false,isPlaying:false,currentStepFinished:true,playAllActive:false,showToolbar:true,showThumbnails:true,portfolioMode:false,reset:function(){this.currentStep=null;this.currentProcedure=null;this.currentProcedureIndex=0;this.currentProcedureId='';this.currentStepId=null;this.currentStepPaused=false;this.currentStepFinished=true;this.playAllActive=false;this.portfolioMode=false;},stepInfo:{lastTop:null,lastLeft:null,stepMessagePopup:null,openPopup:function(p,t,a,b){this._customHeaderText=this._customHeaderText||new sap.m.Text({width:'100%',textAlign:sap.ui.core.TextAlign.Center}).addStyleClass('sapVizKitStepNavigationPopoverTitle');this._customHeaderText.setText(p);this._customHeaderText.setTooltip(p);this._customHeader=this._customHeader||new sap.m.Bar({contentLeft:[this._customHeaderText]});this._textContent=this._textContent||new sap.m.Text({});this._textContent.addStyleClass('sapVizKitStepNavigationPopoverContent');this._textContent.setText(t);this.stepMessagePopup=this.stepMessagePopup||new sap.m.ResponsivePopover({placement:b,showCloseButton:true,verticalScrolling:true,contentHeight:'10%',contentWidth:'30%',content:[this._textContent],customHeader:this._customHeader});this.stepMessagePopup.addStyleClass('sapVizKitStepNavigationPopoverStepInfo');this.stepMessagePopup.openBy(a);}}};};S.prototype.refresh=function(s){q.sap.log.info('StepNavigation refresh() called.');if(this.getVisible()&&(this['_getStepThumbnails']&&this._scene!=null)){var p=this.getProcedureList();var o=this.getSettings();o.reset();p.setSelectedItem(p.getFirstItem());var a=this._getStepThumbnails();if(o.stepInfo.stepMessagePopup){if(!o.stepInfo.stepMessagePopup.isOpen()){o.stepInfo.stepMessagePopup.close();}o.stepInfo.stepMessagePopup.destroy();o.stepInfo.stepMessagePopup=null;}this.oModel.setData(a);this._togglePlayPause(true);this._refreshControl();}else if(this.getVisible()){this._refreshControl();}return true;};S.prototype.clear=function(){q.sap.log.info('StepNavigation clear() called.');return true;};S.prototype.onBeforeRendering=function(){if(this._resizeListenerId){R.deregister(this._resizeListenerId);this._resizeListenerId=null;}if(this.getShowToolbar()){var p=this.getProcedureList();p.setModel(this.oModel);var o=this.getProcedureItemTemplate();p.bindItems('/procedures',o);}};S.prototype.onAfterRendering=function(){if(this._canvas){var a=this.getDomRef();a.appendChild(this._canvas);this._resizeListenerId=R.register(this,this._handleResize.bind(this));this._bestFit();this.fireResize({size:{width:a.clientWidth,height:a.clientHeight}});}var s=this.getSettings();this._togglePlayPause(!s.isPlaying);if(s.currentStepId){this._highlightStep(s.currentStepId);}};S.prototype._handleResize=function(e){this.fireResize({oldSize:e.oldSize,size:e.size});this._update();};S.prototype._reset=function(){this._x=0;this._y=0;this._s=1.0;this._r=0;};S.prototype._update=function(){var x=this._x-(this._imageW-this._canvas.clientWidth)/2;var y=this._y-(this._imageH-this._canvas.clientHeight)/2;var t='matrix('+this._s+',0,0,'+this._s+','+x+','+y+')';this._img.style.transform=t;this._img.style.webkitTransform=t;this._img.style.msTransform=t;this._img.style.MozTransform=t;this._img.style.OTransform=t;};S.prototype._bestFit=function(){this._reset();var s=this._canvas.clientWidth/this._img.width;var a=this._canvas.clientHeight/this._img.height;this._s=s<a?s:a;if(this._s==0){this._s=1.0;}this._x=0;this._y=0;this._update();};var d={onAfterRendering:function(e){e.srcControl.focus();e.srcControl.removeEventDelegate(this);}};S.prototype._togglePlayPause=function(p){this.togglePlayPauseActive=true;if(this.getSettings().showToolbar){var a=this.getPlayOptionButton(),b=this.getPauseButton();if(p){if(sap.ui.getCore().getCurrentFocusedControlId()===b.getId()){a.addEventDelegate(d);}b.setVisible(false);a.setVisible(true);}else{if(sap.ui.getCore().getCurrentFocusedControlId()===a.getId()){b.addEventDelegate(d);}a.setVisible(false);b.setVisible(true);}}};S.prototype._refreshControl=function(){var p=this.getProcedureList();var o=this.getProcedureItemTemplate();var s=this.getSettings();if(s.stepInfo.stepMessagePopup){if(!s.stepInfo.stepMessagePopup.isOpen()){s.stepInfo.stepMessagePopup.close();}s.stepInfo.stepMessagePopup.destroy();s.stepInfo.stepMessagePopup=null;this.getShowStepInfoButton().setText(sap.ui.vk.getResourceBundle().getText('STEP_NAV_STEPDESCRIPTIONHEADING'));}p.unbindItems();if(this.oModel.oData.procedures.length>0){var f=this.oModel.oData.procedures[0];if(this.getShowToolbar()){p.bindItems('/procedures',o);p.selectedKey=f.id;p.enabled=true;}this._refreshItems();}else{if(this.getShowToolbar()){p.bindItems('/procedures',o);p.enabled=false;}if(this.getShowThumbnails()){var a=this.getScroller();a.destroyContent();}}};S.prototype._refreshItems=function(){var t=this;var s=[];var p=this.getProcedureList();var o=t.getSettings();var a=new sap.m.HBox();if(!o.currentProcedure){o.currentProcedure=t.oModel.oData.procedures[o.currentProcedureIndex];p.setSelectedItem(p.getFirstItem());}if(o.currentProcedureId!=''||t.oModel.oData.procedures.length>0){if(t.getShowThumbnails()){var b=t.getScroller();b.removeAllContent();s=t.oModel.oData.procedures[o.currentProcedureIndex].steps;var c=function(f){o.currentStepPaused=false;var g=sap.ui.getCore().byId(f.getSource().getId());t.playStep(g.getCustomData()[0].getValue('stepId'));o.playAllActive=false;t._togglePlayPause(false);};for(var i=0;i<s.length;i++){var e=new sap.m.Image({alt:s[i].name,src:'data:image/'+s[i].thumbnailType+';base64,'+s[i].thumbnailData,densityAware:false,tooltip:s[i].name,press:c.bind(t),layoutData:new sap.m.FlexItemData({shrinkFactor:0})});e.data('stepId',s[i].id);e.addCustomData(new sap.ui.core.CustomData({key:'stepId',value:s[i].id}));e.addStyleClass('sapVizKitStepNavigationStepItem');a.addItem(e);}b.addContent(a);}}};S.prototype._getPopupPlacement=function(e){var p=null;var y=0;while(e){y+=e.offsetTop;e=e.offsetParent;}if(y>200){p=sap.m.PlacementType.Top;}else{p=sap.m.PlacementType.Bottom;}return p;};S.prototype._isScrollingNecessary=function(i,s){var a;if(i&&s){var b=q(i).offset().left+q(i).width();var t=q(s).width();if(b-q(i).width()<0){a=true;}else if((t-b)<q(i).width()){a=true;}else{a=false;}}else{a=false;}return a;};S.prototype._scrollToItem=function(i,s){var p={},o=q(i).offset(),c=q(s).scrollLeft();p.scrollLeft=o.left+(c-q(s).offset().left);p.scrollLeft-=parseInt(q(i).css('marginLeft'),10)||0;p.scrollLeft-=parseInt(q(i).css('borderLeftWidth'),10)||0;q(s).animate(p,50);};S.prototype._highlightStep=function(s){var t=this;if(t.getVisible()){var o=t.getSettings();var a=t.getStep(0,o.currentProcedureIndex,s);if(!o.currentProcedure){o.currentProcedure=t.oModel.oData.procedures[t.oSettings.currentProcedureIndex];}var b=t.getShowStepInfoButton();var p;var c=document.getElementById(b.getId());p=t._getPopupPlacement(c);if(t.getShowStepInfo()){o.stepInfo.openPopup.call(this,a.name,a.description,b,p);}else if(o.stepInfo.stepMessagePopup&&o.stepInfo.stepMessagePopup.isOpen()){o.stepInfo.stepMessagePopup.close();}if(t.getShowThumbnails()){var e=t.getScroller();var T=e.getContent()[0].getItems();for(var i=0;i<T.length;i++){if(T[i].getCustomData()[0].getValue('stepId')==s){T[i].addStyleClass('selected');if(t._isScrollingNecessary(T[i].$()[0],q('#'+e.sId)[0])){t._scrollToItem(T[i].$()[0],q('#'+e.sId)[0]);}}else{T[i].removeStyleClass('selected');}}}}};S.prototype.getProceduresAndSteps=function(){return this._getStepThumbnails();};S.prototype._getStepThumbnails=function(){var t=this;var p=t._retrieveProcedures();if(p.sceneId!=null){var a;var e;var i;var s;var b;for(var c in p.procedures){var o=p.procedures[c];for(var f in o.steps){s=o.steps[f];a=t.oDvl.Scene.RetrieveThumbnail(p.sceneId,s.id);e=a.substring(a.length-2);b=a.substring(0,3);if(b=='iVB'){i='png';}else if(b!='eff'&&b!='err'){i='jpg';}else if(b=='eff'||b=='err'){i=null;a=null;}if(/,$/.test(e)||/,,$/.test(e)){a=a.substring(0,a.length-4);e=a.substring(a.length-2);}p.procedures[c].steps[f].thumbnailData=a;p.procedures[c].steps[f].thumbnailType=i;}}for(var g in p.portfolios){var h=p.portfolios[g];for(var j in h.steps){s=h.steps[j];a=t.oDvl.Scene.RetrieveThumbnail(p.sceneId,s.id);e=a.substring(a.length-2);b=a.substring(0,3);if(b=='iVB'){i='png';}else if(b!='eff'){i='jpg';}else if(b=='eff'){i=null;}p.portfolios[g].steps[j].thumbnailData=a;p.portfolios[g].steps[j].thumbnailType=i;}}p.hasThumbnails=true;}t._procedures=p;return p;};S.prototype._retrieveProcedures=function(a){var t=this;var p={};if(!t._procedures){p={sceneId:null,hasThumbnails:false,'procedures':[],'portfolios':[]};}else{p=t._procedures;}if(t._scene&&(p.sceneId!=(a||t._scene._dvlSceneId))){var s=a||t._scene._dvlSceneId;if(s!=null){var b=t.oDvl.Scene.RetrieveProcedures(s);if(b!=null){p.hasThumbnails=false;p.sceneId=t._scene._dvlSceneId;p.procedures=b.procedures;p.portfolios=b.portfolios;}else{p={sceneId:null,hasThumbnails:false,'procedures':[],'portfolios':[]};}}}return p;};S.prototype.getStep=function(r,a,s){var t=this;var b=t.oDvl.Settings.LastLoadedSceneId;var c=null;if(b!=null){a=a!=null?a:0;var e=s?s:t.instanceSettings.currentStepId;var p=t._retrieveProcedures(b);var f=p.procedures[a];if(f&&f.steps.length>0){c=f.steps[0];}else{return null;}if(e!=''){for(var g=0;g<f.steps.length;g++){var _=f.steps[g];if(_.id==e){var x=g+r;if(x<f.steps.length&&x>=0){c=f.steps[x];}else{c=null;}break;}}}}return c;};S.prototype.pauseStep=function(){var t=this;var s=t.oDvl.Settings.LastLoadedSceneId;if(s!=null){t.oDvl.Scene.PauseCurrentStep(s);}};S.prototype._stepCount=function(a){var t=this;var s=t.oDvl.Settings.LastLoadedSceneId;var b=0;if(s!=null){var p=t._retrieveProcedures(s);for(var c=0;c<p.procedures.length;c++){if(p.procedures[c].id==a){b=p.procedures[c].steps.length;break;}else if(a==null){b+=p.procedures[c].steps.length;}}}return b;};S.prototype.getPreviousStep=function(p){var t=this;return t.getStep(-1,p);};S.prototype.getNextStep=function(p){var t=this;return t.getStep(1,p);};S.prototype.playStep=function(a,f,c){var t=this;var s=t.oDvl.Settings.LastLoadedSceneId;if(s!=null){t.instanceSettings.currentStepId=a;t.oDvl.Scene.ActivateStep(s,a,f!=null?f:true,c!=null?c:false);}};S.prototype.playAllSteps=function(p){var t=this;var a=t.oDvl.Settings.LastLoadedSceneId;if(a!=null){var b=t._retrieveProcedures(a);var c=0;if(p!=null&&b.procedures.length>1){for(var i=0;i<b.procedures.length;i++){if(b.procedures[i].id==p){c=i;break;}}}if(b.procedures.length>0){var s=b.procedures[c].steps[0];if(s){t.instanceSettings.currentStepId=s.id;t.oDvl.Scene.ActivateStep(a,s.id,true,true);}}}};return S;});\n",
	"sap/ui/vk/StepNavigationRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){if(!c.getVisible()){return;}if(c.getShowToolbar()||c.getShowThumbnails){var w=c.getWidth()!=='auto'?c.getWidth():'100%';var h=c.getHeight()!=='auto'?c.getHeight():'auto';r.write('<div');r.addStyle('width',w);r.addStyle('height',h);r.writeControlData(c);r.addClass('sapVizKitStepNavigation');r.writeClasses();var t=c.getTooltip_AsString();if(t){r.writeAttributeEscaped('title',t);}if(!c.getVisible()){r.addStyle('visibility','hidden');}r.writeStyles();r.write('>');r.renderControl(c.getAggregation('layout'));if(c.getShowThumbnails()){S._renderScrollerDiv(r,c);}r.write('</div>');}};S._renderScrollerDiv=function(r,c){r.renderControl(c.getAggregation('thumbnailsContainer'));};return S;},true);\n",
	"sap/ui/vk/Toolbar.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/model/json/JSONModel'],function(q,l,C,J){'use strict';var T=C.extend('sap.ui.vk.Toolbar',{metadata:{library:'sap.ui.vk',properties:{title:{type:'string',group:'Appearance',defaultValue:''}},events:{},associations:{viewer:{type:'sap.ui.vk.Viewer',cardinality:'0..1'}},aggregations:{_toolbar:{type:'sap.m.Toolbar',multiple:false,visibility:'hidden'},_helpButton:{type:'sap.m.Button',multiple:false,visibility:'hidden'},_stepNavigationButton:{type:'sap.m.ToggleButton',multiple:false,visibility:'hidden'},_sceneTreeButton:{type:'sap.m.ToggleButton',multiple:false,visibility:'hidden'},_enterFullScreenButton:{type:'sap.m.ToggleButton',multiple:false,visibility:'hidden'},_exitFullScreenButton:{type:'sap.m.Button',multiple:false,visibility:'hidden'},_toolbarTitle:{type:'sap.m.Title',multiple:false,visibility:'hidden'}}}});T.prototype._isUsingIOS=function(){return(sap.ui.Device.system.tablet||sap.ui.Device.system.phone)&&sap.ui.Device.os.ios;};T.prototype._onSceneTree=function(){this.oViewer=sap.ui.getCore().byId(this.getViewer());if(this.oViewer!=null){this.oViewer._componentsState.sceneTree.userInteractionShow=this._sceneTreeButton.getPressed();this.oViewer.setShowSceneTree(this.oViewer._componentsState.sceneTree.userInteractionShow);}};T.prototype._onStepNavigation=function(){this.oViewer=sap.ui.getCore().byId(this.getViewer());if(this.oViewer!=null){this.oViewer._componentsState.stepNavigation.userInteractionShow=this._stepNavigationButton.getPressed();this.oViewer.setShowStepNavigation(this.oViewer._componentsState.stepNavigation.userInteractionShow);}};T.prototype._onFullScreen=function(){this.oViewer=sap.ui.getCore().byId(this.getViewer());if(this.oViewer!=null){var n=this._enterFullScreenButton.getPressed();this.oViewer.setEnableFullScreen(n);}};T.prototype._fullScreenHandler=function(e){var f=e.mParameters.isFullScreen;this._enterFullScreenButton.setPressed(f);if(f){this._enterFullScreenButton.setIcon('sap-icon://exit-full-screen');}else{this._enterFullScreenButton.setIcon('sap-icon://full-screen');}};T.prototype.init=function(){if(C.prototype.init){C.prototype.init.apply(this);}var _=new sap.m.ToolbarSpacer();var a=new sap.m.Button({icon:'sap-icon://sys-help',type:sap.m.ButtonType.Transparent,tooltip:sap.ui.vk.getResourceBundle().getText('VIEWER_HELPBUTTONTOOLTIP')});this.setAggregation('_helpButton',a);this._stepNavigationButton=new sap.m.ToggleButton({icon:'sap-icon://step',type:sap.m.ButtonType.Transparent,enabled:false,tooltip:sap.ui.vk.getResourceBundle().getText('STEP_NAV_MENUBUTTONTOOLTIP'),press:this._onStepNavigation.bind(this)});this.setAggregation('_stepNavigationButton',this._stepNavigationButton);this._sceneTreeButton=new sap.m.ToggleButton({icon:'sap-icon://tree',type:sap.m.ButtonType.Transparent,tooltip:sap.ui.vk.getResourceBundle().getText('SCENETREE_MENUBUTTONTOOLTIP'),press:this._onSceneTree.bind(this)});this.setAggregation('_sceneTreeButton',this._sceneTreeButton);var t;this._toolbarTitle=new sap.m.Title();if(!this._isUsingIOS()){this._enterFullScreenButton=new sap.m.ToggleButton({icon:'sap-icon://full-screen',type:sap.m.ButtonType.Transparent,tooltip:sap.ui.vk.getResourceBundle().getText('VIEWER_FULLSCREENBUTTONTOOLTIP'),press:this._onFullScreen.bind(this)});this.setAggregation('_enterFullScreenButton',this._enterFullScreenButton);var b=new sap.m.Button({icon:'sap-icon://exit-full-screen',type:sap.m.ButtonType.Transparent,tooltip:sap.ui.vk.getResourceBundle().getText('VIEWER_FULLSCREENBUTTONTOOLTIP')});this.setAggregation('_exitFullScreenButton',b);t=[this._toolbarTitle,_,new sap.m.ToolbarSeparator(),this._sceneTreeButton,new sap.m.ToolbarSeparator(),this._stepNavigationButton,new sap.m.ToolbarSeparator(),this._enterFullScreenButton];}else{t=[this._toolbarTitle,_,new sap.m.ToolbarSeparator(),this._sceneTreeButton,new sap.m.ToolbarSeparator(),this._stepNavigationButton];}this.setAggregation('_toolbarTitle',this._toolbarTitle);this._toolbar=new sap.m.Toolbar({design:sap.m.ToolbarDesign.Solid,content:t});this.setAggregation('_toolbar',this._toolbar,true);};T.prototype.exit=function(){this.oViewer=sap.ui.getCore().byId(this.getViewer());if(this.oViewer){this.oViewer.detachFullScreen(this._fullScreenHandler.bind(this));}};T.prototype.onBeforeRendering=function(){this._toolbar.setVisible(true);this._toolbarTitle.setText(this.getTitle());};T.prototype.refresh=function(){this.oViewer=sap.ui.getCore().byId(this.getViewer());this._stepNavigationButton.setPressed(this.oViewer.getShowStepNavigation());this._stepNavigationButton.setEnabled(this.oViewer.getEnableStepNavigation());this._sceneTreeButton.setPressed(this.oViewer.getShowSceneTree());this._sceneTreeButton.setEnabled(this.oViewer.getEnableSceneTree());this.oViewer.attachFullScreen(this._fullScreenHandler.bind(this));return true;};T.prototype.onAfterRendering=function(){this.refresh();};return T;},true);\n",
	"sap/ui/vk/ToolbarRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var T={};T.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapVizKitToolbar');r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_toolbar'));r.write('</div>');};return T;},true);\n",
	"sap/ui/vk/TransformationMatrix.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/DataType'],function(q,D){'use strict';var T=D.createType('sap.ui.vk.TransformationMatrix',{isValid:function(v){return T.getBaseType().isValid(v)&&v.length===12;}},D.getType('float[]'));T.parseValue=function(v){var c=T.getComponentType();return v.split(/\\s*,\\s*|\\s+/).map(c.parseValue.bind(c));};T.convertTo4x4=function(a){var m=a;return[m[0],m[1],m[2],0,m[3],m[4],m[5],0,m[6],m[7],m[8],0,m[9],m[10],m[11],1];};T.convertTo4x3=function(a){var m=a;return[m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10],m[12],m[13],m[14]];};q.sap.setObject('sap.ui.vk.TransformationMatrix',T);return T;});\n",
	"sap/ui/vk/ViewStateManager.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/base/ManagedObject'],function(q,l,M){'use strict';var N;var a=q.sap.log;var V=M.extend('sap.ui.vk.ViewStateManager',{metadata:{publicMethods:['enumerateSelection','getNodeHierarchy','getSelectionState','getVisibilityState','setSelectionState','setVisibilityState'],events:{visibilityChanged:{parameters:{visible:{type:'string[]'},hidden:{type:'string[]'}},enableEventBubbling:true},selectionChanged:{parameters:{selected:{type:'string[]'},unselected:{type:'string[]'}},enableEventBubbling:true}}},constructor:function(n){a.debug('sap.ui.vk.ViewStateManager.constructor() called.');M.apply(this);var s=n.getScene();this._nodeHierarchy=n;this._dvlSceneId=s._getDvlSceneId();this._dvl=s.getGraphicsCore()._getDvl();this._dvlClientId=s.getGraphicsCore()._getDvlClientId();this._dvl.Client.attachNodeVisibilityChanged(this._handleNodeVisibilityChanged,this);this._dvl.Client.attachNodeSelectionChanged(this._handleNodeSelectionChanged,this);this._selectedNodes=new N();this._newlyVisibleNodes=[];this._newlyHiddenNodes=[];this._visibilityTimerId=null;this._selectionTimerId=null;}});V.prototype.destroy=function(){a.debug('sap.ui.vk.ViewStateManager.destroy() called.');if(this._selectionTimerId){q.sap.clearDelayedCall(this._selectionTimerId);this._selectionTimerId=null;}if(this._visibilityTimerId){q.sap.clearDelayedCall(this._visibilityTimerId);this._visibilityTimerId=null;}this._newlyHiddenNodes=null;this._newlyVisibleNodes=null;this._selectedNodes=null;if(this._dvl){this._dvl.Client.detachNodeSelectionChanged(this._handleNodeSelectionChanged,this);this._dvl.Client.detachNodeVisibilityChanged(this._handleNodeVisibilityChanged,this);}this._dvlClientId=null;this._dvlSceneId=null;this._dvl=null;this._scene=null;M.prototype.destroy.apply(this);};V.prototype.getNodeHierarchy=function(){return this._nodeHierarchy;};V.prototype.getVisibilityState=function(n){if(Array.isArray(n)){return n.map(function(b){return(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,b,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_VISIBLE)!==0;}.bind(this));}else{var b=n;return(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,b,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_VISIBLE)!==0;}};V.prototype.setVisibilityState=function(n,v,r){if(!Array.isArray(n)){n=[n];}var c=q.sap.unique((r?this._collectNodesRecursively(n):n)).filter(function(b){var i=(sap.ui.vk.dvl.getJSONObject(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,b,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_VISIBLE)!==0;return i!==v;}.bind(this));if(c.length>0){c.forEach(function(b){this._dvl.Scene.ChangeNodeFlags(this._dvlSceneId,b,sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_VISIBLE,v?sap.ve.dvl.DVLFLAGOPERATION.DVLFLAGOP_SET:sap.ve.dvl.DVLFLAGOPERATION.DVLFLAGOP_CLEAR);}.bind(this));this.fireVisibilityChanged({visible:v?c:[],hidden:v?[]:c});}return this;};V.prototype._handleNodeVisibilityChanged=function(p){if(p.clientId===this._dvlClientId&&p.sceneId===this._dvlSceneId){this[p.visible?'_newlyVisibleNodes':'_newlyHiddenNodes'].push(p.nodeId);if(!this._visibilityTimerId){this._visibilityTimerId=q.sap.delayedCall(0,this,function(){this._visibilityTimerId=null;this.fireVisibilityChanged({visible:this._newlyVisibleNodes.splice(0,this._newlyVisibleNodes.length),hidden:this._newlyHiddenNodes.splice(0,this._newlyHiddenNodes.length)});}.bind(this));}}};V.prototype.enumerateSelection=function(c){this._selectedNodes.forEach(c);return this;};V.prototype.getSelectionState=function(n){if(Array.isArray(n)){return n.map(function(b){return(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,b,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_SELECTED)!==0;}.bind(this));}else{var b=n;return(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,b,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_SELECTED)!==0;}};V.prototype.setSelectionState=function(n,s,r){if(!Array.isArray(n)){n=[n];}var c=q.sap.unique((r?this._collectNodesRecursively(n):n)).filter(function(d){var i=(sap.ui.vk.dvl.getJSONObject(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,d,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_SELECTED)!==0;return i!==s;}.bind(this));if(c.length>0){var b=this._selectedNodes[s?'add':'delete'].bind(this._selectedNodes);c.forEach(function(d){this._dvl.Scene.ChangeNodeFlags(this._dvlSceneId,d,sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_SELECTED,s?sap.ve.dvl.DVLFLAGOPERATION.DVLFLAGOP_SET:sap.ve.dvl.DVLFLAGOPERATION.DVLFLAGOP_CLEAR);b(d);}.bind(this));this.fireSelectionChanged({selected:s?c:[],unselected:s?[]:c});}return this;};V.prototype._handleNodeSelectionChanged=function(p){if(p.clientId===this._dvlClientId&&p.sceneId===this._dvlSceneId){if(!this._selectionTimerId){this._selectionTimerId=q.sap.delayedCall(0,this,function(){this._selectionTimerId=null;var c=new N(this._dvl.Scene.RetrieveSceneInfo(this._dvlSceneId,sap.ve.dvl.DVLSCENEINFO.DVLSCENEINFO_SELECTED).SelectedNodes);var n=[];this._selectedNodes.forEach(function(d){if(!c.has(d)){n.push(d);}});var b=[];c.forEach(function(d){if(!this._selectedNodes.has(d)){b.push(d);}}.bind(this));this._selectedNodes=c;this.fireSelectionChanged({selected:b,unselected:n});});}}};V.prototype._collectNodesRecursively=function(n){var r=[];var c=function(b){var d=typeof b==='string'?b:b.getNodeId();r.push(d);if((sap.ui.vk.dvl.getJSONObject(this._dvl.Scene.RetrieveNodeInfo(this._dvlSceneId,d,sap.ve.dvl.DVLNODEINFO.DVLNODEINFO_FLAGS)).Flags&sap.ve.dvl.DVLNODEFLAG.DVLNODEFLAG_CLOSED)===0){this._nodeHierarchy.enumerateChildren(d,c);}}.bind(this);n.forEach(c);return r;};N=function(b){b=b||[];if(this._builtin){if(sap.ui.Device.browser.msie){this._set=new Set();b.forEach(this._set.add.bind(this._set));}else{this._set=new Set(b);}}else{this._set=b.slice();}};N.prototype={constructor:N,_builtin:!!Set,add:function(v){if(this._builtin){this._set.add(v);}else if(this._set.indexOf()<0){this._set.push(v);}return this;},delete:function(v){if(this._builtin){return this._set.delete(v);}else{var i=this._set.indexOf(v);if(i>=0){this.splice(i,1);return true;}else{return false;}}},clear:function(){if(this._builtin){this._set.clear();}else{this._set.splice(0,this._set.length);}},has:function(v){if(this._builtin){return this._set.has(v);}else{return this._set.indexOf(v)>=0;}},forEach:function(c,t){this._set.forEach(c,t);}};return V;});\n",
	"sap/ui/vk/Viewer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control','./Scene','./ContentResource','sap/ui/layout/Splitter','sap/ui/layout/SplitterLayoutData','./FlexibleControl','./FlexibleControlLayoutData','sap/ui/core/ResizeHandler','./DvlException','./Messages','./ProgressIndicator','./Notifications'],function(q,l,C,S,a,b,c,F,d,R,D,M,P,N){'use strict';var f=q.sap.log;sap.ui.lazyRequire('sap.ui.vk.NativeViewport');sap.ui.lazyRequire('sap.ui.vk.Overlay');sap.ui.lazyRequire('sap.ui.vk.SceneTree');sap.ui.lazyRequire('sap.ui.vk.StepNavigation');sap.ui.lazyRequire('sap.ui.vk.Toolbar');sap.ui.lazyRequire('sap.ui.vk.Viewport');var V=C.extend('sap.ui.vk.Viewer',{metadata:{library:'sap.ui.vk',properties:{enableOverlay:{type:'boolean',defaultValue:false},enableSceneTree:{type:'boolean',defaultValue:true},showSceneTree:{type:'boolean',defaultValue:true},enableStepNavigation:{type:'boolean',defaultValue:true},enableNotifications:{type:'boolean',defaultValue:true},showStepNavigation:{type:'boolean',defaultValue:false},showStepNavigationThumbnails:{type:'boolean',defaultValue:true},enableToolbar:{type:'boolean',defaultValue:true},enableFullScreen:{type:'boolean',defaultValue:false},enableProgressIndicator:{type:'boolean',defaultValue:true},width:{type:'sap.ui.core.CSSSize',defaultValue:'auto'},height:{type:'sap.ui.core.CSSSize',defaultValue:'auto'},toolbarTitle:{type:'string',defaultValue:''}},publicMethods:['getGraphicsCore','getNativeViewport','getScene','getViewport','getViewStateManager'],aggregations:{contentResources:{type:'sap.ui.vk.ContentResource'},overlay:{type:'sap.ui.vk.Overlay',multiple:false},toolbar:{type:'sap.ui.vk.Toolbar',multiple:false,visibility:'hidden'},progressIndicator:{type:'sap.ui.vk.ProgressIndicator',multiple:false,visibility:'hidden'},viewport:{type:'sap.ui.vk.Viewport',multiple:false,visibility:'hidden'},nativeViewport:{type:'sap.ui.vk.NativeViewport',multiple:false,visibility:'hidden'},stepNavigation:{type:'sap.ui.vk.StepNavigation',multiple:false,visibility:'hidden'},sceneTree:{type:'sap.ui.vk.SceneTree',multiple:false,visibility:'hidden'},layout:{type:'sap.ui.vk.FlexibleControl',multiple:false,visibility:'hidden'},viewStateManager:{type:'sap.ui.vk.ViewStateManager',multiple:false,visibility:'hidden'},messagePopover:{type:'sap.ui.vk.Notifications',multiple:false,visibility:'hidden'}},events:{contentResourceChangesProcessed:{},sceneLoadingSucceeded:{parameters:{scene:{type:'sap.ui.vk.Scene'}}},sceneLoadingFailed:{},sceneDestroying:{parameters:{scene:{type:'sap.ui.vk.Scene'}}},selectionChanged:{parameters:{selected:{type:'string[]'},unselected:{type:'string[]'}}},fullScreen:{parameters:{isFullScreen:{type:'boolean'}}}},specialSettings:{runtimeSettings:{type:'object'},webGLContextAttributes:{type:'object'}}}});V.prototype.applySettings=function(s){if(s){this._runtimeSettings=s.runtimeSettings;this._webGLContextAttributes=s.webGLContextAttributes;delete s.runtimeSettings;delete s.webGLContextAttributes;}C.prototype.applySettings.apply(this,arguments);this._componentsState={sceneTree:{defaultEnable:this.getEnableSceneTree(),userInteractionShow:this.getShowSceneTree()},stepNavigation:{defaultEnable:this.getEnableStepNavigation(),userInteractionShow:this.getShowStepNavigation()},progressIndicator:{defaultEnable:this.getEnableProgressIndicator()},messagePopover:{defaultEnable:this.getEnableNotifications()}};this.setEnableSceneTree(false);this.setEnableStepNavigation(false);};V.prototype.init=function(){this._messages=new M();this._messagePopover=new N();this.setAggregation('messagePopover',this._messagePopover);this._messagePopover.attachAllMessagesCleared(function(){this._messagePopover.setVisible(false);this._updateLayout();},this);this._messagePopover.attachMessageAdded(function(){this._messagePopover.setVisible(true);this._updateLayout();},this);f.debug('sap.ui.vk.Viewer.init() called.');if(C.prototype.init){C.prototype.init.apply(this);}this._scheduleContentResourcesUpdateTimerId=null;this._resizeListenerId=null;this._busyIndicatorCounter=0;this._toolbar=null;this._viewport=null;this._nativeViewport=null;this._stepNavigation=null;this._mainScene=null;this._sceneTree=null;this._overlayManager={initialized:false,changed:false,control:null,delegate:{onAfterRendering:function(e){var o=this._overlayManager.control.getDomRef();if(o&&this._nativeViewport){var n=this._nativeViewport.getDomRef();if(o.parentNode!==n){o.parentNode.style.display='none';}n.appendChild(o);o.style.width='100%';o.style.height='100%';}}.bind(this)},onNativeViewportMove:function(e){var p=e.getParameter('pan');this.control.setPanAndZoom(p.x,p.y,e.getParameter('zoom'));}};this._updateSizeTimer=0;this._fullScreenToggle=false;this._content=new b(this.getId()+'-splitter',{orientation:'Horizontal'});this._stackedViewport=new F({width:'100%',height:'100%',layout:'Stacked'});this._layout=new F(this.getId()+'-flexibleControl',{width:'100%',height:'100%',layout:'Vertical'});this._stackedViewport.setLayoutData(new c({size:'100%',minSize:160,resizable:true}));this._content.addContentArea(this._stackedViewport);this.setAggregation('layout',this._layout);this.setTooltip(sap.ui.vk.getResourceBundle().getText('VIEWER_TITLE'));if(this.getEnableProgressIndicator()){this._createProgressIndicator();}};V.prototype.exit=function(){f.debug('sap.ui.vk.Viewer.exit() called.');if(this._scheduleContentResourcesUpdateTimerId){q.sap.clearDelayedCall(this._scheduleContentResourcesUpdateTimerId);this._scheduleContentResourcesUpdateTimerId=null;}this._setMainScene(null);this._toolbar=null;this._messagePopover=null;this._sceneTree=null;this._nativeViewport=null;this._stepNavigation=null;this._viewport=null;this._componentsState=null;this._setViewStateManager(null);if(this._graphicsCore){this._graphicsCore.destroy();this._graphicsCore=null;}if(this._resizeListenerId){R.deregister(this._resizeListenerId);this._resizeListenerId=null;}if(C.prototype.exit){C.prototype.exit.apply(this);}};V.prototype._setMainScene=function(s){if(s){if(s!==this._mainScene){this._mainScene=s;this._showViewport();this._viewport.setScene(this._mainScene);this._setViewStateManager(this._graphicsCore.createViewStateManager(this._mainScene.getDefaultNodeHierarchy()));this._viewport.setViewStateManager(this.getViewStateManager());if(this._componentsState.sceneTree.defaultEnable){this._instantiateSceneTree();this._sceneTree.setScene(this._mainScene,this.getViewStateManager());this.setEnableSceneTree(true);if(this._componentsState.sceneTree.userInteractionShow){this.setShowSceneTree(true);this._sceneTree.setVisible(true);}else{this.setShowSceneTree(false);}}if(this._componentsState.stepNavigation.defaultEnable){this._instantiateStepNavigation();this._stepNavigation.setScene(this._mainScene);this.setEnableStepNavigation(true);if(this._componentsState.stepNavigation.userInteractionShow){this.setShowStepNavigation(true);this._stepNavigation.setVisible(true);}else{this.setShowStepNavigation(false);}}}if(this._sceneTree){this._sceneTree.refresh();}if(this._stepNavigation){this._stepNavigation.refresh(s);}}else{this._mainScene=null;this._setViewStateManager(null);if(this._viewport){this._viewport.setScene(null);}if(this._sceneTree){this._sceneTree.setScene(null,null);}if(this._stepNavigation){this._stepNavigation.setScene(null);}this.setEnableSceneTree(false);this.setEnableStepNavigation(false);}return this;};V.prototype._destroyMainScene=function(){if(this._mainScene){var s=this._mainScene;this.fireSceneDestroying({scene:s});this._setMainScene(null);this._graphicsCore.destroyScene(s);}else if(this._nativeViewport){this.fireSceneDestroying({scene:null});}return this;};V.prototype.getGraphicsCore=function(){if(!this._graphicsCore){q.sap.require('sap.ui.vk.GraphicsCore');this._graphicsCore=new sap.ui.vk.GraphicsCore(this._getRuntimeSettings(),q.extend({antialias:true,alpha:true,premultipliedAlpha:true},this._getWebGLContextAttributes()));}return this._graphicsCore;};V.prototype.getScene=function(){return this._mainScene;};V.prototype.getViewStateManager=function(){return this.getAggregation('viewStateManager');};V.prototype._setViewStateManager=function(v){if(!this._graphicsCore){return this;}if(v===this.getViewStateManager()){return this;}if(this.getViewStateManager()){this._graphicsCore.destroyViewStateManager(this.getViewStateManager());}this.setAggregation('viewStateManager',v,true);return this;};V.prototype.getViewport=function(){return this._viewport;};V.prototype.getNativeViewport=function(){return this._nativeViewport;};V.prototype._getRuntimeSettings=function(){return this._runtimeSettings;};V.prototype._getWebGLContextAttributes=function(){return this._webGLContextAttributes;};V.prototype.getOverlay=function(){return this._overlayManager.control;};V.prototype.setEnableOverlay=function(p){if(p!==this.getProperty('enableOverlay')){this.setProperty('enableOverlay',p);this._overlayManager.changed=true;}return this;};V.prototype.setEnableSceneTree=function(p){this.setProperty('enableSceneTree',p,true);if(!p){this.setProperty('showSceneTree',false);}this._updateLayout();return this;};V.prototype.setEnableNotifications=function(p){this.setProperty('enableNotifications',p,true);this._messagePopover.setVisible(false);this._updateLayout();return this;};V.prototype.setShowSceneTree=function(p){this.setProperty('showSceneTree',p,true);this._updateLayout();return this;};V.prototype.setEnableStepNavigation=function(p){this.setProperty('enableStepNavigation',p,true);if(!p){this.setProperty('showStepNavigation',false);}this._updateLayout();return this;};V.prototype.setShowStepNavigation=function(p){this.setProperty('showStepNavigation',p,true);this._updateLayout();return this;};V.prototype.setEnableToolbar=function(p){this.setProperty('enableToolbar',p,true);this._updateLayout();return this;};V.prototype.setEnableFullScreen=function(p){var i=function(j){return j.fullScreen||j.webkitIsFullScreen||j.mozFullScreen||j.msFullscreenElement;};this.setProperty('enableFullScreen',p,true);this._fullScreenToggle=true;var e=this.getProperty('enableFullScreen');var g=false;if(e){if(!i(document)){if(!this._fullScreenHandler){this._fullScreenHandler=function(j){if(!i(document)){document.removeEventListener('fullscreenchange',this._fullScreenHandler.bind(this));document.removeEventListener('mozfullscreenchange',this._fullScreenHandler.bind(this));document.removeEventListener('webkitfullscreenchange',this._fullScreenHandler.bind(this));document.removeEventListener('MSFullscreenChange',this._fullScreenHandler.bind(this));this.removeStyleClass('sapVizKitViewerFullScreen');this._updateSize();this.fireFullScreen({isFullScreen:false});}};document.addEventListener('fullscreenchange',this._fullScreenHandler.bind(this));document.addEventListener('mozfullscreenchange',this._fullScreenHandler.bind(this));document.addEventListener('webkitfullscreenchange',this._fullScreenHandler.bind(this));document.addEventListener('MSFullscreenChange',this._fullScreenHandler.bind(this));}g=true;var h=document.getElementsByTagName('body')[0];if(h.requestFullScreen){h.requestFullScreen();}else if(h.webkitRequestFullScreen){h.webkitRequestFullScreen();}else if(h.mozRequestFullScreen){h.mozRequestFullScreen();}else if(h.msRequestFullscreen){h.msRequestFullscreen();}else{g=false;}if(g){this.addStyleClass('sapVizKitViewerFullScreen');}}}else if(i(document)){g=true;if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}else{g=false;}if(g){this.removeStyleClass('sapVizKitViewerFullScreen');}}if(g){this._updateSize();this.fireFullScreen({isFullScreen:e});}return this;};V.prototype.invalidate=function(o){if(o instanceof a){this._scheduleContentResourcesUpdate();return;}C.prototype.invalidate.apply(this,arguments);};V.prototype._queueContentResourcesUpdateIfNeeded=function(e){if(e==='contentResources'){this._scheduleContentResourcesUpdate();return true;}};V.prototype.addAggregation=function(e,o,s){if(this._queueContentResourcesUpdateIfNeeded(e)){s=true;}return C.prototype.addAggregation.call(this,e,o,s);};V.prototype.insertAggregation=function(e,o,i,s){if(this._queueContentResourcesUpdateIfNeeded(e)){s=true;}return C.prototype.insertAggregation.call(this,e,o,i,s);};V.prototype.removeAggregation=function(e,o,s){if(e==='contentResources'){var r=C.prototype.removeAggregation.call(this,e,o,true);if(r){this._scheduleContentResourcesUpdate();}return r;}else{return C.prototype.removeAggregation.call(this,e,o,s);}};V.prototype.removeAllAggregation=function(e,s){if(this._queueContentResourcesUpdateIfNeeded(e)){s=true;}return C.prototype.removeAllAggregation.call(this,e,s);};V.prototype.destroyAggregation=function(e,s){if(this._queueContentResourcesUpdateIfNeeded(e)){s=true;}return C.prototype.destroyAggregation.call(this,e,s);};V.prototype._scheduleContentResourcesUpdate=function(){if(!this._scheduleContentResourcesUpdateTimerId){this._scheduleContentResourcesUpdateTimerId=q.sap.delayedCall(0,this,function(){this._scheduleContentResourcesUpdateTimerId=null;var t=this;function g(k){t.setBusy(true);var m=t.getGraphicsCore();var o;if(t._componentsState.progressIndicator.defaultEnable){t._progressIndicator.reset();t._progressIndicator.setNumberOfFiles(k.length);t._progressIndicator.setVisible(true);m._dvl.Client.NotifyFileLoadProgress=function(e,p){t._progressIndicator.updateRenderStatus(p);return 1;};o=function(e){var p=e.getParameter('source');var r=e.getParameter('loaded');var s=e.getParameter('total');t._progressIndicator.updateDownloadStatus(p,r,s);};}m.loadContentResourcesAsync(k,function(s){try{if(s){if(t.getEnableNotifications()===false){t._destroyMainScene();t._showNativeViewport();var p=sap.ui.vk.getResourceBundle().getText('VIEWPORT_MESSAGEERRORLOADINGFILE');t._nativeViewport.loadFailed(p);}f.error(sap.ui.vk.getResourceBundle().getText(t._messages.messages.VIT13.summary),t._messages.messages.VIT13.code,'sap.ui.vk.Viewer');t.fireSceneLoadingFailed();}else{var r=m.updateSceneTree(t.getScene(),k);if(r!==t._mainScene){t._destroyMainScene();}t._setMainScene(r);t.fireSceneLoadingSucceeded({scene:r});}}catch(e){var u=sap.ui.vk.getResourceBundle().getText(t._messages.messages.VIT14.summary);if(e instanceof D){u+='\\ncode: '+e.code+', message: '+e.message;}else if(e instanceof Error){u+='\\nmessage: '+e.message;}f.error(u,t._messages.messages.VIT14.code,'sap.ui.vk.Viewer');t._destroyMainScene();t.fireSceneLoadingFailed();}finally{t.fireContentResourceChangesProcessed();t.setBusy(false);t._progressIndicator.setVisible(false);}},o);}function h(k){function o(){if(t.getEnableOverlay()){t._overlayManager.changed=true;t._showOverlay();}t.fireSceneLoadingSucceeded({scene:null});t.fireContentResourceChangesProcessed();}function e(){t.fireSceneLoadingFailed();t.fireContentResourceChangesProcessed();if(t.getEnableNotifications()===false){var p=sap.ui.vk.getResourceBundle().getText('VIEWPORT_MESSAGEERRORLOADINGFILE');t._nativeViewport.loadFailed(p);}}t._destroyMainScene();if(k.length===1){t._showNativeViewport();var r=k[0];var s=r.getSource();if(s instanceof File){var m=new FileReader();m.onload=function(p){t._nativeViewport.loadUrl(m.result,o,e,null,r.getSourceType());};m.readAsDataURL(s);}else{t._nativeViewport.loadUrl(s,o,e,null,r.getSourceType());}}else{f.error(sap.ui.vk.getResourceBundle().getText(t._messages.messages.VIT15.summary),t._messages.messages.VIT15.code,'sap.ui.vk.Viewer');t.fireContentResourceChangesProcessed();}}var n=true;var i;var j;var k=this.getContentResources();if(k.length>0){j=a.collectCategories(k);if(j.length===0){if(this._viewport&&this._viewport.getVisible()){i=sap.ui.vk.ContentResourceSourceCategory['3D'];n=false;}else if(this._nativeViewport&&this._nativeViewport.getVisible()){i=sap.ui.vk.ContentResourceSourceCategory['2D'];n=false;}}else if(j.length===1){i=j[0];if(i==='unknown'){f.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT16.summary),this._messages.messages.VIT16.code,'sap.ui.vk.Viewer');if(this._nativeViewport==null){this._showNativeViewport();}if(this.getEnableNotifications()===false){this._nativeViewport.loadFailed();}this._showNativeViewport(false);}else{n=false;}}else if(j.length>1){f.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT17.summary),this._messages.messages.VIT17.code,'sap.ui.vk.Viewer');}}if(n){this._destroyMainScene();this.fireContentResourceChangesProcessed();return;}if(i===sap.ui.vk.ContentResourceSourceCategory['3D']){g(k);}else if(i===sap.ui.vk.ContentResourceSourceCategory['2D']){h(k);}});}return this;};V.prototype.onBeforeRendering=function(){if(this._fullScreenToggle){this._fullScreenToggle=false;}else{this._showToolbar();}this._showOverlay();if(this._resizeListenerId){R.deregister(this._resizeListenerId);this._resizeListenerId=null;}};V.prototype.onAfterRendering=function(){var e=this.getDomRef();this._resizeListenerId=R.register(this,this._handleResize.bind(this));this._handleResize({size:{width:e.clientWidth,height:e.clientHeight}});};V.prototype._handleResize=function(e){this._updateSize();};V.prototype._updateSize=function(){if(this._updateSizeTimer){clearTimeout(this._updateSizeTimer);}this._updateSizeTimer=setTimeout(this._doUpdateSize.bind(this),100);};V.prototype._doUpdateSize=function(){var e=this.getId()+'-flexibleControl';var g=document.getElementById(e);if(!g){return;}g.style.width='100%';g.style.height='100%';var h=g.clientHeight;var s=[];for(var i=0;i<4;i++){s[i]=document.getElementById(e+'Content_'+i);}h-=s[0].clientHeight;for(var j=2;j<4;j++){if(s[j]!=null&&s[j].style.visibility!='hidden'){h-=s[j].clientHeight;}}if(s[1]){s[1].style.height=h+'px';}if(this._stackedViewport){this._stackedViewport.setLayoutData(new c({size:'100%',minSize:160,resizable:true}));}};V.prototype.isTreeBinding=function(n){return n==='contentResources';};V.prototype.setBusy=function(e){if(e){if(this._busyIndicatorCounter===0){this.setBusyIndicatorDelay(0);C.prototype.setBusy.call(this,true);}this._busyIndicatorCounter+=1;}else{this._busyIndicatorCounter-=1;if(this._busyIndicatorCounter==0){C.prototype.setBusy.call(this,false);}}};V.prototype._showToolbar=function(){if(!this._toolbar){this._toolbar=new sap.ui.vk.Toolbar({title:this.getToolbarTitle()});this._toolbar.setViewer(this);this.setAggregation('toolbar',this._toolbar);}this._toolbar.setVisible(this.getEnableToolbar());this._updateLayout();return this;};V.prototype._createProgressIndicator=function(){if(!this._progressIndicator){this._progressIndicator=new P({visible:false});this.setAggregation('progressIndicator',this._progressIndicator);}else{this._progressIndicator.reset();}};V.prototype._updateLayout=function(){this._layout.setWidth(this.getWidth());this._layout.removeAllContent();this._layout.setHeight(this.getHeight());var h=this.getHeight();var e=[0,0,0];if(h=='auto'){h=400;}else if(h.substr(h.length-1)=='%'){h=400;}else{h=parseInt(h,10);}if(this._toolbar!=null&&this.getEnableToolbar()){e[0]=48;}if(this._stepNavigation!=null&&this.getShowStepNavigation()){e[2]=150;}e[1]=h-e[0]-e[2];if(this._toolbar!=null&&this.getEnableToolbar()){this._toolbar.setVisible(true);this._toolbar.setLayoutData(new d({size:e[0]+'px'}));this._layout.insertContent(this._toolbar,0);}else if(this._toolbar!=null){this._toolbar.setVisible(false);}if(this._sceneTree!=null&&this.getShowSceneTree()&&this.getEnableSceneTree()){this._sceneTree.setVisible(true);this._sceneTree.setLayoutData(new c({size:'320px',minSize:200,resizable:true}));this._content.insertContentArea(this._sceneTree,0);}else if(this._sceneTree!=null){this._content.removeContentArea(this._sceneTree);this._sceneTree.setVisible(false);}this._content.setLayoutData(new d({size:e[1]+'px'}));this._layout.addContent(this._content);if(this._messagePopover!=null){e[1]-=e[0];}if(this._stepNavigation!=null&&this.getShowStepNavigation()&&this.getEnableStepNavigation()){if(this._graphicsCore!=null&&!this._stepNavigation.hasGraphicsCore()){this._stepNavigation.setGraphicsCore(this._graphicsCore);}this._stepNavigation.setLayoutData(new d({size:e[2]+'px'}));this._layout.addContent(this._stepNavigation);}if(this._messagePopover!==null&&this._messagePopover.getAggregation('_messagePopover').getItems().length>0&&this.getEnableNotifications()){this._messagePopover.setVisible(true);this._messagePopover.setLayoutData(new d({size:e[0]+'px'}));this._layout.addContent(this._messagePopover);}else{this._content.removeContentArea(this._messagePopover);this._messagePopover.setVisible(false);}if(this._toolbar){this._toolbar.refresh();}this._updateSize();};V.prototype._instantiateSceneTree=function(){if(!this._sceneTree){this._sceneTree=new sap.ui.vk.SceneTree();this.setAggregation('sceneTree',this._sceneTree);}return this;};V.prototype._instantiateStepNavigation=function(){if(!this._stepNavigation){this._stepNavigation=new sap.ui.vk.StepNavigation(this.getId()+'-stepNavigation',{showThumbnails:this.getShowStepNavigationThumbnails()});this.setAggregation('stepNavigation',this._stepNavigation);}return this;};V.prototype._showViewport=function(){if(!this._viewport){this._viewport=new sap.ui.vk.Viewport(this.getId()+'-viewport');this.setAggregation('viewport',this._viewport);this._viewport.setGraphicsCore(this.getGraphicsCore());}if(this._nativeViewport){this._nativeViewport.setVisible(false);}this._stackedViewport.removeAllContent();this._stackedViewport.addContent(this._viewport);this._viewport.setVisible(true);return this;};V.prototype._showNativeViewport=function(){if(!this._nativeViewport){this._nativeViewport=new sap.ui.vk.NativeViewport(this.getId()+'-nativeViewport');this.setAggregation('nativeViewport',this._nativeViewport);}if(this._viewport){this._viewport.setVisible(false);}this._stackedViewport.removeAllContent();this._stackedViewport.addContent(this._nativeViewport);this._nativeViewport.setVisible(true);return this;};V.prototype._showOverlay=function(){var o=this._overlayManager;if(o.changed){var O;if(this.getEnableOverlay()){if(!o.initialized){if(!(O=this.getAggregation('overlay'))){O=new sap.ui.vk.Overlay();}O.setZoomOnResize(false);o.control=O;o.initialized=true;}else{O=o.control;O.reset();}if(this._nativeViewport){O.setTarget(this._nativeViewport);o.savedLimitZoomOutState=this._nativeViewport.getLimitZoomOut();this._nativeViewport.setLimitZoomOut(true);this._nativeViewport.attachEvent('move',o.onNativeViewportMove,o);this._stackedViewport.addContent(O);this._stackedViewport.addDelegate(o.delegate);}}else{this._nativeViewport.detachEvent('move',o.onNativeViewportMove,o);this._stackedViewport.removeDelegate(o.delegate);this._stackedViewport.removeContent(o.control);this._nativeViewport.setLimitZoomOut(o.savedLimitZoomOutState);}o.changed=false;}};return V;});\n",
	"sap/ui/vk/ViewerRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var V={};V.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapVizKitViewer');r.writeClasses();r.addStyle('width',c.getWidth());r.addStyle('height',c.getHeight());r.writeStyles();r.write('>');r.renderControl(c.getAggregation('layout'));r.renderControl(c.getAggregation('progressIndicator'));r.write('</div>');};return V;},true);\n",
	"sap/ui/vk/Viewport.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/ResizeHandler','./Loco','./ViewportHandler','./GraphicsCore','./Messages'],function(q,l,C,R,L,V,G,M){'use strict';var a=C.extend('sap.ui.vk.Viewport',{metadata:{library:'sap.ui.vk',publicMethods:['setGraphicsCore','getGraphicsCore','setScene','setViewStateManager','beginGesture','endGesture','pan','rotate','zoom','tap','queueCommand','getViewInfo','setViewInfo'],properties:{showDebugInfo:'boolean'}}});a.prototype.init=function(){this._messages=new M();if(C.prototype.init){C.prototype.init(this);}this._graphicsCore=null;this._dvl=null;this._dvlRendererId=null;this._canvas=null;this._resizeListenerId=null;this._viewportHandler=new V(this);this._loco=new L();this._loco.addHandler(this._viewportHandler);this._dictionary={encodedProjectionType:{},decodedProjectionType:{perspective:sap.ve.dvl.DVLCAMERAPROJECTION.PERSPECTIVE,orthographic:sap.ve.dvl.DVLCAMERAPROJECTION.ORTHOGRAPHIC},encodedBindingType:{},decodedBindingType:{minimum:sap.ve.dvl.DVLCAMERAFOVBINDING.MIN,maximum:sap.ve.dvl.DVLCAMERAFOVBINDING.MAX,horizontal:sap.ve.dvl.DVLCAMERAFOVBINDING.HORZ,vertical:sap.ve.dvl.DVLCAMERAFOVBINDING.VERT}};this._dictionary.encodedProjectionType[sap.ve.dvl.DVLCAMERAPROJECTION.PERSPECTIVE]='perspective';this._dictionary.encodedProjectionType[sap.ve.dvl.DVLCAMERAPROJECTION.ORTHOGRAPHIC]='orthographic';this._dictionary.encodedBindingType[sap.ve.dvl.DVLCAMERAFOVBINDING.MIN]='minimum';this._dictionary.encodedBindingType[sap.ve.dvl.DVLCAMERAFOVBINDING.MAX]='maximum';this._dictionary.encodedBindingType[sap.ve.dvl.DVLCAMERAFOVBINDING.HORZ]='horizontal';this._dictionary.encodedBindingType[sap.ve.dvl.DVLCAMERAFOVBINDING.VERT]='vertical';};a.prototype.exit=function(){this._loco.removeHandler(this._viewportHandler);this._viewportHandler.destroy();if(this._resizeListenerId){R.deregister(this._resizeListenerId);this._resizeListenerId=null;}this.setViewStateManager(null);this.setScene(null);this.setGraphicsCore(null);this._dictionary=null;if(C.prototype.exit){C.prototype.exit.apply(this);}};a.prototype.setGraphicsCore=function(g){if(g!=this._graphicsCore){if(g&&this._graphicsCore&&this._graphicsCore._getViewportCount()>0){q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT18.summary),this._messages.messages.VIT18.code,'sap.ui.vk.Viewport');}if(this._graphicsCore){if(this._graphicsCore._unregisterViewport(this)){if(this._graphicsCore._getViewportCount()===0){this._dvl.Core.StopRenderLoop();}}}this._dvlRendererId=null;this._dvl=null;this._graphicsCore=g;if(this._graphicsCore){var s=this._graphicsCore._getViewportCount()===0;this._dvl=this._graphicsCore._getDvl();this._dvlRendererId=this._dvl.Core.GetRendererPtr();if(sap.ui.Device.os.ios){this._dvl.Renderer.SetBackgroundColor(0,0,0,1,1,1,1,1);}else{this._dvl.Renderer.SetBackgroundColor(0.5,0.5,0.5,0,0.5,0.5,0.5,0);}this._setCanvas(this._graphicsCore._getCanvas());this._graphicsCore._registerViewport(this);if(s){this._dvl.Core.StartRenderLoop();}this.setShowDebugInfo(this.getShowDebugInfo());}}return this;};a.prototype.getGraphicsCore=function(){return this._graphicsCore;};a.prototype._setCanvas=function(c){var s=this.getDomRef()&&this._canvas!==c;this._canvas=c;if(s){this.invalidate();}return this;};a.prototype.setScene=function(s){if(this._dvlRendererId){this._dvl.Renderer.AttachScene(s&&s._getDvlSceneId()||null);this._dvlSceneId=s?s._getDvlSceneId():null;}return this;};a.prototype._getStepAndProcedureIndexes=function(b,s){var c=-1,d=-1,e=false;for(var i=0;i<b.length;i++){if(!e){for(var j=0;j<b[i].steps.length;j++){if(b[i].steps[j].id===s){d=j;c=i;e=true;break;}}}else{break;}}return{stepIndex:d,procedureIndex:c};};a.prototype.getViewInfo=function(){if(this._dvlSceneId===null||this._dvlSceneId===undefined){return null;}var c=this._dvl.Scene.GetCurrentCamera(this._dvlSceneId),b=this._dvl.Camera.GetRotation(c),d={yaw:b[0],pitch:b[1],roll:b[2]};var e=this._dvl.Camera.GetOrigin(c),f={x:e[0],y:e[1],z:e[2]};var v={camera:{rotation:d,position:f,projectionType:this._dictionary.encodedProjectionType[this._dvl.Camera.GetProjection(c)],bindingType:this._dictionary.encodedBindingType[this._dvl.Camera.GetFOVBinding(c)]}};if(this._dictionary.encodedProjectionType[this._dvl.Camera.GetProjection(c)]==='perspective'){v.camera.fieldOfView=this._dvl.Camera.GetFOV(c);}else if(this._dictionary.encodedProjectionType[this._dvl.Camera.GetProjection(c)]==='orthographic'){v.camera.zoomFactor=this._dvl.Camera.GetOrthoZoomFactor(c);}var s=this._dvl.Scene.RetrieveSceneInfo(this._dvlSceneId,sap.ve.dvl.DVLSCENEINFO.DVLSCENEINFO_STEP_INFO);if(s.stepId!==sap.ve.dvl.DVLID_INVALID){var g=s.StepId,h=s.StepTime,i=this._dvl.Scene.RetrieveProcedures(this._dvlSceneId),j=this._getStepAndProcedureIndexes(i.procedures,g);v.animation={animationTime:h,stepIndex:j.stepIndex,procedureIndex:j.procedureIndex};}return v;};a.prototype.setViewInfo=function(v){if(v.animation){var b=this._dvl.Scene.RetrieveProcedures(this._dvlSceneId);if(b.procedures.length>0&&v.animation.stepIndex!==-1&&v.animation.procedureIndex!==-1){if(v.animation.procedureIndex>=0&&v.animation.procedureIndex<b.procedures.length){if(v.animation.stepIndex>=0&&v.animation.stepIndex<b.procedures[v.animation.procedureIndex].steps.length){var c=v.animation.animationTime||0,s=b.procedures[v.animation.procedureIndex].steps[v.animation.stepIndex].id;this._dvl.Scene.ActivateStep(this._dvlSceneId,s,false,false,c);this._dvl.Scene.PauseCurrentStep(this._dvlSceneId);}else{q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT26.summary),this._messages.messages.VIT26.code,'sap.ui.vk.Viewport');}}else{q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT27.summary),this._messages.messages.VIT27.code,'sap.ui.vk.Viewport');}}else{this.resetView();}}var d=this._dictionary.decodedProjectionType[v.camera.projectionType],e=this._dvl.Scene.CreateCamera(this._dvlSceneId,d,sap.ve.dvl.DVLID_INVALID);this._dvl.Camera.SetOrigin(e,v.camera.position.x,v.camera.position.y,v.camera.position.z);var f=this._dictionary.decodedBindingType[v.camera.bindingType];this._dvl.Camera.SetFOVBinding(e,f);switch(d){case this._dictionary.decodedProjectionType.perspective:this._dvl.Camera.SetFOV(e,v.camera.fieldOfView);break;case this._dictionary.decodedProjectionType.orthographic:this._dvl.Camera.SetOrthoZoomFactor(e,v.camera.zoomFactor);break;default:q.sap.log.error(sap.ui.vk.getResourceBundle().getText(this._messages.messages.VIT19.summary),this._messages.messages.VIT19.code,'sap.ui.vk.Viewport');}this._dvl.Camera.SetRotation(e,v.camera.rotation.yaw,v.camera.rotation.pitch,v.camera.rotation.roll);this._dvl.Scene.ActivateCamera(this._dvlSceneId,e);this._dvl.Scene.DeleteNode(this._dvlSceneId,e);};a.prototype.onBeforeRendering=function(){if(this._resizeListenerId){R.deregister(this._resizeListenerId);this._resizeListenerId=null;}};a.prototype.onAfterRendering=function(){if(this._canvas){var d=this.getDomRef();d.appendChild(this._canvas);this._resizeListenerId=R.register(this,this._handleResize.bind(this));this._handleResize({size:{width:d.clientWidth,height:d.clientHeight}});}};a.prototype._handleResize=function(e){if(this._dvlRendererId&&this._canvas){var d=window.devicePixelRatio||1;var b=e.size.width*d;var c=e.size.height*d;this._dvl.Renderer.SetDimensions(b,c);this._dvl.Renderer.SetOptionF(sap.ve.dvl.DVLRENDEROPTIONF.DVLRENDEROPTIONF_DPI,96*d);this._canvas.width=b;this._canvas.height=c;this._canvas.style.width=e.size.width+'px';this._canvas.style.height=e.size.height+'px';return true;}};a.prototype.setViewStateManager=function(v){this._viewStateManager=v;return this;};a.prototype.shouldRenderFrame=function(){return this._dvlRendererId&&this._dvl.Renderer.ShouldRenderFrame();};a.prototype.renderFrame=function(){if(this._dvlRendererId){this._dvl.Renderer.RenderFrame(this._dvlRendererId);}return this;};a.prototype.renderFrameEx=function(v,b){if(this._dvlRendererId){this._dvl.Renderer.RenderFrameEx.apply(this,[].concat(v,b),this._dvlRendererId);}return this;};a.prototype.resetView=function(){if(this._dvlRendererId){this._dvl.Renderer.ResetView(this._dvlRendererId);}return this;};a.prototype.canIsolateNode=function(n){if(this._dvlRendererId){return this._dvl.Renderer.CanIsolateNode(n,this._dvlRendererId);}else{return false;}};a.prototype.setIsolatedNode=function(n){if(this._dvlRendererId){this._dvl.Renderer.SetIsolatedNode(n,this._dvlRendererId);}return this;};a.prototype.getIsolatedNode=function(){if(this._dvlRendererId){return this._dvl.Renderer.GetIsolatedNode(this._dvlRendererId);}else{return'i0000000000000000';}};a.prototype.setShowDebugInfo=function(v){this.setProperty('showDebugInfo',v,true);if(this._dvlRendererId){this._dvl.Renderer.SetOption(sap.ve.dvl.DVLRENDEROPTION.DVLRENDEROPTION_SHOW_DEBUG_INFO,v,this._dvlRendererId);}return this;};a.prototype.beginGesture=function(x,y){if(this._dvlRendererId){var b=window.devicePixelRatio||1;this._dvl.Renderer.BeginGesture(x*b,y*b,this._dvlRendererId);}return this;};a.prototype.endGesture=function(){if(this._dvlRendererId){this._dvl.Renderer.EndGesture(this._dvlRendererId);}return this;};a.prototype.pan=function(d,b){if(this._dvlRendererId){var c=window.devicePixelRatio||1;this._dvl.Renderer.Pan(d*c,b*c,this._dvlRendererId);}return this;};a.prototype.rotate=function(d,b){if(this._dvlRendererId){var c=window.devicePixelRatio||1;this._dvl.Renderer.Rotate(d*c,b*c,this._dvlRendererId);}return this;};a.prototype.zoom=function(d){if(this._dvlRendererId){this._dvl.Renderer.Zoom(d,this._dvlRendererId);}return this;};a.prototype.tap=function(x,y,i){if(this._dvlRendererId){var b=window.devicePixelRatio||1;this._dvl.Renderer.Tap(x*b,y*b,i,this._dvlRendererId);}return this;};a.prototype.queueCommand=function(c){if(this._dvlRendererId){this._dvl.Renderer._queueCommand(c,this._dvlRendererId);}return this;};var o={x:-2,y:-2};var r=2;var p=5;[{key:'left',dx:-r,dy:0},{key:'right',dx:+r,dy:0},{key:'up',dx:0,dy:-r},{key:'down',dx:0,dy:+r}].forEach(function(i){a.prototype['onsap'+i.key]=function(e){this.beginGesture(o.x,o.y);this.rotate(i.dx,i.dy);this.endGesture();this.renderFrame();e.preventDefault();e.stopPropagation();};});[{key:'left',dx:-p,dy:0},{key:'right',dx:+p,dy:0},{key:'up',dx:0,dy:-p},{key:'down',dx:0,dy:+p}].forEach(function(i){a.prototype['onsap'+i.key+'modifiers']=function(e){if(e.shiftKey&&!(e.ctrlKey||e.altKey||e.metaKey)){this.beginGesture(o.x,o.y);this.pan(i.dx,i.dy);this.endGesture();this.renderFrame();e.preventDefault();e.stopPropagation();}};});[{key:'minus',d:0.98},{key:'plus',d:1.02}].forEach(function(i){a.prototype['onsap'+i.key]=function(e){this.beginGesture(this.$().width()/2,this.$().height()/2);this.zoom(i.d);this.endGesture();this.renderFrame();e.preventDefault();e.stopPropagation();};});return a;});\n",
	"sap/ui/vk/ViewportHandler.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/EventProvider','sap/ui/core/ResizeHandler'],function(q,E,R){'use strict';var V=E.extend('sap.ui.vk.ViewportHandler',{metadata:{publicMethods:['beginGesture','move','endGesture','click','doubleClick','contextMenu','getViewport']},constructor:function(a){this._viewport=a;this._rect=null;this._evt={x:0,y:0,z:0,d:0,initd:0};this._gesture=false;this._viewport.attachEvent('resize',this,this._onresize);this._nomenu=false;}});V.prototype.destroy=function(){this._viewport=null;this._rect=null;this._evt=null;this._gesture=false;};V.prototype._getOffset=function(o){var r=o.getBoundingClientRect();var p={x:r.left+window.pageXOffset,y:r.top+window.pageYOffset};return p;};V.prototype._inside=function(e){if(this._rect==null||true){var i=this._viewport.getIdForLabel();var d=document.getElementById(i);if(d==null){return false;}var o=this._getOffset(d);this._rect={x:o.x,y:o.y,w:d.offsetWidth,h:d.offsetHeight};}return(e.x>=this._rect.x&&e.x<=this._rect.x+this._rect.w&&e.y>=this._rect.y&&e.y<=this._rect.y+this._rect.h);};V.prototype._onresize=function(e){this._gesture=false;this._rect=null;};V.prototype.beginGesture=function(a){if(this._inside(a)&&!this._gesture){this._gesture=true;var x=a.x-this._rect.x,y=a.y-this._rect.y;this._evt.x=x;this._evt.y=y;this._evt.d=a.d;this._evt.initd=a.d;this._evt.avgd=a.d;this._evt.avgx=0;this._evt.avgy=0;q.sap.log.debug('Loco: beginGesture: '+x+', '+y);this._viewport.queueCommand(function(){this._viewport.beginGesture(x,y);}.bind(this));a.handled=true;if(document.activeElement){try{document.activeElement.blur();}catch(e){}}var d=document.getElementById(this._viewport.getIdForLabel());d.focus();}this._nomenu=false;};V.prototype.move=function(e){if(this._gesture){var x=e.x-this._rect.x,y=e.y-this._rect.y;var d=x-this._evt.x;var a=y-this._evt.y;var b=e.d-this._evt.d;this._evt.x=x;this._evt.y=y;this._evt.d=e.d;this._evt.avgx=this._evt.avgx*0.99+d*0.01;this._evt.avgy=this._evt.avgy*0.99+a*0.01;var z=1.0;if(this._evt.initd>0){z=1.0+b*(1.0/this._evt.initd);}else if(e.n==2){if(e.points[0].y>e.points[1].y){z=1.0-b*0.005;if(z<0.333){z=0.333;}}else{z=1.0+b*0.005;if(z>3){z=3;}}}if(this._evt.initd>0){var c=Math.sqrt(this._evt.avgx*this._evt.avgx+this._evt.avgy*this._evt.avgy);q.sap.log.debug('AvgDist: '+c);if((Math.abs(e.d-this._evt.avgd)/this._evt.avgd)<(c/10)){z=1.0;}}this._evt.avgd=this._evt.avgd*0.97+e.d*0.03;switch(e.n){case 1:q.sap.log.debug('Loco: Rotate: '+(d)+', '+(a));this._viewport.queueCommand(function(){this._viewport.rotate(d,a);}.bind(this));break;case 2:q.sap.log.debug('Loco: Pan: '+(d)+', '+(a));if(z!=0&&z!=1.0){q.sap.log.debug('Loco: Zoom: '+(z));}this._viewport.queueCommand(function(){this._viewport.pan(d,a);if(d<10&&a<10&&z!=0&&z!=1.0){this._viewport.zoom(z);}}.bind(this));break;default:break;}this._nomenu=true;e.handled=true;}};V.prototype.endGesture=function(e){if(this._gesture){var x=e.x-this._rect.x,y=e.y-this._rect.y;q.sap.log.debug('Loco: endGesture: '+x+', '+y);this._viewport.queueCommand(function(){this._viewport.endGesture();}.bind(this));this._gesture=false;e.handled=true;}};V.prototype.click=function(e){if(this._inside(e)&&e.buttons<=1){var x=e.x-this._rect.x,y=e.y-this._rect.y;q.sap.log.debug('Loco: click: '+(x)+', '+(y));this._viewport.queueCommand(function(){this._viewport.tap(x,y,false);}.bind(this));e.handled=true;}};V.prototype.doubleClick=function(e){if(this._inside(e)&&e.buttons<=1){var x=e.x-this._rect.x,y=e.y-this._rect.y;q.sap.log.debug('Loco: doubleClick: '+(x)+', '+(y));this._viewport.queueCommand(function(){this._viewport.tap(x,y,true);}.bind(this));e.handled=true;}};V.prototype.contextMenu=function(e){if(this._inside(e)||this._nomenu||e.buttons==5){this._nomenu=false;e.handled=true;}};V.prototype.getViewport=function(){return this._viewport;};return V;},true);\n",
	"sap/ui/vk/ViewportRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var V={};V.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapVizKitViewport');r.writeClasses();r.writeAttribute('tabindex',0);r.write('>');r.write('</div>');};return V;},true);\n",
	"sap/ui/vk/library.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n        (c) Copyright 2009-2015 SAP SE. All rights reserved\n    \n */\nsap.ui.define(['jquery.sap.global','./TransformationMatrix','./DvlException'],function(q,T,D){'use strict';sap.ui.getCore().initLibrary({name:'sap.ui.vk',dependencies:['sap.ui.core'],types:['sap.ui.vk.ContentResourceSourceCategory','sap.ui.vk.TransformationMatrix'],interfaces:[],controls:['sap.ui.vk.NativeViewport','sap.ui.vk.Overlay','sap.ui.vk.Viewer','sap.ui.vk.Viewport','sap.ui.vk.SceneTree','sap.ui.vk.StepNavigation','sap.ui.vk.Toolbar','sap.ui.vk.ContainerBase','sap.ui.vk.ContainerContent','sap.ui.vk.MapContainer','sap.ui.vk.ListPanelStack','sap.ui.vk.ListPanel','sap.ui.vk.LegendItem'],elements:['sap.ui.vk.OverlayArea'],noLibraryCSS:false,version:'1.38.15'});sap.ui.vk.GraphicsCoreApi={LegacyDvl:'LegacyDvl'};sap.ui.vk.ContentResourceSourceCategory={'3D':'3D','2D':'2D'};sap.ui.vk.ContentResourceSourceTypeToCategoryMap={'vds':sap.ui.vk.ContentResourceSourceCategory['3D'],'png':sap.ui.vk.ContentResourceSourceCategory['2D'],'jpg':sap.ui.vk.ContentResourceSourceCategory['2D'],'gif':sap.ui.vk.ContentResourceSourceCategory['2D'],'bmp':sap.ui.vk.ContentResourceSourceCategory['2D'],'tiff':sap.ui.vk.ContentResourceSourceCategory['2D'],'tif':sap.ui.vk.ContentResourceSourceCategory['2D'],'svg':sap.ui.vk.ContentResourceSourceCategory['2D']};var d='sap.ve.dvl';sap.ui.vk.dvl={checkResult:function(r){if(r<0){var m=sap.ve.dvl.DVLRESULT.getDescription?sap.ve.dvl.DVLRESULT.getDescription(r):'';q.sap.log.error(m,JSON.stringify({errorCode:r}),d);throw new D(r,m);}return r;},getPointer:function(p){if(p.indexOf('errorcode')===0){var c=parseInt(p.substr(15),16)-0x100;var m=sap.ve.dvl.DVLRESULT.getDescription?sap.ve.dvl.DVLRESULT.getDescription(c):'';q.sap.log.error(m,JSON.stringify({errorCode:c}),d);throw new D(c,m);}return p;},getJSONObject:function(o){if(q.type(o)==='number'){var m=sap.ve.dvl.DVLRESULT.getDescription?sap.ve.dvl.DVLRESULT.getDescription(o):'';q.sap.log.error(m,JSON.stringify({errorCode:o}),d);throw new D(o,m);}return o;}};sap.ui.vk.getResourceBundle=function(){var r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.vk.i18n');sap.ui.vk.getResourceBundle=function(){return r;};return r;};return sap.ui.vk;});\n",
	"sap/ui/vk/manifest.json":"{\n  \"_version\": \"1.2.0\",\n  \"sap.app\": {\n    \"_version\": \"1.2.0\",\n    \"id\": \"sap.ui.vk\",\n    \"type\": \"library\",\n    \"embeds\": [],\n    \"applicationVersion\": {\n      \"version\": \"1.38.15\"\n    },\n    \"title\": \"SAPUI5 Visualization Toolkit.\",\n    \"description\": \"SAPUI5 Visualization Toolkit.\",\n    \"resources\": \"resources.json\",\n    \"offline\": true\n  },\n  \"sap.ui\": {\n    \"_version\": \"1.1.0\",\n    \"technology\": \"UI5\",\n    \"supportedThemes\": [\n      \"base\",\n      \"sap_bluecrystal\",\n      \"sap_hcb\"\n    ]\n  },\n  \"sap.ui5\": {\n    \"_version\": \"1.1.0\",\n    \"dependencies\": {\n      \"minUI5Version\": \"1.38\",\n      \"libs\": {\n        \"sap.ui.core\": {\n          \"minVersion\": \"1.38.2\"\n        },\n        \"sap.ui.unified\": {\n          \"minVersion\": \"1.38.2\",\n          \"lazy\": true\n        },\n        \"sap.m\": {\n          \"minVersion\": \"1.38.2\",\n          \"lazy\": true\n        },\n        \"sap.ui.layout\": {\n          \"minVersion\": \"1.38.2\",\n          \"lazy\": true\n        }\n      }\n    }\n  }\n}"
}}
