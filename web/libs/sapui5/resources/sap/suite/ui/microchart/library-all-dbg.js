// This file has been generated by the SAPUI5 'AllInOne' Builder
jQuery.sap.declare('sap.suite.ui.microchart.library-all');
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartRenderer') ) {
 /*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartRenderer'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/AreaMicroChartRenderer",['jquery.sap.global'],
	function() {
	"use strict";

	/**
	 * AreaMicroChartRenderer renderer.
	 * @namespace
	 */
	var AreaMicroChartRenderer = {};

	/**
	 * Renders the HTML for the given control, using the provided
	 * {@link sap.ui.core.RenderManager}.
	 *
	 * @param {sap.ui.core.RenderManager} oRm
	 *			the RenderManager that can be used for writing to
	 *			the Render-Output-Buffer
	 * @param {sap.ui.core.Control} oControl
	 *			the control to be rendered
	 */
	AreaMicroChartRenderer.render = function(oRm, oControl) {
		if (!oControl._bThemeApplied) {
			return;
		}
		var sAriaLabel = oControl.getAltText();

		var sTopLblType = ((oControl.getView() == "Normal" && oControl.getFirstYLabel() && oControl.getFirstYLabel().getLabel()) ? "L" : "")
			+ ((oControl.getMaxLabel() && oControl.getMaxLabel().getLabel()) ? "C" : "")
			+ ((oControl.getView() == "Normal" && oControl.getLastYLabel() && oControl.getLastYLabel().getLabel()) ? "R" : "");

		var sBtmLblType = ((oControl.getView() == "Normal" && oControl.getFirstXLabel() && oControl.getFirstXLabel().getLabel()) ? "L" : "")
			+ ((oControl.getMinLabel() && oControl.getMinLabel().getLabel()) ? "C" : "")
			+ ((oControl.getView() == "Normal" && oControl.getLastXLabel() && oControl.getLastXLabel().getLabel()) ? "R" : "");

		var bLeftLbls, bRightLbls;
		bRightLbls = bLeftLbls = oControl.getView() == "Wide";

		oRm.write("<div");
			oRm.writeControlData(oControl);
			oRm.addStyle("width", oControl.getIsResponsive() ? "100%" : oControl.getWidth());
			oRm.addStyle("height", oControl.getIsResponsive() ? "100%" : oControl.getHeight());
			oRm.writeStyles();
			oRm.writeAttribute("role", "presentation");
			oRm.writeAttributeEscaped("aria-label", sAriaLabel);
			oRm.addClass("sapSuiteAMC");
			if (oControl.hasListeners("press")) {
				oRm.addClass("sapSuiteUiMicroChartPointer");
				oRm.writeAttribute("tabindex", "0");
			}

			if (sTopLblType) {
				oRm.addClass("sapSuiteAMCTopLbls");
			}
			if (sBtmLblType) {
				oRm.addClass("sapSuiteAMCBtmLbls");
			}

			oRm.writeClasses();
			oRm.write(">");
				if (sTopLblType && oControl.getShowLabel()) {
					var sTopLblTypeClass = "sapSuiteAMCLblType" + sTopLblType;
					oRm.write("<div");
					oRm.writeAttributeEscaped("id", oControl.getId() + "-top-labels");
					oRm.addClass("sapSuiteAMCLabels");
					oRm.addClass("sapSuiteAMCPositionTop");
					oRm.writeClasses();
					oRm.write(">");
						this._writeLabel(oRm, oControl, oControl.getFirstYLabel(), "-top-left-lbl", "sapSuiteAMCPositionLeft", sTopLblTypeClass);
						this._writeLabel(oRm, oControl, oControl.getMaxLabel(), "-top-center-lbl", "sapSuiteAMCPositionCenter", sTopLblTypeClass);
						this._writeLabel(oRm, oControl, oControl.getLastYLabel(), "-top-right-lbl", "sapSuiteAMCPositionRight", sTopLblTypeClass);
					oRm.write("</div>");
				}

				if (bLeftLbls && oControl.getShowLabel()) {
					oRm.write("<div");
					oRm.writeAttributeEscaped("id", oControl.getId() + "-left-labels");
					oRm.addClass("sapSuiteAMCSideLabels");
					oRm.addClass("sapSuiteAMCPositionLeft");
					oRm.writeClasses();
					oRm.write(">");
						this._writeLabel(oRm, oControl, oControl.getFirstYLabel(), "-top-left-lbl", "sapSuiteAMCPositionTop", "sapSuiteAMCPositionLeft");
						this._writeLabel(oRm, oControl, oControl.getFirstXLabel(), "-btm-left-lbl", "sapSuiteAMCPositionBtm", "sapSuiteAMCPositionLeft");
					oRm.write("</div>");
				}

				oRm.write("<div");
				oRm.writeAttributeEscaped("id", oControl.getId() + "-canvas-cont");
				oRm.addClass("sapSuiteAMCCanvas");
				oRm.writeClasses();
				oRm.write(">");
					oRm.write("<canvas");
					oRm.writeAttributeEscaped("id", oControl.getId() + "-canvas");
					oRm.addStyle("width", "100%");
					oRm.addStyle("height", "100%");
					oRm.addStyle("position", "absolute");
					oRm.addStyle("display", "block");
					oRm.writeStyles();
					oRm.write("></canvas>");
				oRm.write("</div>");

				if (bRightLbls && oControl.getShowLabel()) {
					oRm.write("<div");
					oRm.writeAttributeEscaped("id", oControl.getId() + "-right-labels");
					oRm.addClass("sapSuiteAMCSideLabels");
					oRm.addClass("sapSuiteAMCPositionRight");
					oRm.writeClasses();
					oRm.write(">");
						this._writeLabel(oRm, oControl, oControl.getLastYLabel(), "-top-right-lbl", "sapSuiteAMCPositionTop", "sapSuiteAMCPositionRight");
						this._writeLabel(oRm, oControl, oControl.getLastXLabel(), "-btm-right-lbl", "sapSuiteAMCPositionBtm", "sapSuiteAMCPositionRight");
					oRm.write("</div>");
				}

				if (sBtmLblType && oControl.getShowLabel()) {
					var sBtmLblTypeClass = "sapSuiteAMCLblType" + sBtmLblType;
					oRm.write("<div");
					oRm.writeAttributeEscaped("id", oControl.getId() + "-bottom-labels");
					oRm.addClass("sapSuiteAMCLabels");
					oRm.addClass("sapSuiteAMCPositionBtm");
					oRm.writeClasses();
					oRm.write(">");
						this._writeLabel(oRm, oControl, oControl.getFirstXLabel(), "-btm-left-lbl", "sapSuiteAMCPositionLeft", sBtmLblTypeClass);
						this._writeLabel(oRm, oControl, oControl.getMinLabel(), "-btm-center-lbl", "sapSuiteAMCPositionCenter", sBtmLblTypeClass);
						this._writeLabel(oRm, oControl, oControl.getLastXLabel(), "-btm-right-lbl", "sapSuiteAMCPositionRight", sBtmLblTypeClass);
					oRm.write("</div>");
				}

				oRm.write("<div");
				oRm.writeAttributeEscaped("id", oControl.getId() + "-css-helper");
				oRm.addStyle("display", "none");
				oRm.writeStyles();
				oRm.write("></div>");

		oRm.write("</div>");
	};

	AreaMicroChartRenderer._writeLabel = function(oRm, oControl, oLabel, sId, sClass, sType) {
		var sLabel = oLabel ? oLabel.getLabel() : "";
		oRm.write("<div");
		oRm.writeAttribute("id", oControl.getId() + sId);

		if (oLabel) {
			oRm.addClass(jQuery.sap.encodeHTML("sapSuiteAMCSemanticColor" + oLabel.getColor()));
		}

		oRm.addClass("sapSuiteAMCLbl");
		oRm.addClass(jQuery.sap.encodeHTML(sClass));
		oRm.addClass(jQuery.sap.encodeHTML(sType));
		oRm.writeClasses();
		oRm.write(">");
			oRm.writeEscaped(sLabel);
		oRm.write("</div>");
	};

	return AreaMicroChartRenderer;

}, /* bExport= */ true);

}; // end of sap/suite/ui/microchart/AreaMicroChartRenderer.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChartRenderer') ) {
 /*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChartRenderer'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/ColumnMicroChartRenderer",['jquery.sap.global'],
	function() {
	"use strict";

	/**
	 * ColumnMicroChartRenderer renderer.
	 * @namespace
	 */
	var ColumnMicroChartRenderer = {};

	/**
	 * Renders the HTML for the given control, using the provided
	 * {@link sap.ui.core.RenderManager}.
	 *
	 * @param {sap.ui.core.RenderManager} oRm
	 *			the RenderManager that can be used for writing to
	 *			the Render-Output-Buffer
	 * @param {sap.ui.core.Control} oControl
	 *			the control to be rendered
	 */
	ColumnMicroChartRenderer.render = function(oRm, oControl) {
		if (!oControl._bThemeApplied) {
			return;
		}
		function fnWriteLbl(oLabel, sId, sClass, bWideBtmLbl) {
			oRm.write("<div");
			oRm.writeAttributeEscaped("id", oControl.getId() + sId);
			oRm.addClass("sapSuiteClMCLbl");
			oRm.addClass(jQuery.sap.encodeHTML(sClass));
			oRm.addClass(jQuery.sap.encodeHTML("sapSuiteClMCSemanticColor" + oLabel.getColor()));
			if (bWideBtmLbl) {
				oRm.addClass("sapSuiteClMCWideBtmLbl");
			}
			oRm.writeClasses();
			oRm.write(">");
				oRm.writeEscaped(oLabel.getLabel());
			oRm.write("</div>");
		}

		oRm.write("<div");
		oRm.writeControlData(oControl);
		oRm.addClass("sapSuiteClMC");
		var sSize = "sapSuiteClMCSize" + oControl.getSize();
		if (oControl.getIsResponsive()) {
			sSize = "sapSuiteClMCResponsive";
		}
		oRm.addClass(sSize);
		var sAriaLabel = oControl.getAltText();

		if (oControl.hasListeners("press")) {
			oRm.addClass("sapSuiteUiMicroChartPointer");
			oRm.writeAttribute("tabindex", "0");
		}
		oRm.writeAttribute("role", "presentation");
		oRm.writeAttributeEscaped("aria-label", sAriaLabel);

		oRm.writeClasses();
		oRm.addStyle("width", oControl.getWidth());
		oRm.addStyle("height", oControl.getHeight());
		oRm.writeStyles();
		oRm.write(">");
			var bLeftTopLbl = oControl.getLeftTopLabel() && oControl.getLeftTopLabel().getLabel() != "";
			var bRightTopLbl = oControl.getRightTopLabel() && oControl.getRightTopLabel().getLabel() != "";
			var bLeftBtmLbl = oControl.getLeftBottomLabel() && oControl.getLeftBottomLabel().getLabel() != "";
			var bRightBtmLbl = oControl.getRightBottomLabel() && oControl.getRightBottomLabel().getLabel() != "";

			if (bLeftTopLbl || bRightTopLbl) {
				oRm.write("<div");
				oRm.writeAttributeEscaped("id", oControl.getId() + "-top-lbls");
				oRm.addClass("sapSuiteClMCLbls");
				oRm.addClass("sapSuiteClMCPositionTop");
				oRm.writeClasses();
				oRm.write(">");
					var bWideTopLbl = bLeftTopLbl ^ bRightTopLbl;
					if (bLeftTopLbl) {
						fnWriteLbl(oControl.getLeftTopLabel(), "-left-top-lbl", "sapSuiteClMCPositionLeft", bWideTopLbl);
					}

					if (bRightTopLbl) {
						fnWriteLbl(oControl.getRightTopLabel(), "-right-top-lbl", "sapSuiteClMCPositionRight", bWideTopLbl);
					}
				oRm.write("</div>");
			}

			oRm.write("<div");
			oRm.writeAttributeEscaped("id", oControl.getId() + "-content");
			oRm.addClass("sapSuiteClMCCnt");
			if (bLeftTopLbl || bRightTopLbl) {
				oRm.addClass("sapSuiteClMCPositionTop");
			}
			if (bLeftBtmLbl || bRightBtmLbl) {
				oRm.addClass("sapSuiteClMCPositionBtm");
			}
			oRm.writeClasses();
			oRm.write(">");
				oRm.write("<div");
				oRm.writeAttributeEscaped("id", oControl.getId() + "-bars");
				oRm.addClass("sapSuiteClMCBars");
				oRm.writeClasses();
				oRm.write(">");
					var iColumnsNum = oControl.getColumns().length;
					for (var i = 0; i < iColumnsNum; i++) {
						var oColumn = oControl.getColumns()[i];
						oRm.write("<div");
						oRm.writeAttributeEscaped("id", oControl.getId() + "-bar-" + i);
						oRm.writeAttribute("data-bar-index", i);
						oRm.addClass("sapSuiteClMCBar");
						oRm.addClass(jQuery.sap.encodeHTML("sapSuiteClMCSemanticColor" + oColumn.getColor()));
						if (oColumn.hasListeners("press")) {
							oRm.writeAttribute("tabindex", "0");
							oRm.writeAttribute("role", "presentation");
							var sBarAltText = oControl._getBarAltText(i);
							oRm.writeAttributeEscaped("title", sBarAltText);
							oRm.writeAttributeEscaped("aria-label", sBarAltText);
							oRm.addClass("sapSuiteUiMicroChartPointer");
						}
						oRm.writeClasses();
						oRm.write(">");
						oRm.write("</div>");
					}
				oRm.write("</div>");
			oRm.write("</div>");

			if (bLeftBtmLbl || bRightBtmLbl) {
				oRm.write("<div");
				oRm.writeAttributeEscaped("id", oControl.getId() + "-btm-lbls");
				oRm.addClass("sapSuiteClMCLbls");
				oRm.addClass("sapSuiteClMCPositionBtm");
				oRm.writeClasses();
				oRm.write(">");
					var bWideBtmLbl = bLeftBtmLbl ^ bRightBtmLbl;
					if (bLeftBtmLbl) {
						fnWriteLbl(oControl.getLeftBottomLabel(), "-left-btm-lbl", "sapSuiteClMCPositionLeft", bWideBtmLbl);
					}

					if (bRightBtmLbl) {
						fnWriteLbl(oControl.getRightBottomLabel(), "-right-btm-lbl", "sapSuiteClMCPositionRight", bWideBtmLbl);
					}
				oRm.write("</div>");
			}

			oRm.write("<div");
			oRm.writeAttributeEscaped("id", oControl.getId() + "-hidden");
			oRm.writeAttribute("aria-hidden", "true");
			oRm.writeAttribute("tabindex", "0");
			oRm.writeStyles();
			oRm.write(">");
			oRm.write("</div>");
		oRm.write("</div>");
	};

	return ColumnMicroChartRenderer;

}, /* bExport= */ true);
}; // end of sap/suite/ui/microchart/ColumnMicroChartRenderer.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.ComparisonMicroChartRenderer') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

jQuery.sap.declare('sap.suite.ui.microchart.ComparisonMicroChartRenderer'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/ComparisonMicroChartRenderer",['jquery.sap.global'],
	function() {
	"use strict";

	/**
	 * ComparisonMicroChart renderer.
	 * @namespace
	 */
	var ComparisonMicroChartRenderer = {};

	/**
	 * Renders the HTML for the given control, using the provided
	 * {@link sap.ui.core.RenderManager}.
	 *
	 * @param {sap.ui.core.RenderManager} oRm
	 *			the RenderManager that can be used for writing to
	 *			the Render-Output-Buffer
	 * @param {sap.ui.core.Control} oControl
	 *			the control to be rendered
	 */
	ComparisonMicroChartRenderer.render = function (oRm, oControl) {
		if (!oControl._bThemeApplied) {
			return;
		}
		var sAriaLabel = oControl.getAltText();

		oRm.write("<div");
		oRm.writeControlData(oControl);
		oRm.addClass("sapSuiteCpMC");
		oRm.addClass("sapSuiteCpMCChartContent");
		var sSize = oControl.getIsResponsive() ? "sapSuiteCpMCResponsive" : "sapSuiteCpMCSize" + oControl.getSize();
		oRm.addClass(sSize);
		if (oControl.hasListeners("press")) {
			oRm.writeAttribute("tabindex", "0");
			oRm.addClass("sapSuiteUiMicroChartPointer");
		}
		oRm.writeClasses();
		oRm.writeAttribute("role", "presentation");
		oRm.writeAttributeEscaped("aria-label", sAriaLabel);

		if (oControl.getShrinkable()) {
			oRm.addStyle("min-height", "0px");
		}
		if (!oControl.getIsResponsive() && oControl.getWidth()) {
			oRm.addStyle("width", oControl.getWidth());
		}
		if (!oControl.getIsResponsive() && oControl.getHeight()) {
			oRm.addStyle("height", oControl.getHeight());
		}
		oRm.writeStyles();
		oRm.write(">");
		this._renderInnerContent(oRm, oControl, sAriaLabel);
			oRm.write("<div");
			oRm.writeAttribute("id", oControl.getId() + "-info");
			oRm.writeAttribute("aria-hidden", "true");
			oRm.addStyle("display", "none");
			oRm.writeStyles();
			oRm.write(">");
				oRm.writeEscaped(sAriaLabel);
			oRm.write("</div>");

			oRm.write("<div");
			oRm.writeAttribute("id", oControl.getId() + "-hidden");
			oRm.writeAttribute("aria-hidden", "true");
			oRm.writeAttribute("tabindex", "-1");
			oRm.writeStyles();
			oRm.write(">");
			oRm.write("</div>");
		oRm.write("</div>");
	};

	ComparisonMicroChartRenderer._renderInnerContent = function(oRm, oControl, sAriaLabel) {
		var iCPLength = oControl.getColorPalette().length;
		var iCPIndex = 0;

		var fnNextColor = function() {
			if (iCPLength) {
				if (iCPIndex == iCPLength) {
					iCPIndex = 0;
				}
				return oControl.getColorPalette()[iCPIndex++];
			}
		};
		oRm.write("<div");
		oRm.addClass("sapSuiteCpMCVerticalAlignmentContainer");
		oRm.writeClasses();
		if (oControl.getIsResponsive()){
			// tooltip has been moved to this container to avoid that the tooltip is being shown on the empty space that results from the vertical alignment.
			oRm.writeAttributeEscaped("title", sAriaLabel);
		}
		oRm.write(">");

		var aChartData = oControl._calculateChartData();
		for (var i = 0; i < aChartData.length; i++) {
			this._renderChartItem(oRm,  oControl, aChartData[i], i, fnNextColor());
		}
		oRm.write("</div>");
	};

	ComparisonMicroChartRenderer._renderChartItem = function(oRm, oControl, oChartData, iIndex, sColor) {
		var sSize = oControl.getIsResponsive() ? "sapSuiteCpMCResponsive" : "sapSuiteCpMCSize" + oControl.getSize();
		oRm.write("<div");
		oRm.writeAttribute("id", oControl.getId() + "-chart-item-" + iIndex);
		oRm.addClass("sapSuiteCpMCChartItem");
		oRm.addClass("sapSuiteCpMCViewType" + oControl.getView());
		if (!oControl.getIsResponsive()) {
			oRm.addClass(sSize);
		}
		oRm.writeClasses();
		oRm.write(">");
			this._renderChartHeader(oRm, oControl, iIndex, sColor);
			this._renderChartBar(oRm, oControl, oChartData, iIndex, sColor);
		oRm.write("</div>");
	};

	ComparisonMicroChartRenderer._renderChartBar = function(oRm, oControl, oChartData, iIndex, sColor) {
		var sSize = oControl.getIsResponsive() ? "sapSuiteCpMCResponsive" : "sapSuiteCpMCSize" + oControl.getSize();
		var oData = oControl.getData()[iIndex];

		oRm.write("<div");
		oRm.writeAttribute("id", oControl.getId() + "-chart-item-bar-" + iIndex);
		oRm.addClass("sapSuiteCpMCChartBar");
		oRm.addClass("sapSuiteCpMCViewType" + oControl.getView());
		oRm.addClass(sSize);
		if (oControl.getData()[iIndex].hasListeners("press")) {
			oRm.writeAttribute("tabindex", "0");
			oRm.writeAttribute("role", "presentation");
			oRm.writeAttributeEscaped("title", oControl._getBarAltText(iIndex));
			oRm.writeAttributeEscaped("aria-label", oControl._getBarAltText(iIndex));
			oRm.writeAttribute("data-bar-index", iIndex);
			oRm.addClass("sapSuiteUiMicroChartPointer");
		}
		oRm.writeClasses();
		oRm.write(">");

		if (oChartData.negativeNoValue > 0) {
			oRm.write("<div");
			oRm.writeAttribute("data-bar-index", iIndex);
			oRm.addClass("sapSuiteCpMCChartBarNegNoValue");
			if (oChartData.value > 0 || oChartData.positiveNoValue > 0) {
				oRm.addClass("sapSuiteCpMCNotLastBarPart");
			}
			oRm.writeClasses();
			oRm.addStyle("width", jQuery.sap.encodeHTML(oChartData.negativeNoValue + "%"));
			oRm.writeStyles();
			oRm.write("></div>");
		}

		if (oChartData.value > 0) {
			oRm.write("<div");
			oRm.writeAttribute("data-bar-index", iIndex);
			oRm.addClass("sapSuiteCpMCChartBarValue");
			oRm.addClass(jQuery.sap.encodeHTML("sapSuiteCpMCSemanticColor" + oData.getColor()));
			oRm.writeClasses();
			oRm.addStyle("background-color", sColor ? jQuery.sap.encodeHTML(sColor) : "");
			oRm.addStyle("width", jQuery.sap.encodeHTML(oChartData.value + "%"));
			oRm.writeStyles();
			oRm.write("></div>");
		}

		if (oChartData.positiveNoValue > 0) {
			oRm.write("<div");
			oRm.writeAttribute("data-bar-index", iIndex);
			oRm.addClass("sapSuiteCpMCChartBarNoValue");
			if (!!oChartData.negativeNoValue && !oChartData.value) {
				oRm.addClass("sapSuiteCpMCNegPosNoValue");
			} else if (!!oChartData.negativeNoValue || !!oChartData.value) {
				oRm.addClass("sapSuiteCpMCNotFirstBarPart");
			}
			oRm.writeClasses();
			oRm.addStyle("width", jQuery.sap.encodeHTML(oChartData.positiveNoValue + "%"));
			oRm.writeStyles();
			oRm.write("></div>");
		}

		oRm.write("</div>");
	};

	ComparisonMicroChartRenderer._renderChartHeader = function(oRm, oControl, iIndex, sColor) {
		var sSize = oControl.getIsResponsive() ? "sapSuiteCpMCResponsive" : "sapSuiteCpMCSize" + oControl.getSize();
		var oData = oControl.getData()[iIndex];
		var sScale = oControl.getScale();
		var sDisplayValue = oData.getDisplayValue();
		var sAValToShow = sDisplayValue ? sDisplayValue : "" + oData.getValue();
		var sValScale = sAValToShow + sScale;

		oRm.write("<div");
		oRm.writeAttribute("id", oControl.getId() + "-chart-item-" + iIndex + "-header");
		oRm.addClass("sapSuiteCpMCChartItemHeader");
		oRm.addClass("sapSuiteCpMCViewType" + oControl.getView());
		oRm.addClass(sSize);
		oRm.writeClasses();
		oRm.write(">");
			oRm.write("<div");
				oRm.writeAttribute("id", oControl.getId() + "-chart-item-" + iIndex + "-value");
				oRm.addClass("sapSuiteCpMCChartItemValue");
				oRm.addClass(sSize);
				oRm.addClass(jQuery.sap.encodeHTML("sapSuiteCpMCViewType" + oControl.getView()));
				if (!sColor) {
					oRm.addClass(jQuery.sap.encodeHTML("sapSuiteCpMCSemanticColor" + oData.getColor()));
				}

				if (oData.getTitle()) {
					oRm.addClass("sapSuiteCpMCTitle");
				}
				oRm.writeClasses();
				oRm.write(">");
				if (!isNaN(oData.getValue())) {
					oRm.writeEscaped(sValScale);
				}
			oRm.write("</div>");

			oRm.write("<div");
			oRm.writeAttribute("id", oControl.getId() + "-chart-item-" + iIndex + "-title");
			oRm.addClass("sapSuiteCpMCChartItemTitle");
			oRm.writeClasses();
			oRm.write(">");
				oRm.writeEscaped(oData.getTitle());
			oRm.write("</div>");
		oRm.write("</div>");
	};

	return ComparisonMicroChartRenderer;

}, /* bExport= */ true);

}; // end of sap/suite/ui/microchart/ComparisonMicroChartRenderer.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.DeltaMicroChartRenderer') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

jQuery.sap.declare('sap.suite.ui.microchart.DeltaMicroChartRenderer'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/DeltaMicroChartRenderer",['jquery.sap.global'],
	function() {
	"use strict";

	/**
	 * DeltaMicroChart renderer.
	 * @namespace
	 */
	var DeltaMicroChartRenderer = {};

	/**
	 * Renders the HTML for the given control, using the provided
	 * {@link sap.ui.core.RenderManager}.
	 *
	 * @param {sap.ui.core.RenderManager} oRm The RenderManager that can be used for writing to the Render-Output-Buffer
	 * @param {sap.ui.core.Control} oControl The control to be rendered
	 */
	DeltaMicroChartRenderer.render = function(oRm, oControl) {
		if (!oControl._bThemeApplied) {
			return;
		}
		var sDv1 = oControl.getDisplayValue1();
		var sDv2 = oControl.getDisplayValue2();
		var fVal1 = oControl.getValue1();
		var fVal2 = oControl.getValue2();
		var sDdv = oControl.getDeltaDisplayValue();
		var sAdv1ToShow = sDv1 ? sDv1 : "" + fVal1;
		var sAdv2ToShow = sDv2 ? sDv2 : "" + fVal2;
		var sAddvToShow = sDdv ? sDdv : "" + Math.abs(fVal1 - fVal2).toFixed(Math.max(oControl._digitsAfterDecimalPoint(fVal1), oControl._digitsAfterDecimalPoint(fVal2)));
		var sColor = "sapSuiteDMCSemanticColor" + oControl.getColor();
		var sAriaLabel = oControl.getAltText();

		var sSize;
		if (oControl.getIsResponsive()) {
			sSize = "sapSuiteDMCResponsive";
		} else {
			sSize = "sapSuiteDMCSize" + oControl.getSize();
		}

		var bNoTitles = (!oControl.getTitle1() && !oControl.getTitle2());

		function getDir(bLeft) {
			return bLeft ? "sapSuiteDMCDirectionLeft" : "sapSuiteDMCDirectionRight";
		}

		oRm.write("<div");
		oRm.writeControlData(oControl);
		oRm.addClass("sapSuiteDMC");
			if (oControl.hasListeners("press")) {
			oRm.addClass("sapSuiteUiMicroChartPointer");
			oRm.writeAttribute("tabindex", "0");
		}
		oRm.addClass(sSize);
		oRm.writeAttribute("role", "presentation");
		oRm.writeAttributeEscaped("aria-label", sAriaLabel);
		oRm.writeClasses();
		if (oControl.getWidth()) {
			oRm.addStyle("width", oControl.getWidth());
			oRm.writeStyles();
		}

		oRm.write(">");

			oRm.write("<div");
			oRm.addClass("sapSuiteDMCVerticalAlignmentContainer");
			oRm.writeClasses();
			oRm.write(">");
			oRm.write("<div");
			oRm.addClass("sapSuiteDMCCnt");
			oRm.addClass(sSize);
			oRm.writeClasses();
			oRm.write(">");
				oRm.write("<div");
				oRm.writeAttribute("id", oControl.getId() + "-title1");
				oRm.addClass("sapSuiteDMCTitle");
				oRm.addClass("sapSuiteDMCPositionTop");
				oRm.writeClasses();
				oRm.write(">");
					oRm.writeEscaped(oControl.getTitle1());
				oRm.write("</div>");

				oRm.write("<div");
				oRm.addClass("sapSuiteDMCChart");
				oRm.addClass(sSize);
				if (bNoTitles){
					oRm.addClass("sapSuiteDMCNoTitles");
				}
				oRm.writeClasses();
				oRm.writeAttribute("id", oControl.getId() + "-dmc-chart");
				oRm.write(">");
					oRm.write("<div");
					oRm.addClass("sapSuiteDMCBar");
					oRm.addClass("sapSuiteDMCBar1");
					oRm.addClass(sSize);
					if (oControl._oChartData.delta.isMax) {
						oRm.addClass("sapSuiteDMCBarDeltaMaxDelta");
					}
					if (oControl._oChartData.bar1.isSmaller) {
						oRm.addClass("sapSuiteDMCBarSizeSmaller");
					}
					if (parseFloat(oControl._oChartData.bar1.width) === 0) {
						oRm.addClass("sapSuiteDMCBarZeroWidth");
					} else if (parseFloat(oControl._oChartData.bar2.width) === 0) {
						oRm.addClass("sapSuiteDMCBarUniqueNonzero");
					}
					oRm.addClass(jQuery.sap.encodeHTML(getDir(oControl._oChartData.bar1.left)));
					oRm.writeClasses();
					oRm.addStyle("width", jQuery.sap.encodeHTML(oControl._oChartData.bar1.width + "%"));
					oRm.writeStyles();
					oRm.writeAttribute("id", oControl.getId() + "-dmc-bar1");
					oRm.write(">");
						oRm.write("<div");
						oRm.addClass("sapSuiteDMCBarInternal");
						oRm.addClass(jQuery.sap.encodeHTML(getDir(oControl._oChartData.bar2.left)));
						oRm.writeClasses();
						oRm.write(">");
						oRm.write("</div>");
					oRm.write("</div>");

					oRm.write("<div");
					oRm.addClass("sapSuiteDMCBar");
					oRm.addClass("sapSuiteDMCBar2");
					oRm.addClass(sSize);
					if (oControl._oChartData.delta.isMax) {
						oRm.addClass("sapSuiteDMCBarDeltaMaxDelta");
					}
					if (oControl._oChartData.bar2.isSmaller) {
						oRm.addClass("sapSuiteDMCBarSizeSmaller");
					}
					if (parseFloat(oControl._oChartData.bar2.width) === 0) {
						oRm.addClass("sapSuiteDMCBarZeroWidth");
					} else if (parseFloat(oControl._oChartData.bar1.width) === 0) {
						oRm.addClass("sapSuiteDMCBarUniqueNonzero");
					}
					oRm.addClass(jQuery.sap.encodeHTML(getDir(oControl._oChartData.bar2.left)));
					oRm.writeClasses();
					oRm.addStyle("width", jQuery.sap.encodeHTML(oControl._oChartData.bar2.width + "%"));
					oRm.writeStyles();
					oRm.writeAttribute("id", oControl.getId() + "-dmc-bar2");
					oRm.write(">");
						oRm.write("<div");
						oRm.addClass("sapSuiteDMCBarInternal");
						oRm.addClass(jQuery.sap.encodeHTML(getDir(oControl._oChartData.bar1.left)));
						oRm.writeClasses();
						oRm.write(">");
						oRm.write("</div>");
					oRm.write("</div>");

					oRm.write("<div");
					oRm.addClass("sapSuiteDMCBar");
					oRm.addClass("sapSuiteDMCBarDelta");
					oRm.addClass(sSize);
					if (!oControl._oChartData.delta.isMax) {
						oRm.addClass("sapSuiteDMCBarDeltaNotMax");
					}
					if (oControl._oChartData.delta.isZero) {
						oRm.addClass("sapSuiteDMCBarDeltaZero");
					}
					if (oControl._oChartData.delta.isEqual) {
						oRm.addClass("sapSuiteDMCBarDeltaEqual");
					}
					oRm.addClass(jQuery.sap.encodeHTML(getDir(oControl._oChartData.delta.left)));
					oRm.writeClasses();
					oRm.addStyle("width", jQuery.sap.encodeHTML(oControl._oChartData.delta.width + "%"));
					oRm.writeStyles();
					oRm.writeAttribute("id", oControl.getId() + "-dmc-bar-delta");
					oRm.write(">");
						oRm.write("<div");
						oRm.addClass(sColor);
						oRm.addClass("sapSuiteDMCBarDeltaInt");
						oRm.writeClasses();
						oRm.write(">");
						oRm.write("</div>");

						oRm.write("<div");
						oRm.addClass("sapSuiteDMCBarDeltaStripe");
						oRm.addClass(jQuery.sap.encodeHTML(getDir(true)));
						if (oControl._oChartData.delta.isEqual) {
							oRm.addClass("sapSuiteDMCBarDeltaEqual");
						}
						oRm.addClass("sapSuiteDMCBarDeltaFirstStripe" + (oControl._oChartData.delta.isFirstStripeUp ? "Up" : "Down"));
						oRm.writeClasses();
						oRm.write(">");
						oRm.write("</div>");

						oRm.write("<div");
						oRm.addClass("sapSuiteDMCBarDeltaStripe");
						oRm.addClass(jQuery.sap.encodeHTML(getDir(false)));
						oRm.addClass("sapSuiteDMCBarDeltaFirstStripe" + (oControl._oChartData.delta.isFirstStripeUp ? "Down" : "Up"));
						oRm.writeClasses();
						oRm.write(">");
						oRm.write("</div>");
					oRm.write("</div>");

				oRm.write("</div>");

				oRm.write("<div");
				oRm.writeAttribute("id", oControl.getId() + "-title2");
				oRm.addClass("sapSuiteDMCTitle");
				oRm.addClass("sapSuiteDMCPositionBtm");
				oRm.writeClasses();
				oRm.write(">");
					oRm.writeEscaped(oControl.getTitle2());
				oRm.write("</div>");
			oRm.write("</div>");

			oRm.write("<div");
			oRm.addClass("sapSuiteDMCLbls");
			oRm.addClass(sSize);
			oRm.writeClasses();
			oRm.write(">");
				oRm.write("<div");
				oRm.writeAttribute("id", oControl.getId() + "-value1");
				oRm.addClass("sapSuiteDMCValue1");
				oRm.writeClasses();
				oRm.write(">");
					oRm.writeEscaped(sAdv1ToShow);
				oRm.write("</div>");

				oRm.write("<div");
				oRm.writeAttribute("id", oControl.getId() + "-delta");
				oRm.addClass("sapSuiteDMCDelta");
				oRm.addClass(sColor);
				oRm.writeClasses();
				oRm.write(">");
					oRm.writeEscaped(sAddvToShow);
				oRm.write("</div>");

				oRm.write("<div");
				oRm.writeAttribute("id", oControl.getId() + "-value2");
				oRm.addClass("sapSuiteDMCValue2");
				oRm.writeClasses();
				oRm.write(">");
					oRm.writeEscaped(sAdv2ToShow);
				oRm.write("</div>");
			oRm.write("</div>");

			oRm.write("<div");
			oRm.writeAttribute("id", oControl.getId() + "-calc");
			oRm.addClass("sapSuiteDMCCalc");
			oRm.writeClasses();
			oRm.write(">");
				oRm.write("<div");
				oRm.writeAttribute("id", oControl.getId() + "-calc1");
				oRm.addClass("sapSuiteDMCCalc1");
				oRm.writeClasses();
				oRm.write("></div>");
				oRm.write("<div");
				oRm.writeAttribute("id", oControl.getId() + "-calc2");
				oRm.addClass("sapSuiteDMCCalc2");
				oRm.writeClasses();
				oRm.write("></div>");
			oRm.write("</div>");
			oRm.write("</div>");
		oRm.write("</div>");
	};

	return DeltaMicroChartRenderer;

}, /* bExport= */ true);
}; // end of sap/suite/ui/microchart/DeltaMicroChartRenderer.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.HarveyBallMicroChartRenderer') ) {
 /*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

jQuery.sap.declare('sap.suite.ui.microchart.HarveyBallMicroChartRenderer'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('sap.ui.Device'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/HarveyBallMicroChartRenderer",['sap/ui/Device'],
	function(Device) {
	"use strict";

	/**
	* HarveyBallMicroChartRenderer renderer.
	* @namespace
	*/
	var HarveyBallMicroChartRenderer = {};

	HarveyBallMicroChartRenderer._iReferenceControlHeight = 72;
	HarveyBallMicroChartRenderer._iReferenceControlWidth = 168;

	/**
	 * Renders the HTML for the given control, using the provided {@link sap.ui.core.RenderManager}.
	 *
	 * @param {sap.ui.core.RenderManager} oRm the RenderManager that can be used for writing to the Render - Output - Buffer
	 * @param {sap.ui.core.Control} oControl the control to be rendered
	 */
	HarveyBallMicroChartRenderer.render = function(oRm, oControl) {
		if (!oControl._bThemeApplied) {
			return;
		}
		var bRtl = sap.ui.getCore().getConfiguration().getRTL();
		this._calculatePath(oControl);
		var sAriaLabel = oControl.getAltText();
		var sTotalScale = "";
		var sValueLabel = "";
		var sValueScale = "";
		var bFmtLabel = false;
		var fValue = 0;
		var sColorClass = "";
		var sColorPaletteColor = false;
		// support only value from first item
		if (oControl.getItems().length) {
			var oPieItem = oControl.getItems()[0];
			fValue = oPieItem.getFraction();
			sColorClass = "sapSuiteHBMCSemanticColor" + oPieItem.getColor();
			sValueLabel = oPieItem.getFractionLabel() ? oPieItem.getFractionLabel() : sValueLabel + oPieItem.getFraction();
			sValueScale = oPieItem.getFractionScale() ? oPieItem.getFractionScale().substring(0, 3) : sValueScale;
			bFmtLabel = oPieItem.getFormattedLabel();
		}

		if (bFmtLabel) {
			var oFormattedValue = oControl._parseFormattedValue(sValueLabel);

			sValueScale = oFormattedValue.scale.substring(0, 3);
			sValueLabel = oFormattedValue.value;
		}

		var fTotal = oControl.getTotal();
		var sTotalLabel = oControl.getTotalLabel() ? oControl.getTotalLabel() : "" + oControl.getTotal();
		if (oControl.getTotalScale()) {
			sTotalScale = oControl.getTotalScale().substring(0, 3);
		}

		if (oControl.getFormattedLabel()) {
			var oFormattedTotal = oControl._parseFormattedValue(sTotalLabel);
			sTotalScale = oFormattedTotal.scale.substring(0, 3);
			sTotalLabel = oFormattedTotal.value;
		}
		var iTrunc = 5; // truncate values to 5 chars
		if (sValueLabel) {
			sValueLabel = (sValueLabel.length >= iTrunc && (sValueLabel[iTrunc - 1] === "." || sValueLabel[iTrunc - 1] === ","))
					? sValueLabel.substring(0, iTrunc - 1)
					: sValueLabel.substring(0, iTrunc);
		}
		if (sTotalLabel) {
			sTotalLabel = (sTotalLabel.length >= iTrunc && (sTotalLabel[iTrunc - 1] === "." || sTotalLabel[iTrunc - 1] === ","))
					? sTotalLabel.substring(0, iTrunc - 1)
					: sTotalLabel.substring(0, iTrunc);
		}
		if (oControl.getColorPalette().length > 0) {
			sColorPaletteColor = oControl.getColorPalette()[0];
		}

		var sSizeClass = "sapSuiteHBMCSize" + oControl.getSize();
		oRm.write("<div");
		oRm.writeControlData(oControl);
		oRm.writeAttribute("role", "presentation");
		oRm.writeAttributeEscaped("aria-label", sAriaLabel);
		oRm.addClass("sapSuiteHBMC");
		oRm.addClass(oControl.getIsResponsive() ? "sapSuiteHBMCResponsive" : jQuery.sap.encodeHTML(sSizeClass));
		if (oControl.hasListeners("press")) {
			oRm.addClass("sapSuiteUiMicroChartPointer");
			oRm.writeAttribute("tabindex", "0");
		}
		oRm.writeClasses();

		if (!oControl.getIsResponsive() && oControl.getWidth()){
			oRm.addStyle("width", oControl.getWidth());
		}
		oRm.writeStyles();
		oRm.write(">");

		oRm.write("<div");
		oRm.addClass("sapSuiteHBMCChartCnt");
		oRm.addClass(oControl.getIsResponsive() ? "sapSuiteHBMCResponsive" : jQuery.sap.encodeHTML(sSizeClass));
		oRm.writeClasses();
		oRm.addStyle("display", "inline-block");
		oRm.writeStyles();
		oRm.write(">");

		oRm.write("<svg");
		oRm.writeAttribute("id", oControl.getId() + "-harvey-ball");
		if (oControl.getIsResponsive()) {
			oRm.addClass("sapSuiteHBMCChartCnt");
			oRm.addClass("sapSuiteHBMCResponsive");
			oRm.writeClasses();
			oRm.writeAttributeEscaped("viewBox", this._getSvgViewBoxProperties());
		} else {
			oRm.writeAttributeEscaped("width", this._oPath.size);
			oRm.writeAttributeEscaped("height", this._oPath.size);
		}
		oRm.writeAttribute("focusable", false);
		oRm.write(">");
		oRm.write("<g>");
		oRm.write("<circle");
		if (bRtl && oControl.getIsResponsive()) {
			oRm.writeAttributeEscaped("cx", HarveyBallMicroChartRenderer._iReferenceControlWidth - this._oPath.center);
		} else {
			oRm.writeAttributeEscaped("cx", this._oPath.center);
		}
		oRm.writeAttributeEscaped("cy", this._oPath.center);
		oRm.writeAttributeEscaped("r", (sap.ui.getCore().getConfiguration().getTheme() === "sap_hcb")
														? this._oPath.center - 1
														: this._oPath.center);
		oRm.addClass("sapSuiteHBMCSBall");
		oRm.writeClasses();
		oRm.write("/>");

		if (fValue && fValue >= fTotal) {
			oRm.write("<circle");
			if (bRtl && oControl.getIsResponsive()) {
				oRm.writeAttributeEscaped("cx", HarveyBallMicroChartRenderer._iReferenceControlWidth - this._oPath.center);
			} else {
				oRm.writeAttributeEscaped("cx", this._oPath.center);
			}
			oRm.writeAttributeEscaped("cy", this._oPath.center);
			oRm.writeAttributeEscaped("r", this._oPath.center - this._oPath.border);
			oRm.addClass("sapSuiteHBMCSgmnt");
			oRm.addClass(jQuery.sap.encodeHTML(sColorClass));
			oRm.writeClasses();

			if (oControl.getColorPalette().length > 0) {
				oRm.addStyle("fill", jQuery.sap.encodeHTML(oControl.getColorPalette()[0]));
				oRm.writeStyles();
			}

			oRm.write("/>");
		} else if (fValue > 0) {
			oRm.write("<path");
			oRm.writeAttribute("id", oControl.getId() + "-segment");
			oRm.addClass("sapSuiteHBMCSgmnt");
			oRm.addClass(jQuery.sap.encodeHTML(sColorClass));
			oRm.writeClasses();
			oRm.writeAttributeEscaped("d", this._serializePieChart());

			if (oControl.getColorPalette().length > 0) {
				oRm.addStyle("fill", jQuery.sap.encodeHTML(oControl.getColorPalette()[0]));
				oRm.writeStyles();
			}

			oRm.write("/>");
		}

		oRm.write("</g>");
		if (oControl.getIsResponsive()) {
			if (oControl.getShowFractions()) {
				oRm.write("<text");
				oRm.writeAttribute("id", "sapSuiteHBMCTopText");
				if (bRtl && (Device.browser.msie || Device.browser.edge)) {
					oRm.writeAttribute("text-anchor", "end");
				} else {
					oRm.writeAttribute("text-anchor", "start");
				}
				oRm.writeAttribute("x", "80");
				oRm.writeAttribute("y", "30");
				oRm.addClass("sapSuiteHBMCResponsive");
				oRm.addClass("sapSuiteHBMCValSclCnt");
				oRm.addClass(jQuery.sap.encodeHTML(sColorClass));
				oRm.writeClasses();
				oRm.write(">");
				if (!bRtl) {
					this.renderFractionLabel(oRm, sValueLabel, bRtl);
					this.renderFractionScale(oRm, sValueScale, bRtl);
				} else {
					this.renderFractionScale(oRm, sValueScale, bRtl);
					this.renderFractionLabel(oRm, sValueLabel, bRtl);
				}
				oRm.write("</text>");
			}
			if (oControl.getShowTotal()) {
				oRm.write("<text");
				oRm.writeAttribute("id", "sapSuiteHBMCBottomText");
				if (!bRtl) {
					oRm.writeAttributeEscaped("x", HarveyBallMicroChartRenderer._iReferenceControlWidth);
				} else {
					oRm.writeAttribute("x", "0");
				}
				oRm.writeAttribute("y", "65");

				if (bRtl && (Device.browser.msie || Device.browser.edge)) {
					oRm.writeAttribute("text-anchor", "start");
				} else {
					oRm.writeAttribute("text-anchor", "end");
				}

				oRm.addClass("sapSuiteHBMCResponsive");
				oRm.addClass("sapSuiteHBMCTtl");
				oRm.addClass("sapSuiteHBMCTtlSclCnt");
				oRm.writeClasses();
				oRm.write(">");
				if (!bRtl) {
					this.renderTotalLabel(oRm, sTotalLabel, bRtl);
					this.renderTotalScale(oRm, sTotalScale, bRtl);
				} else {
					this.renderTotalScale(oRm, sTotalScale, bRtl);
					this.renderTotalLabel(oRm, sTotalLabel, bRtl);
				}
				oRm.write("</text>");
			}
		}
		oRm.write("</svg>");
		oRm.write("</div>");

		if (!oControl.getIsResponsive()){
			oRm.write("<div");
			oRm.addClass("sapSuiteHBMCValSclCnt");
			oRm.addClass(jQuery.sap.encodeHTML(sSizeClass));
			oRm.addClass(jQuery.sap.encodeHTML(sColorClass));

			if (sColorPaletteColor) {
				oRm.addClass("sapSuiteHBMCColorPaletteColor");
			}

			oRm.writeClasses();
			oRm.addStyle("display", oControl.getShowFractions() ? "inline-block" : "none");
			oRm.writeStyles();
			oRm.write(">");
			oRm.write("<p");
			oRm.write(">");
			this.renderLabel(oRm, oControl, [sColorClass, sSizeClass, "sapSuiteHBMCVal"], sValueLabel, "-fraction");
			this.renderLabel(oRm, oControl, [sColorClass, sSizeClass, "sapSuiteHBMCValScale"], sValueScale, "-fraction-scale");
			oRm.write("</p>");
			oRm.write("</div>");

			oRm.write("<div");
			oRm.addClass("sapSuiteHBMCTtlSclCnt");
			oRm.addClass(jQuery.sap.encodeHTML(sSizeClass));
			oRm.writeClasses();
			if (bRtl) {
				oRm.addStyle("left", "0");
			} else {
				oRm.addStyle("right", "0");
			}
			oRm.addStyle("display", oControl.getShowTotal() ? "inline-block" : "none");
			oRm.writeStyles();
			oRm.write(">");
			this.renderLabel(oRm, oControl, [sColorClass, sSizeClass, "sapSuiteHBMCTtl"], sTotalLabel, "-total");
			this.renderLabel(oRm, oControl, [sColorClass, sSizeClass, "sapSuiteHBMCTtlScale"], sTotalScale, "-total-scale");
			oRm.write("</div>");
		}
		oRm.write("</div>");
	};

	HarveyBallMicroChartRenderer.renderFractionLabel = function(oRm, sFractionLabel, bRtl) {
		oRm.write("<tspan");
		if (bRtl) {
			// px is used instead of rem for IE compatibility reasons
			oRm.writeAttribute("dx", "4.8px");
		}
		oRm.write(">");
		oRm.writeEscaped(sFractionLabel);
		oRm.write("</tspan>");
	};

	HarveyBallMicroChartRenderer.renderFractionScale = function(oRm, sFractionScale, bRtl) {
		oRm.write("<tspan");
		oRm.writeAttribute("font-size", "0.8rem");
		if (!bRtl) {
			// px is used instead of rem for IE compatibility reasons
			oRm.writeAttribute("dx", "4.8px");
		}
		oRm.write(">");
		oRm.writeEscaped(sFractionScale);
		oRm.write("</tspan>");
	};

	HarveyBallMicroChartRenderer.renderTotalLabel = function(oRm, sTotalLabel, bRtl) {
		oRm.write("<tspan");
		if (bRtl) {
			// px is used instead of rem for IE compatibility reasons
			oRm.writeAttribute("dx", "4.8px");
		} else if (Device.browser.msie || Device.browser.edge) {
			oRm.writeAttribute("dx", "-4.8px");
		}
		oRm.write(">");
		oRm.writeEscaped(sTotalLabel);
		oRm.write("</tspan>");
	};

	HarveyBallMicroChartRenderer.renderTotalScale = function(oRm, sTotalScale, bRtl) {
		oRm.write("<tspan");
		if (!bRtl) {
			// px is used instead of rem for IE compatibility reasons
			oRm.writeAttribute("dx", "4.8px");
		}
		oRm.write(">");
		oRm.writeEscaped(sTotalScale);
		oRm.write("</tspan>");
	};

	HarveyBallMicroChartRenderer.renderLabel = function(oRm, oControl, aClasses, sLabel, sId) {
		oRm.write("<span");
		oRm.writeAttribute("id", oControl.getId() + sId);
		for (var i = 0; i < aClasses.length; i++) {
			oRm.addClass(jQuery.sap.encodeHTML(aClasses[i]));
		}
		oRm.writeClasses();
		oRm.write(">");
		if (sLabel) {
			oRm.writeEscaped(sLabel);
		}
		oRm.write("</span>");

	};

	HarveyBallMicroChartRenderer._getSvgViewBoxProperties = function() {
		return "0 0 " + HarveyBallMicroChartRenderer._iReferenceControlWidth + " " + HarveyBallMicroChartRenderer._iReferenceControlHeight;
	};

	HarveyBallMicroChartRenderer._calculatePath = function(oControl) {
		var oSize = oControl.getSize();
		var fTot = oControl.getTotal();
		var fFrac = 0;
		if (oControl.getItems().length) {
			fFrac = oControl.getItems()[0].getFraction();
		}
		var bIsPhone = false;

		if (oSize == "Auto") {
			bIsPhone = jQuery("html").hasClass("sapUiMedia-Std-Phone");
		}

		if (oSize == "S" || oSize == "XS") {
			bIsPhone = true;
		}

		var iMediaSize = bIsPhone ? 56 : 72;
		if (oControl.getIsResponsive()){
			iMediaSize = HarveyBallMicroChartRenderer._iReferenceControlHeight;
		}
		var iCenter = iMediaSize / 2;
		var iBorder = 4;
		var bRtl = sap.ui.getCore().getConfiguration().getRTL();
		var bRtlResponsive;
		if (oControl.getIsResponsive() && bRtl) {
			bRtlResponsive = true;
		} else {
			bRtlResponsive = false;
		}
		this._oPath = {
			initial : {
				x : !bRtlResponsive ? iCenter : HarveyBallMicroChartRenderer._iReferenceControlWidth - iCenter,
				y : iCenter,
				x1 : !bRtlResponsive ? iCenter : HarveyBallMicroChartRenderer._iReferenceControlWidth - iCenter,
				y1 : iCenter
			},
			lineTo : {
				x : !bRtlResponsive ? iCenter : HarveyBallMicroChartRenderer._iReferenceControlWidth - iCenter,
				y : iBorder
			},
			arc : {
				x1 : iCenter - iBorder,
				y1 : iCenter - iBorder,
				xArc : 0,
				largeArc : 0,
				sweep : 1,
				x2 : "",
				y2 : ""
			},
			size : iMediaSize,
			border : iBorder,
			center : iCenter
		};

		var fAngle = fFrac / fTot * 360;
		if (fAngle < 10) {
			this._oPath.initial.x -= 1.5;
			this._oPath.initial.x1 += 1.5;
			this._oPath.arc.x2 = this._oPath.initial.x1;
			this._oPath.arc.y2 = this._oPath.lineTo.y;
		} else if (fAngle > 350 && fAngle < 360) {
			this._oPath.initial.x += 1.5;
			this._oPath.initial.x1 -= 1.5;
			this._oPath.arc.x2 = this._oPath.initial.x1;
			this._oPath.arc.y2 = this._oPath.lineTo.y;
		} else {
			var fRad = Math.PI / 180.0;
			var fRadius = this._oPath.center - this._oPath.border;
			var ix;
			if (!bRtlResponsive) {
				ix = fRadius * Math.cos((fAngle - 90) * fRad) + this._oPath.center;
			} else {
				ix = fRadius * Math.cos((fAngle - 90) * fRad) + HarveyBallMicroChartRenderer._iReferenceControlWidth - this._oPath.center;
			}
			var iy = this._oPath.size - (fRadius * Math.sin((fAngle + 90) * fRad) + this._oPath.center);
			this._oPath.arc.x2 = ix.toFixed(2);
			this._oPath.arc.y2 = iy.toFixed(2);
		}
		var iLargeArc = fTot / fFrac < 2 ? 1 : 0;

		this._oPath.arc.largeArc = iLargeArc;
	};

	HarveyBallMicroChartRenderer._serializePieChart = function() {
		var p = this._oPath;
		return ["M", p.initial.x, ",", p.initial.y, " L", p.initial.x, ",", p.lineTo.y, " A", p.arc.x1, ",", p.arc.y1,
				" ", p.arc.xArc, " ", p.arc.largeArc, ",", p.arc.sweep, " ", p.arc.x2, ",", p.arc.y2, " L", p.initial.x1,
				",", p.initial.y1, " z"].join("");
	};

	return HarveyBallMicroChartRenderer;

}, /* bExport */ true);

}; // end of sap/suite/ui/microchart/HarveyBallMicroChartRenderer.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.RadialMicroChartRenderer') ) {
 /*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

jQuery.sap.declare('sap.suite.ui.microchart.RadialMicroChartRenderer'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.Device'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/RadialMicroChartRenderer",["jquery.sap.global", "sap/ui/Device"],
	function(jQuery, Device) {
	"use strict";

	/**
	* RadialMicroChartRenderer renderer.
	* @namespace
	* @since 1.36.0
	*/
	var RadialMicroChartRenderer = {};

	//Constants
	RadialMicroChartRenderer.FORM_RATIO = 1000; //Form ratio for the control, means the calculation base
	RadialMicroChartRenderer.BACKGROUND_CIRCLE_BORDER_WIDTH = 1;
	RadialMicroChartRenderer.BACKGROUND_CIRCLE_RADIUS = 500; //Calculated by: RadialMicroChartRenderer.FORM_RATIO * 0.5
	RadialMicroChartRenderer.CIRCLE_BORDER_WIDTH = 87.5; //Calculated by: RadialMicroChartRenderer.BACKGROUND_CIRCLE_RADIUS * 0.175<WHEEL_WIDTH_FACTOR>
	RadialMicroChartRenderer.CIRCLE_RADIUS = 441.75; //Calculated by: RadialMicroChartRenderer.BACKGROUND_CIRCLE_RADIUS * (1.0 - 0.029<EXTERNAL_OUTER_BORDER_WIDTH_FACTOR> - 0.175<WHEEL_WIDTH_FACTOR> / 2.0)
	RadialMicroChartRenderer.SVG_VIEWBOX_CENTER_FACTOR = "50%";
	RadialMicroChartRenderer.X_ROTATION = 0;
	RadialMicroChartRenderer.SWEEP_FLAG = 1;
	RadialMicroChartRenderer.PADDING_WIDTH = 0.22;//Should be 1 px
	RadialMicroChartRenderer.NUMBER_FONT_SIZE = 235; //Calculated by: RadialMicroChartRenderer.BACKGROUND_CIRCLE_RADIUS * 0.47<NUMBER_FONT_SIZE_FACTOR>
	RadialMicroChartRenderer.EDGE_CASE_SIZE_ACCESSIBLE_COLOR = 54; // this value corresponds to 14 px for text font size
	RadialMicroChartRenderer.EDGE_CASE_SIZE_SHOW_TEXT = 46;
	RadialMicroChartRenderer.EDGE_CASE_SIZE_MICRO_CHART = 24;

	/**
	 * Renders the HTML for the given control, using the provided {@link sap.ui.core.RenderManager}.
	 *
	 * @param {sap.ui.core.RenderManager} oRm the RenderManager that can be used for writing to the Render - Output - Buffer
	 * @param {sap.ui.core.Control} oControl the control to be rendered
	 */
	RadialMicroChartRenderer.render = function(oRm, oControl) {
		if (!oControl._bThemeApplied) {
			return;
		}

		// Write the HTML into the render manager
		this._writeDivStartElement(oControl, oRm);
		this._writeSVGStartElement(oRm);
		this._writeBackground(oRm);
		if (this._renderingOfInnerContentIsRequired(oControl)) {
			this._writeBorders(oRm);
			if (this._innerCircleRequired(oControl)) {
				this._writeCircle(oControl, oRm);
			} else {
				this._writeCircleWithPathElements(oControl, oRm);
			}
			this._writeText(oControl, oRm);
		}
		oRm.write("</svg>");
		oRm.write("</div>");
	};

	/* Rendering Write-Helpers */

	/**
	 * Writes the start tag for the surrounding div-element incl. ARIA text and required classes
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @param {sap.ui.core.RenderManager} oRm the render manager
	 */
	RadialMicroChartRenderer._writeDivStartElement = function(control, oRm) {
		oRm.write("<div");
		oRm.writeControlData(control);
		var sAriaLabel = control._getTooltipText();
		oRm.writeAttribute("role", "img");
		oRm.writeAttributeEscaped("aria-label", sAriaLabel);
		if (control.hasListeners("press")) {
			oRm.addClass("sapSuiteUiMicroChartPointer");
			oRm.writeAttribute("tabindex", "0");
		}
		oRm.addClass("sapSuiteRMC");
		oRm.writeClasses();
		oRm.writeStyles();
		oRm.write(">");
	};

	/**
	 * Writes the start tag for the SVG element.
	 *
	 * @private
	 * @param {sap.ui.core.RenderManager} oRm the render manager
	 */
	RadialMicroChartRenderer._writeSVGStartElement = function(oRm) {
		var sPreserveAspectRatio;
		if (!sap.ui.getCore().getConfiguration().getRTL()) {
			sPreserveAspectRatio = "xMaxYMid meet";
		} else {
			sPreserveAspectRatio = "xMinYMid meet";
		}
		oRm.write("<svg width=\"100%\" height=\"100%\" focusable=\"false\" viewBox=\"0 0 " + RadialMicroChartRenderer.FORM_RATIO + ' ' + RadialMicroChartRenderer.FORM_RATIO + "\" preserveAspectRatio=\"" + jQuery.sap.encodeHTML(sPreserveAspectRatio) + "\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">");
	};

	/**
	 * Writes the background circle.
	 *
	 * @private
	 * @param {sap.ui.core.RenderManager} oRm the render manager
	 */
	RadialMicroChartRenderer._writeBackground = function(oRm) {
		oRm.write("<circle class=\"sapSuiteRMCCircleBackground\" cx=\"" + RadialMicroChartRenderer.SVG_VIEWBOX_CENTER_FACTOR + "\" cy=\"" + RadialMicroChartRenderer.SVG_VIEWBOX_CENTER_FACTOR + "\" r=\"" + RadialMicroChartRenderer.BACKGROUND_CIRCLE_RADIUS + "\" stroke-width=\"" + this.BACKGROUND_CIRCLE_BORDER_WIDTH + "\" />");
	};

	/**
	 * Writes the Borders, required for HCB.
	 * In case of other themes, they are also available to avoid issues during switching themes.
	 *
	 * @private
	 * @param {sap.ui.core.RenderManager} oRm the render manager
	 */
	RadialMicroChartRenderer._writeBorders = function(oRm) {
		var fRadius1 = RadialMicroChartRenderer.CIRCLE_RADIUS + RadialMicroChartRenderer.CIRCLE_BORDER_WIDTH / 2.0 - RadialMicroChartRenderer.BACKGROUND_CIRCLE_BORDER_WIDTH,
			fRadius2 = RadialMicroChartRenderer.CIRCLE_RADIUS - RadialMicroChartRenderer.CIRCLE_BORDER_WIDTH / 2.0 + RadialMicroChartRenderer.BACKGROUND_CIRCLE_BORDER_WIDTH;

		oRm.write("<circle class=\"sapSuiteRMCHCBIncompleteBorder\" cx=\"" + RadialMicroChartRenderer.SVG_VIEWBOX_CENTER_FACTOR + "\" cy=\"" + RadialMicroChartRenderer.SVG_VIEWBOX_CENTER_FACTOR + "\" r=\"" + fRadius1 + "\" stroke-width=\"" + RadialMicroChartRenderer.BACKGROUND_CIRCLE_BORDER_WIDTH + "\" />");
		oRm.write("<circle class=\"sapSuiteRMCHCBIncompleteBorder\" cx=\"" + RadialMicroChartRenderer.SVG_VIEWBOX_CENTER_FACTOR + "\" cy=\"" + RadialMicroChartRenderer.SVG_VIEWBOX_CENTER_FACTOR + "\" r=\"" + fRadius2 + "\" stroke-width=\"" + RadialMicroChartRenderer.BACKGROUND_CIRCLE_BORDER_WIDTH + "\" />");
	};

	/**
	 * Writes the circle element, required for 0% and 100% cases.
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @param {sap.ui.core.RenderManager} oRm the render manager
	 */
	RadialMicroChartRenderer._writeCircle = function(control, oRm) {
		var sColor = this._getFullCircleColor(control);
		oRm.write("<circle");
		if (control._isValueColorInstanceOfValueColor() || sColor === "sapSuiteRMCPathIncomplete") {
			oRm.addClass(jQuery.sap.encodeHTML(sColor));
		} else {
			oRm.writeAttributeEscaped("stroke", sColor);
		}
		oRm.writeClasses();
		oRm.writeStyles();
		oRm.write("cx=\"" + RadialMicroChartRenderer.SVG_VIEWBOX_CENTER_FACTOR + "\" cy=\"" + RadialMicroChartRenderer.SVG_VIEWBOX_CENTER_FACTOR + "\" r=\"" + RadialMicroChartRenderer.CIRCLE_RADIUS + "\" fill=\"transparent\" stroke-width=\"" + RadialMicroChartRenderer.CIRCLE_BORDER_WIDTH + "px\" />");
	};

	/**
	 * Writes the two path elements, required for all cases between 1% and 99%.
	 * Keeps a padding of 1px between the paths.
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @param {sap.ui.core.RenderManager} oRm the render manager
	 */
	RadialMicroChartRenderer._writeCircleWithPathElements = function(control, oRm) {
		var iLargeArcFlag = control.getPercentage() > 50 ? 1 : 0;
		//decrease/increase the percentage to have a padding between paths
		var fPercentage = this._getPercentageForCircleRendering(control) - RadialMicroChartRenderer.PADDING_WIDTH;
		var aPathCoordinates = this._calculatePathCoordinates(control, fPercentage, false);
		this._writePath1(iLargeArcFlag, aPathCoordinates, control, oRm);
		fPercentage = this._getPercentageForCircleRendering(control) + RadialMicroChartRenderer.PADDING_WIDTH;
		aPathCoordinates = this._calculatePathCoordinates(control, fPercentage, true);
		this._writePath2(iLargeArcFlag, aPathCoordinates, control, oRm);
	};

	/**
	 * Writes the first path element for cases between 1% and 99%.
	 *
	 * @private
	 * @param {int} largeArcFlag for check of smaller or bigger than 180 degrees
	 * @param {float[]} pathCoordinates array containing specific coordinates for the path
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @param {sap.ui.core.RenderManager} oRm the render manager
	 */
	RadialMicroChartRenderer._writePath1 = function(largeArcFlag, pathCoordinates, control, oRm) {
		var sPathData1 = "M" + pathCoordinates[0] + " " + pathCoordinates[1] + " A " + RadialMicroChartRenderer.CIRCLE_RADIUS + " " + RadialMicroChartRenderer.CIRCLE_RADIUS +
		", " + RadialMicroChartRenderer.X_ROTATION + ", " + largeArcFlag + ", " + RadialMicroChartRenderer.SWEEP_FLAG + ", " + pathCoordinates[2] + " " + pathCoordinates[3];

		var sColor = this._getPathColor(control);
		oRm.write("<path");
		oRm.addClass("sapSuiteRMCPath");
		if (control._isValueColorInstanceOfValueColor() || sColor === "sapSuiteRMCPathIncomplete") {
			oRm.addClass(jQuery.sap.encodeHTML(sColor));
		} else {
			oRm.writeAttributeEscaped("stroke", sColor);
		}
		oRm.writeClasses();
		oRm.writeStyles();
		oRm.write("d=\"" + jQuery.sap.encodeHTML(sPathData1) + "\" fill=\"transparent\" stroke-width=\"" + RadialMicroChartRenderer.CIRCLE_BORDER_WIDTH + "px\" />");
	};

	/**
	 * Writes the second path element for cases between 1% and 99%.
	 *
	 * @private
	 * @param {int} largeArcFlag for check of smaller or bigger than 180 degrees
	 * @param {float[]} pathCoordinates array containing specific coordinates for the path
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @param {sap.ui.core.RenderManager} oRm the render manager
	 */
	RadialMicroChartRenderer._writePath2 = function(largeArcFlag, pathCoordinates, control, oRm) {
		var sPathData2 = "M" + pathCoordinates[2] + " " + pathCoordinates[3] + " A " + RadialMicroChartRenderer.CIRCLE_RADIUS + " " + RadialMicroChartRenderer.CIRCLE_RADIUS +
		", " + RadialMicroChartRenderer.X_ROTATION + ", " + (1 - largeArcFlag) + ", " + RadialMicroChartRenderer.SWEEP_FLAG + ", " + pathCoordinates[0] + " " + pathCoordinates[1];

		oRm.write("<path class=\"sapSuiteRMCPath sapSuiteRMCPathIncomplete\" d=\"" + jQuery.sap.encodeHTML(sPathData2) + "\" fill=\"transparent\" stroke-width=\"" + RadialMicroChartRenderer.CIRCLE_BORDER_WIDTH + "px\" />");
	};

	/**
	 * Writes the text content inside the chart.
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @param {sap.ui.core.RenderManager} oRm the render manager
	 */
	RadialMicroChartRenderer._writeText = function(control, oRm) {
		oRm.write("<text class=\"sapSuiteRMCFont\" text-anchor=\"middle\" alignment-baseline=\"middle\"" + "\" font-size=\"" + RadialMicroChartRenderer.NUMBER_FONT_SIZE + "\" x=\"" + RadialMicroChartRenderer.SVG_VIEWBOX_CENTER_FACTOR + "\" y=\"" + jQuery.sap.encodeHTML(this._getVerticalViewboxCenterFactorForText()) + "\"> " + jQuery.sap.encodeHTML(this._generateTextContent(control)) + "</text>");
	};

	/* Helpers */

	/**
	 * Checks if rendering of inner content (circle or path-elements) is required.
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @returns {boolean} true if rendering is required, false if rendering is not required
	 */
	RadialMicroChartRenderer._renderingOfInnerContentIsRequired = function(control) {
		if (control._getPercentageMode() || (control.getTotal() !== 0)){
			return true;
		} else {
			return false;
		}
	};

	/**
	 * Returns the center factor for the text element.
	 * Since browsers interpret the text differently, the constant SVG_VIEWBOX_CENTER_FACTOR can not be used.
	 *
	 * @private
	 * @returns {string} factor for vertical center of text
	 */
	RadialMicroChartRenderer._getVerticalViewboxCenterFactorForText = function() {
		if (Device.browser.msie || Device.browser.mozilla) {
			return "57%";
		} else {
			return "51%";
		}
	};

	/**
	 * Checks if the inner circle is required. This is valid for 0% or 100% scenarios.
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @returns {boolean} true if inner circle has to be rendered, false if inner circle is not required
	 */
	RadialMicroChartRenderer._innerCircleRequired = function(control) {
		if (control.getPercentage() >= 100 || control.getPercentage() <= 0) {
			return true;
		} else {
			return false;
		}
	};

	/**
	 * Generates the coordinates needed for drawing the two path elements.
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control - the current chart control
	 * @param {float} percentage - the calculated percentage value for bar rendering
	 * @param {boolean}isPadding - padding is required or not
	 * @returns {float[]} array with calculated coordinates
	 */
	RadialMicroChartRenderer._calculatePathCoordinates = function(control, percentage, isPadding) {
		var aCoordinates = [];
		var fPadding = 0;

		if (isPadding) {
			fPadding = 2 * RadialMicroChartRenderer.PADDING_WIDTH / 100 * 2 * Math.PI;
		}
		aCoordinates.push(RadialMicroChartRenderer.FORM_RATIO / 2 + RadialMicroChartRenderer.CIRCLE_RADIUS * Math.cos(-Math.PI / 2.0 - fPadding));
		aCoordinates.push(RadialMicroChartRenderer.FORM_RATIO / 2 + RadialMicroChartRenderer.CIRCLE_RADIUS * Math.sin(-Math.PI / 2.0 - fPadding));
		aCoordinates.push(RadialMicroChartRenderer.FORM_RATIO / 2 + RadialMicroChartRenderer.CIRCLE_RADIUS * Math.cos(-Math.PI / 2.0 + percentage / 100 * 2 * Math.PI));
		aCoordinates.push(RadialMicroChartRenderer.FORM_RATIO / 2 + RadialMicroChartRenderer.CIRCLE_RADIUS * Math.sin(-Math.PI / 2.0 + percentage / 100 * 2 * Math.PI));

		return aCoordinates;
	};

	/**
	 * Generates percentage value for rendering the circle.
	 * For edge cases (99% and 1%) a specific handling is implemented.
	 * For values between 99.0% - 99.9%, 99% will be retrieved to make sure the circle is not completely filled setting thos big values.
	 * For values between 0.1% - 0.9%, 1% will be returned to make sure the circle is not completely empty settings those small values.
	 * This is only used for painting the circle by path elements. For the text area, the value of the percentage property can be used.
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @returns {float} the calculated percentage value for bar rendering
	 */
	RadialMicroChartRenderer._getPercentageForCircleRendering = function(control) {
		var fPercentage = control.getPercentage();
		var fPercentageForEdgeCases = fPercentage;
		if (fPercentage > 99 - RadialMicroChartRenderer.PADDING_WIDTH) {
			fPercentageForEdgeCases = 99 - RadialMicroChartRenderer.PADDING_WIDTH;
		}
		if (fPercentage < 1 + RadialMicroChartRenderer.PADDING_WIDTH) {
			fPercentageForEdgeCases = 1 + RadialMicroChartRenderer.PADDING_WIDTH;
		}
		return fPercentageForEdgeCases;
	};

	/**
	 * Handles the UI specific stuff in onAfterRendering.
	 *
	 * @private
	 * @param {object} control instance of RadialMicroChart
	 */
	RadialMicroChartRenderer._handleOnAfterRendering = function(control) {
		var sParentWidth;
		// Within a Generic Tile max-width was applied instead min-width in Chrome and IE, that's why we forced min-width to be applied in this block.
		if (control.getParent() instanceof sap.m.TileContent) {
			control._adjustToTileContent(control);
		} else {
			//Apply fixed size of parent to make SVG work in all browsers.
			if (control.getParent() !== undefined && control.getParent() !== null &&
					control.getParent().getHeight !== undefined && control.getParent().getHeight !== null) {
				// Two pixels are subtracted from the original value. Otherwise, there's not enough space for the outline and it won't render correctly.
				var sParentHeight = parseFloat(control.getParent().$().height()) - 2;
				control.$().height(sParentHeight); //Required for rendering in page element. Otherwise element is cutted at the top.
				control.$().children("svg").height(sParentHeight);
			}
			if (control.getParent() !== undefined && control.getParent() !== null &&
					control.getParent().getWidth !== undefined && control.getParent().getWidth !== null) {
				// Two pixels are subtracted from the original value. Otherwise, there's not enough space for the outline and it won't render correctly.
				sParentWidth = parseFloat(control.getParent().$().width()) - 2;
				control.$().width(sParentWidth); //Required for rendering in page element. Otherwise element is cutted at the top.
				control.$().children("svg").width(sParentWidth);
			}
		}
		if (parseInt(control.$().children("svg").css("height"), 10) < RadialMicroChartRenderer.EDGE_CASE_SIZE_MICRO_CHART ||
				parseInt(control.$().children("svg").css("width"), 10) < RadialMicroChartRenderer.EDGE_CASE_SIZE_MICRO_CHART) {
			control.$().hide();
			return;
		}
		//Hide text element for small elements (<46px)
		var $Text = control.$().find("text");
		var $Svg = control.$().children("svg");
		if (parseInt($Svg.css("height"), 10) <= RadialMicroChartRenderer.EDGE_CASE_SIZE_SHOW_TEXT ||
				parseInt($Svg.css("width"), 10) <= RadialMicroChartRenderer.EDGE_CASE_SIZE_SHOW_TEXT) {
			$Text.hide();
		} else {
			var sTextColorClass = this._getTextColorClass(control); // Gets the correct color
			var sCurrentSVGClass = $Svg.attr("class") || ""; // Gets all the classes applied to the SVG element or uses an empty string if none are found
			if (sCurrentSVGClass.indexOf(sTextColorClass) < 0) {
				var sNewClasses = sCurrentSVGClass + " " + sTextColorClass;
				// If the SVG element is small, then additional class should be added indicating that small fonts are applied
				var iSvgElementHeight = parseInt($Svg.css("height"), 10);
				if (iSvgElementHeight <= RadialMicroChartRenderer.EDGE_CASE_SIZE_ACCESSIBLE_COLOR) {
					sNewClasses += " sapSuiteRMCSmallFont";
				}
				// Writes a new class attribute with all the other classes and the new correct color
				// SVG instead of Text element is used to work around a bug on mobile devices using the Edge browser
				$Svg.attr("class", sNewClasses );
			}
		}
	};

	/**
	 * Returns the text color of the control. Also handles switch for accessibility features.
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @returns {string} value for CSS Text color class
	 */
	RadialMicroChartRenderer._getTextColorClass = function(control) {
		var iSize = parseInt(jQuery.sap.byId(control.getId()).children("svg").css("height"), 10);
		if (iSize <= RadialMicroChartRenderer.EDGE_CASE_SIZE_ACCESSIBLE_COLOR && (!control._isValueColorInstanceOfValueColor() || control.getValueColor() === sap.m.ValueColor.Neutral)){
			return "sapSuiteRMCAccessibleTextColor";
		} else {
			switch (control.getValueColor()){
				case sap.m.ValueColor.Good:
					return "sapSuiteRMCGoodTextColor";
				case sap.m.ValueColor.Error:
					return "sapSuiteRMCErrorTextColor";
				case sap.m.ValueColor.Critical:
					return "sapSuiteRMCCriticalTextColor";
				default:
					return "sapSuiteRMCNeutralTextColor";
			}
		}
	};

	/**
	 * Returns the color for full circles required for 100% or 0% charts.
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @returns {string} value for full circle CSS color class or css attribute
	 */
	RadialMicroChartRenderer._getFullCircleColor = function(control) {
		if (control.getPercentage() >= 100) {
			return this._getPathColor(control);
		}
		if (control.getPercentage() <= 0) {
			return "sapSuiteRMCPathIncomplete";
		}
	};

	/**
	 * Gets the CSS class or CSS attribute to apply the right color to the circle path
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @returns {string} containing the name of the CSS class or the CSS value
	 */
	RadialMicroChartRenderer._getPathColor = function(control) {
		var sValueColor = control.getValueColor();
		if (control._isValueColorInstanceOfValueColor()) {
			switch (sValueColor){
				case sap.m.ValueColor.Good:
					return "sapSuiteRMCPathGood";
				case sap.m.ValueColor.Error:
					return "sapSuiteRMCPathError";
				case sap.m.ValueColor.Critical:
					return "sapSuiteRMCPathCritical";
				default:
					return "sapSuiteRMCPathNeutral";
			}
		} else {
			return sValueColor;
		}
	};

	/**
	 * Generates the text content of the chart
	 *
	 * @private
	 * @param {sap.suite.ui.microchart.RadialMicroChart} control the current chart control
	 * @returns {string} value for text element in the chart
	 */
	RadialMicroChartRenderer._generateTextContent = function(control) {
		if (control.getPercentage() === 100) {
			return control._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT", [100]);
		}
		if (control.getPercentage() === 0) {
			return control._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT", [0]);
		}
		if (control.getPercentage() >= 100) {
			jQuery.sap.log.error("Values over 100%(" + control.getPercentage() + "%) are not supported");
			return control._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT", [100]);
		}
		if (control.getPercentage() <= 0) {
			jQuery.sap.log.error("Values below 0%(" + control.getPercentage() + "%) are not supported");
			return control._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT", [0]);
		}
		return control._rb.getText("RADIALMICROCHART_PERCENTAGE_TEXT", [control.getPercentage()]);
	};

	return RadialMicroChartRenderer;
}, /* bExport */ true);

}; // end of sap/suite/ui/microchart/RadialMicroChartRenderer.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.library') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

/**
 * Initialization Code and shared classes of library sap.suite.ui.microchart.
 */
jQuery.sap.declare('sap.suite.ui.microchart.library'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.library'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Core'); // unlisted dependency retained
jQuery.sap.require('sap.m.library'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/library",['jquery.sap.global', 'sap/ui/core/library', 'sap/ui/core/Core', 'sap/m/library'],
	function(jQuery, coreLibrary, Core, mLibrary) {
	"use strict";

	/**
	 * UI5 library: sap.suite.ui.microchart.
	 *
	 * @namespace sap.suite.ui.microchart
	 * @name sap.suite.ui.microchart
	 * @author SAP SE
	 * @version 1.38.33
	 * @public
	 */

	// delegate further initialization of this library to the Core
	sap.ui.getCore().initLibrary({
		name : "sap.suite.ui.microchart",
		version: "1.38.33",
		// library dependencies
		dependencies : ["sap.ui.core", "sap.m"],
		types: [
			"sap.suite.ui.microchart.AreaMicroChartViewType",
			"sap.suite.ui.microchart.BulletMicroChartModeType",
			"sap.suite.ui.microchart.CommonBackgroundType",
			"sap.suite.ui.microchart.ComparisonMicroChartViewType",
			"sap.suite.ui.microchart.LoadStateType"
		],
		interfaces: [],
		controls: [
			"sap.suite.ui.microchart.AreaMicroChart",
			"sap.suite.ui.microchart.BulletMicroChart",
			"sap.suite.ui.microchart.ColumnMicroChart",
			"sap.suite.ui.microchart.ComparisonMicroChart",
			"sap.suite.ui.microchart.DeltaMicroChart",
			"sap.suite.ui.microchart.HarveyBallMicroChart",
			"sap.suite.ui.microchart.RadialMicroChart"
		],
		elements: [
			"sap.suite.ui.microchart.AreaMicroChartPoint",
			"sap.suite.ui.microchart.AreaMicroChartItem",
			"sap.suite.ui.microchart.AreaMicroChartLabel",
			"sap.suite.ui.microchart.BulletMicroChartData",
			"sap.suite.ui.microchart.ColumnMicroChartData",
			"sap.suite.ui.microchart.ColumnMicroChartLabel",
			"sap.suite.ui.microchart.ComparisonMicroChartData",
			"sap.suite.ui.microchart.HarveyBallMicroChartItem"
		]
	});

	/**
	 * Enum of available views for the area micro chart concerning the position of the labels.
	 *
	 * @enum {string}
	 * @public
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 * @since 1.34
	 */
	sap.suite.ui.microchart.AreaMicroChartViewType = {

		/**
		 * The view with labels on the top and bottom.
		 * @public
		 */
		Normal : "Normal",

		/**
		 * The view with labels on the left and right.
		 * @public
		 */
		Wide : "Wide"

	};

	/**
	 * Defines if the horizontal bar represents a current value only or if it represents the delta between a current value and a threshold value.
	 *
	 * @enum {string}
	 * @public
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 * @since 1.34
	 */
	sap.suite.ui.microchart.BulletMicroChartModeType = {
		/**
		 * Displays the Actual value.
		 * @public
		 */
		Actual: "Actual",

		/**
		 * Displays delta between the Actual and Threshold values.
		 * @public
		 */
		Delta: "Delta"
	};

	/**
	 * Lists the available theme-specific background colors.
	 *
	 * @enum {string}
	 * @public
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 * @since 1.34
	 */
	sap.suite.ui.microchart.CommonBackgroundType = {
		/**
		 * The lightest background color.
		 * @public
		 */
		Lightest: "Lightest",

		/**
		 * Extra light background color.
		 * @public
		 */
		ExtraLight: "ExtraLight",

		/**
		 * Light background color.
		 * @public
		 */
		Light: "Light",

		/**
		 * Medium light background color.
		 * @public
		 */
		MediumLight: "MediumLight",

		/**
		 * Medium background color.
		 * @public
		 */
		Medium: "Medium",

		/**
		 * Dark background color.
		 * @public
		 */
		Dark: "Dark",

		/**
		 * Extra dark background color.
		 * @public
		 */
		ExtraDark: "ExtraDark",

		/**
		 * The darkest background color.
		 * @public
		 */
		Darkest: "Darkest",

		/**
		 * The transparent background color.
		 * @public
		 */
		Transparent: "Transparent"
	};

	/**
	 * Lists the views of the comparison micro chart concerning the position of titles and labels.
	 *
	 * @enum {string}
	 * @public
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 * @since 1.34
	 */
	sap.suite.ui.microchart.ComparisonMicroChartViewType = {
		/**
		 * Titles and values are displayed above the bars.
		 * @public
		 */
		Normal: "Normal",

		/**
		 * Titles and values are displayed in the same line with the bars.
		 * @public
		 */
		Wide: "Wide"
	};

	sap.suite.ui.microchart.LoadStateType = {
		/**
		 * LoadableView is loading the control.
		 * @public
		 */
		Loading: "Loading",

		/**
		 * LoadableView has loaded the control.
		 * @public
		 */
		Loaded: "Loaded",

		/**
		 * LoadableView failed to load the control.
		 * @public
		 */
		Failed: "Failed",

		/**
		 * LoadableView disabled to load the control.
		 * @public
		 */
		Disabled: "Disabled"
	};

	sap.suite.ui.microchart._aStandardMarginClassNames = [
		"sapUiTinyMargin", "sapUiSmallMargin", "sapUiMediumMargin", "sapUiLargeMargin", "sapUiTinyMarginBeginEnd", "sapUiTinyMarginTopBottom", "sapUiSmallMarginBeginEnd",
		"sapUiSmallMarginTopBottom", "sapUiMediumMarginBeginEnd", "sapUiMediumMarginTopBottom", "sapUiLargeMarginBeginEnd", "sapUiLargeMarginTopBottom", "sapUiTinyMarginTop",
		"sapUiTinyMarginBottom", "sapUiTinyMarginBegin", "sapUiTinyMarginEnd", "sapUiSmallMarginTop", "sapUiSmallMarginBottom", "sapUiSmallMarginBegin", "sapUiSmallMarginEnd",
		"sapUiMediumMarginTop", "sapUiMediumMarginBottom", "sapUiMediumMarginBegin", "sapUiMediumMarginEnd", "sapUiLargeMarginTop", "sapUiLargeMarginBottom", "sapUiLargeMarginBegin",
		"sapUiLargeMarginEnd", "sapUiResponsiveMargin", "sapUiNoMargin", "sapUiNoMarginTop", "sapUiNoMarginBottom", "sapUiNoMarginBegin",  "sapUiNoMarginEnd"
	];

	/**
	 * Checks if the chart is in the GenericTile.
	 * @param {Object} oChart The microchart control instance that has to be checked whether it is in the GenericTile.
	 * @private
	 */
	sap.suite.ui.microchart._isInGenericTile = function (oChart) {
		var oParent = oChart.getParent();
		if (!oParent) {
			return false;
		}
		if (oParent instanceof sap.m.TileContent || oParent instanceof sap.m.GenericTile) {
			if (oParent instanceof sap.m.TileContent) {
				if (this._isInGenericTile(oParent)) {
					return true;
				}
			}
			if (oParent instanceof sap.m.GenericTile) {
				return true;
			}
		} else if (this._isInGenericTile(oParent)) {
			return true;
		}
	};

	/**
	 * Removes all SAP standard margin classes from control.
	 * @param {Object} oChart The microchart control instance that may have sapMargins as a custom style.
	 * @private
	 */
	sap.suite.ui.microchart._removeStandardMargins = function (oChart) {
		for (var i = 0;i < sap.suite.ui.microchart._aStandardMarginClassNames.length; i++) {
			if (oChart.hasStyleClass(sap.suite.ui.microchart._aStandardMarginClassNames[i])) {
				oChart.removeStyleClass(sap.suite.ui.microchart._aStandardMarginClassNames[i]);
			}
		}
	};

	/**
	 * Passes the parent container context to the child of the chart.
	 * @param {object} oChart
	 * @private
	 */
	sap.suite.ui.microchart._passParentContextToChild = function (oChart, oChildChart) {
		if (oChart.data("_parentRenderingContext")) {
			oChildChart.data("_parentRenderingContext", oChart.data("_parentRenderingContext"));
		} else if (jQuery.isFunction(oChart.getParent)) {
			oChildChart.data("_parentRenderingContext", oChart.getParent());
		}
	};

	/**
	 * Checks the given control's visibility in an increasing interval and calls the given callback function when the control becomes visible.
	 * If the timeout of 500ms is reached, the timeoutCallback function is invoked.
	 *
	 * @param {sap.ui.core.Control} control The control whose visibility is to be checked
	 * @param {function} callback The callback function to be called when the control becomes visible
	 * @private
	 */
	sap.suite.ui.microchart._checkControlIsVisible = function (control, callback) {
		var iPassedTime = 10,
			iDelay = 10,
			iTimeout = 500;

		function isControlVisible() {
			return control.getVisible() && control.getDomRef() && control.$().is(":visible") && control.getDomRef().getBoundingClientRect().width !== 0;
		}

		/**
		 * Checks the control's visibility after the given delay.
		 */
		function doVisibilityCheck() {
			if (isControlVisible()) {
				callback.call(control);
			} else if (iPassedTime < iTimeout) {
				iDelay *= 2;
				iPassedTime += iDelay;
				doDelayedCheck(iDelay);
			}
		}

		/**
		 * @param {int} delay The delay in milliseconds
		 */
		function doDelayedCheck(delay) {
			jQuery.sap.delayedCall(delay, null, doVisibilityCheck);
		}

		if (isControlVisible()) {
			callback.call(control);
		} else {
			doDelayedCheck(iDelay);
		}
	};

	return sap.suite.ui.microchart;
});

}; // end of sap/suite/ui/microchart/library.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChart') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChart'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Control'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/AreaMicroChart",['jquery.sap.global', './library', 'sap/ui/core/Control'],
	function(jQuery, library, Control) {
	"use strict";

	/**
	 * Constructor for a new AreaMicroChart control.
	 *
	 * @param {string} [sId] ID for the new control, generated automatically if no ID is given
	 * @param {object} [mSettings] Initial settings for the new control
	 *
	 * @class
	 * Chart that displays the history of values and target values as segmented lines and shows thresholds as colored background. This control replaces the deprecated sap.suite.ui.commons.MicroAreaChart.
	 * @extends sap.ui.core.Control
	 *
	 * @author SAP SE
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.AreaMicroChart
	 * @ui5-metamodel This control will also be described in the UI5 (legacy) design time metamodel
	 */
	var AreaMicroChart = Control.extend("sap.suite.ui.microchart.AreaMicroChart", /** @lends sap.suite.ui.microchart.AreaMicroChart.prototype */ {
			metadata: {
				library: "sap.suite.ui.microchart",
				properties: {
					/**
					 * The width of the chart.
					 */
					width: {type: "sap.ui.core.CSSSize", group : "Misc", defaultValue : null},

					/**
					 * The height of the chart.
					 */
					height: {type: "sap.ui.core.CSSSize", group : "Misc", defaultValue : null},

					/**
					 * If this property is set it indicates the value X axis ends with.
					 */
					maxXValue: {type: "float", group : "Misc", defaultValue : null},

					/**
					 * If this property is set it indicates the value X axis ends with.
					 */
					minXValue: {type : "float", group : "Misc", defaultValue : null},

					/**
					 * If this property is set it indicates the value X axis ends with.
					 */
					maxYValue: {type: "float", group : "Misc", defaultValue : null},

					/**
					 * If this property is set it indicates the value X axis ends with.
					 */
					minYValue: {type: "float", group : "Misc", defaultValue : null},

					/**
					 * The view of the chart.
					 */
					view: {type: "sap.suite.ui.microchart.AreaMicroChartViewType", group : "Appearance", defaultValue : "Normal"},

					/**
					 * The color palette for the chart. If this property is set,
					 * semantic colors defined in AreaMicroChartItem are ignored.
					 * Colors from the palette are assigned to each line consequentially.
					 * When all the palette colors are used, assignment of the colors begins
					 * from the first palette color.
					 */
					colorPalette: {type: "string[]", group : "Appearance", defaultValue : [] },

					/**
					 * Determines if the labels are displayed or not.
					 */
					showLabel: { type: "boolean", group: "Misc", defaultValue: true },

					/**
					 * If this set to true, width and height of the control are determined by the width and height of the container in which the control is placed. Width and height properties are ignored in such case.
					 * @since 1.38.0
					 */
					isResponsive: {type: "boolean", group: "Appearance", defaultValue: false}

				},
				events : {

					/**
					 * The event is triggered when the chart is pressed.
					 */
					press: {}

				},
				defaultAggregation : "lines",
				aggregations: {
					/**
					 * The configuration of the actual values line.
					 * The color property defines the color of the line.
					 * Points are rendered in the same sequence as in this aggregation.
					 */
					chart: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartItem", bindable : "bindable" },

					/**
					 * The configuration of the max threshold area. The color property defines the color of the area above the max threshold line. Points are rendered in the same sequence as in this aggregation.
					 */
					maxThreshold: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartItem" },

					/**
					 * The configuration of the upper line of the inner threshold area. The color property defines the color of the area between inner thresholds. For rendering of the inner threshold area, both innerMaxThreshold and innerMinThreshold aggregations must be defined. Points are rendered in the same sequence as in this aggregation.
					 */
					innerMaxThreshold: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartItem" },

					/**
					 * The configuration of the bottom line of the inner threshold area. The color property is ignored. For rendering of the inner threshold area, both innerMaxThreshold and innerMinThreshold aggregations must be defined. Points are rendered in the same sequence as in this aggregation.
					 */
					innerMinThreshold: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartItem" },

					/**
					 * The configuration of the min threshold area. The color property defines the color of the area below the min threshold line. Points are rendered in the same sequence as in this aggregation.
					 */
					minThreshold: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartItem" },

					/**
					 * The configuration of the target values line. The color property defines the color of the line. Points are rendered in the same sequence as in this aggregation.
					 */
					target: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartItem", bindable : "bindable" },

					/**
					 * The label on X axis for the first point of the chart.
					 */
					firstXLabel: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartLabel" },

					/**
					 * The label on Y axis for the first point of the chart.
					 */
					firstYLabel: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartLabel" },

					/**
					 * The label on X axis for the last point of the chart.
					 */
					lastXLabel: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartLabel" },

					/**
					 * The label on Y axis for the last point of the chart.
					 */
					lastYLabel: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartLabel" },

					/**
					 * The label for the maximum point of the chart.
					 */
					maxLabel: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartLabel" },

					/**
					 * The label for the minimum point of the chart.
					 */
					minLabel: { multiple: false, type: "sap.suite.ui.microchart.AreaMicroChartLabel" },

					/**
					 * The set of lines.
					 */
					lines: { multiple: true, type: "sap.suite.ui.microchart.AreaMicroChartItem", bindable : "bindable" }
				}

		}
	});

	// Constants
	AreaMicroChart.EDGE_CASE_WIDTH_SHOWCHART = 32; // 2rem on the basis of design
	AreaMicroChart.EDGE_CASE_HEIGHT_SHOWCANVAS = 16; // 1rem on the basis of design
	AreaMicroChart.EDGE_CASE_HEIGHT_SHOWBOTTOMLABEL = 16; // 1rem on the basis of design
	AreaMicroChart.EDGE_CASE_HEIGHT_SHOWTOPLABEL = 32; // 2rem on the basis of design
	AreaMicroChart.EDGE_CASE_HEIGHT_SHOWLABEL = 16; // 1rem on the basis of design
	AreaMicroChart.EDGE_CASE_WIDTH_RESIZEFONT = 168; // Corresponds to M size 10.5rem
	AreaMicroChart.EDGE_CASE_HEIGHT_RESIZEFONT = 72; // Corresponds to M size 4.5rem
	AreaMicroChart.ITEM_NEUTRAL_COLOR = "sapSuiteAMCSemanticColorNeutral";
	AreaMicroChart.ITEM_NEUTRAL_NOTHRESHOLD_CSSCLASS = "sapSuiteAMCNeutralNoThreshold";

	AreaMicroChart.prototype.init = function(){
		this._oRb = sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");
		this.setAggregation("tooltip", "{AltText}", true);
		this._bThemeApplied = true;
		if (!sap.ui.getCore().isInitialized()) {
			this._bThemeApplied = false;
			sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));
		} else {
			this._handleCoreInitialized();
		}
		if (sap.ui.Device.system.tablet || sap.ui.Device.system.phone) {
			sap.ui.Device.orientation.attachHandler(this._onOrientationChange, this);
		}
	};

	/**
	 * Handler for the core's init event. The control will only be rendered if all
	 * themes are loaded and everything is properly initialized. We attach a theme
	 * check here.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._handleCoreInitialized = function() {
		this._bThemeApplied = sap.ui.getCore().isThemeApplied();
		if (!this._bThemeApplied) {
			sap.ui.getCore().attachThemeChanged(this._handleThemeApplied, this);
		}
	};

	/**
	 * The chart will only be rendered if the theme is applied. If this is the case,
	 * the control invalidates itself.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._handleThemeApplied = function() {
		this._bThemeApplied = true;
		this.invalidate();
		sap.ui.getCore().detachThemeChanged(this._handleThemeApplied, this);
	};

	AreaMicroChart.prototype._getCssValues = function() {
		this._cssHelper.className = Array.prototype.slice.call(arguments).join(" ");
		var oCsses = window.getComputedStyle(this._cssHelper);

		if (oCsses.backgroundColor == undefined) {
			oCsses.backgroundColor = oCsses["background-color"];
		}

		if (oCsses.outlineStyle == undefined) {
			oCsses.outlineStyle = oCsses["outline-style"];
		}

		if (oCsses.outlineWidth == undefined) {
			oCsses.outlineWidth = oCsses["outline-width"];
		}
		return oCsses;
	};

	AreaMicroChart.prototype.__fillThresholdArea = function(c, aPoints1, aPoints2, color) {
		c.beginPath();
		c.moveTo(aPoints1[0].x, aPoints1[0].y);

		for (var i = 1, length = aPoints1.length; i < length; i++) {
			c.lineTo(aPoints1[i].x, aPoints1[i].y);
		}

		for (var j = aPoints2.length - 1; j >= 0; j--) {
			c.lineTo(aPoints2[j].x, aPoints2[j].y);
		}

		c.closePath();

		c.fillStyle = "white";
		c.fill();

		c.fillStyle = color;
		c.fill();

		c.lineWidth = 1;
		c.strokeStyle = "white";
		c.stroke();

		c.strokeStyle = color;
		c.stroke();
	};

	AreaMicroChart.prototype._renderDashedLine = function(c, aPoints, d, aDashes) {
		if (c.setLineDash) {
			c.setLineDash(aDashes);
			this._renderLine(c, aPoints, d);
			c.setLineDash([]);
		} else {
			c.beginPath();
			for (var i = 0, length = aPoints.length - 1; i < length; i++) {
				c._dashedLine(aPoints[i].x, aPoints[i].y, aPoints[i + 1].x, aPoints[i + 1].y, aDashes);
			}
			c.stroke();
		}
	};

	AreaMicroChart.prototype._renderLine = function(c, aPoints, d) {
		c.beginPath();
		c.moveTo(aPoints[0].x, aPoints[0].y);

		for (var i = 1, length = aPoints.length; i < length; i++) {
			c.lineTo(aPoints[i].x, aPoints[i].y);
		}

		c.stroke();
	};

	/**
	 * Defines the color class based on the threshold values.
	 *
	 * @private
	 * @param {object} canvasDimensions - the canvas' calculated dimensions object
	 * @returns {String} - the CSS class used for line color
	 */
	AreaMicroChart.prototype._getItemColor = function(canvasDimensions, targetColor) {
		var sItemColor;
		if (targetColor && this.getTarget()) {
			sItemColor = "sapSuiteAMCSemanticColor" + this.getTarget().getColor();
		} else if (!targetColor && this.getChart()){
			sItemColor = "sapSuiteAMCSemanticColor" + this.getChart().getColor();
		}
		if ((sItemColor === AreaMicroChart.ITEM_NEUTRAL_COLOR) && !this._isThresholdPresent(canvasDimensions)) {
			return AreaMicroChart.ITEM_NEUTRAL_NOTHRESHOLD_CSSCLASS;
		} else {
			return sItemColor;
		}
	};

	/**
	 * Identifies if the control has thresholds based on the threshold's number of elements.
	 *
	 * @private
	 * @param {object} canvasDimensions - the canvas' calculated dimensions object
	 * @returns {boolean} - flag showing if thresholds exist
	 */
	AreaMicroChart.prototype._isThresholdPresent = function(canvasDimensions) {
		var aThreshold = [canvasDimensions.minThreshold.length, canvasDimensions.maxThreshold.length, canvasDimensions.innerMinThreshold.length, canvasDimensions.innerMaxThreshold.length];
		for (var i = 0; i < aThreshold.length; i++) {
			if (aThreshold[i] > 1) {
				return true;
			}
		}

		return false;
	};

	AreaMicroChart.prototype._renderTarget = function(c, d) {
		if (d.target.length > 1) {
			var sColorClass = this._getItemColor(d, true);
			var oCsses = this._getCssValues("sapSuiteAMCTarget", sColorClass);
			c.strokeStyle = oCsses.color;
			c.lineWidth = parseFloat(oCsses.width);

			if (oCsses.outlineStyle == "dotted") {
				this._renderDashedLine(c, d.target, d, [parseFloat(oCsses.outlineWidth), 3]);
			} else {
				this._renderLine(c, d.target, d);
			}
		} else if (d.target.length == 1) {
			jQuery.sap.log.warning("Target is not rendered because only 1 point was given");
		}
	};

	AreaMicroChart.prototype._renderThresholdLine = function(c, aPoints, d) {
		if (aPoints && aPoints.length) {
			var oCsses = this._getCssValues("sapSuiteAMCThreshold");

			c.strokeStyle = oCsses.color;
			c.lineWidth = oCsses.width;
			this._renderLine(c, aPoints, d);
		}
	};

	AreaMicroChart.prototype._fillMaxThreshold = function(c, d) {
		if (d.maxThreshold.length > 1) {
			var oCsses = this._getCssValues("sapSuiteAMCThreshold", "sapSuiteAMCSemanticColor" + this.getMaxThreshold().getColor());
			this.__fillThresholdArea(c, d.maxThreshold, [
				{x: d.maxThreshold[0].x, y: d.minY},
				{x: d.maxThreshold[d.maxThreshold.length - 1].x, y: d.minY}
			], oCsses.backgroundColor);
			this._renderThresholdLine(c, d.maxThreshold, d);
		} else if (d.maxThreshold.length == 1) {
			jQuery.sap.log.warning("Max Threshold is not rendered because only 1 point was given");
		}
	};

	AreaMicroChart.prototype._fillMinThreshold = function(c, d) {
		if (d.minThreshold.length > 1) {
			var oCsses = this._getCssValues("sapSuiteAMCThreshold", "sapSuiteAMCSemanticColor" + this.getMinThreshold().getColor());
			this.__fillThresholdArea(c, d.minThreshold, [
				{x: d.minThreshold[0].x, y: d.maxY},
				{x: d.minThreshold[d.minThreshold.length - 1].x, y: d.maxY}
			], oCsses.backgroundColor);
		} else if (d.minThreshold.length == 1) {
			jQuery.sap.log.warning("Min Threshold is not rendered because only 1 point was given");
		}
	};

	AreaMicroChart.prototype._fillThresholdArea = function(c, d) {
		if (d.minThreshold.length > 1 && d.maxThreshold.length > 1) {
			var oCsses = this._getCssValues("sapSuiteAMCThreshold", "sapSuiteAMCSemanticColorCritical");

			this.__fillThresholdArea(c, d.maxThreshold, d.minThreshold, oCsses.backgroundColor);
		}
	};

	AreaMicroChart.prototype._fillInnerThresholdArea = function(c, d) {
		if (d.innerMinThreshold.length > 1 && d.innerMaxThreshold.length > 1) {
			var oCsses = this._getCssValues("sapSuiteAMCThreshold", "sapSuiteAMCSemanticColor" + this.getInnerMaxThreshold().getColor());

			this.__fillThresholdArea(c, d.innerMaxThreshold, d.innerMinThreshold, oCsses.backgroundColor);
		} else if (d.innerMinThreshold.length || d.innerMaxThreshold.length) {
			jQuery.sap.log.warning("Inner threshold area is not rendered because inner min and max threshold were not correctly set");
		}
	};

	AreaMicroChart.prototype._renderChart = function(c, d) {
		if (d.chart.length > 1) {
			var sColorClass = this._getItemColor(d);
			var oCsses = this._getCssValues("sapSuiteAMCChart", sColorClass);
			c.strokeStyle = oCsses.color;
			c.lineWidth = parseFloat(oCsses.width);

			this._renderLine(c, d.chart, d);
		} else if (d.chart.length == 1) {
			jQuery.sap.log.warning("Actual values are not rendered because only 1 point was given");
		}
	};

	AreaMicroChart.prototype._renderLines = function(c, d) {
		var iCpLength = this.getColorPalette().length;
		var iCpIndex = 0;
		var that = this;

		var fnNextColor = function() {
			if (iCpLength) {
				if (iCpIndex == iCpLength) {
					iCpIndex = 0;
				}
				return that.getColorPalette()[iCpIndex++];
			}
		};

		var oCsses = this._getCssValues("sapSuiteAMCLine");
		c.lineWidth = parseFloat(oCsses.width);

		var iLength = d.lines.length;
		for (var i = 0; i < iLength; i++) {
			if (d.lines[i].length > 1) {
				if (iCpLength) {
					c.strokeStyle = fnNextColor();
				} else {
					oCsses = this._getCssValues("sapSuiteAMCLine", "sapSuiteAMCSemanticColor" + this.getLines()[i].getColor());
					c.strokeStyle = oCsses.color;
				}
				this._renderLine(c, d.lines[i], d);
			}
		}
	};

	/**
	 * Renders the canvas.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._renderCanvas = function() {
		this._cssHelper = document.getElementById(this.getId() + "-css-helper");

		var $this = this.$();
		var sLabelsWidth = $this.find(".sapSuiteAMCSideLabels").css("width");
		$this.find(".sapSuiteAMCCanvas, .sapSuiteAMCLabels").css("right", sLabelsWidth).css("left", sLabelsWidth);

		var canvas = document.getElementById(this.getId() + "-canvas");
		var canvasSettings = window.getComputedStyle(canvas);

		var fWidth = parseFloat(canvasSettings.width);
		canvas.setAttribute("width", fWidth ? fWidth : 360);

		var fHeight = parseFloat(canvasSettings.height);
		canvas.setAttribute("height", fHeight ? fHeight : 242);

		var c = canvas.getContext("2d");

		c.lineJoin = "round";

		c._dashedLine = function(x, y, x2, y2, dashArray) {
			var dashCount = dashArray.length;
			this.moveTo(x, y);
			var dx = (x2 - x), dy = (y2 - y);
			var slope = dx ? dy / dx : 1e15;
			var distRemaining = Math.sqrt(dx * dx + dy * dy);
			var dashIndex = 0, draw = true;
			while (distRemaining >= 0.1) {
				var dashLength = dashArray[dashIndex++ % dashCount];
				if (dashLength > distRemaining) {
					dashLength = distRemaining;
				}
				var xStep = Math.sqrt(dashLength * dashLength / (1 + slope * slope));
				if (dx < 0) {
					xStep = -xStep;
				}
				x += xStep;
				y += slope * xStep;
				this[draw ? 'lineTo' : 'moveTo'](x, y);
				distRemaining -= dashLength;
				draw = !draw;
			}
		};
		var d = this._calculateDimensions(canvas.width, canvas.height);

		if (this._isThresholdPresent(d)) {
			$this.find(".sapSuiteAMCCanvas").addClass("sapSuiteAMCWithThreshold");
		}

		this._fillMaxThreshold(c, d);
		this._fillMinThreshold(c, d);
		this._fillThresholdArea(c, d);
		this._renderThresholdLine(c, d.minThreshold, d);
		this._renderThresholdLine(c, d.maxThreshold, d);
		this._fillInnerThresholdArea(c, d);
		this._renderThresholdLine(c, d.innerMinThreshold, d);
		this._renderThresholdLine(c, d.innerMaxThreshold, d);
		this._renderTarget(c, d);
		this._renderChart(c, d);
		this._renderLines(c, d);
	};

	/**
	 * Calculates dimensions
	 *
	 * @param fWidth
	 * @param fHeight
	 * @returns {object}
	 */
	AreaMicroChart.prototype._calculateDimensions = function(fWidth, fHeight) {
		var maxX, maxY, minX, minY;
		maxX = maxY = minX = minY = undefined;
		var that = this;

		function calculateExtremums() {
			if (!that._isMinXValue || !that._isMaxXValue || !that._isMinYValue || !that._isMaxYValue) {
				var lines = that.getLines();
				if (that.getMaxThreshold()) {
					lines.push(that.getMaxThreshold());
				}

				if (that.getMinThreshold()) {
					lines.push(that.getMinThreshold());
				}

				if (that.getChart()) {
					lines.push(that.getChart());
				}

				if (that.getTarget()) {
					lines.push(that.getTarget());
				}

				if (that.getInnerMaxThreshold()) {
					lines.push(that.getInnerMaxThreshold());
				}

				if (that.getInnerMinThreshold()) {
					lines.push(that.getInnerMinThreshold());
				}

				for (var i = 0, numOfLines = lines.length; i < numOfLines; i++) {
					var aPoints = lines[i].getPoints();

					for (var counter = 0, a = aPoints.length; counter < a; counter++) {
						var tmpVal = aPoints[counter].getXValue();
						if (tmpVal > maxX || maxX === undefined) {
							maxX = tmpVal;
						}
						if (tmpVal < minX || minX === undefined) {
							minX = tmpVal;
						}

						tmpVal = aPoints[counter].getYValue();
						if (tmpVal > maxY || maxY === undefined) {
							maxY = tmpVal;
						}
						if (tmpVal < minY || minY === undefined) {
							minY = tmpVal;
						}
					}
				}
			}
			if (that._isMinXValue) {
				minX = that.getMinXValue();
			}

			if (that._isMaxXValue) {
				maxX = that.getMaxXValue();
			}

			if (that._isMinYValue) {
				minY = that.getMinYValue();
			}

			if (that._isMaxYValue) {
				maxY = that.getMaxYValue();
			}
		}

		calculateExtremums();

		var oResult = {
			minY: 0,
			minX: 0,
			maxY: fHeight,
			maxX: fWidth,
			lines: []
		};

		var kx;
		var fDeltaX = maxX - minX;

		if (fDeltaX > 0) {
			kx = fWidth / fDeltaX;
		} else if (fDeltaX == 0) {
			kx = 0;
			oResult.maxX /= 2;
		} else {
			jQuery.sap.log.warning("Min X is more than max X");
		}

		var ky;
		var fDeltaY = maxY - minY;

		if (fDeltaY > 0) {
			ky = fHeight / (maxY - minY);
		} else if (fDeltaY == 0) {
			ky = 0;
			oResult.maxY /= 2;
		} else {
			jQuery.sap.log.warning("Min Y is more than max Y");
		}

		function calculateCoordinates(line) {
			var bRtl = sap.ui.getCore().getConfiguration().getRTL();

			var fnCalcX = function(fValue) {
				var x = kx * (fValue - minX);

				if (bRtl) {
					x = oResult.maxX - x;
				}
				return x;
			};

			var fnCalcY = function(fValue) {
				return oResult.maxY - ky * (fValue - minY);
			};

			var aResult = [];
			if (line && kx != undefined && ky != undefined) {
				var aPoints = line.getPoints();
				var iLength = aPoints.length;
				var xi, yi, tmpXValue, tmpYValue;

				if (iLength == 1) {
					tmpXValue = aPoints[0].getXValue();
					tmpYValue = aPoints[0].getYValue();

					if (tmpXValue == undefined ^ tmpYValue == undefined) {
						var xn, yn;
						if (tmpXValue == undefined) {
							yn = yi = fnCalcY(tmpYValue);
							xi = oResult.minX;
							xn = oResult.maxX;
						} else {
							xn = xi = fnCalcX(tmpXValue);
							yi = oResult.minY;
							yn = oResult.maxY;
						}

						aResult.push({x: xi, y: yi}, {x: xn, y: yn});
					} else {
						jQuery.sap.log.warning("Point with coordinates [" + tmpXValue + " " + tmpYValue + "] ignored");
					}
				} else {
					for (var i = 0; i < iLength; i++) {
						tmpXValue = aPoints[i].getXValue();
						tmpYValue = aPoints[i].getYValue();

						if (tmpXValue != undefined && tmpYValue != undefined) {
							xi = fnCalcX(tmpXValue);
							yi = fnCalcY(tmpYValue);

							aResult.push({x: xi, y: yi});
						} else {
							jQuery.sap.log.warning("Point with coordinates [" + tmpXValue + " " + tmpYValue + "] ignored");
						}
					}
				}
			}
			return aResult;
		}

		oResult.maxThreshold = calculateCoordinates(that.getMaxThreshold());
		oResult.minThreshold = calculateCoordinates(that.getMinThreshold());
		oResult.chart = calculateCoordinates(that.getChart());
		oResult.target = calculateCoordinates(that.getTarget());
		oResult.innerMaxThreshold = calculateCoordinates(that.getInnerMaxThreshold());
		oResult.innerMinThreshold = calculateCoordinates(that.getInnerMinThreshold());

		var iLength = that.getLines().length;
		for (var i = 0; i < iLength; i++) {
			oResult.lines.push(calculateCoordinates(that.getLines()[i]));
		}
		return oResult;
	};

	/**
	 * Property setter for the Min X value
	 *
	 * @param {int} value - new value Min X
	 * @param {boolean} bSuppressInvalidate - Suppress in validate
	 * @returns {void}
	 * @public
	 */
	AreaMicroChart.prototype.setMinXValue = function(value, bSuppressInvalidate) {
		this._isMinXValue = this._isNumber(value);

		return this.setProperty("minXValue", this._isMinXValue ? value : NaN, bSuppressInvalidate);
	};

	/**
	 * Property setter for the Max X value
	 *
	 * @param {int} value - new value Max X
	 * @param {boolean} bSuppressInvalidate - Suppress in validate
	 * @returns {void}
	 * @public
	 */
	AreaMicroChart.prototype.setMaxXValue = function(value, bSuppressInvalidate) {
		this._isMaxXValue = this._isNumber(value);

		return this.setProperty("maxXValue", this._isMaxXValue ? value : NaN, bSuppressInvalidate);
	};

	/**
	 * Property setter for the Min Y value
	 *
	 * @param {value} value - new value Min Y
	 * @param {boolean} bSuppressInvalidate - Suppress in validate
	 * @returns {void}
	 * @public
	 */
	AreaMicroChart.prototype.setMinYValue = function(value, bSuppressInvalidate) {
		this._isMinYValue = this._isNumber(value);

		return this.setProperty("minYValue", this._isMinYValue ? value : NaN, bSuppressInvalidate);
	};

	/**
	 * Property setter for the Max Y value
	 *
	 * @param {string} value - new value Max Y
	 * @param {boolean} bSuppressInvalidate - Suppress in validate
	 * @returns {void}
	 * @public
	 */
	AreaMicroChart.prototype.setMaxYValue = function(value, bSuppressInvalidate) {
		this._isMaxYValue = this._isNumber(value);

		return this.setProperty("maxYValue", this._isMaxYValue ? value : NaN, bSuppressInvalidate);
	};

	AreaMicroChart.prototype._isNumber = function(n) {
		return typeof n === 'number' && !isNaN(n) && isFinite(n);
	};

	AreaMicroChart.prototype.onBeforeRendering = function() {
		if (this.getIsResponsive() && !this.data("_parentRenderingContext") && jQuery.isFunction(this.getParent)) {
			this.data("_parentRenderingContext", this.getParent());
		}
		if (library._isInGenericTile(this)) {
			this.setIsResponsive(true);
			library._removeStandardMargins(this);
		}

		//removes handler for mouseenter event
		this._unbindMouseEnterLeaveHandler();
	};


	AreaMicroChart.prototype.onAfterRendering = function() {
		if (this.getIsResponsive()) {
			this._adjustToParent();
		}
		library._checkControlIsVisible(this, this._onControlIsVisible);

		//attaches handler for mouseenter event
		this._bindMouseEnterLeaveHandler();
	};

	/**
	 * Callback function which is called when the control is visible, which means that the check via
	 * library._checkControlIsVisible was successful.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._onControlIsVisible = function() {
		if (this.getIsResponsive()) {
			this._onResize();
		} else {
			this._renderCanvas();
		}
	};

	/**
	 * Handles the responsiveness.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._onResize = function() {
		this.$().addClass("sapSuiteMicroChartsResponsive");
		this._resizeHorizontally();
		this._resizeVertically();
	};

	/**
	 * Handles the orientation change. The position and width of the canvas need to be
	 * recalculated after an orientation change.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._onOrientationChange = function() {
		this._renderCanvas(this.$());
	};

	/**
	 * Adjusts the height and width of the whole control if this is required depending on parent control.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._adjustToParent = function() {
		if (this.data("_parentRenderingContext") && this.data("_parentRenderingContext") instanceof sap.m.FlexBox) {
			// Subtracts two pixels, otherwise there's not enough space for the outline, and the chart won't be rendered properly
			var $Parent = this.data("_parentRenderingContext").$();
			var iParentWidth = parseFloat($Parent.width()) - 2;
			var iParentHeight = parseFloat($Parent.height()) - 2;
			this.$().outerWidth(iParentWidth).outerHeight(iParentHeight);
		}
	};

	/**
	 * Resizes the chart vertically. If the height of the chart is less or equal to min-height (less), it hides the chart. Assuming that all the CSS has already been loaded and are available.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._resizeVertically = function() {
		var $this = this.$(),
			fCurrentControlHeight = parseFloat($this.css("height")),
			$Canvas = $this.find(".sapSuiteAMCCanvas"),
			fCurrentCanvasContentHeight = parseFloat($Canvas.css("height"));

		// Hides the canvas' content if needed
		if (fCurrentCanvasContentHeight <= AreaMicroChart.EDGE_CASE_HEIGHT_SHOWCANVAS) {
			$Canvas.hide();
		} else {
			this._renderCanvas($this);
		}
		// Resizes the fonts
		if (fCurrentControlHeight <= AreaMicroChart.EDGE_CASE_HEIGHT_RESIZEFONT) {
			$this.addClass("sapSuiteAMCSmallFont");
		}
		// Hides the top labels EDGE_CASE_HEIGHT_SHOWBOTTOMLABEL
		if (fCurrentControlHeight <= AreaMicroChart.EDGE_CASE_HEIGHT_SHOWTOPLABEL) {
			$this.find(".sapSuiteAMCPositionTop.sapSuiteAMCLabels").hide();
		}
		// Hides the bottom labels
		if (fCurrentControlHeight <= AreaMicroChart.EDGE_CASE_HEIGHT_SHOWBOTTOMLABEL) {
			$this.find(".sapSuiteAMCPositionBtm.sapSuiteAMCLabels").hide();
		}
	};

	/**
	 * Resizes the chart horizontally. If the width of the chart is less or equal to min-width (less), it hides the chart. Assumes that all the CSS has already been loaded and are available.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._resizeHorizontally = function() {
		var $this = this.$();
		var iCurrentControlWidth = parseFloat($this.css("width"));
		var $TopLabelContainer = $this.find(".sapSuiteAMCPositionTop.sapSuiteAMCLabels");
		var $BottomLabelContainer = $this.find(".sapSuiteAMCPositionBtm.sapSuiteAMCLabels");
		// Hides the chart if needed
		if (iCurrentControlWidth <= AreaMicroChart.EDGE_CASE_WIDTH_SHOWCHART){
			$this.hide();
		} else {
			this._renderCanvas($this);
			// Resizes the fonts
			if (iCurrentControlWidth <= AreaMicroChart.EDGE_CASE_WIDTH_RESIZEFONT) {
				$this.addClass("sapSuiteAMCSmallFont");
			}
			// Hides the labels if truncated
			var $LabelContainer = [];
			$LabelContainer.push($TopLabelContainer, $BottomLabelContainer);
			for (var i = 0; i < $LabelContainer.length; i++){
				var $Labels = $LabelContainer[i].find(".sapSuiteAMCLbl");
				for (var j = 0; j < $Labels.size(); j++){
					if (this._isLabelTruncated($Labels[j])){
						$LabelContainer[i].hide();
						break;
					}
				}
			}
		}
	};

	/**
	 * Checks if the label should be truncated.
	 *
	 * @private
	 * @param {Object} label The label to be checked
	 * @returns {boolean} True if the label should be truncated, false if not.
	 */
	AreaMicroChart.prototype._isLabelTruncated = function(label) {
		var iSubtrahend;

		/* Both Internet Explorer and Edge browser compute the scrollWidth with 1px too much.
		 * In this case the scrollWidth needs to be reduced by 1px */
		if (sap.ui.Device.browser.msie || sap.ui.Device.browser.edge) {
			iSubtrahend = 1;
		} else {
			iSubtrahend = 0;
		}
		return label.offsetWidth < label.scrollWidth - iSubtrahend;
	};

	AreaMicroChart.prototype.ontap = function(oEvent) {
		if (sap.ui.Device.browser.internet_explorer) {
			this.$().focus();
		}
		this.firePress();
	};

	AreaMicroChart.prototype.onkeydown = function(oEvent) {
		if (oEvent.which == jQuery.sap.KeyCodes.SPACE) {
			oEvent.preventDefault();
		}
	};

	AreaMicroChart.prototype.onkeyup = function(oEvent) {
		if (oEvent.which == jQuery.sap.KeyCodes.ENTER || oEvent.which == jQuery.sap.KeyCodes.SPACE) {
			this.firePress();
			oEvent.preventDefault();
		}
	};

	AreaMicroChart.prototype.attachEvent = function(sEventId, oData, fnFunction, oListener) {
		sap.ui.core.Control.prototype.attachEvent.call(this, sEventId, oData, fnFunction, oListener);

		if (this.hasListeners("press")) {
			this.$().attr("tabindex", 0).addClass("sapSuiteUiMicroChartPointer");
		}

		return this;
	};

	AreaMicroChart.prototype.detachEvent = function(sEventId, fnFunction, oListener) {
		sap.ui.core.Control.prototype.detachEvent.call(this, sEventId, fnFunction, oListener);

		if (!this.hasListeners("press")) {
			this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");
		}
		return this;
	};

	AreaMicroChart.prototype._getLocalizedColorMeaning = function(sColor) {
		return this._oRb.getText(("SEMANTIC_COLOR_" + sColor).toUpperCase());
	};

	AreaMicroChart.prototype.getAltText = function() {
		var sAltText = "";
		var oFirstXLabel = this.getFirstXLabel();
		var oFirstYLabel = this.getFirstYLabel();
		var oLastXLabel = this.getLastXLabel();
		var oLastYLabel = this.getLastYLabel();
		var oMinLabel = this.getMinLabel();
		var oMaxLabel = this.getMaxLabel();
		var oActual = this.getChart();
		var oTarget = this.getTarget();
		var bIsFirst = true;
		if (oFirstXLabel && oFirstXLabel.getLabel() || oFirstYLabel && oFirstYLabel.getLabel()) {
			sAltText += (bIsFirst ? "" : "\n") + this._oRb.getText(("AREAMICROCHART_START")) + ": " + (oFirstXLabel ? oFirstXLabel.getLabel() : "") + " " + (oFirstYLabel ? oFirstYLabel.getLabel()  + " " + this._getLocalizedColorMeaning(oFirstYLabel.getColor()) : "");
			bIsFirst = false;
		}
		if (oLastXLabel && oLastXLabel.getLabel() || oLastYLabel && oLastYLabel.getLabel()) {
			sAltText += (bIsFirst ? "" : "\n") + this._oRb.getText(("AREAMICROCHART_END")) + ": " + (oLastXLabel ? oLastXLabel.getLabel() : "") + " " + (oLastYLabel ? oLastYLabel.getLabel()  + " " + this._getLocalizedColorMeaning(oLastYLabel.getColor()) : "");
			bIsFirst = false;
		}
		if (oMinLabel && oMinLabel.getLabel()) {
			sAltText += (bIsFirst ? "" : "\n") + this._oRb.getText(("AREAMICROCHART_MINIMAL_VALUE")) + ": " + oMinLabel.getLabel() + " " + this._getLocalizedColorMeaning(oMinLabel.getColor());
			bIsFirst = false;
		}
		if (oMaxLabel && oMaxLabel.getLabel()) {
			sAltText += (bIsFirst ? "" : "\n") + this._oRb.getText(("AREAMICROCHART_MAXIMAL_VALUE")) + ": " + oMaxLabel.getLabel() + " " + this._getLocalizedColorMeaning(oMaxLabel.getColor());
			bIsFirst = false;
		}
		if (oActual && oActual.getPoints() && oActual.getPoints().length > 0) {
			sAltText += (bIsFirst ? "" : "\n") + this._oRb.getText(("AREAMICROCHART_ACTUAL_VALUES")) + ":";
			bIsFirst = false;
			var aActual = oActual.getPoints();
			for (var i = 0; i < aActual.length; i++) {
				sAltText += " " + aActual[i].getY();
			}
		}
		if (oTarget && oTarget.getPoints() && oTarget.getPoints().length > 0) {
			sAltText += (bIsFirst ? "" : "\n") + this._oRb.getText(("AREAMICROCHART_TARGET_VALUES")) + ":";
			var aTarget = oTarget.getPoints();
			for (var j = 0; j < aTarget.length; j++) {
				sAltText += " " + aTarget[j].getY();
			}
		}

		for (var k = 0; k < this.getLines().length; k++) {
			var oLine = this.getLines()[k];
			if (oLine.getPoints() && oLine.getPoints().length > 0) {
				sAltText += (bIsFirst ? "" : "\n") + oLine.getTitle() + ":";
				var aLine = oLine.getPoints();
				for (var y = 0; y < aLine.length; y++) {
					sAltText += " " + aLine[y].getY();
				}

				if (this.getColorPalette().length == 0) {
					sAltText += " " + this._getLocalizedColorMeaning(oLine.getColor());
				}
			}
		}
		return sAltText;
	};



	AreaMicroChart.prototype.getTooltip_AsString = function() {
		var oTooltip = this.getTooltip();
		var sTooltip = this.getAltText();

		if (typeof oTooltip === "string" || oTooltip instanceof String) {
			sTooltip = oTooltip.split("{AltText}").join(sTooltip).split("((AltText))").join(sTooltip);
			return sTooltip;
		} else if (this.isBound("tooltip") && !oTooltip) {
			return sTooltip;
		}
		return oTooltip ? oTooltip : "";
	};

	AreaMicroChart.prototype.clone = function(sIdSuffix, aLocalIds, oOptions) {
		var oClone = sap.ui.core.Control.prototype.clone.apply(this, arguments);
		oClone._isMinXValue = this._isMinXValue;
		oClone._isMaxXValue = this._isMaxXValue;
		oClone._isMinYValue = this._isMinYValue;
		oClone._isMaxYValue = this._isMaxYValue;
		return oClone;
	};

	AreaMicroChart.prototype.exit = function() {
		if (sap.ui.Device.system.tablet || sap.ui.Device.system.phone) {
			sap.ui.Device.orientation.detachHandler(this._onOrientationChange, this);
		}
	};

	/**
	 * Adds the title attribute to show the tooltip when the mouse enters the chart.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._addTitleAttribute = function() {
		if (!this.$().attr("title")) {
			this.$().attr("title", this.getTooltip_AsString());
		}
	};

	/**
	 * Removes the title attribute to hide the tooltip when the mouse leaves the chart.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._removeTitleAttribute = function() {
		if (this.$().attr("title")) {
			this.$().removeAttr("title");
		}
	};

	/**
	 * Binds the handlers for mouseenter mouseleave events.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._bindMouseEnterLeaveHandler = function () {

		// handlers need to be saved intermediately in order to unbind successfully
		if (!this._oMouseEnterLeaveHandler) {
			this._oMouseEnterLeaveHandler = {
				mouseEnterChart: this._addTitleAttribute.bind(this),
				mouseLeaveChart: this._removeTitleAttribute.bind(this)
			};
		}
		// bind events on chart
		this.$().bind("mouseenter", this._oMouseEnterLeaveHandler.mouseEnterChart);
		this.$().bind("mouseleave", this._oMouseEnterLeaveHandler.mouseLeaveChart);
	};

	/**
	 * Unbinds the handlers for mouseenter mouseleave events.
	 *
	 * @private
	 */
	AreaMicroChart.prototype._unbindMouseEnterLeaveHandler = function () {
		if (this._oMouseEnterLeaveHandler) {
			this.$().unbind("mouseenter", this._oMouseEnterLeaveHandler.mouseEnterChart);
			this.$().unbind("mouseleave", this._oMouseEnterLeaveHandler.mouseLeaveChart);
		}
	};

	return AreaMicroChart;

});

}; // end of sap/suite/ui/microchart/AreaMicroChart.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartItem') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// This control displays the history of values as a line mini chart or an area mini chart.
jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartItem'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Element'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/AreaMicroChartItem",['jquery.sap.global', './library', 'sap/ui/core/Element'],
	function(jQuery, library, Element) {
	"use strict";

	/**
	 * The configuration of the graphic element on the chart.
	 *
	 * @param {string} [sId] id for the new control, generated automatically if no id is given
	 * @param {object} [mSettings] initial settings for the new control
	 *
	 * @class
	 * Graphical representation of the area micro chart regarding the value lines, the thresholds, and the target values.
	 * @extends sap.ui.core.Control
	 *
	 * @author SAP SE
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.AreaMicroChartItem
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 */
	var AreaMicroChartItem = Element.extend("sap.suite.ui.microchart.AreaMicroChartItem", /** @lends sap.suite.ui.microchart.AreaMicroChartItem.prototype */ {
			metadata: {
				library: "sap.suite.ui.microchart",
				properties: {
					/**
					 * The graphic element color.
					 */
					color: { group: "Misc", type: "sap.m.ValueColor", defaultValue: "Neutral" },
					
					/**
					 * The line title.
					 */
					title: { type: "string", group: "Misc", defaultValue: null}
				},
				defaultAggregation : "points",
				aggregations: {
					
					/**
					 * The set of points for this graphic element.
					 */
					"points": { multiple: true, type: "sap.suite.ui.microchart.AreaMicroChartPoint", bindable : "bindable" }
				}
		}
	});
	
	return AreaMicroChartItem; 
});

}; // end of sap/suite/ui/microchart/AreaMicroChartItem.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartLabel') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// This control displays the history of values as a line mini chart or an area mini chart.
jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartLabel'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Element'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/AreaMicroChartLabel",['jquery.sap.global', './library', 'sap/ui/core/Element'],
	function(jQuery, library, Element) {
	"use strict";

	/**
	 * Constructor for a new AreaMicroChart control.
	 *
	 * @param {string} [sId] id for the new control, generated automatically if no id is given
	 * @param {object} [mSettings] initial settings for the new control
	 *
	 * @class
	 * Displays or hides the labels for start and end dates, start and end values, and minimum and maximum values.
	 * @extends sap.ui.core.Control
	 *
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.AreaMicroChartLabel
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 */
	var AreaMicroChartLabel = Element.extend("sap.suite.ui.microchart.AreaMicroChartLabel", /** @lends sap.suite.ui.microchart.AreaMicroChartLabel.prototype */ {
			metadata : {
				library : "sap.suite.ui.microchart",
				properties : {

					/**
					 * The graphic element color.
					 */
					color: { group: "Misc", type: "sap.m.ValueColor", defaultValue: "Neutral" },

					/**
					 * The line title.
					 */
					label: {type : "string", group : "Misc", defaultValue : "" }
				}
		}
	});

	return AreaMicroChartLabel;
});

}; // end of sap/suite/ui/microchart/AreaMicroChartLabel.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.AreaMicroChartPoint') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// This control displays the history of values as a line mini chart or an area mini chart.
jQuery.sap.declare('sap.suite.ui.microchart.AreaMicroChartPoint'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Element'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/AreaMicroChartPoint",['jquery.sap.global', './library', 'sap/ui/core/Element'],
	function(jQuery, library, Element) {
	"use strict";

	/**
	 * This control contains data for the point.
	 *
	 * @param {string} [sId] id for the new control, generated automatically if no id is given
	 * @param {object} [mSettings] initial settings for the new control
	 *
	 * @class
	 * Contains the data for the point.
	 * @extends sap.ui.core.Control
	 *
	 * @author SAP SE
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.AreaMicroChartPoint
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 */
	var AreaMicroChartPoint = Element.extend("sap.suite.ui.microchart.AreaMicroChartPoint", /** @lends sap.suite.ui.microchart.AreaMicroChartPoint.prototype */ {
			metadata : {
				library : "sap.suite.ui.microchart",
				properties : {
					/**
					 * X value for the given point.
					 */
					x: { type : "float", group : "Misc", defaultValue : null },

					/**
					 * Y value for the given point.
					 */
					y: { type : "float", group : "Misc", defaultValue : null }
				}
		}
	});

	AreaMicroChartPoint.prototype.setX = function(value, bSuppressInvalidate) {
		this._isXValue = this._isNumber(value);

		return this.setProperty("x", this._isXValue ? value : NaN, bSuppressInvalidate);
	};


	AreaMicroChartPoint.prototype.setY = function(value, bSuppressInvalidate) {
		this._isYValue = this._isNumber(value);

		return this.setProperty("y", this._isYValue ? value : NaN, bSuppressInvalidate);
	};
	//

	/**
	 * Returns the x value. It returns 'undefined', if the x property was not set or an invalid number was set.
	 *
	 * @public
	 * @returns {string}
	 */
	AreaMicroChartPoint.prototype.getXValue = function() {
		return this._isXValue ? this.getX() : undefined;
	};

	/**
	 * Returns the y value. It returns 'undefined', if the y property was not set or an invalid number was set.
	 *
	 * @public
	 * @returns {float}
	 */
	AreaMicroChartPoint.prototype.getYValue = function() {
		return this._isYValue ? this.getY() : undefined;
	};

	AreaMicroChartPoint.prototype._isNumber = function(n) {
	    return typeof n == 'number' && !isNaN(n) && isFinite(n);
	};

	/**
	 * Overrides Control.clone to clone additional internal state.
	 *
	 * @param {string} sIdSuffix? a suffix to be appended to the cloned element id
	 * @param {string[]} aLocalIds? an array of local IDs within the cloned hierarchy (internally used)
	 * @param {object} oOptions
	 * @returns {sap.ui.core.Control} reference to the newly created clone
	 */
	AreaMicroChartPoint.prototype.clone = function(sIdSuffix, aLocalIds, oOptions) {
		var oClone = sap.ui.core.Control.prototype.clone.apply(this, arguments);
		oClone._isXValue = this._isXValue;
		oClone._isYValue = this._isYValue;
		return oClone;
	};

	return AreaMicroChartPoint;
});

}; // end of sap/suite/ui/microchart/AreaMicroChartPoint.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.BulletMicroChart') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

jQuery.sap.declare('sap.suite.ui.microchart.BulletMicroChart'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.m.library'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Control'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/BulletMicroChart",[ "jquery.sap.global", "./library", "sap/m/library", "sap/ui/core/Control" ],
	function(jQuery, library, MobileLibrary, Control) {
	"use strict";

	/**
	 * Constructor for a new BulletMicroChart control.
	 *
	 * @param {string} [sId] ID for the new control, generated automatically if no ID is given
	 * @param {object} [mSettings] Initial settings for the new control
	 *
	 * @class
	 * Displays a colored horizontal bar representing a current value on top of a background bar representing the compared value. The vertical bars can represent the numeric values, the scaling factors, the thresholds, and the target values.  This control replaces the deprecated sap.suite.ui.commons.BulletChart.
	 * @extends sap.ui.core.Control
	 *
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.BulletMicroChart
	 * @ui5-metamodel This control will also be described in the UI5 (legacy) design time metamodel
	 */
	var BulletMicroChart = Control.extend("sap.suite.ui.microchart.BulletMicroChart", /** @lends sap.suite.ui.microchart.BulletMicroChart.prototype */ { metadata : {

		library: "sap.suite.ui.microchart",
		properties: {
			/**
			 * The size of the microchart. If not set, the default size is applied based on the size of the device tile.
			 */
			size: {type: "sap.m.Size", group: "Misc", defaultValue: "Auto"},

			/**
			 * The mode of displaying the actual value itself or the delta between the actual value and the target value. If not set, the actual value is displayed.
			 */
			mode: {type: "sap.suite.ui.microchart.BulletMicroChartModeType", group: "Misc", defaultValue: "Actual"},

			/**
			 * The scaling suffix that is added to the actual and target values.
			 */
			scale: {type: "string", group: "Misc", defaultValue: ""},

			/**
			 * The forecast value that is displayed in Actual  mode only. If set, the forecast value bar appears in the background of the actual value bar.
			 */
			forecastValue: {type: "float", group: "Misc", defaultValue: null},

			/**
			 * The target value that is displayed as a black vertical bar.
			 */
			targetValue: {type: "float", group: "Misc", defaultValue: null},

			/**
			 * The minimum scale value for the bar chart used for defining a fixed size of the scale in different instances of this control.
			 */
			minValue: {type: "float", group: "Misc", defaultValue: null},

			/**
			 * The maximum scale value for the bar chart used for defining a fixed size of the scale in different instances of this control.
			 */
			maxValue: {type: "float", group: "Misc", defaultValue: null},

			/**
			 * If set to true, shows the numeric actual value. This property works in Actual mode only.
			 */
			showActualValue: {type: "boolean", group: "Misc", defaultValue: "true"},

			/**
			 * If set to true, shows the calculated delta value instead of the numeric actual value regardless of the showActualValue setting. This property works in Delta mode only.
			 */
			showDeltaValue: {type: "boolean", group: "Misc", defaultValue: "true"},

			/**
			 * If set to true, shows the numeric target value.
			 */
			showTargetValue: {type: "boolean", group: "Misc", defaultValue: "true"},

			/**
			 * If set to true, shows the value marker.
			 */
			showValueMarker: {type: "boolean", group: "Misc", defaultValue: "false"},

			/**
			 * If set, displays a specified label instead of the numeric actual value.
			 */
			actualValueLabel: {type: "string", group: "Misc", defaultValue: ""},

			/**
			 * If set, displays a specified label instead of the calculated numeric delta value.
			 */
			deltaValueLabel: {type: "string", group: "Misc", defaultValue: ""},

			/**
			 * If set, displays a specified label instead of the numeric target value.
			 */
			targetValueLabel: {type: "string", group: "Misc", defaultValue: ""},

			/**
			 * The width of the chart. If it is not set, the size of the control is defined by the size property.
			 */
			width: {type: "sap.ui.core.CSSSize", group: "Misc"},

			/**
			 * The background color of the scale.
			 */
			scaleColor: {type: "sap.suite.ui.microchart.CommonBackgroundType", group: "Misc", defaultValue: "MediumLight"},

			/**
			 * If this set to true, width and height of the control are determined by the width and height of the container in which the control is placed. Size and Width properties are ignored in such case.
			 * @since 1.38.0
			 */
			isResponsive: {type: "boolean", group: "Appearance", defaultValue: false}
		},
		defaultAggregation : "actual",
		aggregations: {
			/**
			 * Actual data of the BulletMicroChart.
			 */
			actual: {type: "sap.suite.ui.microchart.BulletMicroChartData", multiple: false, bindable : "bindable"},

			/**
			 * Threshold data of the BulletMicroChart.
			 */
			thresholds: {type: "sap.suite.ui.microchart.BulletMicroChartData", multiple: true, singularName: "threshold", bindable : "bindable"}
		},
		events: {
			/**
			 * The event is triggered when the chart is pressed.
			 */
			press : {}
		}
	}});

	BulletMicroChart.EDGE_CASE_WIDTH_RESIZEFONT = 168;

	BulletMicroChart.prototype.init = function() {
		this._oRb = sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");
		this.setAggregation("tooltip", "{AltText}", true);
		this._bThemeApplied = true;
		if (!sap.ui.getCore().isInitialized()) {
			this._bThemeApplied = false;
			sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));
		} else {
			this._handleCoreInitialized();
		}
	};

	/**
	 * Handler for the core's init event. The control will only be rendered if all
	 * themes are loaded and everything is properly initialized. We attach a theme
	 * check here.
	 *
	 * @private
	 */
	BulletMicroChart.prototype._handleCoreInitialized = function() {
		this._bThemeApplied = sap.ui.getCore().isThemeApplied();
		if (!this._bThemeApplied) {
			sap.ui.getCore().attachThemeChanged(this._handleThemeApplied, this);
		}
	};

	/**
	 * The chart will only be rendered if the theme is applied. If this is the case,
	 * the control invalidates itself.
	 *
	 * @private
	 */
	BulletMicroChart.prototype._handleThemeApplied = function() {
		this._bThemeApplied = true;
		this.invalidate();
		sap.ui.getCore().detachThemeChanged(this._handleThemeApplied, this);
	};

	/**
	 * Calculates the width in percents of the chart elements according to the provided chart values.
	 *
	 * @returns {Object} object that contains calculated values for actual value, target value, thresholds and their colors.
	 * @private
	 */
	BulletMicroChart.prototype._calculateChartData = function() {
		var fScaleWidthPct = 98,
			aThresholds = this.getThresholds(),
			aCalculatedThresholds = [],
			fTarget = this.getTargetValue(),
			fForecast = this.getForecastValue(),
			fActual = this.getActual() && this.getActual().getValue() ? this.getActual().getValue() : 0,
			aValues = [],
			fLowestValue = 0,
			fHighestValue = 0,
			fTotal = 0,
			i;

		if (this.getActual() && this.getActual()._isValueSet) {
			aValues.push(fActual);
		}

		if (this._isForecastValueSet) {
			aValues.push(fForecast);
		}

		if (this._isTargetValueSet) {
			aValues.push(fTarget);
		}

		if (this._isMinValueSet) {
			aValues.push(this.getMinValue());
		}

		if (this._isMaxValueSet) {
			aValues.push(this.getMaxValue());
		}

		for (i = 0; i < aThresholds.length; i++) {
			aValues.push(aThresholds[i].getValue());
		}

		if (aValues.length > 0) {
			fLowestValue = fHighestValue = aValues[0];
			for (i = 0; i < aValues.length; i++){
				if (aValues[i] < fLowestValue) {
					fLowestValue = aValues[i];
				}
				if (aValues[i] > fHighestValue) {
					fHighestValue = aValues[i];
				}
			}

			fHighestValue = (fHighestValue < 0 && fHighestValue < 3 * (fLowestValue - fHighestValue)) ? 0 : fHighestValue;
			fLowestValue = (fLowestValue > 0 && fLowestValue > 3 * (fHighestValue - fLowestValue)) ? 0 : fLowestValue;

			fTotal = fHighestValue - fLowestValue;

			for (i = 0; i < aThresholds.length; i++) {
				aCalculatedThresholds[i] = {color: aThresholds[i].getColor(), valuePct: (!aThresholds[i]._isValueSet || fTotal === 0) ? 0 : ((aThresholds[i].getValue() - fLowestValue) * fScaleWidthPct / fTotal).toFixed(2)};
			}
		}

		var nActualValuePct, nTargetValuePct;
		if (this.getMode() === library.BulletMicroChartModeType.Delta) {
			// In case delta mode is used, the zero handling is different, as the left position is 49 instead of 0
			nActualValuePct = (!this.getActual() || !this.getActual()._isValueSet || (fTotal === 0 && this.getActual().getValue() === 0)) ? 49 : (0.05 + (fActual - fLowestValue) * fScaleWidthPct / fTotal).toFixed(2);
			nTargetValuePct = (!this._isTargetValueSet || fTotal === 0) ? 49 : ((fTarget - fLowestValue) * fScaleWidthPct / fTotal).toFixed(2);
		} else {
			nActualValuePct = (!this.getActual() || !this.getActual()._isValueSet || fTotal === 0 || fLowestValue === 0 && this.getActual().getValue() === 0) ? 0 : (0.05 + (fActual - fLowestValue) * fScaleWidthPct / fTotal).toFixed(2);
			nTargetValuePct = (!this._isTargetValueSet || fTotal === 0) ? 0 : ((fTarget - fLowestValue) * fScaleWidthPct / fTotal).toFixed(2);
		}
		return {
			actualValuePct: nActualValuePct,
			targetValuePct: nTargetValuePct,
			forecastValuePct: (!this._isForecastValueSet || fTotal === 0) ? 0 : ((fForecast - fLowestValue) * fScaleWidthPct / fTotal).toFixed(2),
			thresholdsPct: aCalculatedThresholds,
			fScaleWidthPct: fScaleWidthPct
		};
	};

	/**
	 * Calculates the number of digits after the decimal point.
	 *
	 * @param {float} fValue float value
	 * @returns {int} number of digits after the decimal point in fValue.
	 * @private
	 */
	BulletMicroChart.prototype._digitsAfterDecimalPoint = function(fValue) {
		var sAfter = ("" + fValue).match(/[.,](\d+)/g);
		return (sAfter) ? ("" + sAfter).length - 1 : 0;
	};

	/**
	 * Calculates the delta between actual value and threshold.
	 *
	 * @returns {number} Delta value of delta between actual value and threshold.
	 * @private
	 */
	BulletMicroChart.prototype._calculateDeltaValue = function() {
		if (!this.getActual()._isValueSet || !this._isTargetValueSet) {
			return 0;
		} else {
			var fActual = this.getActual().getValue();
			var fTarget = this.getTargetValue();
			return Math.abs(fActual - fTarget).toFixed(Math.max(this._digitsAfterDecimalPoint(fActual), this._digitsAfterDecimalPoint(fTarget)));
		}
	};


	BulletMicroChart.prototype.setMinValue = function(fMinValue) {
		this._isMinValueSet = this._fnIsNumber(fMinValue);
		return this.setProperty("minValue", this._isMinValueSet ? fMinValue : NaN);
	};


	BulletMicroChart.prototype.setMaxValue = function(fMaxValue) {
		this._isMaxValueSet = this._fnIsNumber(fMaxValue);
		return this.setProperty("maxValue", this._isMaxValueSet ? fMaxValue : NaN);
	};


	BulletMicroChart.prototype.setTargetValue = function(fTargetValue) {
		this._isTargetValueSet = this._fnIsNumber(fTargetValue);
		return this.setProperty("targetValue", this._isTargetValueSet ? fTargetValue : NaN);
	};


	BulletMicroChart.prototype.setForecastValue = function(fForecastValue) {
		this._isForecastValueSet = this._fnIsNumber(fForecastValue);
		return this.setProperty("forecastValue", this._isForecastValueSet ? fForecastValue : NaN);
	};

	BulletMicroChart.prototype.ontap = function(oEvent) {
		if (sap.ui.Device.browser.internet_explorer) {
			this.$().focus();
		}
		this.firePress();
	};

	BulletMicroChart.prototype.onkeydown = function(oEvent) {
		if (oEvent.which ===  jQuery.sap.KeyCodes.SPACE) {
			oEvent.preventDefault();
		}
	};

	BulletMicroChart.prototype.onkeyup = function(oEvent) {
		if (oEvent.which === jQuery.sap.KeyCodes.ENTER || oEvent.which === jQuery.sap.KeyCodes.SPACE) {
			this.firePress();
			oEvent.preventDefault();
		}
	};

	BulletMicroChart.prototype._fnIsNumber = function(value) {
		return typeof value === 'number' && !isNaN(value) && isFinite(value);
	};

	BulletMicroChart.prototype.attachEvent = function(sEventId, oData, fnFunction, oListener) {
		sap.ui.core.Control.prototype.attachEvent.call(this, sEventId, oData, fnFunction, oListener);
		if (this.hasListeners("press")) {
			this.$().attr("tabindex", 0).addClass("sapSuiteUiMicroChartPointer");
		}
		return this;
	};

	BulletMicroChart.prototype.detachEvent = function(sEventId, fnFunction, oListener) {
		sap.ui.core.Control.prototype.detachEvent.call(this, sEventId, fnFunction, oListener);
		if (!this.hasListeners("press")) {
			this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");
		}
		return this;
	};

	BulletMicroChart.prototype.onBeforeRendering = function() {
		if (library._isInGenericTile(this)) {
			this.setIsResponsive(true);
			library._removeStandardMargins(this);
		}
		if (this._sChartResizeHandlerId ) {
			sap.ui.core.ResizeHandler.deregister(this._sChartResizeHandlerId);
		}
		if (this.getIsResponsive() && !this.data("_parentRenderingContext") && jQuery.isFunction(this.getParent)) {
			this.data("_parentRenderingContext", this.getParent());
		}

		//removes handler for mouseenter event
		this._unbindMouseEnterLeaveHandler();
	};

	BulletMicroChart.prototype.onAfterRendering = function() {
		if (this.getIsResponsive()) {
			this._adjustToParent();
		}
		library._checkControlIsVisible(this, this._onControlIsVisible);

		//attaches handler for mouseenter event
		this._bindMouseEnterLeaveHandler();
	};

	/**
	 * Callback function which is called when the control is visible, which means that the check via
	 * library._checkControlIsVisible was successful.
	 *
	 * @private
	 */
	BulletMicroChart.prototype._onControlIsVisible = function() {
		this._onResize();
		this._sChartResizeHandlerId = sap.ui.core.ResizeHandler.register(this, jQuery.proxy(this._onResize, this));
		if (this.getShowValueMarker()) {
			this._adjustValueToMarker();
		}
	};

	/**
	 * Conducts size adjustments that are necessary if the dimensions of the chart change.
	 *
	 * @private
	 */
	BulletMicroChart.prototype._onResize = function() {
		if (this.getIsResponsive()) {
			this.$().removeClass("sapSuiteBMCSmallFont sapSuiteBMCNoLabels");
			this._adjustLabelsPos();
			this._resizeHorizontally();
			this._resizeVertically();
		} else {
			this._adjustLabelsPos();
		}
	};

	/**
	 * Adjusts the height and width of the whole control if this is required depending on parent control.
	 *
	 * @private
	 */
	BulletMicroChart.prototype._adjustToParent = function() {
		if (this.data("_parentRenderingContext") && this.data("_parentRenderingContext") instanceof sap.m.FlexBox) {
			var $Parent = this.data("_parentRenderingContext").$();
			var sParentHeight = parseInt($Parent.height(), 10);
			var sParentWidth = parseInt($Parent.width(), 10);
			var $this = this.$();
			$this.outerHeight(sParentHeight - parseInt($this.css("margin-top"), 10) - parseInt($this.css("margin-bottom"), 10));
			$this.outerWidth(sParentWidth - parseInt($this.css("margin-left"), 10) - parseInt($this.css("margin-right"), 10));
		}
	};

	/**
	 * Performs vertical responsiveness adjustment. Assumes that the height of the control will not change afterwards. Assumes that all the CSS have already been loaded and are available.
	 *
	 * @private
	 */
	BulletMicroChart.prototype._resizeVertically  = function() {
		var $this = this.$();
		var $OuterVerticalAlignmentContainer = $this.find(".sapSuiteBMCVerticalAlignmentContainer.sapSuiteBMCWholeControl");
		var $Canvas = $this.find(".sapSuiteBMCChartCanvas");
		// preparing resizing thresholds
		var iMaxChartHeight = parseInt($OuterVerticalAlignmentContainer.css("max-height"), 10);
		var iMinChartHeight = parseInt($OuterVerticalAlignmentContainer.css("min-height"), 10);
		var iMinCanvasHeight = parseInt($Canvas.css("min-height"), 10);
		var iCurrentControlHeight = parseInt($this.css("height"), 10);

		// font resizing
		if (iCurrentControlHeight < iMaxChartHeight) {
			$this.addClass("sapSuiteBMCSmallFont");
		}
		// vertical resizing
		if (iCurrentControlHeight < iMinCanvasHeight) {
			$this.hide();
		} else if (iCurrentControlHeight < iMinChartHeight) {
			$this.addClass("sapSuiteBMCNoLabels");
		}
	};

	/**
	 * Performs horizontal responsiveness adjustment. Assumes that the width of the control will not change afterwards. Assumes that all the CSS have already been loaded and are available.
	 *
	 * @private
	 */
	BulletMicroChart.prototype._resizeHorizontally = function() {
		var $this = this.$();
		var $OuterVerticalAlignmentContainer = $this.find(".sapSuiteBMCVerticalAlignmentContainer.sapSuiteBMCWholeControl");
		var iMinChartWidth = parseInt($OuterVerticalAlignmentContainer.css("min-width"), 10);
		var iCurrentControlWidth = parseInt($this.css("width"), 10);

		if (iCurrentControlWidth <= iMinChartWidth) {
			$this.hide();
			return;
		}
		if (iCurrentControlWidth < BulletMicroChart.EDGE_CASE_WIDTH_RESIZEFONT || this._isTruncatedLabel($this)) {
			$this.addClass("sapSuiteBMCSmallFont");
		}
		if (this._isTruncatedLabel($this)) {
			$this.hide();
		}
	};

	/**
	 * Checks if any label on the chart is truncated.
	 * @returns {boolean} True if the label is truncated, false if not.
	 * @private
	 */
	BulletMicroChart.prototype._isTruncatedLabel = function() {
		var $Labels = this.$().find(".sapSuiteBMCItemValue, .sapSuiteBMCTargetBarValue");
		for (var i = 0; i < $Labels.length; i++) {
			if ($Labels[i].scrollWidth > $Labels[i].offsetWidth) {
				return true;
			}
		}
		return false;
	};

	BulletMicroChart.prototype.exit = function() {
		sap.ui.core.ResizeHandler.deregister(this._sChartResizeHandlerId);
	};

	BulletMicroChart.prototype._adjustLabelsPos = function() {
		var bRtl = sap.ui.getCore().getConfiguration().getRTL();
		var oTBarVal = jQuery.sap.byId(this.getId() + "-bc-target-bar-value");
		var oChartBar = jQuery.sap.byId(this.getId() + "-chart-bar");
		var fFullWidth = oChartBar.width();
		if (fFullWidth) {
			var fTValWidth = 0;
			if (oTBarVal && oTBarVal.offset()) {
				fTValWidth = oTBarVal.offset().left - oChartBar.offset().left;
				if (bRtl) {
					fTValWidth = fFullWidth - fTValWidth;
				}
				this._adjustLabelPos(jQuery.sap.byId(this.getId() + "-bc-target-value"), fFullWidth, fTValWidth, bRtl);
			}

			var oValMarker = jQuery.sap.byId(this.getId() + "-bc-bar-value-marker");
			if (oValMarker && oValMarker.offset()) {
				var fAValWidth = oValMarker.offset().left - oChartBar.offset().left;
				if (bRtl) {
					fAValWidth = fFullWidth - fAValWidth;
				}

				if (this.getMode() === library.BulletMicroChartModeType.Delta) {
					fAValWidth = (fAValWidth + fTValWidth) / 2;
				}

				this._adjustLabelPos(jQuery.sap.byId(this.getId() + "-bc-item-value"), fFullWidth, fAValWidth, bRtl);
			}
		}
	};

	BulletMicroChart.prototype._adjustLabelPos = function(oLabel, fFullWidth, fOffset, bRtl) {
		var sDirection = bRtl ? "right" : "left";
		var fLabelWidth = oLabel.width();
		if (fLabelWidth > fFullWidth) {
			oLabel.css("width", "" + fFullWidth + "px");
			oLabel.css(sDirection, "0");
		} else {
			var fLabelLeft = fOffset - 0.5 * fLabelWidth;
			if (fLabelLeft < 0) {
				fLabelLeft = 0;
			}

			if (fLabelLeft + fLabelWidth > fFullWidth) {
				fLabelLeft = fFullWidth - fLabelWidth;
			}
			oLabel.css(sDirection, fLabelLeft);
			oLabel.css("width", "" + (parseInt(fLabelWidth, 10) + 1) + "px");
		}
	};

	BulletMicroChart.prototype._adjustValueToMarker = function() {
		var oValue = this.$("bc-bar-value");
		var oMarker = this.$("bc-bar-value-marker");
		if (oValue.offset() && oMarker.offset()) {
			var fValueWidth = oValue.width();
			var fValueLeft = oValue.offset().left;
			var fMarkerWidth = oMarker.width();
			var fMarkerLeft = oMarker.offset().left;

			if (sap.ui.getCore().getConfiguration().getRTL()) {
				if (fMarkerLeft < fValueLeft) { // browser's subpixel problem fix
					oMarker.css("right", "");
					oMarker.offset({left: fValueLeft});
				}
				if (fMarkerLeft + fMarkerWidth > fValueLeft + fValueWidth) { // bar value is less than marker min-width
					oMarker.css("right", "");
					oMarker.offset({left: fValueLeft + fValueWidth - fMarkerWidth});
				}
			} else {
				if (fMarkerLeft < fValueLeft) { // bar value is less than marker min-width
					oMarker.offset({left: fValueLeft});
				}
				if (fMarkerLeft + fMarkerWidth > fValueLeft + fValueWidth) { // browser's subpixel problem fix
					oValue.width(fMarkerLeft + fMarkerWidth - fValueLeft);
				}
			}
		}
	};

	BulletMicroChart.prototype._getLocalizedColorMeaning = function(sColor) {
		return this._oRb.getText(("SEMANTIC_COLOR_" + sColor).toUpperCase());
	};

	BulletMicroChart.prototype.getAltText = function() {
		var bIsActualSet = this.getActual() && this.getActual()._isValueSet;
		var sScale = this.getScale();
		var sTargetValueLabel = this.getTargetValueLabel();
		var sMeaning = !this.getActual() || !this.getActual().getColor() ? "" : this._getLocalizedColorMeaning(this.getActual().getColor());

		var sAltText = "";

		if (bIsActualSet) {
			var sActualValueLabel = this.getActualValueLabel();
			var sAValToShow = (sActualValueLabel) ? sActualValueLabel : "" + this.getActual().getValue();
			sAltText += this._oRb.getText("BULLETMICROCHART_ACTUAL_TOOLTIP", [sAValToShow + sScale, sMeaning]);
		}
		if (this.getMode() === library.BulletMicroChartModeType.Delta) {
			if (this._isTargetValueSet && bIsActualSet) {
				var sDeltaValueLabel = this.getDeltaValueLabel();
				var sDValToShow = (sDeltaValueLabel) ? sDeltaValueLabel : "" + this._calculateDeltaValue();
				sAltText += "\n" + this._oRb.getText("BULLETMICROCHART_DELTA_TOOLTIP", [sDValToShow + sScale, sMeaning]);
			}
		} else if (this._isForecastValueSet) {
			sAltText += (this._isForecastValueSet) ? "\n" + this._oRb.getText("BULLETMICROCHART_FORECAST_TOOLTIP", [this.getForecastValue() + sScale, sMeaning]) : "";
		}

		if (this._isTargetValueSet) {
			var sTValToShow = (sTargetValueLabel) ? sTargetValueLabel : "" + this.getTargetValue();
			sAltText += "\n" + this._oRb.getText("BULLETMICROCHART_TARGET_TOOLTIP", [sTValToShow + sScale]);
		}

		var aThresholds = this.getThresholds().sort(function(oFirst, oSecond) { return oFirst.getValue() - oSecond.getValue(); });

		for (var i = 0; i < aThresholds.length; i++) {
			var oThreshold = aThresholds[i];
			sAltText += "\n" + this._oRb.getText("BULLETMICROCHART_THRESHOLD_TOOLTIP", [oThreshold.getValue() + this.getScale(), this._getLocalizedColorMeaning(oThreshold.getColor())]);
		}

		return sAltText;
	};

	BulletMicroChart.prototype.getTooltip_AsString = function() { //eslint-disable-line
		var oTooltip = this.getTooltip();
		var sTooltip = this.getAltText();

		if (typeof oTooltip === "string" || oTooltip instanceof String) {
			sTooltip = oTooltip.split("{AltText}").join(sTooltip).split("((AltText))").join(sTooltip);
			return sTooltip;
		} else if (this.isBound("tooltip") && !oTooltip) {
			return sTooltip;
		}
		return oTooltip ? oTooltip : "";
	};

	BulletMicroChart.prototype.clone = function(sIdSuffix, aLocalIds, oOptions) {
		var oClone = sap.ui.core.Control.prototype.clone.apply(this, arguments);
		oClone._isMinValueSet = this._isMinValueSet;
		oClone._isMaxValueSet = this._isMaxValueSet;
		oClone._isForecastValueSet = this._isForecastValueSet;
		oClone._isTargetValueSet = this._isTargetValueSet;
		return oClone;
	};

	/**
	 * Adds the title attribute to show the tooltip when the mouse enters the chart.
	 *
	 * @private
	 */
	BulletMicroChart.prototype._addTitleAttribute = function() {
		if (!this.$().attr("title")) {
			this.$().attr("title", this.getTooltip_AsString());
		}
	};

	/**
	 * Removes the title attribute to hide the tooltip when the mouse leaves the chart.
	 *
	 * @private
	 */
	BulletMicroChart.prototype._removeTitleAttribute = function() {
		if (this.$().attr("title")) {
			this.$().removeAttr("title");
		}
	};

	/**
	 * Binds the handlers for mouseenter mouseleave events.
	 *
	 * @private
	 */
	BulletMicroChart.prototype._bindMouseEnterLeaveHandler = function () {

		// handlers need to be saved intermediately in order to unbind successfully
		if (!this._oMouseEnterLeaveHandler) {
			this._oMouseEnterLeaveHandler = {
				mouseEnterChart: this._addTitleAttribute.bind(this),
				mouseLeaveChart: this._removeTitleAttribute.bind(this)
			};
		}
		// bind events on chart
		this.$().bind("mouseenter", this._oMouseEnterLeaveHandler.mouseEnterChart);
		this.$().bind("mouseleave", this._oMouseEnterLeaveHandler.mouseLeaveChart);
	};

	/**
	 * Unbinds the handlers for mouseenter mouseleave events.
	 *
	 * @private
	 */
	BulletMicroChart.prototype._unbindMouseEnterLeaveHandler = function () {
		if (this._oMouseEnterLeaveHandler) {
			this.$().unbind("mouseenter", this._oMouseEnterLeaveHandler.mouseEnterChart);
			this.$().unbind("mouseleave", this._oMouseEnterLeaveHandler.mouseLeaveChart);
		}
	};

	return BulletMicroChart;
});

}; // end of sap/suite/ui/microchart/BulletMicroChart.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.BulletMicroChartData') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// Provides control sap.suite.ui.microchart.BulletMicroChartData.
jQuery.sap.declare('sap.suite.ui.microchart.BulletMicroChartData'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Element'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/BulletMicroChartData",['jquery.sap.global', './library', 'sap/ui/core/Element'],
	function(jQuery, library, Element) {
	"use strict";

	/**
	 * Constructor for a new BulletMicroChartData.
	 *
	 * @param {string} [sId] id for the new control, generated automatically if no id is given
	 * @param {object} [mSettings] initial settings for the new control
	 *
	 * @class
	 * Contains the thresholds data.
	 * @extends sap.ui.core.Element
	 *
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @constructor
	 * @public
	 * @alias sap.suite.ui.microchart.BulletMicroChartData
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 */
	var BulletMicroChartData = Element.extend("sap.suite.ui.microchart.BulletMicroChartData", /** @lends sap.suite.ui.microchart.BulletMicroChartData.prototype */ { metadata : {
		library: "sap.suite.ui.microchart",
		properties: {
			/**
			 * The actual value.
			 */
			value: {type: "float", group: "Misc", defaultValue: "0"},

			/**
			 * The semantic color of the actual value.
			 */
			color: {type: "sap.m.ValueColor", group: "Misc", defaultValue: "Neutral"}
		}
	}});


	BulletMicroChartData.prototype.setValue = function(fValue) {
		this._isValueSet = this._fnIsNumber(fValue);
		return this.setProperty("value", this._isValueSet ? fValue : NaN);
	};

	BulletMicroChartData.prototype._fnIsNumber = function(n) {
		return typeof n == 'number' && !isNaN(n) && isFinite(n);
	};

	BulletMicroChartData.prototype.clone = function(sIdSuffix, aLocalIds, oOptions) {
		var oClone = sap.ui.core.Control.prototype.clone.apply(this, arguments);
		oClone._isValueSet = this._isValueSet;
		return oClone;
	};

	return BulletMicroChartData;

});

}; // end of sap/suite/ui/microchart/BulletMicroChartData.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.BulletMicroChartRenderer') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

jQuery.sap.declare('sap.suite.ui.microchart.BulletMicroChartRenderer'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.m.library'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/BulletMicroChartRenderer",['jquery.sap.global', './library', 'sap/m/library'],
	function(jQuery, library, MobileLibrary) {
	"use strict";

	/**
	 * BulletMicroChart renderer.
	 * @namespace
	 */
	var BulletMicroChartRenderer = {};

	/**
	 * Renders the HTML for the given control, using the provided
	 * {@link sap.ui.core.RenderManager}.
	 *
	 * @param {sap.ui.core.RenderManager} oRm the RenderManager that can be used for writing to the Render-Output-Buffer
	 * @param {sap.suite.ui.microchart.BulletMicroChart} oControl the control to be rendered
	 */
	BulletMicroChartRenderer.render = function(oRm, oControl) {
		if (!oControl._bThemeApplied) {
			return;
		}
		var oChartData = oControl._calculateChartData();
		var fForecastValuePct = +oChartData.forecastValuePct;
		var sSize;
		if (oControl.getIsResponsive()) {
			sSize = "sapSuiteBMCResponsive";
		} else {
			sSize = "sapSuiteBMCSize" + oControl.getSize();
		}
		var sScale = oControl.getScale();
		var sDirection = sap.ui.getCore().getConfiguration().getRTL() ? "right" : "left";
		var sMode = "sapSuiteBMCModeType" + oControl.getMode();
		var sDeltaValue = oControl.getMode() === library.BulletMicroChartModeType.Delta ? oControl._calculateDeltaValue() : 0;
		var bIsActualSet = oControl.getActual() && oControl.getActual()._isValueSet;
		var bShowActualValue = oControl.getShowActualValue() && oControl.getSize() !== MobileLibrary.Size.XS && oControl.getMode() ===  library.BulletMicroChartModeType.Actual;
		var bShowDeltaValue = oControl.getShowDeltaValue() && oControl.getSize() !== MobileLibrary.Size.XS && oControl.getMode() === library.BulletMicroChartModeType.Delta;
		var bShowTargetValue = oControl.getShowTargetValue() && oControl.getSize() !== MobileLibrary.Size.XS;
		var sActualValueLabel = oControl.getActualValueLabel();
		var sDeltaValueLabel = oControl.getDeltaValueLabel();
		var sTargetValueLabel = oControl.getTargetValueLabel();
		var aData = oControl.getThresholds();
		var sAriaLabel = oControl.getAltText();

		var sSemanticColor;
		if (bIsActualSet) {
			sSemanticColor = "sapSuiteBMCSemanticColor" + oControl.getActual().getColor();
		}

		oRm.write("<div");
		oRm.writeControlData(oControl);
		oRm.addClass("sapSuiteBMC");
		oRm.addClass("sapSuiteBMCContent");
		oRm.addClass(jQuery.sap.encodeHTML(sSize));
		if (oControl.hasListeners("press")) {
			oRm.addClass("sapSuiteUiMicroChartPointer");
			oRm.writeAttribute("tabindex", "0");
		}
		oRm.writeAttribute("role", "presentation");
		oRm.writeAttributeEscaped("aria-label", sAriaLabel);

		oRm.writeClasses();

		if (oControl.getWidth()) {
			oRm.addStyle("width", oControl.getWidth());
			oRm.writeStyles();
		}
		oRm.writeAttribute("id", oControl.getId() + "-bc-content");
		oRm.write(">");

		oRm.write("<div");
		oRm.addClass("sapSuiteBMCVerticalAlignmentContainer");
		oRm.addClass("sapSuiteBMCWholeControl");
		oRm.writeClasses();
		oRm.write(">");

		oRm.write("<div");
		oRm.addClass("sapSuiteBMCChart");
		oRm.addClass(jQuery.sap.encodeHTML(sSize));
		oRm.writeClasses();
		oRm.writeAttribute("id", oControl.getId() + "-bc-chart");
		oRm.write(">");
		var sValScale = "";
		oRm.write("<div");
		oRm.addClass("sapSuiteBMCTopLabel");
		oRm.writeClasses();
		oRm.write(">");
		if (bIsActualSet && bShowActualValue) {
			var sActualValueToRender = sActualValueLabel ? sActualValueLabel : "" + oControl.getActual().getValue();
			sValScale = sActualValueToRender + sScale;
			oRm.write("<div");
			oRm.addClass("sapSuiteBMCItemValue");
			oRm.addClass(jQuery.sap.encodeHTML(sSemanticColor));
			oRm.addClass(jQuery.sap.encodeHTML(sSize));
			oRm.writeClasses();
			oRm.writeStyles();
			oRm.writeAttribute("id", oControl.getId() + "-bc-item-value");
			oRm.write(">");
			oRm.writeEscaped(sValScale);
			oRm.write("</div>");
		} else if (bIsActualSet && oControl._isTargetValueSet && bShowDeltaValue) {
			var sDeltaValueToRender = sDeltaValueLabel ? sDeltaValueLabel : "" + sDeltaValue;
			sValScale = sDeltaValueToRender + sScale;
			oRm.write("<div");
			oRm.addClass("sapSuiteBMCItemValue");
			oRm.addClass(jQuery.sap.encodeHTML(sSemanticColor));
			oRm.addClass(jQuery.sap.encodeHTML(sSize));
			oRm.writeClasses();
			oRm.writeStyles();
			oRm.writeAttribute("id", oControl.getId() + "-bc-item-value");
			oRm.write(">");
			oRm.write("&Delta;");
			oRm.writeEscaped(sValScale);
			oRm.write("</div>");
		}
		oRm.write("</div>");
		oRm.write("<div");
		oRm.addClass("sapSuiteBMCChartCanvas");
		oRm.writeClasses();
		oRm.write(">");
		for (var i = 0; i < oChartData.thresholdsPct.length; i++) {
			if (aData[i]._isValueSet) {
				this.renderThreshold(oRm,  oControl, oChartData.thresholdsPct[i], sSize);
			}
		}

		oRm.write("<div");
		oRm.writeAttribute("id", oControl.getId() + "-chart-bar");
		oRm.addClass("sapSuiteBMCBar");
		oRm.addClass(jQuery.sap.encodeHTML(sSize));
		oRm.addClass("sapSuiteBMCScaleColor" + oControl.getScaleColor());
		oRm.writeClasses();
		oRm.write(">");
		oRm.write("</div>");

		if (bIsActualSet) {
			//render forecast value bar
			if (oControl._isForecastValueSet && oControl.getMode() === library.BulletMicroChartModeType.Actual) {
				oRm.write("<div");
				oRm.addClass("sapSuiteBMCForecastBarValue");
				oRm.addClass(jQuery.sap.encodeHTML(sSemanticColor));
				oRm.addClass(jQuery.sap.encodeHTML(sSize));
				oRm.writeClasses();
				oRm.addStyle("width", fForecastValuePct + "%");
				oRm.writeStyles();
				oRm.writeAttribute("id", oControl.getId() + "-forecast-bar-value");
				oRm.write("></div>");
			}

			oRm.write("<div");
			oRm.addClass("sapSuiteBMCBarValueMarker");
			oRm.addClass(sMode);
			if (!oControl.getShowValueMarker()) {
				oRm.addClass("sapSuiteBMCBarValueMarkerHidden");
			}
			oRm.addClass(jQuery.sap.encodeHTML(sSemanticColor));
			oRm.addClass(jQuery.sap.encodeHTML(sSize));
			oRm.writeClasses();
			oRm.addStyle(jQuery.sap.encodeHTML(sDirection), jQuery.sap.encodeHTML(parseFloat(oChartData.actualValuePct) + parseFloat(1) + "%"));
			if (oControl.getMode() === library.BulletMicroChartModeType.Delta && oChartData.actualValuePct <= oChartData.targetValuePct) {
				oRm.addStyle("margin", "0");
			}
			oRm.writeStyles();
			oRm.writeAttribute("id", oControl.getId() + "-bc-bar-value-marker");
			oRm.write("></div>");

			//render actual value bar
			if (oControl.getMode() === library.BulletMicroChartModeType.Actual && oChartData.actualValuePct !== 0) {
				oRm.write("<div");
				oRm.addClass("sapSuiteBMCBarValue");
				oRm.addClass(jQuery.sap.encodeHTML(sSemanticColor));
				oRm.addClass(jQuery.sap.encodeHTML(sSize));
				if (oControl._isForecastValueSet) {
					oRm.addClass("sapSuiteBMCForecast");
				}
				oRm.writeClasses();
				oRm.addStyle("width", jQuery.sap.encodeHTML(oChartData.actualValuePct + "%"));
				oRm.writeStyles();
				oRm.writeAttribute("id", oControl.getId() + "-bc-bar-value");
				oRm.write("></div>");
			} else if (oControl._isTargetValueSet && oControl.getMode() === library.BulletMicroChartModeType.Delta) {
				oRm.write("<div");
				oRm.addClass("sapSuiteBMCBarValue");
				oRm.addClass(jQuery.sap.encodeHTML(sSemanticColor));
				oRm.addClass(jQuery.sap.encodeHTML(sSize));
				oRm.writeClasses();
				oRm.addStyle("width", jQuery.sap.encodeHTML(Math.abs(oChartData.actualValuePct - oChartData.targetValuePct) + "%"));
				oRm.addStyle(jQuery.sap.encodeHTML(sDirection), jQuery.sap.encodeHTML(1 + Math.min(oChartData.actualValuePct, oChartData.targetValuePct) + "%"));
				oRm.writeStyles();
				oRm.writeAttribute("id", oControl.getId() + "-bc-bar-value");
				oRm.write("></div>");
			}
		}

		if (oControl._isTargetValueSet) {
			oRm.write("<div");
			oRm.addClass("sapSuiteBMCTargetBarValue");
			oRm.addClass(jQuery.sap.encodeHTML(sSize));
			oRm.writeClasses();
			oRm.addStyle(jQuery.sap.encodeHTML(sDirection), jQuery.sap.encodeHTML(parseFloat(oChartData.targetValuePct).toFixed(2) + "%"));
			oRm.writeStyles();
			oRm.writeAttribute("id", oControl.getId() + "-bc-target-bar-value");
			oRm.write("></div>");
			oRm.write("</div>");

			if (bShowTargetValue) {
				oRm.write("<div");
				oRm.addClass("sapSuiteBMCBottomLabel");
				oRm.writeClasses();
				oRm.write(">");
				var sTValToShow = sTargetValueLabel ? sTargetValueLabel : "" + oControl.getTargetValue();
				var sTValScale = sTValToShow + sScale;
				oRm.write("<div");
				oRm.addClass("sapSuiteBMCTargetValue");
				oRm.addClass(jQuery.sap.encodeHTML(sSize));
				oRm.writeClasses();
				oRm.writeStyles();
				oRm.writeAttribute("id", oControl.getId() + "-bc-target-value");
				oRm.write(">");
				oRm.writeEscaped(sTValScale);
				oRm.write("</div>");
				oRm.write("</div>");
			}
		} else {
			oRm.write("</div>");
		}
		oRm.write("</div>");

		oRm.write("<div");
		oRm.writeAttribute("id", oControl.getId() + "-info");
		oRm.writeAttribute("aria-hidden", "true");
		oRm.addStyle("display", "none");
		oRm.writeStyles();
		oRm.write(">");
		oRm.write("</div>");
		oRm.write("</div>");
		oRm.write("</div>");
	};
	/**
	 * Renders the HTML for the thresholds, using the provided {@link sap.ui.core.RenderManager}.
	 *
	 * @param {sap.ui.core.RenderManager} oRm the RenderManager that can be used for writing to the render output buffer
	 * @param {sap.suite.ui.microchart.BulletMicroChart} oControl the control to be rendered
	 * @param {object} oThreshold an object containing threshold values and colors
	 * @param {string} sSize a string representing the size CSS class
	 */
	BulletMicroChartRenderer.renderThreshold = function(oRm, oControl, oThreshold, sSize) {
		var sDirection = sap.ui.getCore().getConfiguration().getRTL() ? "right" : "left",
			fValuePct = 0.98 * oThreshold.valuePct + 1,
			sColor = "sapSuiteBMCSemanticColor" + oThreshold.color;

		if (sColor === "sapSuiteBMCSemanticColor" + MobileLibrary.ValueColor.Error) {
			oRm.write("<div");
			oRm.addClass("sapSuiteBMCDiamond");
			oRm.addClass(jQuery.sap.encodeHTML(sSize));
			oRm.addClass(jQuery.sap.encodeHTML(sColor));
			oRm.writeClasses();
			oRm.addStyle(jQuery.sap.encodeHTML(sDirection), jQuery.sap.encodeHTML(fValuePct + "%"));
			oRm.writeStyles();
			oRm.write("></div>");
		}
		oRm.write("<div");
		oRm.addClass("sapSuiteBMCThreshold");
		oRm.addClass(jQuery.sap.encodeHTML(sSize));
		oRm.addClass(jQuery.sap.encodeHTML(sColor));
		oRm.writeClasses();
		oRm.addStyle(jQuery.sap.encodeHTML(sDirection), jQuery.sap.encodeHTML(fValuePct + "%"));
		oRm.writeStyles();
		oRm.write("></div>");
	};

	return BulletMicroChartRenderer;

}, /* bExport= */ true);

}; // end of sap/suite/ui/microchart/BulletMicroChartRenderer.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChart') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// Provides control sap.suite.ui.microchart.Example.
jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChart'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Control'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/ColumnMicroChart",['jquery.sap.global', './library', 'sap/ui/core/Control'],
	function(jQuery, library, Control) {
	"use strict";

	/**
	 * Constructor for a new ColumnMicroChart control.
	 *
	 * @param {string} [sId] id for the new control, generated automatically if no id is given
	 * @param {object} [mSettings] initial settings for the new control
	 *
	 * @class
	 * Compares different values which are represented as vertical bars. This control replaces the deprecated sap.suite.ui.commons.ColumnMicroChart.
	 * @extends sap.ui.core.Control
	 *
	 * @author SAP SE
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.ColumnMicroChart
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 */
	var ColumnMicroChart = Control.extend("sap.suite.ui.microchart.ColumnMicroChart", /** @lends sap.suite.ui.microchart.ColumnMicroChart.prototype */ {
		metadata: {
			library: "sap.suite.ui.microchart",
			properties: {
				/**
				 * Updates the size of the chart. If not set then the default size is applied based on the device tile.
				 */
				size: {group: "Misc", type: "sap.m.Size", defaultValue: "Auto"},

				/**
				 * The width of the chart. If it is not set, the width of the control is defined by the size property.
				 */
				width: {group: "Misc", type: "sap.ui.core.CSSSize"},

				/**
				 * The height of the chart. If it is not set, the height of the control is defined by the size property.
				 */
				height: {group: "Misc", type: "sap.ui.core.CSSSize"},

				/**
				 * If set to true, width and height of the control are determined by the width and height of the container in which the control is placed. Size, width and height properties are ignored in this case.
				 * @since 1.38.0
				 */
				isResponsive: {type: "boolean", group: "Appearance", defaultValue: false}
			},

			events : {

				/**
				 * The event is fired when the user chooses the column chart.
				 */
				press : {}
			},
			defaultAggregation : "columns",
			aggregations: {

				/**
				 * The column chart data.
				 */
				columns: { multiple: true, type: "sap.suite.ui.microchart.ColumnMicroChartData", defaultValue : null, bindable : "bindable"},

				/**
				 * The label on the left top corner of the chart.
				 */
				leftTopLabel: {  multiple: false, type: "sap.suite.ui.microchart.ColumnMicroChartLabel", defaultValue : null},

				/**
				 * The label on the right top corner of the chart.
				 */
				rightTopLabel: { multiple: false, type: "sap.suite.ui.microchart.ColumnMicroChartLabel", defaultValue : null},

				/**
				 * The label on the left bottom corner of the chart.
				 */
				leftBottomLabel: { multiple: false, type: "sap.suite.ui.microchart.ColumnMicroChartLabel", defaultValue: null},

				/**
				 * The label on the right bottom corner of the chart.
				 */
				rightBottomLabel: { multiple: false, type: "sap.suite.ui.microchart.ColumnMicroChartLabel", defaultValue : null}
			}
		}
	});

	//Constants
	ColumnMicroChart.EDGE_CASE_WIDTH_SHOWCHART = 32; // 2rem for hiding the chart
	ColumnMicroChart.EDGE_CASE_HEIGHT_SHOWCANVAS = 16; // 1rem for hiding the canvas (bars)
	ColumnMicroChart.EDGE_CASE_HEIGHT_SHOWLABELS = 16; // 1rem for hiding the labels
	ColumnMicroChart.EDGE_CASE_HEIGHT_SHOWTOPLABEL = 32; // 2rem for hiding the top label
	ColumnMicroChart.EDGE_CASE_WIDTH_RESIZEFONT = 168; // Corresponds to M size 10.5rem
	ColumnMicroChart.EDGE_CASE_HEIGHT_RESIZEFONT = 72; // Corresponds to M size 4.5rem

	ColumnMicroChart.prototype.init = function(){
		this._oRb = sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");
		this.setAggregation("tooltip", "{AltText}", true);
		this._bThemeApplied = true;
		if (!sap.ui.getCore().isInitialized()) {
			this._bThemeApplied = false;
			sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));
		} else {
			this._handleCoreInitialized();
		}
	};

	/**
	 * Handler for the core's init event. In order for the control to be rendered only if all themes are loaded
	 * and everything is properly initialized, we attach a theme check in here.
	 *
	 * @private
	 */
	ColumnMicroChart.prototype._handleCoreInitialized = function() {
		this._bThemeApplied = sap.ui.getCore().isThemeApplied();
		if (!this._bThemeApplied) {
			sap.ui.getCore().attachThemeChanged(this._handleThemeApplied, this);
		}
	};

	/**
	 * The ColumnMicroChart is not being rendered until the theme was applied.
	 * If the theme is applied, rendering starts by the control itself.
	 *
	 * @private
	 */
	ColumnMicroChart.prototype._handleThemeApplied = function() {
		this._bThemeApplied = true;
		this.invalidate();
		sap.ui.getCore().detachThemeChanged(this._handleThemeApplied, this);
	};

	ColumnMicroChart.prototype.onBeforeRendering = function() {
		if (library._isInGenericTile(this)) {
			this.setIsResponsive(true);
			library._removeStandardMargins(this);
		}

		this.$().unbind("mouseenter", this._addTitleAttribute);
		this.$().unbind("mouseleave", this._removeTitleAttribute);
	};

	ColumnMicroChart.prototype.onAfterRendering = function() {
		if (this._sChartResizeHandlerId) {
			sap.ui.core.ResizeHandler.deregister(this._sChartResizeHandlerId);
		}

		this._sChartResizeHandlerId = sap.ui.core.ResizeHandler.register(jQuery.sap.domById(this.getId()),  jQuery.proxy(this._calcColumns, this));
		this._fChartWidth = undefined;
		this._fChartHeight = undefined;
		this._aBars = [];

		var iColumnsNum = this.getColumns().length;

		for (var i = 0; i < iColumnsNum; i++) {
			this._aBars.push({});
		}
		this._adjustToParent();
		library._checkControlIsVisible(this, this._onControlIsVisible);

		//attaches handler for mouse enter event
		this.$().bind("mouseenter", this._addTitleAttribute.bind(this));
		this.$().bind("mouseleave", this._removeTitleAttribute.bind(this));
	};

	/**
	 * Callback function which is called when the control is visible, which means that the check via
	 * library._checkControlIsVisible was successful.
	 *
	 * @private
	 */
	ColumnMicroChart.prototype._onControlIsVisible = function() {
		this._calcColumns();
		this._resize();
	};

	ColumnMicroChart.prototype.exit = function() {
		sap.ui.core.ResizeHandler.deregister(this._sChartResizeHandlerId);
	};

	/**
	 * Resizes the control based on parent dimensions (width and height)
	 * Required for rendering in page element. Otherwise, the element is cut at the top.
	 * Two pixels are subtracted from the parent values. Otherwise, there's not enough space for the outline and it won't render correctly.
	 *
	 * @private
	 */
	ColumnMicroChart.prototype._adjustToParent = function() {
		if (this.getIsResponsive()) {
			//checks if there is a parent method available
			if (!jQuery.isFunction(this.getParent)) {
				return;
			}
			//set width and height
			var oParent = this.getParent();
			var $this = this.$();
			if (jQuery.isFunction(oParent.getHeight)) {
				var sParentHeight = parseFloat(oParent.$().height()) - 2;
				$this.height(sParentHeight);
			}
			if (jQuery.isFunction(oParent.getWidth)) {
				var sParentWidth = parseFloat(oParent.$().width()) - 2;
				$this.width(sParentWidth);
			}
		}
	};

	/**
	 * Handles the responsiveness.
	 *
	 * @private
	 */
	ColumnMicroChart.prototype._resize = function() {
		if (this.getIsResponsive()) {
			//width threshold
			this._resizeHorizontally();

			//height threshold
			this._resizeVertically();

			//resize when bars are too small
			this._resizeBars();
		}
	};

	/**
	 * Resizes vertically the control
	 *
	 * @private
	 */
	ColumnMicroChart.prototype._resizeVertically = function() {
		var $this = this.$();
		//for canvas
		var $Canvas = $this.find(".sapSuiteClMCBars");
		var iHeightCanvas = parseFloat($Canvas.css("height"));
		if (iHeightCanvas <= ColumnMicroChart.EDGE_CASE_HEIGHT_SHOWCANVAS) {
			$Canvas.hide();
		}

		//for control
		var iHeight = parseFloat($this.css("height"));
		if ($this.find(".sapSuiteClMCPositionBtm.sapSuiteClMCLbls").length !== 0) {
			//hide the top label when there is a bottom label
			if (iHeight <= ColumnMicroChart.EDGE_CASE_HEIGHT_SHOWTOPLABEL) {
				$this.find(".sapSuiteClMCPositionTop.sapSuiteClMCLbls").hide();
			}
			//hide the bottom label
			if (iHeight <= ColumnMicroChart.EDGE_CASE_HEIGHT_SHOWLABELS) {
				$this.find(".sapSuiteClMCPositionBtm.sapSuiteClMCLbls").hide();
			}
		} else if (iHeight <= ColumnMicroChart.EDGE_CASE_HEIGHT_SHOWLABELS) {
			//hide the top label when there is no bottom label
			$this.find(".sapSuiteClMCPositionTop.sapSuiteClMCLbls").hide();
		}
		//resize the font
		if (iHeight <= ColumnMicroChart.EDGE_CASE_HEIGHT_RESIZEFONT) {
			this._resizeFont();
		}
	};

	/**
	 * Resizes horizontally the control
	 *
	 * @private
	 */
	ColumnMicroChart.prototype._resizeHorizontally = function() {
		var $this = this.$();
		//for control and canvas at the same time as the width is the same
		var iWidth = parseFloat($this.css("width"));
		if (iWidth <= ColumnMicroChart.EDGE_CASE_WIDTH_SHOWCHART) {
			$this.hide();
			return;
		}
		//resize the font when less than threshold
		if (iWidth <= ColumnMicroChart.EDGE_CASE_WIDTH_RESIZEFONT) {
			this._resizeFont();
		}

		//check for labels truncated in case of width shrinking
		var $LabelsParent = $this.find(".sapSuiteClMCPositionTop.sapSuiteClMCLbls");
		//top labels
		if (this._isTruncatedLabel($LabelsParent)) {
			$LabelsParent.hide();
		}
		//bottom labels
		$LabelsParent = $this.find(".sapSuiteClMCPositionBtm.sapSuiteClMCLbls");
		if (this._isTruncatedLabel($LabelsParent)) {
			$LabelsParent.hide();
		}
	};

	/**
	 * Resizes the bars
	 *
	 * @private
	 */
	ColumnMicroChart.prototype._resizeBars = function() {
		//if bars cannot be properly displayed, hide the chart
		var iWidth = this.getDomRef().getBoundingClientRect().width - 1;
		var $this = this.$();
		var iNumBars = $this.find(".sapSuiteClMCBar").size();
		var iMinBarWidth = parseFloat($this.find(".sapSuiteClMCBar").css("min-width"));
		if ((iMinBarWidth === 0) || isNaN(iMinBarWidth)) {
			iMinBarWidth = 1;
		}
		var iNumMargins = iNumBars - 1;
		if (iNumBars * iMinBarWidth + iNumMargins >= iWidth) {
			$this.hide();
		} else if (parseFloat($this.find(".sapSuiteClMCBar:last").css("margin-left")) < 1) {
			//divide the space equally among the bars
			$this.find(".sapSuiteClMCBar:not(:first)").css("margin-left", "1px");
			$this.find(".sapSuiteClMCBar").css("width", (((iWidth - iNumMargins) / iNumBars)));
		}
	};

	/**
	 * Resizes the labels font if they are truncated;
	 * Hides the labels if they are still truncated after font resizing
	 *
	 * @private
	 * @param {Object} $LabelsParent The parent of labels right and left
	 * @returns {boolean} Returns true if the label is still truncated after font resizing, otherwise false
	 */
	ColumnMicroChart.prototype._isTruncatedLabel = function($LabelsParent) {
		var $Labels = $LabelsParent.find(".sapSuiteClMCPositionRight.sapSuiteClMCLbl,.sapSuiteClMCPositionLeft.sapSuiteClMCLbl");
		for (var i = 0; i < $Labels.size(); i++) {
			//resize the font (+1 is needed in IE because of flickering)
			if ($Labels[i].offsetWidth + 1 < $Labels[i].scrollWidth) {
				this._resizeFont();
			}
			//the label is truncated (+1 is needed in IE because of flickering)
			if ($Labels[i].offsetWidth + 1 < $Labels[i].scrollWidth) {
				return true;
			}
		}
		return false;
	};

	/**
	 * Resizes the font
	 * Font resizing happens for all labels inside the chart even if only one label is affected (keep the same font size overall)*
	 *
	 * @private
	 */
	ColumnMicroChart.prototype._resizeFont = function() {
		this.$().find(".sapSuiteClMCLbl").addClass("sapSuiteClMCSmallFont");
	};

	ColumnMicroChart.prototype._calcColumns = function() {
		var iColumnsNum = this.getColumns().length;
		if (iColumnsNum) {
			var fChartWidth = parseFloat(this.$().css("width"));
			if (fChartWidth != this._fChartWidth) {
				this._fChartWidth = fChartWidth;

				var iColumnMargin = 0;
				var oBar;
				if (iColumnsNum > 1) {
					oBar = jQuery.sap.byId(this.getId() + "-bar-1");
					var bRtl = sap.ui.getCore().getConfiguration().getRTL();
					iColumnMargin = parseInt(oBar.css("margin-" + (bRtl ? "right" : "left")), 10);
				} else {
					oBar = jQuery.sap.byId(this.getId() + "-bar-0");
				}

				var iColumMinWidth = parseInt(oBar.css("min-width"), 10);

				this._calcColumnsWidth(iColumnMargin, iColumMinWidth, fChartWidth, this._aBars);
			}

			var fChartHeight = parseFloat(this.$().css("height"));
			if (fChartHeight != this._fChartHeight) {
				this._fChartHeight = fChartHeight;
				this._calcColumnsHeight(fChartHeight, this._aBars);
			}

			for (var i = 0; i < iColumnsNum; i++) {
				jQuery.sap.byId(this.getId() + "-bar-" + i).css(this._aBars[i]);
			}

			if (this._aBars.overflow) {
				jQuery.sap.log.warning(this.toString() + " Chart overflow",  "Some columns were not rendered");
			}
		}
	};

	ColumnMicroChart.prototype._calcColumnsWidth = function(iColumnMargin, iColumMinWidth, fChartWidth, aBars) {
		var iColumnsNum = this.getColumns().length;
		var iVisibleColumnsNum = Math.floor((fChartWidth + iColumnMargin) / (iColumMinWidth + iColumnMargin));
		var iMarginWidthPercent = 2;
		var iColumnWidthPercent = (100 - iMarginWidthPercent * (iColumnsNum - 1)) / iColumnsNum;

		for (var i = 0; i < iColumnsNum; i++) {
			if (i < iVisibleColumnsNum) {
				aBars[i].width = iColumnWidthPercent + "%";
				if (i > 0) {
					aBars[i]["margin-left"] = iMarginWidthPercent + "%";
				}
			} else {
				aBars[i].display = "none";
			}
		}
		
		aBars.overflow = iVisibleColumnsNum != iColumnsNum;
	};

	ColumnMicroChart.prototype._calcColumnsHeight = function(fChartHeight, aBars) {
		var iClmnsNum = this.getColumns().length;

		var fMaxVal, fMinVal, fValue;
		fMaxVal = fMinVal = 0;

		for (var i = 0; i < iClmnsNum; i++) {
			var oClmn = this.getColumns()[i];
			if (fMaxVal < oClmn.getValue()) {
				fMaxVal = oClmn.getValue();
			} else if (fMinVal > oClmn.getValue()) {
				fMinVal = oClmn.getValue();
			}
		}

		var fDelta = fMaxVal - fMinVal;
		var fOnePxVal = fDelta / fChartHeight;

		var fDownShift, fTopShift;
		fDownShift = fTopShift = 0;

		for (var iCl = 0; iCl < iClmnsNum; iCl++) {
			fValue = this.getColumns()[iCl].getValue();

			if (Math.abs(fValue) < fOnePxVal) {
				if (fValue >= 0) {
					if (fValue == fMaxVal) {
						fTopShift = fOnePxVal - fValue;
					}
				} else if (fValue == fMinVal) {
					fDownShift = fOnePxVal + fValue;
				}
			}
		}

		if (fTopShift) {
			fMaxVal += fTopShift;
			fMinVal -= fTopShift;
		}

		if (fDownShift) {
			fMaxVal -= fDownShift;
			fMinVal += fDownShift;
		}

		var fNegativeOnePxVal =  0 - fOnePxVal;

		for (var iClmn = 0; iClmn < iClmnsNum; iClmn++) {
			fValue = this.getColumns()[iClmn].getValue();
			var fCalcVal = fValue;

			if (fValue >= 0) {
				fCalcVal = Math.max(fCalcVal + fTopShift - fDownShift, fOnePxVal);
			} else {
				fCalcVal = Math.min(fCalcVal + fTopShift - fDownShift, fNegativeOnePxVal);
			}

			aBars[iClmn].value = fCalcVal;
		}

		function calcPersent(fValue) {
			return (fValue / fDelta * 100).toFixed(2) + "%";
		}

		var fZeroLine = calcPersent(fMaxVal);

		for (var iCol = 0; iCol < iClmnsNum; iCol++) {
			fValue = aBars[iCol].value;
			aBars[iCol].top = (fValue < 0) ? fZeroLine : calcPersent(fMaxVal - fValue);
			aBars[iCol].height = calcPersent(Math.abs(fValue));
		}
	};

	ColumnMicroChart.prototype.attachEvent = function(sEventId, oData, fnFunction, oListener) {
		sap.ui.core.Control.prototype.attachEvent.call(this, sEventId, oData, fnFunction, oListener);
		if (this.hasListeners("press")) {
			this.$().attr("tabindex", 0).addClass("sapSuiteUiMicroChartPointer");
		}
		return this;
	};

	ColumnMicroChart.prototype.detachEvent = function(sEventId, fnFunction, oListener) {
		sap.ui.core.Control.prototype.detachEvent.call(this, sEventId, fnFunction, oListener);
		if (!this.hasListeners("press")) {
			this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");
		}
		return this;
	};

	ColumnMicroChart.prototype.getLocalizedColorMeaning = function(sColor) {
		if (sColor) {
			return this._oRb.getText(("SEMANTIC_COLOR_" + sColor).toUpperCase());
		}
	};

	ColumnMicroChart.prototype.getAltText = function() {
		var sAltText = "";
		var bIsFirst = true;
		var oLeftTopLabel = this.getLeftTopLabel();
		var oRightTopLabel = this.getRightTopLabel();
		var oLeftBtmLabel = this.getLeftBottomLabel();
		var oRightBtmLabel = this.getRightBottomLabel();

		var sColor;

		if (oLeftTopLabel && oLeftTopLabel.getLabel() || oLeftBtmLabel && oLeftBtmLabel.getLabel()) {
			if (oLeftTopLabel) {
				sColor = oLeftTopLabel.getColor();
			} else if (oLeftBtmLabel){
				sColor = oLeftBtmLabel.getColor();
			} else {
				sColor = "";
			}

			sAltText += (bIsFirst ? "" : "\n") + this._oRb.getText(("COLUMNMICROCHART_START")) + ": " + (oLeftBtmLabel ? oLeftBtmLabel.getLabel() + " " : "")
				+ (oLeftTopLabel ? oLeftTopLabel.getLabel() + " " : "") + this.getLocalizedColorMeaning(sColor);
			bIsFirst = false;
		}

		if (oRightTopLabel && oRightTopLabel.getLabel() || oRightBtmLabel && oRightBtmLabel.getLabel()) {
			if (oRightTopLabel) {
				sColor = oRightTopLabel.getColor();
			} else if (oRightBtmLabel){
				sColor = oRightBtmLabel.getColor();
			} else {
				sColor = "";
			}

			sAltText += (bIsFirst ? "" : "\n") + this._oRb.getText(("COLUMNMICROCHART_END")) + ": " + (oRightBtmLabel ? oRightBtmLabel.getLabel() + " " : "")
				+ (oRightTopLabel ? oRightTopLabel.getLabel() + " " : "") + this.getLocalizedColorMeaning(sColor);
			bIsFirst = false;
		}

		var aColumns = this.getColumns();
		for (var i = 0; i < aColumns.length; i++) {
			var oBar = aColumns[i];
			var sMeaning = this.getLocalizedColorMeaning(oBar.getColor());
			sAltText += ((!bIsFirst || i != 0) ? "\n" : "") + oBar.getLabel() + " " + oBar.getValue() + " " + sMeaning;
		}

		return sAltText;
	};

	ColumnMicroChart.prototype.getTooltip_AsString  = function() {
		var oTooltip = this.getTooltip();
		var sTooltip = this.getAltText();

		if (typeof oTooltip === "string" || oTooltip instanceof String) {
			sTooltip = oTooltip.split("{AltText}").join(sTooltip).split("((AltText))").join(sTooltip);
			return sTooltip;
		} else if (this.isBound("tooltip") && !oTooltip) {
			return sTooltip;
		}
		return oTooltip ? oTooltip : "";
	};

	ColumnMicroChart.prototype.ontap = function(oEvent) {
		if (sap.ui.Device.browser.edge) {
			this.onclick(oEvent);
		}
	};

	ColumnMicroChart.prototype.onclick = function(oEvent) {
		if (!this.fireBarPress(oEvent)) {
			if (sap.ui.Device.browser.internet_explorer || sap.ui.Device.browser.edge) {
				this.$().focus();
			}
			this.firePress();
	    }
	};

	ColumnMicroChart.prototype.onkeydown = function(oEvent) {
		var iThis, oFocusables;
		switch (oEvent.keyCode) {
			case jQuery.sap.KeyCodes.SPACE:
				oEvent.preventDefault();
				break;

			case jQuery.sap.KeyCodes.ARROW_LEFT:
			case jQuery.sap.KeyCodes.ARROW_UP:
				oFocusables = this.$().find(":focusable"); // all tabstops in the control
				iThis = oFocusables.index(oEvent.target);  // focused element index
				if (oFocusables.length > 0) {
					oFocusables.eq(iThis - 1).get(0).focus();	// previous tab stop element
					oEvent.preventDefault();
					oEvent.stopPropagation();
				}
				break;

			case jQuery.sap.KeyCodes.ARROW_DOWN:
			case jQuery.sap.KeyCodes.ARROW_RIGHT:
				oFocusables = this.$().find(":focusable"); // all tabstops in the control
				iThis = oFocusables.index(oEvent.target);  // focused element index
				if (oFocusables.length > 0) {
					oFocusables.eq((iThis + 1 < oFocusables.length) ? iThis + 1 : 0).get(0).focus(); // next tab stop element
					oEvent.preventDefault();
					oEvent.stopPropagation();
				}
				break;
			default:
		}
	};

	ColumnMicroChart.prototype.onkeyup = function(oEvent) {
		if (oEvent.which == jQuery.sap.KeyCodes.ENTER || oEvent.which == jQuery.sap.KeyCodes.SPACE) {
			if (!this.fireBarPress(oEvent)) {
				this.firePress();
				oEvent.preventDefault();
			}
		}
	};

	ColumnMicroChart.prototype.fireBarPress = function(oEvent) {
		var oBar = jQuery(oEvent.target);
		if (oBar && oBar.attr("data-bar-index")) {
			var iIndex = parseInt(oBar.attr("data-bar-index"), 10);
			var oCmcData = this.getColumns()[iIndex];
			if (oCmcData && oCmcData.hasListeners("press")) {
				oCmcData.firePress();
				oEvent.preventDefault();
				oEvent.stopPropagation();
				if (sap.ui.Device.browser.internet_explorer) {
					oBar.focus();
				}
				return true;
			}
		}
		return false;
	};

	ColumnMicroChart.prototype._getBarAltText = function(iBarIndex) {
		var oBar = this.getColumns()[iBarIndex];
		var sMeaning = this.getLocalizedColorMeaning(oBar.getColor());
		return oBar.getLabel() + " " + oBar.getValue() + " " + sMeaning;
	};

	ColumnMicroChart.prototype.setBarPressable = function(iBarIndex, bPressable) {
		if (bPressable) {
			var sBarAltText = this._getBarAltText(iBarIndex);
			jQuery.sap.byId(this.getId() + "-bar-" + iBarIndex).addClass("sapSuiteUiMicroChartPointer").attr("tabindex", 0).attr("title", sBarAltText).attr("role", "presentation").attr("aria-label", sBarAltText);
		} else {
			jQuery.sap.byId(this.getId() + "-bar-" + iBarIndex).removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer").removeAttr("title").removeAttr("role").removeAttr("aria-label");
		}
	};

	ColumnMicroChart.prototype.onsaptabnext = function(oEvent) {
		var oLast = this.$().find(":focusable").last();  // last tabstop in the control
		if (oLast) {
			this._bIgnoreFocusEvt = true;
			oLast.get(0).focus();
		}
	};

	ColumnMicroChart.prototype.onsaptabprevious = function(oEvent) {
		if (oEvent.target.id != oEvent.currentTarget.id) {
			var oFirst = this.$().find(":focusable").first(); // first tabstop in the control
			if (oFirst) {
				oFirst.get(0).focus();
			}
		}
	};

	ColumnMicroChart.prototype.onfocusin = function(oEvent) {
		if (this._bIgnoreFocusEvt) {
			this._bIgnoreFocusEvt = false;
			return;
		}
		if (this.getId() + "-hidden" == oEvent.target.id) {
			this.$().focus();
			oEvent.preventDefault();
			oEvent.stopPropagation();
		}
	};

	/**
	 * Adds title attribute to show tooltip when the mouse enters chart.
	 *
	 * @private
	 */
	ColumnMicroChart.prototype._addTitleAttribute = function() {
		if (this.$().attr("title")) {
			return;
		} else {
			this.$().attr("title", this.getTooltip_AsString());
		}
	};

	/**
	 * Removes title attribute to let tooltip disappear when the mouse left the chart.
	 *
	 * @private
	 */
	ColumnMicroChart.prototype._removeTitleAttribute = function() {
		if (this.$().attr("title")) {
			this.$().removeAttr("title");
		}
	};

	return ColumnMicroChart;
});

}; // end of sap/suite/ui/microchart/ColumnMicroChart.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChartData') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// This control displays the history of values as a line mini chart or an area mini chart.
jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChartData'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Element'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/ColumnMicroChartData",['jquery.sap.global', './library', 'sap/ui/core/Element'],
	function(jQuery, library, Element) {
	"use strict";

	/**
	 * Constructor for a new ColumnMicroChartData control.
	 *
	 * @param {string} [sId] id for the new control, generated automatically if no id is given
	 * @param {object} [mSettings] initial settings for the new control
	 *
	 * @class
	 * Defines the column chart data.
	 * @extends sap.ui.core.Control
	 *
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.ColumnMicroChartData
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 */
	var ColumnMicroChartData = Element.extend("sap.suite.ui.microchart.ColumnMicroChartData", /** @lends sap.suite.ui.microchart.ColumnMicroChartData.prototype */ {
		metadata : {
			library : "sap.suite.ui.microchart",
			properties : {

				/**
				 * The graphic element color.
				 */
				color: { group: "Misc", type: "sap.m.ValueColor", defaultValue: "Neutral" },

				/**
				 * The line title.
				 */
				label: {type : "string", group : "Misc", defaultValue : "" },
				
				/**
				 * The actual value.
				 */
				value: {type: "float", group : "Misc"}
			},
			events: {
				/**
				 * The event is fired when the user chooses the column data.
				 */
				press: {}
			}
		}
	});

	ColumnMicroChartData.prototype.attachEvent = function(sEventId, oData, fnFunction, oListener) {
		sap.ui.core.Control.prototype.attachEvent.call(this, sEventId, oData, fnFunction, oListener);
		if (this.getParent()) {
			this.getParent().setBarPressable(this.getParent().getColumns().indexOf(this), true);
		}
		return this;
	};

	ColumnMicroChartData.prototype.detachEvent = function(sEventId, fnFunction, oListener) {
		sap.ui.core.Control.prototype.detachEvent.call(this, sEventId, fnFunction, oListener);
		if (this.getParent()) {
			this.getParent().setBarPressable(this.getParent().getColumns().indexOf(this), false);
		}
		return this;
	};
	
	return ColumnMicroChartData;

});

}; // end of sap/suite/ui/microchart/ColumnMicroChartData.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.ColumnMicroChartLabel') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// This control displays the history of values as a line mini chart or an area mini chart.
jQuery.sap.declare('sap.suite.ui.microchart.ColumnMicroChartLabel'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Element'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/ColumnMicroChartLabel",['jquery.sap.global', './library', 'sap/ui/core/Element'],
	function(jQuery, library, Element) {
	"use strict";

	/**
	 * Constructor for a new ColumnMicroChartLabel control.
	 *
	 * @param {string} [sId] id for the new control, generated automatically if no id is given
	 * @param {object} [mSettings] initial settings for the new control
	 *
	 * @class
	 * Displays or hides the labels of a column micro chart.
	 * @extends sap.ui.core.Control
	 *
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.ColumnMicroChartLabel
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 */
	var ColumnMicroChartLabel = Element.extend("sap.suite.ui.microchart.ColumnMicroChartLabel", /** @lends sap.suite.ui.microchart.ColumnMicroChartLabel.prototype */ {
		metadata : {
			library : "sap.suite.ui.microchart",
			properties : {

				/**
				 * The graphic element color.
				 */
				color: { group: "Misc", type: "sap.m.ValueColor", defaultValue: "Neutral" },

				/**
				 * The line title.
				 */
				label: { type : "string", group : "Misc", defaultValue : "" }
			}
		}
	});
	
	return ColumnMicroChartLabel;

});

}; // end of sap/suite/ui/microchart/ColumnMicroChartLabel.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.ComparisonMicroChart') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// Provides control sap.suite.ui.microchart.ComparisonMicroChart.
jQuery.sap.declare('sap.suite.ui.microchart.ComparisonMicroChart'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Control'); // unlisted dependency retained
jQuery.sap.require('sap.ui.Device'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/ComparisonMicroChart",['jquery.sap.global', './library', 'sap/ui/core/Control', 'sap/ui/Device'],
	function(jQuery, library, Control, Device) {
	"use strict";

	/**
	 * Constructor for a new ComparisonMicroChart control.
	 *
	 * @param {string} [sId] ID for the new control, generated automatically if no ID is given
	 * @param {object} [mSettings] Initial settings for the new control
	 *
	 * @class
	 * Illustrates values as colored bar charts with title, numeric value, and scaling factor in the content area. This control replaces the deprecated sap.suite.ui.commons.ComparisonChart.
	 * @extends sap.ui.core.Control
	 *
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.ComparisonMicroChart
	 * @ui5-metamodel This control will also be described in the UI5 (legacy) design time metamodel
	 */
	var ComparisonMicroChart = Control.extend("sap.suite.ui.microchart.ComparisonMicroChart", /** @lends sap.suite.ui.microchart.ComparisonMicroChart.prototype */ { metadata : {

		library: "sap.suite.ui.microchart",
		properties: {
			/**
			 * The size of the microchart. If not set, the default size is applied based on the size of the device tile.
			 */
			size: {type: "sap.m.Size", group: "Misc", defaultValue: "Auto"},

			/**
			 * The scaling suffix that is added to the actual and target values.
			 */
			scale: {type: "string", group: "Misc", defaultValue: ""},

			/**
			 * The width of the chart. If it is not set, the size of the control is defined by the size property.
			 */
			width: {type: "sap.ui.core.CSSSize", group: "Misc"},

			/**
			 * The view of the chart. If not set, the Normal view is used by default.
			 */
			view: {type: "sap.suite.ui.microchart.ComparisonMicroChartViewType", group: "Appearance", defaultValue: "Normal"},

			/**
			 * The color palette for the chart. If this property is set, semantic colors defined in ComparisonData are ignored. Colors from the palette are assigned to each bar consequentially. When all the palette colors are used, assignment of the colors begins from the first palette color.
			 */
			colorPalette: {type: "string[]", group: "Appearance", defaultValue: []},

			/**
			 * If it is set to true, the height of the control is defined by its content.
			 */
			shrinkable: {type: "boolean", group: "Misc", defaultValue: "false"},

			/**
			 * Height of the chart.
			 */
			height: {type: "sap.ui.core.CSSSize", group: "Appearance"},

			/**
			 * If this set to true, width and height of the control are determined by the width and height of the container in which the control is placed. Size and Width properties are ignored in such case.
			 * @since 1.38.0
			 * */
			isResponsive: {type: "boolean", group: "Appearance", defaultValue: false}
		},
		defaultAggregation : "data",
		aggregations: {
			/**
			 * The comparison chart bar data.
			 */
			data: {type: "sap.suite.ui.microchart.ComparisonMicroChartData", multiple: true, bindable : "bindable"}
		},
		events: {
			/**
			 * The event is triggered when the chart is pressed.
			 */
			press : {}
		}
	}});

	ComparisonMicroChart.WIDTH_FONT_TRESHOLD = 168;
	ComparisonMicroChart.HEIGHT_PER_CHART_DISAPPEAR_TRESHOLD = 16;
	ComparisonMicroChart.EDGE_CASE_WIDTH_HIDE_CHART = 32;

	ComparisonMicroChart.prototype.init = function() {
		this._oRb = sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");
		this.setAggregation("tooltip", "{AltText}", true);
		this._bThemeApplied = true;
		if (!sap.ui.getCore().isInitialized()) {
			this._bThemeApplied = false;
			sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));
		} else {
			this._handleCoreInitialized();
		}
	};

	/**
	 * Handler for the core's init event. The control will only be rendered if all
	 * themes are loaded and everything is properly initialized. We attach a theme
	 * check here.
	 *
	 * @private
	 */
	ComparisonMicroChart.prototype._handleCoreInitialized = function() {
		this._bThemeApplied = sap.ui.getCore().isThemeApplied();
		if (!this._bThemeApplied) {
			sap.ui.getCore().attachThemeChanged(this._handleThemeApplied, this);
		}
	};

	/**
	 * The chart will only be rendered if the theme is applied.
	 * If the theme is applied, rendering starts by the control itself.
	 *
	 * @private
	 */
	ComparisonMicroChart.prototype._handleThemeApplied = function() {
		this._bThemeApplied = true;
		this.invalidate();
		sap.ui.getCore().detachThemeChanged(this._handleThemeApplied, this);
	};

	/**
	 * Calculates the width in percents of chart bars' elements accordingly with provided chart values.
	 *
	 * @returns {Array} array of calculated values for each chart bar.
	 * @private
	 */
	ComparisonMicroChart.prototype._calculateChartData = function() {
		var aResult = [];
		var aData = this.getData();
		var iCount = aData.length;
		var iMaxValue = 0;
		var iMinValue = 0;
		var iTotal;
		var iMaxPercent;
		var iMinPercent;
		var i;

		for (i = 0; i < iCount; i++) {
			var iDataValue = isNaN(aData[i].getValue()) ? 0 : aData[i].getValue();
			iMaxValue = Math.max(iMaxValue, iDataValue);
			iMinValue = Math.min(iMinValue, iDataValue);
		}

		iTotal = iMaxValue - iMinValue;
		iMaxPercent = (iTotal == 0) ? 0 : Math.round(iMaxValue * 100 / iTotal);

		if (iMaxPercent == 0 && iMaxValue != 0) {
			iMaxPercent = 1;
		} else if (iMaxPercent == 100 && iMinValue != 0) {
			iMaxPercent = 99;
		}

		iMinPercent = 100 - iMaxPercent;

		for (i = 0; i < iCount; i++) {
			var oItem = {};
			var iDataVal = isNaN(aData[i].getValue()) ? 0 : aData[i].getValue();

			oItem.value = (iTotal == 0) ? 0 : Math.round(iDataVal * 100 / iTotal);

			if (oItem.value == 0 && iDataVal != 0) {
				oItem.value = (iDataVal > 0) ? 1 : -1;
			} else if (oItem.value == 100) {
				oItem.value = iMaxPercent;
			} else if (oItem.value == -100) {
				oItem.value = -iMinPercent;
			}

			if (oItem.value >= 0) {
				oItem.negativeNoValue = iMinPercent;
				oItem.positiveNoValue = iMaxPercent - oItem.value;
			} else {
				oItem.value = -oItem.value;
				oItem.negativeNoValue = iMinPercent - oItem.value;
				oItem.positiveNoValue = iMaxPercent;
			}

			aResult.push(oItem);
		}

		return aResult;
	};

	ComparisonMicroChart.prototype.attachEvent = function(sEventId, oData, fnFunction, oListener) {
		sap.ui.core.Control.prototype.attachEvent.call(this, sEventId, oData, fnFunction, oListener);
		if (this.hasListeners("press")) {
			this.$().attr("tabindex", 0).addClass("sapSuiteUiMicroChartPointer");
		}

		return this;
	};

	ComparisonMicroChart.prototype.detachEvent = function(sEventId, fnFunction, oListener) {
		sap.ui.core.Control.prototype.detachEvent.call(this, sEventId, fnFunction, oListener);
		if (!this.hasListeners("press")) {
			this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");
		}
		return this;
	};

	ComparisonMicroChart.prototype._getLocalizedColorMeaning = function(sColor) {
		return this._oRb.getText(("SEMANTIC_COLOR_" + sColor).toUpperCase());
	};

	ComparisonMicroChart.prototype.getAltText = function() {
		var sScale = this.getScale();
		var sAltText = "";

		for (var i = 0; i < this.getData().length; i++) {
			var oBar = this.getData()[i];
			var sMeaning = (this.getColorPalette().length) ? "" : this._getLocalizedColorMeaning(oBar.getColor());
			sAltText += ((i == 0) ? "" : "\n") + oBar.getTitle() + " " + (oBar.getDisplayValue() ? oBar.getDisplayValue() : oBar.getValue()) + sScale + " " + sMeaning;
		}

		return sAltText;
	};

	ComparisonMicroChart.prototype.getTooltip_AsString  = function() {
		var oTooltip = this.getTooltip();
		var sTooltip = this.getAltText();

		if (typeof oTooltip === "string" || oTooltip instanceof String) {
			sTooltip = oTooltip.split("{AltText}").join(sTooltip).split("((AltText))").join(sTooltip);
			return sTooltip;
		} else if (this.isBound("tooltip") && !oTooltip) {
			return sTooltip;
		}
		return oTooltip ? oTooltip : "";
	};

	ComparisonMicroChart.prototype._adjustBars = function() {
		var iBarContainerHeight;
		var iHeight = parseFloat(this.$().find(".sapSuiteCpMCVerticalAlignmentContainer").css("height"));
		var iBarCount = this.getData().length;
		var aBarContainers = this.$().find(".sapSuiteCpMCChartItem");
		var iMinHeight = parseFloat(aBarContainers.css("min-height"));
		var iMaxHeight = parseFloat(aBarContainers.css("max-height"));

		if (iBarCount !== 0) {
			iBarContainerHeight = this._calculateBarContainerHeight(Device.browser.firefox, iHeight, iBarCount);

			if (iBarContainerHeight > iMaxHeight) {
				iBarContainerHeight = iMaxHeight;
			} else if (iBarContainerHeight < iMinHeight) {
				iBarContainerHeight = iMinHeight;
			}
			aBarContainers.css("height", iBarContainerHeight);

			var iChartsHeightDelta = (iHeight - iBarContainerHeight * iBarCount) / 2;
			if (iChartsHeightDelta > 0) {
				jQuery(aBarContainers[0]).css("margin-top", iChartsHeightDelta + "px");
			}
		}
	};

	ComparisonMicroChart.prototype.onBeforeRendering = function() {
		if (library._isInGenericTile(this)) {
			this.setIsResponsive(true);
			library._removeStandardMargins(this);
		}

		//removes handler for mouseenter event
		this._unbindMouseEnterLeaveHandler();
	};

	ComparisonMicroChart.prototype.onAfterRendering = function() {
		if (this.getIsResponsive()) {
			this._adjustToParent();
		}
		library._checkControlIsVisible(this, this._onControlIsVisible);

		//attaches handler for mouseenter event
		this._bindMouseEnterLeaveHandler();
	};

	/**
	 * Callback function which is called when the control is visible, which means that the check via
	 * library._checkControlIsVisible was successful.
	 *
	 * @private
	 */
	ComparisonMicroChart.prototype._onControlIsVisible = function() {
		if (this.getHeight() !== "" || this.getIsResponsive()) {
			sap.ui.Device.media.attachHandler(this._onResize, this);
			this._onResize();
		}
	};

	/**
	 * Calculates the bar container height based on the browser, responsiveness, and view mode.
	 *
	 * @param {Boolean} firefox Flag showing if the used browser is Firefox.
	 * @param {int} height Height of the alignment container.
	 * @param {int} barCount The number of bars in the chart.
	 * @returns {int} Height of each individual bar.
	 * @private
	 */
	ComparisonMicroChart.prototype._calculateBarContainerHeight = function(firefox, height, barCount) {
		if (firefox && !this.getIsResponsive() && this.getView() !== "Wide") {
			var iHeaderHeight = this.$().find(".sapSuiteCpMCChartItemHeader").outerHeight(true);
			var iBarHeight = this.$().find(".sapSuiteCpMCChartBar").outerHeight(true);
			return iHeaderHeight + iBarHeight;
		} else {
			return height / barCount;
		}
	};

	/**
	 * Conducts size adjustments that are necessary if the dimensions of the chart change.
	 *
	 * @private
	 */
	ComparisonMicroChart.prototype._onResize = function() {
		if (this.getIsResponsive()) {
			this._adjustBars();
			this._resizeVertically();

			this._resizeHorizontally();
		} else {
			this._adjustBars();
		}
	};

	/**
	 * Adjusts the height and width of the whole control if this is required depending on parent control.
	 *
	 * @private
	 */
	ComparisonMicroChart.prototype._adjustToParent = function() {
		if (jQuery.isFunction(this.getParent) && this.getParent() instanceof sap.m.FlexBox) {
			var sParentHeight = parseInt(this.getParent().$().height(), 10);
			var sParentWidth = parseInt(this.getParent().$().width(), 10);
			var $this = this.$();
			$this.outerHeight(sParentHeight - parseInt($this.css("margin-top"), 10) - parseInt($this.css("margin-bottom"), 10));
			$this.outerWidth(sParentWidth - parseInt($this.css("margin-left"), 10) - parseInt($this.css("margin-right"), 10));
		}
	};

	/**
	 * Performs vertical responsiveness adjustment. Assumes that the height of the control will not change afterwards. Assumes that all the CSS have already been loaded and are available.
	 *
	 * @private
	 */
	ComparisonMicroChart.prototype._resizeVertically = function() {
		var $this = this.$();
		var $OuterVerticalAlignmentContainer = $this.find(".sapSuiteCpMCVerticalAlignmentContainer");
		var iMaxChartHeight = parseInt($OuterVerticalAlignmentContainer.css("max-height"), 10);
		var iCurrentControlHeight = parseInt($this.css("height"), 10);
		var iCurrentChartHeight = parseInt($OuterVerticalAlignmentContainer.css("height"), 10);
		var iBarHeight = this.$().find(".sapSuiteCpMCChartBar").outerHeight();
		var iBarCount = this.getData().length;

		if (iCurrentControlHeight <= iMaxChartHeight) {
			$this.addClass("sapSuiteCpMCSmallFont");
		}
		if (this.getView() === "Normal" && iCurrentChartHeight < (ComparisonMicroChart.HEIGHT_PER_CHART_DISAPPEAR_TRESHOLD + iBarHeight) * iBarCount ) {
			$this.find(".sapSuiteCpMCChartBar>div").hide();
		}
		if (iCurrentChartHeight < ComparisonMicroChart.HEIGHT_PER_CHART_DISAPPEAR_TRESHOLD * iBarCount ) {
			$this.hide();
		}
	};

	/**
	 * Performs horizontal responsiveness adjustment. Assumes that the width of the control will not change afterwards. Assumes that all the CSS have already been loaded and are available.
	 *
	 * @private
	 */
	ComparisonMicroChart.prototype._resizeHorizontally = function() {
		var $this = this.$();
		var $Bars = $this.find(".sapSuiteCpMCChartBar");
		var iBarWidth = parseInt($Bars.width(), 10);
		var iWidth = parseInt($this.width(), 10);
		if (this.getView() === "Wide" && iBarWidth < ComparisonMicroChart.EDGE_CASE_WIDTH_HIDE_CHART) {
			$Bars.hide();
		}

		if (iWidth < ComparisonMicroChart.WIDTH_FONT_TRESHOLD || this._isTruncatedLabel($this, ".sapSuiteCpMCChartItemTitle, .sapSuiteCpMCChartItemValue")) {
			$this.addClass("sapSuiteCpMCSmallFont");
		}
		if (iWidth < ComparisonMicroChart.EDGE_CASE_WIDTH_HIDE_CHART) {
			$this.hide();
		}
		if (this._isTruncatedLabel(".sapSuiteCpMCChartItemValue")) {
			$this.hide();
		}
	};

	/**
	 * Checks if any label of the specified CSS class on the chart is truncated.
	 *
	 * @private
	 * @param {string} sClassSelector Representation of CSS classes
	 * @returns {boolean} True if the label is truncated, false if not.
	 */
	ComparisonMicroChart.prototype._isTruncatedLabel = function(sClassSelector) {
		var $Labels = this.$().find(sClassSelector);
		for (var i = 0; i < $Labels.length; i++) {
			if ($Labels[i].offsetWidth < $Labels[i].scrollWidth - 1) {
				return true;
			}
		}
		return false;
	};

	/**
	 * Adds the title attribute to show the tooltip when the mouse enters the chart.
	 *
	 * @private
	 */
	ComparisonMicroChart.prototype._addTitleAttribute = function() {
		var sTooltip = this.getTooltip_AsString();
		if (sTooltip && !this.getIsResponsive()) {
			this.$().attr("title", sTooltip);
		}
	};

	/**
	 * Removes the title attribute to hide the tooltip when the mouse leaves the chart.
	 *
	 * @private
	 */
	ComparisonMicroChart.prototype._removeTitleAttribute = function() {
		this.$().removeAttr("title");
	};

	ComparisonMicroChart.prototype._getBarAltText = function(iBarIndex) {
			var sScale = this.getScale();
			var oBar = this.getData()[iBarIndex];
			var sMeaning = (this.getColorPalette().length) ? "" : this._getLocalizedColorMeaning(oBar.getColor());
			return oBar.getTitle() + " " + (oBar.getDisplayValue() ? oBar.getDisplayValue() : oBar.getValue()) + sScale + " " + sMeaning;
	};

	ComparisonMicroChart.prototype.onsaptabnext = function(oEvent) {
		var oLast = this.$().find(":focusable").last();	// last tabstop in the control
		if (oLast) {
			this._bIgnoreFocusEvt = true;
			oLast.get(0).focus();
		}
	};

	ComparisonMicroChart.prototype.onsaptabprevious = function(oEvent) {
		if (oEvent.target.id != oEvent.currentTarget.id) {
			var oFirst = this.$().find(":focusable").first();	// first tabstop in the control
			if (oFirst) {
				oFirst.get(0).focus();
			}
		}
	};

	ComparisonMicroChart.prototype.ontap = function(oEvent) {
		if (sap.ui.Device.browser.edge) {
			this.onclick(oEvent);
		}
	};

	ComparisonMicroChart.prototype.onclick = function(oEvent) {
		if (!this.fireBarPress(oEvent)) {
			if (sap.ui.Device.browser.internet_explorer || sap.ui.Device.browser.edge) {
				this.$().focus();
			}
			this.firePress();
		}
	};

	ComparisonMicroChart.prototype.onkeydown = function(oEvent) {
		switch (oEvent.keyCode) {
			case jQuery.sap.KeyCodes.SPACE:
				oEvent.preventDefault();
				break;

			case jQuery.sap.KeyCodes.ARROW_LEFT:
			case jQuery.sap.KeyCodes.ARROW_UP:
				var oFocusables = this.$().find(":focusable");	// all tabstops in the control
				var iThis = oFocusables.index(oEvent.target);  // focused element index
				if (oFocusables.length > 0) {
					oFocusables.eq(iThis - 1).get(0).focus();	// previous tab stop element
					oEvent.preventDefault();
					oEvent.stopPropagation();
				}
				break;

			case jQuery.sap.KeyCodes.ARROW_DOWN:
			case jQuery.sap.KeyCodes.ARROW_RIGHT:
				var oFocusable = this.$().find(":focusable");	// all tabstops in the control
				var iThisEl = oFocusable.index(oEvent.target);  // focused element index
				if (oFocusable.length > 0) {
					oFocusable.eq((iThisEl + 1 < oFocusable.length) ? iThisEl + 1 : 0).get(0).focus();	// next tab stop element
					oEvent.preventDefault();
					oEvent.stopPropagation();
				}
				break;
			default:
		}
	};

	ComparisonMicroChart.prototype.onkeyup = function(oEvent) {
		if (oEvent.which == jQuery.sap.KeyCodes.ENTER || oEvent.which == jQuery.sap.KeyCodes.SPACE) {
			if (!this.fireBarPress(oEvent)) {
				this.firePress();
				oEvent.preventDefault();
			}
		}
	};

	ComparisonMicroChart.prototype.fireBarPress = function(oEvent) {
		var oBar = jQuery(oEvent.target);
		if (oBar && oBar.attr("data-bar-index")) {
			var iIndex = parseInt(oBar.attr("data-bar-index"), 10);
			var oComparisonData = this.getData()[iIndex];
			if (oComparisonData && oComparisonData.hasListeners("press")) {
				oComparisonData.firePress();
				oEvent.preventDefault();
				oEvent.stopPropagation();
				if (sap.ui.Device.browser.internet_explorer) {
					jQuery.sap.byId(this.getId() + "-chart-item-bar-" + iIndex).focus();
				}
				return true;
			}
		}
		return false;
	};


	ComparisonMicroChart.prototype.setBarPressable = function(iBarIndex, bPressable) {
		if (bPressable) {
			var sBarAltText = this._getBarAltText(iBarIndex);
			jQuery.sap.byId(this.getId() + "-chart-item-bar-" + iBarIndex).addClass("sapSuiteUiMicroChartPointer").attr("tabindex", 0).attr("title", sBarAltText).attr("role", "presentation").attr("aria-label", sBarAltText);
		} else {
			jQuery.sap.byId(this.getId() + "-chart-item-bar-" + iBarIndex).removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer").removeAttr("title").removeAttr("role").removeAttr("aria-label");
		}
	};

	ComparisonMicroChart.prototype.onfocusin = function(oEvent) {
		if (this._bIgnoreFocusEvt) {
			this._bIgnoreFocusEvt = false;
			return;
		}
		if (this.getId() + "-hidden" == oEvent.target.id) {
			this.$().focus();
			oEvent.preventDefault();
			oEvent.stopPropagation();
		}
	};

	/**
	 * Binds the handlers for mouseenter mouseleave events.
	 *
	 * @private
	 */
	ComparisonMicroChart.prototype._bindMouseEnterLeaveHandler = function () {

		// handlers need to be saved intermediately in order to unbind successfully
		if (!this._oMouseEnterLeaveHandler) {
			this._oMouseEnterLeaveHandler = {
				mouseEnterChart: this._addTitleAttribute.bind(this),
				mouseLeaveChart: this._removeTitleAttribute.bind(this)
			};
		}
		// bind events on chart
		this.$().bind("mouseenter", this._oMouseEnterLeaveHandler.mouseEnterChart);
		this.$().bind("mouseleave", this._oMouseEnterLeaveHandler.mouseLeaveChart);
	};

	/**
	 * Unbinds the handlers for mouseenter mouseleave events.
	 *
	 * @private
	 */
	ComparisonMicroChart.prototype._unbindMouseEnterLeaveHandler = function () {
		if (this._oMouseEnterLeaveHandler) {
			this.$().unbind("mouseenter", this._oMouseEnterLeaveHandler.mouseEnterChart);
			this.$().unbind("mouseleave", this._oMouseEnterLeaveHandler.mouseLeaveChart);
		}
	};

	return ComparisonMicroChart;

});

}; // end of sap/suite/ui/microchart/ComparisonMicroChart.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.ComparisonMicroChartData') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// Provides control sap.suite.ui.microchart.ComparisonMicroChartData.
jQuery.sap.declare('sap.suite.ui.microchart.ComparisonMicroChartData'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Element'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/ComparisonMicroChartData",['jquery.sap.global', './library', 'sap/ui/core/Element'],
	function(jQuery, library, Element) {
	"use strict";

	/**
	 * Constructor for a new ComparisonMicroChartData.
	 *
	 * @param {string} [sId] id for the new control, generated automatically if no id is given
	 * @param {object} [mSettings] initial settings for the new control
	 *
	 * @class
	 * Contains the values of the comparison chart.
	 * @extends sap.ui.core.Element
	 *
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @constructor
	 * @public
	 * @alias sap.suite.ui.microchart.ComparisonMicroChartData
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 */
	var ComparisonMicroChartData = Element.extend("sap.suite.ui.microchart.ComparisonMicroChartData", /** @lends sap.suite.ui.microchart.ComparisonMicroChartData.prototype */ {
		metadata : {
			library: "sap.suite.ui.microchart",
			properties: {
				/**
				 * The value for comparison.
				 */
				value: {type: "float", group: "Misc", defaultValue: "0"},
	
				/**
				 * The semantic color of the value.
				 */
				color: {type: "sap.m.ValueColor", group: "Misc", defaultValue: "Neutral"},
	
				/**
				 * The comparison bar title.
				 */
				title: {type: "string", group: "Misc", defaultValue: ""},
	
				/**
				 * If this property is set then it will be displayed instead of value.
				 */
				displayValue: {type: "string", group: "Misc", defaultValue: ""}
			},
			events: {
				/**
				 * The event is fired when the user chooses the comparison chart bar.
				 */
				press : {}
			}
		}
	});

	ComparisonMicroChartData.prototype.setValue = function(fValue, bSuppressInvalidate) {
		this._isValueSet = this._fnIsNumber(fValue);
		return this.setProperty("value", this._isValueSet ? fValue : NaN, bSuppressInvalidate);
	};
	
	ComparisonMicroChartData.prototype._fnIsNumber = function(n) {
		return typeof n == 'number' && !isNaN(n) && isFinite(n);
	};
	
	ComparisonMicroChartData.prototype.clone = function(sIdSuffix, aLocalIds, oOptions) {
		var oClone = sap.ui.core.Control.prototype.clone.apply(this, arguments);
		oClone._isValueSet = this._isValueSet;
		return oClone;
	};
	
	ComparisonMicroChartData.prototype.attachEvent = function(sEventId, oData, fnFunction, oListener) {
		sap.ui.core.Control.prototype.attachEvent.call(this, sEventId, oData, fnFunction, oListener);
		if (this.getParent()) {
			this.getParent().setBarPressable(this.getParent().getData().indexOf(this), true);
		}
			return this;
	};

	ComparisonMicroChartData.prototype.detachEvent = function(sEventId, fnFunction, oListener) {
		sap.ui.core.Control.prototype.detachEvent.call(this, sEventId, fnFunction, oListener);
		if (this.getParent()) {
			this.getParent().setBarPressable(this.getParent().getData().indexOf(this), false);
		}
		return this;
	};

	return ComparisonMicroChartData;

});

}; // end of sap/suite/ui/microchart/ComparisonMicroChartData.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.DeltaMicroChart') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// Provides control sap.suite.ui.microchart.Example.
jQuery.sap.declare('sap.suite.ui.microchart.DeltaMicroChart'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Control'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/DeltaMicroChart",['jquery.sap.global', './library', 'sap/ui/core/Control'],
	function(jQuery, library, Control) {
	"use strict";

	/**
	 * Constructor for a new DeltaMicroChart control.
	 *
	 * @param {string} [sId] id for the new control, generated automatically if no id is given
	 * @param {object} [mSettings] initial settings for the new control
	 *
	 * @class
	 * Represents the delta of two values as a chart. This control replaces the deprecated sap.suite.ui.commons.DeltaMicroChart.
	 * @extends sap.ui.core.Control
	 *
	 * @author SAP SE
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.DeltaMicroChart
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 */
	var DeltaMicroChart = Control.extend("sap.suite.ui.microchart.DeltaMicroChart", /** @lends sap.suite.ui.microchart.DeltaMicroChart.prototype */ { metadata: {

		library: "sap.suite.ui.microchart",
		properties: {

			/**
			 * The first value for delta calculation.
			 */
			value1: {type: "float", group: "Misc", defaultValue: null},

			/**
			 * The second value for delta calculation.
			 */
			value2: {type: "float", group: "Misc", defaultValue: null},

			/**
			 * The first value title.
			 */
			title1: {type: "string", group: "Misc", defaultValue: null},

			/**
			 * The second value title.
			 */
			title2: {type: "string", group: "Misc", defaultValue: null},

			/**
			 * If this property is set, it is rendered instead of value1.
			 */
			displayValue1: {type: "string", group: "Misc", defaultValue: null},

			/**
			 * If this property is set, it is rendered instead of value2.
			 */
			displayValue2: {type: "string", group: "Misc", defaultValue: null},

			/**
			 * If this property is set, it is rendered instead of a calculated delta.
			 */
			deltaDisplayValue: {type: "string", group: "Misc", defaultValue: null},

			/**
			 * The semantic color of the delta value.
			 */
			color: {type: "sap.m.ValueColor", group: "Misc", defaultValue: "Neutral"},

			/**
			 * The width of the chart.
			 */
			width: {type: "sap.ui.core.CSSSize", group: "Misc"},

			/**
			 * The size of the chart. If is not set, the default size is applied based on the device type.
			 */
			size: {type: "sap.m.Size", group: "Misc", defaultValue: "Auto"},

			/**
 			 * If this set to true, width and height of the control are determined by the width and height of the container in which the control is placed. Size and Width properties are ignored in such case.
			 * @since 1.38.0
			 */
			isResponsive: {type: "boolean", group: "Appearance", defaultValue: false}

		},

		events: {

			/**
			 * The event is fired when the user chooses the delta micro chart.
			 */
			press: {}

		}

	}});

	DeltaMicroChart.EDGE_CASE_WIDTH_RESIZEFONT = 168; // Corresponds to M size width 10.5rem
	DeltaMicroChart.EDGE_CASE_HEIGHT_SHOW_BOTTOM_LABEL = 16; // 1rem on the basis of design
	DeltaMicroChart.EDGE_CASE_HEIGHT_SHOW_TOP_BOTTOM_LABELS = 32; // 2rem on the basis of design

	DeltaMicroChart.prototype.init = function() {
		this._oRb = sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");
		this.setAggregation("tooltip", "{AltText}", true);
		this._bThemeApplied = true;
		if (!sap.ui.getCore().isInitialized()) {
			this._bThemeApplied = false;
			sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));
		} else {
			this._handleCoreInitialized();
		}
	};

	/**
	 * Handler for the core's init event. In order for the control to be rendered only if all themes are loaded
	 * and everything is properly initialized, we attach a theme check in here.
	 *
	 * @private
	 */
	DeltaMicroChart.prototype._handleCoreInitialized = function() {
		this._bThemeApplied = sap.ui.getCore().isThemeApplied();
		if (!this._bThemeApplied) {
			sap.ui.getCore().attachThemeChanged(this._handleThemeApplied, this);
		}
	};

	/**
	 * The ColumnMicroChart is not being rendered until the theme was applied.
	 * If the theme is applied, rendering starts by the control itself.
	 *
	 * @private
	 */
	DeltaMicroChart.prototype._handleThemeApplied = function() {
		this._bThemeApplied = true;
		this.invalidate();
		sap.ui.getCore().detachThemeChanged(this._handleThemeApplied, this);
	};

	DeltaMicroChart.prototype._calcChartData = function() {
		var fVal1 = this.getValue1();
		var fVal2 = this.getValue2();

		var fMin = Math.min(fVal1, fVal2, 0);
		var fMax = Math.max(fVal1, fVal2, 0);
		var fTotal = fMax - fMin;

		function calcPercent(fVal) {
			return (fTotal === 0 ?  0 : Math.abs(fVal) / fTotal * 100).toFixed(2);
		}

		var oConf = {};
		var fDelta = fVal1 - fVal2;

		oConf.delta = {
			left: fMax === 0,
			width: calcPercent(fDelta),
			isFirstStripeUp: fVal1 < fVal2,
			isMax: (fVal1 < 0 && fVal2 >= 0) || (fVal1 >= 0 && fVal2 < 0),
			isZero: fVal1 === 0 && fVal2 === 0,
			isEqual: fDelta === 0
		};

		oConf.bar1 = {
			left: fVal2 >= 0,
			width: calcPercent(fVal1),
			isSmaller: Math.abs(fVal1) < Math.abs(fVal2)
		};

		oConf.bar2 = {
			left: fVal1 >= 0,
			width: calcPercent(fVal2),
			isSmaller: Math.abs(fVal2) < Math.abs(fVal1)
		};

		return oConf;
	};

	DeltaMicroChart.prototype._getLocalizedColorMeaning = function(sColor) {
		return this._oRb.getText(("SEMANTIC_COLOR_" + sColor).toUpperCase());
	};

	/**
	 * Calculates the number of digits after the decimal point.
	 *
	 * @param {float} fValue float value
	 * @returns {int} number of digits after the decimal point in fValue.
	 * @private
	 */
	DeltaMicroChart.prototype._digitsAfterDecimalPoint = function(fValue) {
		var sAfter = ("" + fValue).match(/[.,](\d+)/g);
		return (sAfter) ? ("" + sAfter).length - 1 : 0;
	};

	DeltaMicroChart.prototype.getAltText = function() {
	    var sDv1 = this.getDisplayValue1();
	    var sDv2 = this.getDisplayValue2();
	    var sDdv = this.getDeltaDisplayValue();
		var fVal1 = this.getValue1();
		var fVal2 = this.getValue2();
		var sAdv1ToShow = sDv1 ? sDv1 : "" + fVal1;
		var sAdv2ToShow = sDv2 ? sDv2 : "" + fVal2;
		var sAddvToShow = sDdv ? sDdv : "" + Math.abs(fVal1 - fVal2).toFixed(Math.max(this._digitsAfterDecimalPoint(fVal1), this._digitsAfterDecimalPoint(fVal2)));
		var sMeaning = this._getLocalizedColorMeaning(this.getColor());

		return this.getTitle1() + " " + sAdv1ToShow + "\n" + this.getTitle2() + " " + sAdv2ToShow + "\n" +  this._oRb.getText("DELTAMICROCHART_DELTA_TOOLTIP", [sAddvToShow, sMeaning]);
	};

	DeltaMicroChart.prototype.getTooltip_AsString  = function() {
		var oTooltip = this.getTooltip();
		var sTooltip = this.getAltText();

		if (typeof oTooltip === "string" || oTooltip instanceof String) {
			sTooltip = oTooltip.split("{AltText}").join(sTooltip).split("((AltText))").join(sTooltip);
			return sTooltip;
		} else if (this.isBound("tooltip") && !oTooltip) {
			return sTooltip;
		}
		return oTooltip ? oTooltip : "";
	};

	DeltaMicroChart.prototype._isCalcSupported = function() {
		return jQuery.sap.byId(this.getId() + "-calc").css("max-width") == "11px";
	};

	DeltaMicroChart.prototype._isRoundingSupported = function() {
		return jQuery.sap.byId(this.getId() + "-calc1").width() == 4;
	};

	DeltaMicroChart.prototype.onBeforeRendering = function() {
		if (library._isInGenericTile(this)) {
			this.setIsResponsive(true);
			library._removeStandardMargins(this);
		}
		this._oChartData = this._calcChartData();
		if (this._sResizeHandlerId) {
			sap.ui.core.ResizeHandler.deregister(this._sResizeHandlerId);
		}
		this.$().unbind("mouseenter", this._addTitleAttribute);
		this.$().unbind("mouseleave", this._removeTitleAttribute);
	};

	DeltaMicroChart.prototype.onAfterRendering = function() {
		this._bCalc = this._isCalcSupported();
		this._bRounding = this._isRoundingSupported();

		if (this.getIsResponsive()){
			this._adjustToParent();
		}
		library._checkControlIsVisible(this, this._onControlIsVisible);

		//attaches handler for mouse enter event
		this.$().bind("mouseenter", this._addTitleAttribute.bind(this));
		this.$().bind("mouseleave", this._removeTitleAttribute.bind(this));
	};

	/**
	 * Callback function which is called when the control is visible, which means that the check via
	 * library._checkControlIsVisible was successful.
	 *
	 * @private
	 */
	DeltaMicroChart.prototype._onControlIsVisible = function() {
		if (this.getIsResponsive()){
			this._resizeVertically();
			this._resizeHorizontally();
		}
		if (!this._bCalc || !this._bRounding) {
			var oChart = jQuery.sap.domById(this.getId() + "-dmc-chart");
			this._sResizeHandlerId = sap.ui.core.ResizeHandler.register(oChart,  jQuery.proxy(this._adjust, this));

			if (!this._bCalc) {
				this._adjustCalc();
			}

			if (!this._bRounding) {
				this._adjustRound();
			}
		}
	};

	/**
	 * Adjusts the height and width of the whole control if this is required depending on parent control.
	 *
	 * @private
	 */
	DeltaMicroChart.prototype._adjustToParent = function() {
		if (jQuery.isFunction(this.getParent) && this.getParent() instanceof sap.m.FlexBox) {
			var sParentHeight = parseInt(this.getParent().$().height(), 10);
			var sParentWidth = parseInt(this.getParent().$().width(), 10);
			var $this = this.$();
			$this.outerHeight(sParentHeight - parseInt($this.css("margin-top"), 10) - parseInt($this.css("margin-bottom"), 10));
			$this.outerWidth(sParentWidth - parseInt($this.css("margin-left"), 10) - parseInt($this.css("margin-right"), 10));
		}
	};

	/**
	 * Performs vertical responsiveness adjustment. Assumes that the height of the control will not change afterwards. Assumes that all the CSS have already been loaded and are available.
	 *
	 * @private
	 */
	DeltaMicroChart.prototype._resizeVertically = function() {
		var $this = this.$();
		var $VerticalCenteredWrapper = $this.find(".sapSuiteDMCVerticalAlignmentContainer");
		var $Chart = $this.find(".sapSuiteDMCResponsive.sapSuiteDMCChart");
		var $LeftTopLabel = $this.find(".sapSuiteDMCPositionTop.sapSuiteDMCTitle");
		var $RightTopLabel = $this.find(".sapSuiteDMCLbls .sapSuiteDMCValue1");
		var $RightMiddleLabel = $this.find(".sapSuiteDMCLbls .sapSuiteDMCDelta");

		// preparing resizing thresholds
		var iHeightThrescholdHideChart = DeltaMicroChart.EDGE_CASE_HEIGHT_SHOW_TOP_BOTTOM_LABELS + parseInt($Chart.css("min-height"), 10);

		// font resizing
		var iVerticalCenteredWrapperHeigth = parseInt($VerticalCenteredWrapper.css("height"), 10);
		var iHeight = parseInt($this.css("height"), 10);
		if (iHeight <= iVerticalCenteredWrapperHeigth){
			$this.addClass("sapSuiteDMCSmallFont");
		}

		// vertical resizing
		if (iHeight < DeltaMicroChart.EDGE_CASE_HEIGHT_SHOW_BOTTOM_LABEL){
			$this.hide();
		} else if (iHeight < DeltaMicroChart.EDGE_CASE_HEIGHT_SHOW_TOP_BOTTOM_LABELS){
			$RightTopLabel.hide();
			$RightMiddleLabel.hide();
			$LeftTopLabel.hide();
			$Chart.hide();
		} else if (iHeight <= iHeightThrescholdHideChart){
			$RightMiddleLabel.hide();
			$Chart.hide();
		}
	};

	/**
	 * Performs horizontal responsiveness adjustment. Assumes that the width of the control will not change afterwards. Assumes that all the CSS have already been loaded and are available.
	 *
	 * @private
	 */
	DeltaMicroChart.prototype._resizeHorizontally = function() {
		var $this = this.$();
		// jQuery objects necessary for resizing
		var $LeftSide = $this.find(".sapSuiteDMCResponsive.sapSuiteDMCCnt");
		var $RightSide = $this.find(".sapSuiteDMCResponsive.sapSuiteDMCLbls");
		var iCurrentControlWidth = parseInt($this.css("width"), 10);

		// preparing resizing thresholds
		var iWidthThrescholdHideLeftSide = parseInt($LeftSide.css("min-width"), 10);

		if (iCurrentControlWidth < DeltaMicroChart.EDGE_CASE_WIDTH_RESIZEFONT || !this._rightSideTruncated($RightSide)) {
			$this.addClass("sapSuiteDMCSmallFont");
		}

		if (!this._rightSideTruncated($RightSide)) {
			//Never truncate numeric values on the right
			$this.hide();
		}

		if (parseInt($LeftSide.css("width"), 10) <= iWidthThrescholdHideLeftSide) {
			// The space on the left is too small even for truncated text in labels
			$LeftSide.hide();
		}
	};

	/**
	 * Checks if the whole control has enough width to display the right side of the control without truncation.
	 *
	 * @private
	 */
	DeltaMicroChart.prototype._rightSideTruncated = function($RightSide) {
		return parseInt(this.$().css("width"), 10) >= parseInt($RightSide.css("width"), 10);
	};

	DeltaMicroChart.prototype._adjust = function() {
	    if (!this._bCalc) {
			this._adjustCalc();
	    }

	    if (!this._bRounding) {
			this._adjustRound();
	    }
	};

	DeltaMicroChart.prototype._adjustRound = function() {
		var iChartWidth = jQuery.sap.byId(this.getId() + "-dmc-chart").width();
		var iDeltaWidth = Math.round(iChartWidth * this._oChartData.delta.width / 100);

		jQuery.sap.byId(this.getId() + "-dmc-bar-delta").width(iDeltaWidth);

		if (this._oChartData.bar1.isSmaller && !this._oChartData.delta.isMax) {
			jQuery.sap.byId(this.getId() + "-dmc-bar1").width(iChartWidth - iDeltaWidth);
		}

		if (this._oChartData.bar2.isSmaller && !this._oChartData.delta.isMax) {
			jQuery.sap.byId(this.getId() + "-dmc-bar2").width(iChartWidth - iDeltaWidth);
		}
	};

	DeltaMicroChart.prototype._adjustCalc = function() {
		var iChartWidth = jQuery.sap.byId(this.getId() + "-dmc-chart").width();

		function adjustBar(oBar) {
			oBar.css("max-width", iChartWidth - parseInt(oBar.css("max-width"), 10) + "px");
		}

		adjustBar(jQuery.sap.byId(this.getId() + "-dmc-bar1"));
		adjustBar(jQuery.sap.byId(this.getId() + "-dmc-bar2"));
		adjustBar(jQuery.sap.byId(this.getId() + "-dmc-bar-delta"));
	};

	DeltaMicroChart.prototype.attachEvent = function(sEventId, oData, fnFunction, oListener) {
		sap.ui.core.Control.prototype.attachEvent.call(this, sEventId, oData, fnFunction, oListener);
		if (this.hasListeners("press")) {
			this.$().attr("tabindex", 0).addClass("sapSuiteUiMicroChartPointer");
		}
		return this;
	};

	DeltaMicroChart.prototype.detachEvent = function(sEventId, fnFunction, oListener) {
		sap.ui.core.Control.prototype.detachEvent.call(this, sEventId, fnFunction, oListener);
		if (!this.hasListeners("press")) {
			this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");
		}
		return this;
	};

	DeltaMicroChart.prototype.ontap = function(oEvent) {
	     if (sap.ui.Device.browser.internet_explorer) {
	         this.$().focus();
	     }
	     this.firePress();
	};

	DeltaMicroChart.prototype.onkeydown = function(oEvent) {
	    if (oEvent.which == jQuery.sap.KeyCodes.SPACE) {
	        oEvent.preventDefault();
	    }
	};

	DeltaMicroChart.prototype.onkeyup = function(oEvent) {
	    if (oEvent.which == jQuery.sap.KeyCodes.ENTER || oEvent.which == jQuery.sap.KeyCodes.SPACE) {
	        this.firePress();
	        oEvent.preventDefault();
	    }
	};

	/**
	 * Adds title attribute to show tooltip when the mouse enters chart.
	 *
	 * @private
	 */
	DeltaMicroChart.prototype._addTitleAttribute = function() {
		if (this.$().attr("title")) {
			return;
		} else {
			this.$().attr("title", this.getTooltip_AsString());
		}
	};

	/**
	 * Removes title attribute to let tooltip disappear when the mouse left the chart.
	 *
	 * @private
	 */
	DeltaMicroChart.prototype._removeTitleAttribute = function() {
		if (this.$().attr("title")) {
			this.$().removeAttr("title");
		}
	};
	return DeltaMicroChart;
});

}; // end of sap/suite/ui/microchart/DeltaMicroChart.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.HarveyBallMicroChart') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// This file defines behavior for the control.
jQuery.sap.declare('sap.suite.ui.microchart.HarveyBallMicroChart'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Control'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/HarveyBallMicroChart",['jquery.sap.global', './library', 'sap/ui/core/Control'],
	function(jQuery, library, Control) {
	"use strict";

	/**
	 * The configuration of the graphic element on the chart.
	 *
	 * @param {string} [sId] ID for the new control, generated automatically if no ID is given
	 * @param {object} [mSettings] Initial settings for the new control
	 *
	 * @class
	 * Displays a pie chart with highlighted sectors.
	 * @extends sap.ui.core.Control
	 *
	 * @author SAP SE
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.HarveyBallMicroChart
	 * @ui5-metamodel This control will also be described in the UI5 (legacy) designtime metamodel
	 */
	var HarveyBallMicroChart = Control.extend("sap.suite.ui.microchart.HarveyBallMicroChart", /** @lends sap.suite.ui.microchart.HarveyBallMicroChart.prototype */ {
		metadata : {
			library: "sap.suite.ui.microchart",
			properties: {

				/**
				 * The total value. This is taken as 360 degrees value on the chart.
				 */
				total: {group:"Misc", type:"float", defaultValue: null},

				/**
				 * The total label. If specified, it is displayed instead of the total value.
				 */
				totalLabel: {group:"Misc", type:"string"},

				/**
				The scaling factor that is displayed next to the total value.
				*/
				totalScale: {group:"Misc", type:"string"},

				/**
				If set to true, the totalLabel parameter is considered as the combination of the total value and its scaling factor. The default value is false. It means that the total value and the scaling factor are defined separately by the total and the totalScale properties accordingly.
				*/
				formattedLabel: {group:"Misc", type:"boolean", defaultValue:false},

				/**
				If it is set to true, the total value is displayed next to the chart. The default setting is true.
				*/
				showTotal: {group:"Misc", type:"boolean", defaultValue:true},

				/**
				If it is set to true, the fraction values are displayed next to the chart. The default setting is true.
				*/
				showFractions: {group:"Misc", type:"boolean", defaultValue:true},

				/**
				The size of the chart. If it is not set, the default size is applied based on the device type.
				*/
				size: {group:"Misc", type:"sap.m.Size", defaultValue:"Auto"},

				/**
				The color palette for the chart. If this property is set, semantic colors defined in HarveyBallMicroChart are ignored. Colors from the palette are assigned to each slice consequentially. When all the palette colors are used, assignment of the colors begins from the first palette color.
				*/
				colorPalette: {type: "string[]", group : "Appearance", defaultValue : [] },

				/**
				The width of the chart. If it is not set, the size of the control is defined by the size property.
				*/
				width: {group:"Misc", type:"sap.ui.core.CSSSize"},

				/**
				 * If this set to true, width and height of the control are determined by the width and height of the container in which the control is placed. Size and Width properties are ignored in such case.
				 * @since 1.38.0
				 */
				isResponsive: {type: "boolean", group: "Appearance", defaultValue: false}
			},
			events: {
				/**
				 * The event is triggered when the chart is pressed.
				 */
				press: {}
			},
			defaultAggregation : "items",
			aggregations: {
				/**
				 * The set of points for this graphic element.
				 */
				"items": { multiple: true, type: "sap.suite.ui.microchart.HarveyBallMicroChartItem", bindable : "bindable" }
			}
		}
	});

	HarveyBallMicroChart._iSmallestChartSize = 24;
	HarveyBallMicroChart._iSmallestFontSize = 12;

	///**
	// * This file defines behavior for the control,
	// */
	HarveyBallMicroChart.prototype.getAltText = function() {
		var sAltText = "";
		var bIsFirst = true;

		var aItems = this.getItems();
		for (var i = 0; i < aItems.length; i++) {
			var oItem = aItems[i];
			var sColor = (this.getColorPalette().length == 0) ? this._rb.getText(("SEMANTIC_COLOR_" + oItem.getColor()).toUpperCase()) : "";
			var sLabel = oItem.getFractionLabel();
			var sScale = oItem.getFractionScale();
			if (!sLabel && sScale) {
				sLabel = oItem.getFormattedLabel() ? oItem.getFraction() : oItem.getFraction() + oItem.getFractionScale().substring(0,3);
			} else if (!oItem.getFormattedLabel() && oItem.getFractionLabel()) {
				sLabel += oItem.getFractionScale().substring(0,3);
			}

			sAltText += (bIsFirst ? "" : "\n") + sLabel + " " + sColor;
			bIsFirst = false;
		}

		if (this.getTotal()) {
			var sTLabel = this.getTotalLabel();
			if (!sTLabel) {
				sTLabel = this.getFormattedLabel() ? this.getTotal() : this.getTotal() + this.getTotalScale().substring(0,3);
			} else if (!this.getFormattedLabel()) {
				sTLabel += this.getTotalScale().substring(0,3);
			}

			sAltText += (bIsFirst ? "" : "\n") + this._rb.getText("HARVEYBALLMICROCHART_TOTAL_TOOLTIP") + " " + sTLabel;
		}
		return sAltText;
	};

	HarveyBallMicroChart.prototype.getTooltip_AsString = function() {
		var oTooltip = this.getTooltip();
		var sTooltip = this.getAltText();

		if (typeof oTooltip === "string" || oTooltip instanceof String) {
			sTooltip = oTooltip.split("{AltText}").join(sTooltip).split("((AltText))").join(sTooltip);
			return sTooltip;
		} else if (this.isBound("tooltip") && !oTooltip) {
			return sTooltip;
		}
		return oTooltip ? oTooltip : "";
	};

	HarveyBallMicroChart.prototype.init = function() {
		this._rb = sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");
		this.setAggregation("tooltip", "{AltText}", true);
		sap.ui.Device.media.attachHandler(this.rerender, this, sap.ui.Device.media.RANGESETS.SAP_STANDARD);
		this._sChartResizeHandlerId = null;
		this._$Control = null;
		this._$ParentContainer = null;
		this._bThemeApplied = true;
		if (!sap.ui.getCore().isInitialized()) {
			this._bThemeApplied = false;
			sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));
		} else {
			this._handleCoreInitialized();
		}
	};

	/**
	 * Handler for the core's init event. The control will only be rendered if all themes are loaded
	 * and everything is properly initialized, we attach a theme check here.
	 *
	 * @private
	 */
	HarveyBallMicroChart.prototype._handleCoreInitialized = function() {
		this._bThemeApplied = sap.ui.getCore().isThemeApplied();
		if (!this._bThemeApplied) {
			sap.ui.getCore().attachThemeChanged(this._handleThemeApplied, this);
		}
	};

	/**
	 * The chart will only be rendered if the theme is applied.
	 * If this is the case, the control invalidates itself.
	 *
	 * @private
	 */
	HarveyBallMicroChart.prototype._handleThemeApplied = function() {
		this._bThemeApplied = true;
		this.invalidate();
		sap.ui.getCore().detachThemeChanged(this._handleThemeApplied, this);
	};

	HarveyBallMicroChart.prototype.onBeforeRendering = function() {
		if (library._isInGenericTile(this)) {
			this.setIsResponsive(true);
			library._removeStandardMargins(this);
		}
		this._unbindMouseEnterLeaveHandler();
	};

	HarveyBallMicroChart.prototype.onAfterRendering = function() {
		if (this.getIsResponsive()) {
			if (library._isInGenericTile(this)) {
				this._resizeForTileContent();
			} else {
				this._adjustToParent();
			}
		}
		library._checkControlIsVisible(this, this._onControlIsVisible);
		this._bindMouseEnterLeaveHandler();
	};

	/**
	 * Callback function which is called when the control is visible, which means that the check via
	 * library._checkControlIsVisible was successful.
	 *
	 * @private
	 */
	HarveyBallMicroChart.prototype._onControlIsVisible = function() {
		// If chart is smaller than 24, hides the chart
		if (this.$().width() < HarveyBallMicroChart._iSmallestChartSize || this.$().height() < HarveyBallMicroChart._iSmallestChartSize) {
			this.$().hide();
		}
		// If the font size is lower than 12, hides the texts
		this._hideLabels();
	};

	HarveyBallMicroChart.prototype._adjustToParent = function() {
		// Checks that there's a getParent method available
		if (!jQuery.isFunction(this.getParent)) {
			return;
		}
		var oParent = this.getParent();
		if (jQuery.isFunction(oParent.getHeight)) {
			// Two pixels are subtracted from the original value. Otherwise, there's not enough space for the outline and it won't render correctly.
			var sParentHeight = parseFloat(oParent.$().height()) - 2;
			this.$().height(sParentHeight); //Required for rendering in page element. Otherwise element is cutted at the top.
			this.$().find("svg").height(sParentHeight);
		}
		if (jQuery.isFunction(oParent.getWidth)) {
			// Two pixels are subtracted from the original value. Otherwise, there's not enough space for the outline and it won't render correctly.
			var sParentWidth = parseFloat(oParent.$().width()) - 2;
			this.$().width(sParentWidth); //Required for rendering in page element. Otherwise element is cutted at the top.
			this.$().find("svg").width(sParentWidth);
		}
	};

	HarveyBallMicroChart.prototype._resizeForTileContent = function() {
		var sParentWidth = this.getParent().$().css("min-width");
		this.getParent().$().width(sParentWidth);
		if (sap.ui.Device.browser.msie || sap.ui.Device.browser.edge || sap.ui.Device.browser.chrome) {
			// 16 pixels are removed to compensate the margin and the padding.
			// Needs to be done for IE and Chrome because in some cases it is rendered only once.
			this.$().width(parseInt(sParentWidth, 10) - 16);
		}
	};

	HarveyBallMicroChart.prototype._hideLabels = function() {
		// Gets the font size of the two texts
		var iTextTopFontSize;
		var iTextBottomFontSize;
		var $TextTop = this.$().find("#sapSuiteHBMCTopText");
		var $TextBottom = this.$().find("#sapSuiteHBMCBottomText");
		if ($TextTop.length > 0) {
			iTextTopFontSize = $TextTop[0].getBoundingClientRect().height;
		}
		if ($TextBottom.length > 0) {
			iTextBottomFontSize = $TextBottom[0].getBoundingClientRect().height;
		}
		// If the font size is lower than 12, hides the texts
		if (iTextTopFontSize < HarveyBallMicroChart._iSmallestFontSize || iTextBottomFontSize < HarveyBallMicroChart._iSmallestFontSize) {
			this.$().find("text").hide();
		}
	};

	HarveyBallMicroChart.prototype._parseFormattedValue = function(sValue) {
		return {
			scale: sValue.replace(/.*?([^+-.,\d]*)$/g, "$1").trim(),
			value: sValue.replace(/(.*?)[^+-.,\d]*$/g, "$1").trim()
		};
	};

	HarveyBallMicroChart.prototype.ontap = function(oEvent) {
		if (sap.ui.Device.browser.internet_explorer) {
			this.$().focus();
		}
		this.firePress();
	};

	HarveyBallMicroChart.prototype.onkeydown = function(oEvent) {
		if (oEvent.which == jQuery.sap.KeyCodes.SPACE) {
			oEvent.preventDefault();
		}
	};

	HarveyBallMicroChart.prototype.onkeyup = function(oEvent) {
		if (oEvent.which == jQuery.sap.KeyCodes.ENTER
				|| oEvent.which == jQuery.sap.KeyCodes.SPACE) {
			this.firePress();
			oEvent.preventDefault();
		}
	};

	HarveyBallMicroChart.prototype.attachEvent = function(
			sEventId, oData, fnFunction, oListener) {
		sap.ui.core.Control.prototype.attachEvent.call(this, sEventId, oData,
				fnFunction, oListener);
		if (this.hasListeners("press")) {
			this.$().attr("tabindex", 0).addClass("sapSuiteUiMicroChartPointer");
		}
		return this;
	};

	HarveyBallMicroChart.prototype.detachEvent = function(
			sEventId, fnFunction, oListener) {
		sap.ui.core.Control.prototype.detachEvent.call(this, sEventId, fnFunction,
				oListener);
		if (!this.hasListeners("press")) {
			this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer");
		}
		return this;
	};

	HarveyBallMicroChart.prototype.exit = function(oEvent) {
		sap.ui.Device.media.detachHandler(this.rerender, this, sap.ui.Device.media.RANGESETS.SAP_STANDARD);
	};

	/**
	 * Adds the title attribute to show the tooltip when the mouse enters the chart.
	 *
	 * @private
	 */
	HarveyBallMicroChart.prototype._addTitleAttribute = function() {
		if (!this.$().attr("title")) {
			this.$().attr("title", this.getTooltip_AsString());
		}
	};

	/**
	 * Removes the title attribute to hide the tooltip when the mouse leaves the chart.
	 *
	 * @private
	 */
	HarveyBallMicroChart.prototype._removeTitleAttribute = function() {
		if (this.$().attr("title")) {
			this.$().removeAttr("title");
		}
	};

	/**
	 * Binds the handlers for mouseenter mouseleave events.
	 *
	 * @private
	 */
	HarveyBallMicroChart.prototype._bindMouseEnterLeaveHandler = function () {
		this.$().bind("mouseenter.tooltip", this._addTitleAttribute.bind(this));
		this.$().bind("mouseleave.tooltip", this._removeTitleAttribute.bind(this));
	};

	/**
	 * Unbinds the handlers for mouseenter mouseleave events.
	 *
	 * @private
	 */
	HarveyBallMicroChart.prototype._unbindMouseEnterLeaveHandler = function () {
		this.$().unbind("mouseenter.tooltip");
		this.$().unbind("mouseleave.tooltip");
	};

	return HarveyBallMicroChart;

});

}; // end of sap/suite/ui/microchart/HarveyBallMicroChart.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.HarveyBallMicroChartItem') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// This control displays the history of values as a line mini chart or an area mini chart.
jQuery.sap.declare('sap.suite.ui.microchart.HarveyBallMicroChartItem'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Element'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/HarveyBallMicroChartItem",['jquery.sap.global', './library', 'sap/ui/core/Element'],
	function(jQuery, library, Element) {
	"use strict";

	/**
	 * The configuration of the graphic element on the chart.
	 *
	 * @param {string} [sId] id for the new control, generated automatically if no id is given
	 * @param {object} [mSettings] initial settings for the new control
	 *
	 * @class
	 * Configures the slices of the pie chart.
	 * @extends sap.ui.core.Control
	 *
	 * @author SAP SE
	 * @version 1.38.33
	 * @since 1.34
	 *
	 * @public
	 * @alias sap.suite.ui.microchart.HarveyBallMicroChartItem
	 * @ui5-metamodel This control/element also will be described in the UI5 (legacy) designtime metamodel
	 */
	var HarveyBallMicroChartItem = Element.extend("sap.suite.ui.microchart.HarveyBallMicroChartItem", /** @lends sap.suite.ui.microchart.HarveyBallMicroChartItem.prototype */ {
		metadata : {
			library: "sap.suite.ui.microchart",
			properties: {
				
				/**
				*The slice color.
				*/
				color: {group:"Misc", type:"sap.m.ValueColor", defaultValue:"Neutral"},
				
				/**
				*The fraction value.
				*/
				fraction: {group:"Misc", type:"float", defaultValue:"0"},
				
				/**
				*The fraction label. If specified, it is displayed instead of the fraction value.
				*/
				fractionLabel: {group:"Misc", type:"string"},
				
				/**
				*The scaling factor that is displayed after the fraction value.
				*/
				fractionScale: {group:"Misc", type:"string"},
				
				/**
				*If set to true, the fractionLabel parameter is considered as the combination of the fraction value and scaling factor. The default value is false. It means that the fraction value and the scaling factor are defined separately by the fraction and the fractionScale properties accordingly.
				*/
				formattedLabel: {group:"Misc", type:"boolean", defaultValue:"false"}
				
			}
		}
	});
	
	return HarveyBallMicroChartItem;

});

}; // end of sap/suite/ui/microchart/HarveyBallMicroChartItem.js
if ( !jQuery.sap.isDeclared('sap.suite.ui.microchart.RadialMicroChart') ) {
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */

// This file defines the behavior for the control.
jQuery.sap.declare('sap.suite.ui.microchart.RadialMicroChart'); // unresolved dependency added by SAPUI5 'AllInOne' Builder
jQuery.sap.require('jquery.sap.global'); // unlisted dependency retained
jQuery.sap.require('sap.ui.core.Control'); // unlisted dependency retained
jQuery.sap.require('sap.ui.Device'); // unlisted dependency retained
sap.ui.define("sap/suite/ui/microchart/RadialMicroChart",['jquery.sap.global', './library', 'sap/ui/core/Control', 'sap/suite/ui/microchart/RadialMicroChartRenderer', 'sap/ui/Device'],
	function(jQuery, library, Control, Renderer, Device) {
	"use strict";

	/**
	 * Describes the configuration of the graphic element on the chart.
	 *
	 * @param {string} [sId] ID for the new control, generated automatically if no ID is given
	 * @param {object} [mSettings] Initial settings for the new control
	 *
	 * @class
	 * Displays a ring chart highlighting a current status. The status is displayed with a semantically colored radial bar and a percentage value.
	 * @extends sap.ui.core.Control
	 *
	 * @author SAP SE
	 * @version 1.38.33
	 * @since 1.36.0
	 *
	 * @constructor
	 * @public
	 * @alias sap.suite.ui.microchart.RadialMicroChart
	 * @ui5-metamodel This control will also be described in the UI5 (legacy) designtime metamodel
	 */
	var RadialMicroChart = Control.extend("sap.suite.ui.microchart.RadialMicroChart", /** @lends sap.suite.ui.microchart.RadialMicroChart.prototype */ {
		constructor : function(sId, mSettings) {
			var bPercentageMode;
			if (mSettings && typeof mSettings.percentage === "number"){
				bPercentageMode = true;
			} else if (sId && typeof sId.percentage === "number") {
				bPercentageMode = true;
			} else {
				bPercentageMode = false;
			}
			try {
				Control.apply(this, arguments);
				this._bPercentageMode = bPercentageMode;
			} catch (e) {
				this.destroy();
				throw e;
			}
		},

		metadata : {
			library: "sap.suite.ui.microchart",
			properties: {
				/**
				 * The total value. This is taken as 360 degrees value on the chart.
				 */
				total: {group:"Data", type:"float", defaultValue: null},

				/**
				 * The fraction of the total value that is displayed.
				 */
				fraction: {group:"Data", type:"float", defaultValue: null},

				/**
				 * The percentage that is displayed.
				 * When a percentage is set, properties total and fraction are not considered.
				 */
				percentage: {group:"Data", type:"float", defaultValue: null},

				/**
				 * The color shown in the completed path.
				 */
				valueColor: {group: "Appearance", type: "sap.m.ValueCSSColor", defaultValue: "Neutral"}
			},
			events: {
				/**
				 * The event is triggered when the chart is pressed.
				 */
				press: {}
			}
		}
	});

	/* --- Lifecycle Handling --- */

	/**
	 * Init function for the control
	 */
	RadialMicroChart.prototype.init = function() {
		this._rb = sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.microchart");
		this._bPercentageMode; // Flag for tracking if the application is using percentage or fraction and total

		this._bThemeApplied = true;
		if (!sap.ui.getCore().isInitialized()) {
			this._bThemeApplied = false;
			sap.ui.getCore().attachInit(this._handleCoreInitialized.bind(this));
		} else {
			this._handleCoreInitialized();
		}
	};

	/**
	 * Handler for the core's init event. The control will only be rendered if all themes are loaded
	 * and everything is properly initialized. We attach a theme check here.
	 *
	 * @private
	 */
	RadialMicroChart.prototype._handleCoreInitialized = function() {
		this._bThemeApplied = sap.ui.getCore().isThemeApplied();
		if (!this._bThemeApplied) {
			sap.ui.getCore().attachThemeChanged(this._handleThemeApplied, this);
		}
	};

	/**
	 * The chart will only be rendered if the theme is applied.
	 * If this is the case, the control invalidates itself.
	 *
	 * @private
	 */
	RadialMicroChart.prototype._handleThemeApplied = function() {
		this._bThemeApplied = true;
		this.invalidate();
		sap.ui.getCore().detachThemeChanged(this._handleThemeApplied, this);
	};

	/**
	 * Handler for before rendering
	 */
	RadialMicroChart.prototype.onBeforeRendering = function() {
		if (library._isInGenericTile(this)) {
			library._removeStandardMargins(this);
			Device.orientation.detachHandler(this._adjustToTileContent, this);
			Device.resize.detachHandler(this._adjustToTileContent, this);
		}
		if (!this._bPercentageMode) {
			if (this.getTotal() === 0) {
				jQuery.sap.log.error("Total can not be 0, please add a valid total value");
			} else {
				this.setProperty("percentage", Math.round((this.getFraction() * 100 / this.getTotal()) * 10) / 10, true);
			}
		}
		this._unbindMouseEnterLeaveHandler();
	};

	RadialMicroChart.prototype.onAfterRendering = function() {
		Renderer._handleOnAfterRendering(this);
		library._checkControlIsVisible(this, this._onControlIsVisible);
		this._bindMouseEnterLeaveHandler();
	};

	/**
	 * Callback function which is called when the control is visible, which means that the check via
	 * library._checkControlIsVisible was successful.
	 *
	 * @private
	 */
	RadialMicroChart.prototype._onControlIsVisible = function() {
		if (library._isInGenericTile(this)) {
			Device.orientation.attachHandler(this._adjustToTileContent, this);
			Device.resize.attachHandler(this._adjustToTileContent, this);
		}
	};

	RadialMicroChart.prototype.exit = function() {
		Device.orientation.detachHandler(this._adjustToTileContent, this);
		Device.resize.detachHandler(this._adjustToTileContent, this);
	};

	/**
	 * Performs the necessary adjustments in case of chart located inside of GenericTile control.
	 *
	 * @private
	 */
	RadialMicroChart.prototype._adjustToTileContent = function() {
		var sParentWidth = this.getParent().$().css("min-width");
		this.getParent().$().width(sParentWidth);
		this.$().width("100%");
	};

	/* --- Event Handling --- */

	RadialMicroChart.prototype.ontap = function(oEvent) {
		if (sap.ui.Device.browser.internet_explorer) {
			this.$().focus();
		}
		this.firePress();
	};

	RadialMicroChart.prototype.onkeydown = function(oEvent) {
		if (oEvent.which === jQuery.sap.KeyCodes.SPACE) {
			oEvent.preventDefault();
		}
	};

	RadialMicroChart.prototype.onkeyup = function(oEvent) {
		if (oEvent.which === jQuery.sap.KeyCodes.ENTER || oEvent.which === jQuery.sap.KeyCodes.SPACE) {
			this.firePress();
			oEvent.preventDefault();
		}
	};

	RadialMicroChart.prototype.attachEvent = function(eventId, data, functionToCall, listener) {
		sap.ui.core.Control.prototype.attachEvent.call(this, eventId, data, functionToCall, listener);
		if (eventId === "press") {
			this.rerender();
		}
		return this;
	};

	RadialMicroChart.prototype.detachEvent = function(eventId, functionToCall, listener) {
		sap.ui.core.Control.prototype.detachEvent.call(this, eventId, functionToCall, listener);
		if (eventId === "press") {
			this.rerender();
		}
		return this;
	};

	/* --- Getters and Setters --- */

	/**
	 * Getter for internal property _bPercentageMode.
	 * Percentage mode is configured by setting a percentage value on definition of the control.
	 * If fraction property and total property is used, this _bPercentageMode property is false since percentage gets calculated automatically by the control.
	 *
	 * @private
	 * @returns {boolean} true if chart is in percentage mode, false if not.
	 */
	RadialMicroChart.prototype._getPercentageMode = function() {
		return this._bPercentageMode;
	};

	RadialMicroChart.prototype.setPercentage = function(percentage) {
		if (jQuery.type(percentage) === "number") {
			this._bPercentageMode = true;
			if (percentage !== this.getPercentage()) {
				this.setProperty("percentage", percentage);
			}
		} else {
			this._bPercentageMode = false;
			this.setProperty("percentage", null);
		}
	};

	RadialMicroChart.prototype.getTooltip_AsString = function() {
		return this._getTooltipText();
	};

	/* --- Helpers --- */

	/**
	 * Check if the valueColor property is an instance of sap.m.ValueColor
	 * @returns {boolean} True if valueColor property is an instance of sap.m.ValueColor, false otherwise.
	 * @private
	 */
	RadialMicroChart.prototype._isValueColorInstanceOfValueColor = function() {
		var sValue = this.getValueColor();
		for (var sValueColor in sap.m.ValueColor){
			if (sValueColor === sValue) {
				return true;
			}
		}
		return false;
	};

	/**
	 * Returns the tooltip for the given chart.
	 * If tooltip was set to an empty string (using whitespaces) by the application,
	 * the tooltip will be set to an empty string. If tooltip was not set (null/undefined),
	 * a tooltip gets generated by the control.
	 *
	 * @private
	 * @returns {string} tooltip for the given control
	 */
	RadialMicroChart.prototype._getTooltipText = function() {
		var sTooltip = this.getTooltip_Text();
		if (!sTooltip) { //Tooltip will be set by control
			sTooltip = this._getAriaAndTooltipText();
		} else if (this._isTooltipSuppressed()) {
			sTooltip = null;
		}
		return sTooltip;
	};

	/**
	 * Returns text for ARIA label.
	 * If tooltip was set to an empty string (using whitespaces) by the application or
	 * the tooltip was not set (null/undefined), the ARIA text gets generated by the control.
	 * Otherwise, the given tooltip will also be set as ARIA text.
	 *
	 * @private
	 * @returns {String} ARIA text for the given control
	 */
	RadialMicroChart.prototype._getAriaText = function() {
		var sAriaText = this.getTooltip_Text();
		if (!sAriaText || this._isTooltipSuppressed()) { //ARIA label will be set by control. Otherwise (else), version generated by control will be used.
			sAriaText = this._getAriaAndTooltipText();
		}
		return sAriaText;
	};

	/**
	 * Returns value that indicates if the tooltip was configured as empty string (e.g. one whitespace).
	 *
	 * @private
	 * @returns {boolean} value that indicates true, if whitespace was set, false in any other case, also null/undefined
	 */
	RadialMicroChart.prototype._isTooltipSuppressed = function() {
		var sTooltip = this.getTooltip_Text();
		if (sTooltip && jQuery.trim(sTooltip).length === 0) {
			return true;
		} else {
			return false;
		}
	};

	/**
	 * Returns the part of the tooltip and ARIA text which is equal.
	 *
	 * @private
	 * @returns {string} value containing the tooltip and ARIA text
	 */
	RadialMicroChart.prototype._getAriaAndTooltipText = function() {
		var sTextValue;
		var fPercentage = this.getPercentage();
		if (fPercentage > 100) {
			fPercentage = 100;
		} else if (fPercentage < 0) {
			fPercentage = 0;
		}
		if (this._isValueColorInstanceOfValueColor()) {
			sTextValue = this._rb.getText("RADIALMICROCHART_ARIA_LABEL", [this.getPercentage(), this._getStatusText()]);
		} else {
			sTextValue = this._rb.getText("RADIALMICROCHART_ARIA_LABEL", [fPercentage, sap.m.ValueColor.Neutral]);
		}
		return sTextValue;
	};

	/**
	 * Returns the status text based on color value (to be available for other languages also)
	 *
	 * @private
	 * @returns {string} value containing the status text
	 */
	RadialMicroChart.prototype._getStatusText = function() {
		var sValueColor = this.getValueColor();
		switch (sValueColor) {
			case sap.m.ValueColor.Error:
				return this._rb.getText("SEMANTIC_COLOR_ERROR");
			case sap.m.ValueColor.Critical:
				return this._rb.getText("SEMANTIC_COLOR_CRITICAL");
			case sap.m.ValueColor.Good:
				return this._rb.getText("SEMANTIC_COLOR_GOOD");
			default:
				return this._rb.getText("SEMANTIC_COLOR_NEUTRAL");
		}
	};

	/**
	 * Adds the title attribute to show the tooltip when the mouse enters the chart.
	 *
	 * @private
	 */
	RadialMicroChart.prototype._addTitleAttribute = function() {
		if (!this.$().attr("title")) {
			this.$().attr("title", this.getTooltip_AsString());
		}
	};

	/**
	 * Removes the title attribute to hide the tooltip when the mouse leaves the chart.
	 *
	 * @private
	 */
	RadialMicroChart.prototype._removeTitleAttribute = function() {
		if (this.$().attr("title")) {
			this.$().removeAttr("title");
		}
	};

	/**
	 * Binds the handlers for mouseenter mouseleave events.
	 *
	 * @private
	 */
	RadialMicroChart.prototype._bindMouseEnterLeaveHandler = function () {
		this.$().bind("mouseenter.tooltip", this._addTitleAttribute.bind(this));
		this.$().bind("mouseleave.tooltip", this._removeTitleAttribute.bind(this));
	};

	/**
	 * Unbinds the handlers for mouseenter mouseleave events.
	 *
	 * @private
	 */
	RadialMicroChart.prototype._unbindMouseEnterLeaveHandler = function () {
		this.$().unbind("mouseenter.tooltip");
		this.$().unbind("mouseleave.tooltip");
	};

	return RadialMicroChart;
});

}; // end of sap/suite/ui/microchart/RadialMicroChart.js
