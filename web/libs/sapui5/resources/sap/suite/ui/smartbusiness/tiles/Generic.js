/*!
* SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP SE. All rights reserved
* @deprecated since SAPUI 5 version 1.28.0
*/
jQuery.sap.declare("sap.suite.ui.smartbusiness.tiles.Generic");jQuery.sap.require("sap.suite.ui.smartbusiness.lib.Util");sap.ui.core.Control.extend("sap.suite.ui.smartbusiness.tiles.Generic",{metadata:{properties:{evaluationId:"string",associationEvaluationId:{type:"string",defaultValue:null},header:"string",subheader:"string",mode:{type:"string",defaultValue:"RUNTIME"},size:{type:"string",defaultValue:"S"},dimension:{type:"string",defaultValue:null},frameType:{type:"string",defaultValue:"OneByOne"},contentOnly:{type:"boolean",defaultValue:false},kpiValueRequired:{type:"boolean",defaultValue:true},sapSystem:{type:"string",defaultValue:null},additionalFilters:{type:"object",defaultValue:{}},visible:{type:"boolean",defaultValue:true},click:{type:"boolean",defaultValue:true},onNavigation:{type:"function",defaultValue:null},tileConfiguration:{type:"object",defaultValue:null}},events:{navigation:{}},aggregations:{_tile:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}}});sap.suite.ui.smartbusiness.tiles.Generic.Mode={"RUNTIME":"RUNTIME","DUMMY":"DUMMY",};
sap.suite.ui.smartbusiness.tiles.Generic.prototype._addSystemAliasToUri=function(u,s){if(sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService){var p=sap.ushell.Container.getService("URLParsing");if(p){u=p.addSystemToServiceUrl(u,s);}}return u;};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.init=function(){this._oScalingFactor={"0":"","3":"Kilo","6":"Million","9":"Billion","-9":"Nano","-6":"Micro","-3":"Milli"};this.EVALUATION_DATA=null;this.evaluationApi=null;this.THRESHOLD_MAPPING={"TA":{prop:'TARGET_VALUE',},"CL":{prop:'CRITICAL_LOW_VALUE'},"CH":{prop:'CRITICAL_HIGH_VALUE'},"WL":{prop:'WARNING_LOW_VALUE'},"WH":{prop:'WARNING_HIGH_VALUE'},"TC":{prop:'TREND_VALUE',},"RE":{prop:"REFERENCE_VALUE"}};for(var e in this.THRESHOLD_MAPPING){var p=this.THRESHOLD_MAPPING[e].prop;this[p]=null;}this.setAggregation("_tile",new sap.suite.ui.commons.GenericTile({}));};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.onBeforeRendering=function(){};
sap.suite.ui.smartbusiness.tiles.Generic.prototype._initODataMetadata=function(){var s=this._addSystemAliasToUri(this.evaluationApi.getODataUrl(),this.getSapSystem());var p=sap.suite.ui.smartbusiness.lib.Util.odata.properties(s,this.evaluationApi.getEntitySet());var c=[];c.push(this.evaluationApi.getKpiMeasureName());if(this.getDimension()){c.push(this.getDimension());}this.LABEL_PROPERTY_MAPPING=p.getLabelMappingObject();this.TEXT_PROPERTY_MAPPING=p.getTextPropertyMappingObject();this.UOM_PROPERTY_MAPPING=p.getUnitPropertyMappingObject();};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.renderTile=function(){var a=this.getEvaluationId();if(this.isAssociatedKpi()){a=this.getAssociationEvaluationId();}this.setLoadingState();this.oData_Call_Ref_Evaluation_Details=sap.suite.ui.smartbusiness.drilldown.lib.Configuration.getEvaluationById({id:a,cache:true,filters:true,thresholds:true,sapSystem:this.getSapSystem(),success:function(b){if(b.ID){this.EVALUATION_DATA=b;if(this.EVALUATION_DATA.hasOwnProperty("DECIMAL_PRECISION")&&(typeof this.EVALUATION_DATA.DECIMAL_PRECISION=="undefined")){this.EVALUATION_DATA.DECIMAL_PRECISION=-1;}this.evaluationApi=sap.suite.ui.smartbusiness.lib.Util.kpi.parseEvaluation(b);this.evaluationApi.parse_sapclient();this._initODataMetadata();this._fetchKpiValue(function(){if(!this.getVisible()){this.$().css("opacity","0.2");}else{this.$().show(1000);}if(this.getClick())this.$().off("click");else this.$().click(function(){return false;});this._initThresholdPopOver();try{this.doProcess();}catch(e){jQuery.sap.log.error("Error in doProcess() : "+e.message);this.setFailedState();}});}else{this.logError("Empty results for evaluation Id : "+a);}},error:function(e){this.logError(e);},context:this})};
sap.suite.ui.smartbusiness.tiles.Generic.prototype._getOtherThresholdMeasures=function(){var t=this.EVALUATION_DATA.VALUES.results;var o={};if(this.evaluationApi.getThresholdValueType()=="MEASURE"||this.evaluationApi.getThresholdValueType()=="RELATIVE"){t.forEach(function(a){var m=a.COLUMN_NAME;if(m){var b=this.THRESHOLD_MAPPING[a.TYPE];if(b){o[b.prop]=m;}}},this);return o;}else{t.forEach(function(a){var b=this.THRESHOLD_MAPPING[a.TYPE];if(b){this[b.prop]=a.FIXED;}},this);return null;}};
sap.suite.ui.smartbusiness.tiles.Generic.prototype._getThresholdsValues=function(q,t){if(t){for(var e in t){this[e]=q[t[e]];}}};
sap.suite.ui.smartbusiness.tiles.Generic.prototype._fetchKpiValue=function(c){if(this.getKpiValueRequired()){var k=this.evaluationApi.getKpiMeasureName();var t=this._getOtherThresholdMeasures();var a=[k];if(t){a.push(this.evaluationApi.getKpiMeasureName());for(var e in t){a.push(t[e]);}}var u=this.UOM_PROPERTY_MAPPING[k];var b=this.getUrlFilters();var d=this.evaluationApi.getFilters()["results"];var q=sap.suite.ui.smartbusiness.lib.Util.odata.getUri({serviceUri:this._addSystemAliasToUri(this.evaluationApi.getODataUrl(),this.getSapSystem()),entitySet:this.evaluationApi.getEntitySet(),measure:a,dimension:null,filter:this.getAllFilters()});var T=this;var f=this.getEvaluationId();if(this.isAssociatedKpi()){f=this.getAssociationEvaluationId();}this.Fetch_Kpi_Value_Success=function(h){if(h&&h.results.length&&h.results[0][k]){var r=h.results[0];T.KPI_VALUE=r[k];T.UOM="";if(u){T.UOM=r[u];}T._getThresholdsValues(r,t);sap.suite.ui.smartbusiness.lib.Util.cache.setKpiDetailsById(f,h);if(T.evaluationApi.getThresholdValueType()=="MEASURE"){var i,v=T.evaluationApi.getValues().results;for(i=0;i<v.length;i++){if(v[i].TYPE=="WL"){T.WARNING_LOW_VALUE=r[v[i].COLUMN_NAME];}if(v[i].TYPE=="CL"){T.CRITICAL_LOW_VALUE=r[v[i].COLUMN_NAME];}if(v[i].TYPE=="CH"){T.CRITICAL_HIGH_VALUE=r[v[i].COLUMN_NAME];}if(v[i].TYPE=="WH"){T.WARNING_HIGH_VALUE=r[v[i].COLUMN_NAME];}}}else if(T.evaluationApi.getThresholdValueType()=="RELATIVE"){var i,j,v=T.evaluationApi.getValues().results;for(i=0;i<v.length;i++){if(v[i].TYPE=="TA"){j=r[v[i].COLUMN_NAME];break;}}for(i=0;i<v.length;i++){if(v[i].TYPE=="WL"){T.WARNING_LOW_VALUE=Number(j)*v[i].FIXED/100;}if(v[i].TYPE=="CL"){T.CRITICAL_LOW_VALUE=Number(j)*v[i].FIXED/100;}if(v[i].TYPE=="CH"){T.CRITICAL_HIGH_VALUE=Number(j)*v[i].FIXED/100;}if(v[i].TYPE=="WH"){T.WARNING_HIGH_VALUE=Number(j)*v[i].FIXED/100;}}}if(sap.suite.ui.smartbusiness.lib.Util.cache.current_calls[f]){var x=sap.suite.ui.smartbusiness.lib.Util.cache.current_calls[f];delete sap.suite.ui.smartbusiness.lib.Util.cache.current_calls[f];x.resolve();}c.call(T);}else{T.setNoData();}};this.Fetch_Kpi_Value_Fail=function(h){if(sap.suite.ui.smartbusiness.lib.Util.cache.current_calls[f]){sap.suite.ui.smartbusiness.lib.Util.cache.current_calls[f].reject();}T.logError("Error Fetching Kpi Value : "+q.uri);};var g=sap.suite.ui.smartbusiness.lib.Util.cache.getKpiDetailsById(f);if(g){this.Fetch_Kpi_Value_Success(g);}else if(sap.suite.ui.smartbusiness.lib.Util.cache.current_calls[f]){jQuery.when(sap.suite.ui.smartbusiness.lib.Util.cache.current_calls[f]).then(function(){var h=sap.suite.ui.smartbusiness.lib.Util.cache.getKpiDetailsById(f);T.Fetch_Kpi_Value_Success(h);},function(h){T.logError(h)});}else{sap.suite.ui.smartbusiness.lib.Util.cache.current_calls[f]=jQuery.Deferred();this.OData_Call_Ref_Fetch_Kpi_Value=q.model.read(q.uri,null,null,true,this.Fetch_Kpi_Value_Success,this.Fetch_Kpi_Value_Fail);}}else{c.call(this,null);}};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.getAllFilters=function(){var e=this.evaluationApi.getFilters()["results"]||[];var u=this.getAdditionalFilters()||[];var t={};u.forEach(function(o){t[o.NAME]=true;});return u.concat(e.filter(function(o){return!t[o.NAME];}));return ret;};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.getUrlFilters=function(){var p=sap.suite.ui.smartbusiness.drilldown.lib.Hash.getApplicationParameters(["viewId"]);var u=[];for(var k in p){var f=p[k];if(f&&f.length){f.forEach(function(F){var O={};O["NAME"]=k;O["OPERATOR"]="EQ";O["VALUE_1"]=F;O["VALUE_2"]="";O["TYPE"]="FI";u.push(O);});}}return u;};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.onAfterRendering=function(){try{if(this.getMode()==sap.suite.ui.smartbusiness.tiles.Generic.Mode.RUNTIME){this.renderTile();}else{this.doDummyProcess();}}catch(e){jQuery.sap.log.error(e);this.setFailedState();}};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.numberOfLeadingZeros=function(n){n=String(n);var c=0;var d=n.indexOf('.');if(d==-1)return 0;if(Number(n.split('.')[0])!=0)return 0;var i=d+1;while(n[i++]=='0'){++c;}return c;};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.formatValue=function(v,s,M){M=M||4;var u={3:"K",6:"M",9:"B",12:"T",0:""};u["-3"]="m";u["-6"]="u";u["-9"]="n";u["-12"]="t";u["-2"]="%";var t,p,a;t=Number(v).toPrecision(M);var z=this.numberOfLeadingZeros(t);if(z>0&&s<0){p=t*Math.pow(10,z+M);a=-(z+M);}else{p=Number(t.split("e")[0]);a=Number(t.split("e")[1])||0;}if(!v&&v!=0)return{value:"",unitPrefix:""};if(s>=0){if(a%3!=0){if(a%3==2){if(a+1==s){a=a+1;p=p/10;}else{a=a-2;p=p*100;}}else{if(a+2==s){a=a+2;p=p/100;}else{a--;p=p*10;}}}else if(a==15){p=p*1000;a=12;}}else{if(s=="-2"){var x=this.formatValue((v*100),0);}else if(a>=0&&v<10&&s=="-3"){p=v*Math.pow(10,3);a=-3;}else if(a>=0)return this.formatValue(v,0);else{a=Math.abs(a);s=Math.abs(s);if(s>a){p=p/(Math.pow(10,a%3));a=a-(a%3);}else{var d=a-s;p=p/(Math.pow(10,d));a=a-d;}a=0-a;}}p+="";if(s=="-2"){var b=(x.unitPrefix=="")?Number(x.value+"").toFixed(4-(x.value+"").indexOf('.')):Number(x.value+"").toFixed(3-(x.value+"").indexOf('.'));return{value:Number(b),unitPrefix:(x.unitPrefix)+u[-2]};}p=Number(p).toFixed(4-p.indexOf('.'));return{value:Number(p),unitPrefix:u[a]};};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.formatOdataObjectToString=function(v){if(v&&v.constructor==Object){if(v.__edmType=="Edm.Time"){var m=v.ms;var s=Math.floor((m/1000)%60);var a=Math.floor((m/60000)%60);var h=Math.floor((m/3600000)%24);return h+"H"+a+"M"+s+"S";}}return v;};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.getScalingFactorMapping=function(){return this._oScalingFactor;};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.isAssociatedKpi=function(){if(this.getAssociationEvaluationId()&&(this.getAssociationEvaluationId()!==this.getEvaluationId())){return true;}return false;};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.getTileControl=function(){return this.getAggregation("_tile");};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.setFailedState=function(){if(this.getTileControl().setState){this.getTileControl().setState(sap.suite.ui.commons.LoadState.Failed);}};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.setLoadingState=function(){if(this.getTileControl().setState){this.getTileControl().setState(sap.suite.ui.commons.LoadState.Loading);}};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.setDoneState=function(){if(this.getTileControl().setState){this.getTileControl().setState(sap.suite.ui.commons.LoadState.Loaded);}};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.logError=function(e){jQuery.sap.log.error(e);this.setFailedState();};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.setNoData=function(){this.getModel().setProperty('/footerNum',"No data available");this.getModel().setProperty('/footerComp',"No data available");this.getModel().setProperty('/header',this.EVALUATION_DATA.INDICATOR_TITLE);this.getModel().setProperty('/subheader',this.EVALUATION_DATA.TITLE);this.setDoneState();};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.abortODataCalls=function(){var _=function(r){if(r){r.abort();}};_(this.comparisionChartODataRef);_(this.OData_Call_Ref_Fetch_Kpi_Value);_(this.areaChartODataRef);};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.onExit=function(){this.abortODataCalls();};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.isACurrencyMeasure=function(m){jQuery.sap.require("sap.suite.ui.smartbusiness.lib.Util");var u=this.EVALUATION_DATA.ODATA_URL;var e=this.EVALUATION_DATA.ODATA_ENTITYSET;return sap.suite.ui.smartbusiness.lib.Util.odata.getFormattingMetadata(u,e,m)._hasCurrency;};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.libFormat=function(n,i,c,o){i=i||false;c=c||null;o=o||false;var s=this.EVALUATION_DATA.SCALING;if(o){s=0;}jQuery.sap.require("sap.suite.ui.smartbusiness.lib.Formatter");return sap.suite.ui.smartbusiness.lib.Formatter.getLocaleFormattedValue(Number(n),s,this.EVALUATION_DATA.DECIMAL_PRECISION,i,c);};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.getDummyDataForNumericTile=function(){var d={subheader:"Expenses by Region",header:"Comparative Annual Totals",footerNum:"",footerComp:"",scale:"M",unit:"EUR",value:"10.34",size:"Auto",color:"Good",};return this._cleanUpDummyData(d);};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.getDummyDataForBulletTile=function(){var d={subheader:"Lorem Epsom",header:"Lorem Epsom",footerNum:"",footerComp:"Compare across regions",frameType:"OneByOne",scale:"M",actual:{value:120,color:sap.suite.ui.commons.InfoTileValueColor.Good},targetValue:100,thresholds:[{value:0,color:sap.suite.ui.commons.InfoTileValueColor.Error},{value:50,color:sap.suite.ui.commons.InfoTileValueColor.Critical},{value:150,color:sap.suite.ui.commons.InfoTileValueColor.Critical},{value:200,color:sap.suite.ui.commons.InfoTileValueColor.Error}],showActualValue:true,showTargetValue:true};return this._cleanUpDummyData(d);};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.getDummyDataForComparisonTile=function(){var d={subheader:"Expenses By Region",header:"Comparative Anual Totals",footerNum:"",footerComp:"Compare across regions",scale:"MM",unit:"EUR",value:8888,data:[{title:"Americas",value:10},{title:"EMEA",value:50},{title:"APAC",value:-20}],};return this._cleanUpDummyData(d);};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.getDummyDataForMeasureComparisonTile=function(){var d={subheader:"Lorem Epsom",header:"Lorem Epsom",footerNum:"",footerComp:"Compare across regions",scale:"M",unit:"EUR",value:8888,data:[{title:"Measure 1",value:50,color:"Good"},{title:"Measure 2",value:-20,color:"Error"},{title:"Measure 3",value:10,color:"Critical"}],};return this._cleanUpDummyData(d);};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.getDummyDataForAreaChartTile=function(){var d={subheader:"Expenses By Region",header:"Comparative Anual Totals",footerNum:"",footerComp:"Compare across regions",scale:"MM",unit:"EUR",value:8888,size:"S",frameType:"OneByOne",state:sap.suite.ui.commons.LoadState.Loaded,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70},]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}};return this._cleanUpDummyData(d);};
sap.suite.ui.smartbusiness.tiles.Generic.prototype._cleanUpDummyData=function(d){d.header=this.getHeader()||"Lorem Epsom";d.subheader=this.getSubheader()||"Lorem Epsom";return d;};
sap.suite.ui.smartbusiness.tiles.GenericRenderer={};
sap.suite.ui.smartbusiness.tiles.GenericRenderer.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("drilldownKpiTile");r.writeClasses();r.write(">");r.renderControl(c.getTileControl());r.write("</div>");};
sap.suite.ui.smartbusiness.tiles.Generic.prototype._closePopover=function(){if(this._popOver.isOpen()){this._popOver.close();}};
sap.suite.ui.smartbusiness.tiles.Generic.prototype._initThresholdPopOver=function(){var m=new sap.ui.model.json.JSONModel(a);var a={"THRESHOLDS":[]};var l=new sap.ui.core.Locale(sap.ui.getCore().getConfiguration().getLanguage());jQuery.sap.require("sap.ui.core.format.NumberFormat");this.VALUE_FORMATTER=sap.ui.core.format.NumberFormat.getFloatInstance({style:"standard"},l);var t=new sap.m.List({});t.bindItems("/THRESHOLDS",new sap.m.ObjectListItem({title:"{name}",number:"{value}",numberState:sap.ui.core.ValueState.None}));t.setModel(m);var b={};b.targetVal=this.TARGET_VALUE;b.critLowVal=this.CRITICAL_LOW_VALUE;b.warnLowVal=this.WARNING_LOW_VALUE;b.critHighVal=this.CRITICAL_HIGH_VALUE;b.warnHighVal=this.WARNING_HIGH_VALUE;if(this.evaluationApi.getScaling()==-2){for(var e in b){if(b[e]){b[e]=(b[e]*100)+" %";}}}if(this.evaluationApi.isMaximizingKpi()){if(b.targetVal!=undefined)a.THRESHOLDS.push({name:this.getModel("i18n").getProperty("TARGET_LABEL"),value:this.VALUE_FORMATTER.format(b.targetVal)});if(b.warnLowVal!=undefined)a.THRESHOLDS.push({name:this.getModel("i18n").getProperty("WARNING"),value:this.VALUE_FORMATTER.format(b.warnLowVal)});if(b.critLowVal!=undefined)a.THRESHOLDS.push({name:this.getModel("i18n").getProperty("CRITICAL"),value:this.VALUE_FORMATTER.format(b.critLowVal)});}else if(this.evaluationApi.isMinimizingKpi()){if(b.critHighVal!=undefined)a.THRESHOLDS.push({name:this.getModel("i18n").getProperty("CRITICAL"),value:this.VALUE_FORMATTER.format(b.critHighVal)});if(b.warnHighVal!=undefined)a.THRESHOLDS.push({name:this.getModel("i18n").getProperty("WARNING"),value:this.VALUE_FORMATTER.format(b.warnHighVal)});if(b.targetVal!=undefined)a.THRESHOLDS.push({name:this.getModel("i18n").getProperty("TARGET_LABEL"),value:this.VALUE_FORMATTER.format(b.targetVal)});}else if(this.evaluationApi.isTargetKpi()){if(b.critHighVal!=undefined)a.THRESHOLDS.push({name:this.getModel("i18n").getProperty("CRITICAL_HIGH_LABEL"),value:this.VALUE_FORMATTER.format(b.critHighVal)});if(b.warnHighVal!=undefined)a.THRESHOLDS.push({name:this.getModel("i18n").getProperty("WARNING_HIGH_LABEL"),value:this.VALUE_FORMATTER.format(b.warnHighVal)});if(b.targetVal!=undefined)a.THRESHOLDS.push({name:this.getModel("i18n").getProperty("TARGET_LABEL"),value:this.VALUE_FORMATTER.format(b.targetVal)});if(b.warnLowVal!=undefined)a.THRESHOLDS.push({name:this.getModel("i18n").getProperty("WARNING_LOW_LABEL"),value:this.VALUE_FORMATTER.format(b.warnLowVal)});if(b.critLowVal!=undefined)a.THRESHOLDS.push({name:this.getModel("i18n").getProperty("CRITICAL_LOW_LABEL"),value:this.VALUE_FORMATTER.format(b.critLowVal)});}m.setData(a);var c=new sap.m.Bar({contentMiddle:[new sap.m.Label({text:this.getModel("i18n").getProperty("THRESHOLD_LABEL")})],contentRight:(jQuery.device.is.phone)?[]:[new sap.m.Button({icon:"sap-icon://decline",width:"2.375rem",press:jQuery.proxy(this._closePopover,this)})]});this._popOver=new sap.m.ResponsivePopover({modal:false,enableScrolling:true,verticalScrolling:true,horizontalScrolling:false,placement:sap.m.PlacementType.Auto,contentWidth:"18rem",customHeader:c,content:[t]});var s=sap.ui.getCore().getUIArea(sap.ui.getCore().getStaticAreaRef());s.addContent(this._popOver,true);};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.showThresholds=function(){this._popOver.openBy(this);};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.tilePressed=function(){if(!this.isAssociatedKpi()&&this.getMode()==sap.suite.ui.smartbusiness.tiles.Generic.Mode.RUNTIME){if(this.getTileType()=="NT"||this.getTileType()=="AT"){this.showThresholds();}else if(this.getTileType()=="TT"){this.showTTPopup&&this.showTTPopup();}else if(this.getTileType()=="CT"){this.showCTPopup&&this.showCTPopup();}else if(this.getTileType()=="CM"){this.showCMPopup&&this.showCMPopup();}}else if(this.isAssociatedKpi()&&this.getMode()==sap.suite.ui.smartbusiness.tiles.Generic.Mode.RUNTIME){var s=sap.suite.ui.smartbusiness.drilldown.lib.Hash.getStartupParameters();var a=sap.suite.ui.smartbusiness.drilldown.lib.Hash.getApplicationParameters(["viewId"]);s["evaluationId"]=[];s["chipId"]=[];var b=this.getAssociationEvaluationId();s.evaluationId.push(b);jQuery.sap.require("sap.suite.ui.smartbusiness.Configuration");s.chipId.push(sap.suite.ui.smartbusiness.Configuration.Constants.SMARTBUSINESS_NULL_VALUE);sap.suite.ui.smartbusiness.drilldown.lib.Hash.setApplicationParameters(a,false);sap.suite.ui.smartbusiness.drilldown.lib.Hash.setStartupParameters(s,false);var c=sap.suite.ui.smartbusiness.drilldown.lib.Configuration.getConfigurationFromCache(b);try{if(c){configurationApi=sap.suite.ui.smartbusiness.drilldown.lib.Configuration.parse(b,c);if(configurationApi){var d=configurationApi.getDefaultView();if(d){var v=d.getId();if(v){this.fireNavigation();sap.suite.ui.smartbusiness.drilldown.lib.Hash.updateApplicationParameters({"viewId":[v]},false);}}}}}catch(e){}this.fireNavigation();sap.suite.ui.smartbusiness.drilldown.lib.Hash.updateHash();}};
sap.suite.ui.smartbusiness.tiles.Generic.prototype.hasSomeValue=function(){var f=true;if(arguments.length){for(var i=0,l=arguments.length;i<l;i++){if(arguments[i]||arguments[i]=="0"){}else{f=false;break;}}}else{f=false;}return f;};
