/*!
* SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP SE. All rights reserved
* @deprecated since SAPUI 5 version 1.28.0
*/
jQuery.sap.declare("sap.suite.ui.smartbusiness.drilldown.lib.MiniChartManager");sap.suite.ui.smartbusiness.drilldown.lib.MiniChartManager=(function(){"use strict";var h=[];var V={NT:"Numeric",CT:"Comparison",AT:"Bullet",TT:"AreaChart",CM:"MeasureComparison"};var a={"NT":5,"AT":4,"CT":3,"TT":2,"CM":1,"HT":0};var u=sap.ushell.Container.getService("URLParsing");var g=function(p,o){var e="";if(o.isAssociated())e=o.getReferenceEvaluationId();else e=o.getReferenceEvaluationId();var r=[];var d="";if(sap.suite.ui.smartbusiness.lib.Util.cache.getEvaluationById(e))d=sap.suite.ui.smartbusiness.lib.Util.cache.getEvaluationById(e).ODATA_URL;if(d){var U=u.addSystemToServiceUrl(sap.suite.ui.smartbusiness.lib.Util.cache.getEvaluationById(e).ODATA_URL,p.sapSystem);var b=sap.suite.ui.smartbusiness.lib.Util.cache.getEvaluationById(e).ODATA_ENTITYSET;var c=sap.suite.ui.smartbusiness.lib.Util.odata.getAllDimensions(U,b);for(var i=0;i<p.urlFilters.length;i++){if(c.indexOf(p.urlFilters[i].NAME)!=-1)r.push(p.urlFilters[i]);}}return r;};return{renderHeaders:function(p){if(p.allTiles.length){var b=p.allTiles;h=[];b.forEach(function(o){var t=o.getVisualizationType();if(V[t]){var c=V[t];jQuery.sap.require("sap.suite.ui.smartbusiness.tiles."+c);if(sap.suite.ui.smartbusiness.tiles[c]){var f=g(p,o);var d=new sap.suite.ui.smartbusiness.tiles[c]({dimension:o.getDimension(),evaluationId:o.getEvaluationId(),associationEvaluationId:o.getReferenceEvaluationId(),sapSystem:p.sapSystem,additionalFilters:f,tileConfiguration:o.getTileConfiguration(),navigation:p.onNavigation,layoutData:new sap.ui.layout.GridData({span:"L6 M6 S6"})}).addStyleClass("drilldownKpiTiles");h.push(d);var e=new sap.suite.ui.commons.HeaderCellItem();var i=new sap.suite.ui.commons.HeaderCell();if(jQuery.device.is.desktop){p.headerContainer.addItem(d);}else{p.headerContainer.addContent(d);}if(p.urlFilters.length){if(f&&f.length){}else{d.setVisible(false);d.setClick(false);}}}else{jQuery.sap.log.error("Ignoring the tile "+c+" : Not Implemented Yet");}}else{jQuery.sap.log.error("No Tile Mapping  for Visualisation Type : "+t);}});}},hashChangeListner:function(p){if(p.firstTimeFlag){var b=[];var c=p.allTiles;for(var i=0;i<c.length;i++){var d=null;var o=c[i];var e=h[i];if(e){var f=g(p,o);if(p.urlFilters.length){if(f&&f.length){e.$().css("opacity","1");e.setAdditionalFilters(f);e.$().off("click");}else{e.$().css("opacity","0.2");e.$().click(function(){return false;});}}else{e.$().css("opacity","1");e.setAdditionalFilters(f);e.$().off("click");}}}}},}})();
