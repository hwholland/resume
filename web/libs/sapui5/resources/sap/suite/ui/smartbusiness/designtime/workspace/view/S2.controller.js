/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP SE. All rights reserved
 * @deprecated since SAPUI 5 version 1.28.0
 */
jQuery.sap.require("sap.ca.scfld.md.controller.ScfldMasterController");jQuery.sap.require("sap.suite.ui.smartbusiness.lib.Util");sap.ca.scfld.md.controller.ScfldMasterController.extend("sap.suite.ui.smartbusiness.designtime.workspace.view.S2",{onInit:function(){var t=this;this.errorMessages=[];this.errorModel=new sap.ui.model.json.JSONModel();this.errorModel.setData(this.errorMessages);this.errorState=false;this.oApplicationFacade.masterListControllerRef=this;this.utilsRef=sap.suite.ui.smartbusiness.lib.Util.utils;t.selectedGroupItemKey="workspace";t.selectedGroupItemIndex=0;t.lastSavedIndex=0;t.metadataRef=sap.suite.ui.smartbusiness.Adapter.getService("ModelerServices");t.oApplicationFacade.getODataModel().setSizeLimit(100000);jQuery.sap.require("sap.suite.ui.smartbusiness.lib.AppSetting");sap.suite.ui.smartbusiness.lib.AppSetting.init({oControl:this.byId("list"),hideElement:"list",i18n:{checkBoxText:t.oApplicationFacade.getResourceBundle().getText("CHECKBOX_TEXT"),saveText:t.oApplicationFacade.getResourceBundle().getText("OK"),cancelText:t.oApplicationFacade.getResourceBundle().getText("CANCEL"),settingsText:t.oApplicationFacade.getResourceBundle().getText("SETTINGS"),settingInfoTitle:t.oApplicationFacade.getResourceBundle().getText("SETTING_INFO_TITLE"),settingInfoText:t.oApplicationFacade.getResourceBundle().getText("SETTING_INFO_TEXT")},title:t.oApplicationFacade.getResourceBundle().getText("SETTINGS_SB"),});this.settingModel=sap.ui.getCore().getModel("SB_APP_SETTING")||new sap.ui.model.json.JSONModel();sap.ui.getCore().setModel(this.settingModel,"SB_APP_SETTING");this.getView().setModel(sap.ui.getCore().getModel("SB_APP_SETTING"),"SB_APP_SETTING");t.lastGroupingOption=new sap.ui.model.Sorter("MANUAL_ENTRY",true,function(c){var i=c.getProperty("MANUAL_ENTRY");var g="";switch(i){case 1:g=t.oApplicationFacade.getResourceBundle().getText("MY_FAVOURITES");break;case 0:g=t.oApplicationFacade.getResourceBundle().getText("MY_LAST_WORKED_UPON");break;default:g=t.oApplicationFacade.getResourceBundle().getText("ALL_KPI_OPI");}return{key:g,text:g}});t.lastSortingOrder=new sap.ui.model.Sorter("CHANGED_ON",true,null);if(!(t.oApplicationFacade.currentLogonHanaUser)){var a=function(u){t.oApplicationFacade.currentLogonHanaUser=u;};var b=function(d,s,x){t.oApplicationFacade.currentLogonHanaUser=null;sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("YMSG_ERROR_RETRIEVING_DATA"),d.response.body);t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("YMSG_ERROR_RETRIEVING_DATA"),"description":d.response.body});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);};this.metadataRef.getSessionUser({async:true,success:a,error:b,model:this.oApplicationFacade.getODataModel()});}this.defaultHeaderFooterOptions={sI18NMasterTitle:"MASTER_TITLE",sI18NSearchFieldPlaceholder:"SEARCHFIELD_PLACEHOLDER",onEditPress:function(i){t.toggleListSelection(i);},oFilterOptions:{onFilterPressed:function(c){t.getView().filterOptionDialog=t.getView().filterOptionDialog||t.createFilterOptions();t.getView().filterOptionDialog.open();}},oSortOptions:{onSortPressed:function(c){t.getView().sortOptionDialog=t.getView().sortOptionDialog||t.createSortOptions();t.getView().sortOptionDialog.open();}},oGroupOptions:{onGroupPressed:function(c){if(t.byId("groupOptionsDialog")){t.byId("groupOptionsDialog").destroy();}t.getView().groupOptionDialog=t.createGroupOptions();t.getView().groupOptionDialog.open();t.byId("groupOptionsDialog").getContent()[0].getItems()[t.selectedGroupItemIndex].setSelected(true);}},onAddPress:function(c){sap.suite.ui.smartbusiness=sap.suite.ui.smartbusiness||{};sap.suite.ui.smartbusiness.modelerAppCache=sap.suite.ui.smartbusiness.modelerAppCache||{};sap.suite.ui.smartbusiness.modelerAppCache.createSBKPI=sap.suite.ui.smartbusiness.modelerAppCache.createSBKPI||{};sap.suite.ui.smartbusiness.modelerAppCache.createSBKPI.appFromWorkspace=true;sap.suite.ui.smartbusiness.lib.Util.utils.appToAppNavigation({action:"createSBKPI"});},buttonList:[]};this.multiSelectHeaderFooterOptions={bSuppressBookmarkButton:{},onBack:function(){sap.suite.ui.smartbusiness.lib.Util.utils.appToAppNavigation({});},onEditPress:function(i){t.toggleListSelection(i);},buttonList:[{sId:"favouriteButton",sI18nBtnTxt:"FAVOURITE_BUTTON_TEXT",onBtnPressed:function(c){t.errorMessages=[];if(t.byId("list").getSelectedContexts().length){var s=t.byId("list").getSelectedContexts();var p={};var d=[];var f=null;var g=true;var D=t.oApplicationFacade.getODataModel();var h=[];for(var i=0,l=s.length;i<l;i++){if(!(s[i].getProperty("MANUAL_ENTRY"))){h.push({ID:s[i].getProperty("ID"),TYPE:s[i].getProperty("ENTITY_TYPE"),USER_ID:t.oApplicationFacade.currentLogonHanaUser,MANUAL_ENTRY:1,LAST_WORKED_ON:null});}}if(h.length){t.metadataRef.update("INDICATOR_FAVOURITE",h,null,function(j){sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_IN_SUCCESS_KPI_OPI"));t.refreshMasterList();},function(j){sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_KPI_OPI_ERROR"));t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_KPI_OPI_ERROR"),"description":j.responseText});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}else{}}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_KPI_OPI_SELECTED"));}}},{sId:"removeFavouriteButton",sI18nBtnTxt:"REMOVE_FAV_BUTTON_TEXT",onBtnPressed:function(c){t.errorMessages=[];if(t.byId("list").getSelectedContexts().length){var s=t.byId("list").getSelectedContexts();var d=[];var p=null;var f=true;var D=t.oApplicationFacade.getODataModel();var g=[];for(var i=0,l=s.length;i<l;i++){if(s[i].getProperty("MANUAL_ENTRY")){g.push({ID:s[i].getProperty("ID"),TYPE:s[i].getProperty("ENTITY_TYPE"),USER_ID:t.oApplicationFacade.currentLogonHanaUser,MANUAL_ENTRY:1,LAST_WORKED_ON:null});}}if(g.length){t.metadataRef.remove("INDICATOR_FAVOURITE",g,function(h){sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("REM_FAVOURITE_BATCH_SAVE_SUCCESS_KPI_OPI"));t.refreshMasterList();},function(h){sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_BATCH_SAVE_ERROR_KPI_OPI"));t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_BATCH_SAVE_ERROR_KPI_OPI"),"description":""});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}else{}}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_KPI_OPI_SELECTED"));}}},{sId:"deleteButton",sI18nBtnTxt:"DELETE_BUTTON_TEXT",onBtnPressed:function(c){t.errorMessages=[];if(t.byId("list").getSelectedContexts().length){sap.m.MessageBox.show(t.oApplicationFacade.getResourceBundle().getText("WARNING_INDICATOR_DELETE_KPI_OPI"),"sap-icon://hint",t.oApplicationFacade.getResourceBundle().getText("INDICATOR_DELETE_ALERT_TITLE"),[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],function(c){if(c=="OK"){var s=t.byId("list").getSelectedContexts();var p={};var d=[];var f=true;var D=t.oApplicationFacade.getODataModel();var g=[];for(var i=0,l=s.length;i<l;i++){g.push({ID:s[i].getProperty("ID"),IS_ACTIVE:s[i].getProperty("IS_ACTIVE")});}if(g.length){t.metadataRef.remove("INDICATOR",g,function(h){sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("DELETE_BATCH_SAVE_SUCCESS_KPI_OPI"));t.refreshMasterList();},function(h){sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("DELETE_BATCH_SAVE_ERROR_KPI_OPI"));t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("DELETE_BATCH_SAVE_ERROR_KPI_OPI"),"description":h.responseText});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}else{}}if(c=="CANCEL"){}});}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_KPI_OPI_SELECTED"));}}}]};if(jQuery.sap.getUriParameters().get("sap-sb-enable-export")=="true"){var e={sI18nBtnTxt:"EXPORT_INDICATORS_KPI_OPI",onBtnPressed:function(c){if(t.byId("list").getSelectedContexts().length){t.exportIndicators();}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_KPI_OPI_SELECTED"));}}};this.multiSelectHeaderFooterOptions.buttonList.unshift(e);}this.currentHeaderFooterOptions=this.defaultHeaderFooterOptions;},jsonForTestData:function(){return{"indicatorData":{"ID":"sample.sap.kpi","IS_ACTIVE":0,"INDICATOR":{"TITLE":"Sample KPI","DESCRIPTION":"This is a Sample KPI","TYPE":"KPI","GOAL_TYPE":"RA"},"TEXTS":[{"TITLE":"sample kpi from sap","DESCRIPTION":"Sample KPI for understanding KPI creation","LANGUAGE":"D"}],"TAGS":[{"TYPE":"EV","TAG":"a"}],"PROPERTIES":[{"TYPE":"EV","NAME":"p1","VALUE":"v1"}]},"evaluationData":{"ID":"sample.sap.kpi.evaluation1","IS_ACTIVE":0,"EVALUATION":{"DESCRIPTION":"Sample SAP Evaluation","INDICATOR":"sample.sap.kpi","ODATA_URL":"/sap/hba/r/sb/core/odata/SALESORDER_TEST.xsodata","VIEW_NAME":"","COLUMN_NAME":"TotalNetAmount","OWNER_NAME":"hewhomustnotbenamed","OWNER_E_MAIL":"hewhomustnotbenamed@sap.com","OWNER_ID":"hewhomustnotbenamed","CREATED_BY":"","CHANGED_BY":"","SCALING":3,"TITLE":"Sample SAP Evaluation","ENTITY_TYPE":"","ODATA_ENTITYSET":"Sales","ODATA_PROPERTY":"","SEMANTIC_OBJECT":"","ACTION":"","DATA_SPECIFICATION":"","GOAL_TYPE":"RA","INDICATOR_TYPE":"KPI","VALUES_SOURCE":"FIXED"},"FILTERS":[{"TYPE":"FI","NAME":"CompanyCode","OPERATOR":"EQ","VALUE_1":"1000","VALUE_2":""},{"TYPE":"FI","NAME":"CompanyCode","OPERATOR":"EQ","VALUE_1":"3000","VALUE_2":""}],"VALUES":[{"TYPE":"CH","FIXED":"160000050","ODATA_PROPERTY":""},{"TYPE":"WH","FIXED":"160000040","ODATA_PROPERTY":""},{"TYPE":"TA","FIXED":"160000030","ODATA_PROPERTY":""},{"TYPE":"CL","FIXED":"160000010","ODATA_PROPERTY":""},{"TYPE":"WL","FIXED":"160000020","ODATA_PROPERTY":""},{"TYPE":"TC","FIXED":"160000030","ODATA_PROPERTY":""}],"TEXTS":[{"LANGUAGE":"D","TITLE":"sample kpi evaluation","DESCRIPTION":"sample KPI evaluation"}],"TAGS":[{"TYPE":"EV","TAG":"a"}],"PROPERTIES":[{"TYPE":"EV","NAME":"p1","VALUE":"v1"}]},"chipsData":{"id":"","isActive":0,"CHIP":{"catalogId":"HANA_CATALOG","title":"Sample SAP KPI","description":"Sample SAP KPI","tileType":"NT","evaluationId":"sample.sap.kpi.evaluation1","url":"/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/components/tiles/indicatornumeric/NumericTileChip.xml","keywords":"","configuration":"{\"tileConfiguration\":\"{\\\"ADDITIONAL_APP_PARAMETERS\\\":\\\"{}\\\",\\\"TILE_PROPERTIES\\\":\\\"{\\\\\\\"id\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"evaluationId\\\\\\\":\\\\\\\"sample.sap.kpi.evaluation1\\\\\\\",\\\\\\\"tileType\\\\\\\":\\\\\\\"NT\\\\\\\",\\\\\\\"frameType\\\\\\\":\\\\\\\"OneByOne\\\\\\\",\\\\\\\"navType\\\\\\\":\\\\\\\"0\\\\\\\",\\\\\\\"semanticObject\\\\\\\":\\\\\\\"TotalNetAmount\\\\\\\",\\\\\\\"semanticAction\\\\\\\":\\\\\\\"analyzeSBKPIDetails\\\\\\\"}\\\",\\\"EVALUATION_FILTERS\\\":\\\"[{\\\\\\\"TYPE\\\\\\\":\\\\\\\"FI\\\\\\\",\\\\\\\"NAME\\\\\\\":\\\\\\\"CompanyCode\\\\\\\",\\\\\\\"VALUE_1\\\\\\\":\\\\\\\"1000\\\\\\\",\\\\\\\"OPERATOR\\\\\\\":\\\\\\\"EQ\\\\\\\",\\\\\\\"VALUE_2\\\\\\\":\\\\\\\"\\\\\\\"},{\\\\\\\"TYPE\\\\\\\":\\\\\\\"FI\\\\\\\",\\\\\\\"NAME\\\\\\\":\\\\\\\"CompanyCode\\\\\\\",\\\\\\\"VALUE_1\\\\\\\":\\\\\\\"3000\\\\\\\",\\\\\\\"OPERATOR\\\\\\\":\\\\\\\"EQ\\\\\\\",\\\\\\\"VALUE_2\\\\\\\":\\\\\\\"\\\\\\\"}]\\\",\\\"EVALUATION_VALUES\\\":\\\"[{\\\\\\\"TYPE\\\\\\\":\\\\\\\"CH\\\\\\\",\\\\\\\"FIXED\\\\\\\":\\\\\\\"160000050\\\\\\\",\\\\\\\"COLUMN_NAME\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"ODATA_PROPERTY\\\\\\\":\\\\\\\"\\\\\\\"},{\\\\\\\"TYPE\\\\\\\":\\\\\\\"CL\\\\\\\",\\\\\\\"FIXED\\\\\\\":\\\\\\\"160000010\\\\\\\",\\\\\\\"COLUMN_NAME\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"ODATA_PROPERTY\\\\\\\":\\\\\\\"\\\\\\\"},{\\\\\\\"TYPE\\\\\\\":\\\\\\\"TA\\\\\\\",\\\\\\\"FIXED\\\\\\\":\\\\\\\"160000030\\\\\\\",\\\\\\\"COLUMN_NAME\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"ODATA_PROPERTY\\\\\\\":\\\\\\\"\\\\\\\"},{\\\\\\\"TYPE\\\\\\\":\\\\\\\"TC\\\\\\\",\\\\\\\"FIXED\\\\\\\":\\\\\\\"160000030\\\\\\\",\\\\\\\"COLUMN_NAME\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"ODATA_PROPERTY\\\\\\\":\\\\\\\"\\\\\\\"},{\\\\\\\"TYPE\\\\\\\":\\\\\\\"WH\\\\\\\",\\\\\\\"FIXED\\\\\\\":\\\\\\\"160000040\\\\\\\",\\\\\\\"COLUMN_NAME\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"ODATA_PROPERTY\\\\\\\":\\\\\\\"\\\\\\\"},{\\\\\\\"TYPE\\\\\\\":\\\\\\\"WL\\\\\\\",\\\\\\\"FIXED\\\\\\\":\\\\\\\"160000020\\\\\\\",\\\\\\\"COLUMN_NAME\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"ODATA_PROPERTY\\\\\\\":\\\\\\\"\\\\\\\"}]\\\",\\\"EVALUATION\\\":\\\"{\\\\\\\"ID\\\\\\\":\\\\\\\"sample.sap.kpi.evaluation1\\\\\\\",\\\\\\\"INDICATOR\\\\\\\":\\\\\\\"sample.sap.kpi\\\\\\\",\\\\\\\"INDICATOR_TYPE\\\\\\\":\\\\\\\"KPI\\\\\\\",\\\\\\\"INDICATOR_TITLE\\\\\\\":\\\\\\\"Sample KPI\\\\\\\",\\\\\\\"GOAL_TYPE\\\\\\\":\\\\\\\"RA\\\\\\\",\\\\\\\"TITLE\\\\\\\":\\\\\\\"Sample SAP Evaluation\\\\\\\",\\\\\\\"SCALING\\\\\\\":0,\\\\\\\"ODATA_URL\\\\\\\":\\\\\\\"/sap/hba/r/sb/core/odata/SALESORDER_TEST.xsodata\\\\\\\",\\\\\\\"ODATA_ENTITYSET\\\\\\\":\\\\\\\"Sales\\\\\\\",\\\\\\\"VIEW_NAME\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"COLUMN_NAME\\\\\\\":\\\\\\\"TotalNetAmount\\\\\\\",\\\\\\\"OWNER_NAME\\\\\\\":\\\\\\\"hewhomustnotbenamed\\\\\\\",\\\\\\\"VALUES_SOURCE\\\\\\\":\\\\\\\"FIXED\\\\\\\"}\\\"}\",\"isSufficient\":\"1\",\"timeStamp\":\"1410946294748\"}"},"TEXTS":[{"title":"sample","description":"sample","id":"<dynamic>","language":"D","isActive":0}]},"authorizationData":{"ID":"sample.sap.kpi.evaluation1","REVOKE":[],"GRANT":["BPRI","sap.hba.apps.kpi.s.roles::SAP_SMART_BUSINESS_MODELER","sap.hba.r.sb.core.roles::SAP_SMART_BUSINESS_MODELER"]},"payload":{"DDA_COLUMNS":[{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view1","NAME":"CompanyCode","TYPE":"DIMENSION","SORT_BY":"CompanyCode","VISIBILITY":"BOTH","COLOR":"","STACKING":0,"AXIS":1,"SORT_ORDER":"none","COLUMNS_ORDER":0,"IS_ACTIVE":1},{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view1","NAME":"SalesOrder","TYPE":"DIMENSION","SORT_BY":"SalesOrder","VISIBILITY":"BOTH","COLOR":"","STACKING":0,"AXIS":1,"SORT_ORDER":"none","COLUMNS_ORDER":1,"IS_ACTIVE":1},{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view1","NAME":"ActualCost","TYPE":"MEASURE","SORT_BY":"ActualCost","VISIBILITY":"BOTH","COLOR":"","STACKING":0,"AXIS":2,"SORT_ORDER":"none","COLUMNS_ORDER":2,"IS_ACTIVE":1},{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view2","NAME":"CompanyCode","TYPE":"DIMENSION","SORT_BY":"CompanyCode","VISIBILITY":"BOTH","COLOR":"","STACKING":0,"AXIS":1,"SORT_ORDER":"none","COLUMNS_ORDER":0,"IS_ACTIVE":1},{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view2","NAME":"TotalNetAmount","TYPE":"MEASURE","SORT_BY":"TotalNetAmount","VISIBILITY":"BOTH","COLOR":"","STACKING":0,"AXIS":2,"SORT_ORDER":"none","COLUMNS_ORDER":1,"IS_ACTIVE":1},{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view2","NAME":"ActualCost","TYPE":"MEASURE","SORT_BY":"ActualCost","VISIBILITY":"BOTH","COLOR":"","STACKING":0,"AXIS":2,"SORT_ORDER":"none","COLUMNS_ORDER":2,"IS_ACTIVE":1}],"DDA_CHART":[{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view1","VALUE_TYPE":"ABSOLUTE","AXIS_TYPE":"SINGLE","CHART_TYPE":"Column","DATA_LIMIT":-1,"COLOR_SCHEME":"NONE","IS_ACTIVE":1,"THRESHOLD_MEASURE":""},{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view2","VALUE_TYPE":"ABSOLUTE","AXIS_TYPE":"SINGLE","CHART_TYPE":"Column","DATA_LIMIT":-1,"COLOR_SCHEME":"AUTO_SEMANTIC","IS_ACTIVE":1,"THRESHOLD_MEASURE":"ActualCost"}],"DDA_MASTER_TEXT":[{"CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view1","EVALUATION_ID":"sample.sap.kpi.evaluation1","SAP_LANGUAGE_KEY":"E","TEXT":"view1","IS_ACTIVE":1},{"CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view2","EVALUATION_ID":"sample.sap.kpi.evaluation1","SAP_LANGUAGE_KEY":"E","TEXT":"view2","IS_ACTIVE":1}],"DDA_MASTER":[{"CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view1","EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIG_ORDER":0,"IS_ACTIVE":1},{"CONFIGURATION_ID":"sample.sap.kpi.evaluation1.view2","EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIG_ORDER":1,"IS_ACTIVE":1}],"DDA_FILTERS":[{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"view1","DIMENSION":"SalesGroup","VISIBILITY":1,"IS_ACTIVE":1},{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"view1","DIMENSION":"TransactionCurrency","VISIBILITY":1,"IS_ACTIVE":1}],"DDA_HEADER":[{"CONFIGURATION_ID":"view1","EVALUATION_ID":"sample.sap.kpi.evaluation1","VISUALIZATION_TYPE":"NT","VISIBILITY":1,"REFERENCE_EVALUATION_ID":"sample.sap.kpi.evaluation1","VISUALIZATION_ORDER":0,"DIMENSION":"CompanyCode","IS_ACTIVE":1}],"DDA_CONFIGURATION":[{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"view1","PROPERTY_TYPE":"SAP_FILTER","PROPERTY_VALUE":"","VISIBILITY":1,"IS_ACTIVE":1},{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"view1","PROPERTY_TYPE":"SAP_AGGREGATE_VALUE","PROPERTY_VALUE":"","VISIBILITY":1,"IS_ACTIVE":1},{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"view1","PROPERTY_TYPE":"SAP_HEADER","PROPERTY_VALUE":"","VISIBILITY":1,"IS_ACTIVE":1},{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"view1","PROPERTY_TYPE":"QUERY_SERVICE_URI","PROPERTY_VALUE":"/sap/hba/r/sb/core/odata/SALESORDER_TEST.xsodata","VISIBILITY":1,"IS_ACTIVE":1},{"EVALUATION_ID":"sample.sap.kpi.evaluation1","CONFIGURATION_ID":"view1","PROPERTY_TYPE":"QUERY_ENTITY_SET","PROPERTY_VALUE":"Sales","VISIBILITY":1,"IS_ACTIVE":1}]}};},createTestData:function(){var t=this;var p=t.jsonForTestData();jQuery.ajax({type:"POST",async:false,dataType:"json",data:JSON.stringify(p),url:"/sap/hba/r/sb/core/logic/testData.xsjs",headers:{"X-CSRF-Token":"Fetch"},success:function(d,s,x){t.refreshMasterList();sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("GENERATE_TEST_ENTITIES_SUCCESS"));},error:function(e){t.exportBusyDialog.close();sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("GENERATE_TEST_ENTITIES_ERROR"));t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("GENERATE_TEST_ENTITIES_ERROR"),"description":""});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);},});},createFilterOptions:function(){var t=this;var f=new sap.m.ViewSettingsDialog({id:this.createId("filterOptionsDialog"),filterItems:[new sap.m.ViewSettingsFilterItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_STATUS"),key:"status",items:[new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("DRAFTS"),key:"drafts"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("ACTIVATED"),key:"activated"}),]}),new sap.m.ViewSettingsFilterItem({text:t.oApplicationFacade.getResourceBundle().getText("ACTIVITY"),key:"activity",items:[new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("SELF_CREATED"),key:"self_created"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("RECENTLY_WORKED_UPON"),key:"recently_worked_upon"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("FAVOURITE"),key:"favorite"}),]})],confirm:function(e){var a="";var s=e.getParameter("filterItems");t.setFiltering(e.getParameter("filterItems"));if(s&&s.length){var b={};for(var i=0,l=s.length;i<l;i++){b[s[i].getParent().getKey()]=b[s[i].getParent().getKey()]||"";b[s[i].getParent().getKey()]+=(b[s[i].getParent().getKey()])?(","):"";b[s[i].getParent().getKey()]+=s[i].getText();}for(var c in b){if(b.hasOwnProperty(c)){a+=(a)?" ; ":"";a+=b[c];}}t.byId("filterToolbar").setVisible(true);t.byId("workspaceInfo").setText(a);}else{t.byId("workspaceInfo").setText("");t.byId("filterToolbar").setVisible(false);}}});return f;},createSortOptions:function(){var t=this;var s=new sap.m.ViewSettingsDialog({id:this.createId("sortOptionsDialog"),sortItems:[new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_CHANGE_DATE"),key:"changedate"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_TYPE"),key:"type"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_NAME"),key:"name"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_ID"),key:"id"})],confirm:function(e){if(e.getParameter("sortItem")){t.setSorting(e.getParameter("sortItem").getKey(),e.getParameter("sortDescending"));}}});s.setSelectedSortItem("changedate");s.setSortDescending(true);return s;},createGroupOptions:function(){var t=this;var j={groupItems:[{text:t.oApplicationFacade.getResourceBundle().getText("BY_WORKSPACE"),key:"workspace",index:0},{text:t.oApplicationFacade.getResourceBundle().getText("BY_TYPE"),key:"type",index:1},{text:t.oApplicationFacade.getResourceBundle().getText("BY_STATUS"),key:"status",index:2},{text:t.oApplicationFacade.getResourceBundle().getText("BY_OWNER"),key:"owner",index:3},{text:t.oApplicationFacade.getResourceBundle().getText("NONE"),key:"none",index:4}]};var m=new sap.ui.model.json.JSONModel(j);var g=new sap.m.Dialog({title:t.oApplicationFacade.getResourceBundle().getText("GROUP_BY"),id:this.createId("groupOptionsDialog"),content:[new sap.m.List({items:{path:"/groupItems",template:new sap.m.ObjectListItem({type:"Active",title:"{text}"})},itemPress:function(e){e.getParameter("listItem").setSelected(true);t.selectedGroupItemKey=e.getParameter("listItem").getBindingContext().getProperty("key");t.selectedGroupItemIndex=e.getParameter("listItem").getBindingContext().getProperty("index");if(t.selectedGroupItemKey=="workspace"){t.setGrouping(t.selectedGroupItemKey,true);}else{t.setGrouping(t.selectedGroupItemKey,false);}t.lastSavedIndex=t.selectedGroupItemIndex;this.getParent().close();}})],endButton:new sap.m.Button({text:t.oApplicationFacade.getResourceBundle().getText("CANCEL"),press:function(e){t.selectedGroupItemIndex=t.lastSavedIndex;this.getParent().close();}})});g.setModel(m);return g;},getHeaderFooterOptions:function(){var t=this;var t=this;var p=t.jsonForTestData();if(jQuery.sap.getUriParameters().mParams.createTestData){if(this.currentHeaderFooterOptions.buttonList){var a=false;for(var k in this.currentHeaderFooterOptions.buttonList){if(this.currentHeaderFooterOptions.buttonList[k].sId=="testDataButton")a=true;}if(!a){var o={sId:"testDataButton",sI18nBtnTxt:"GENERATE_TEST_ENTITIES",onBtnPressed:function(e){t.createTestData();}};this.currentHeaderFooterOptions.buttonList.push(o);}}else{this.currentHeaderFooterOptions.buttonList=[{sId:"testDataButton",sI18nBtnTxt:"GENERATE_TEST_ENTITIES",onBtnPressed:function(e){t.createTestData();}}]}}return this.currentHeaderFooterOptions;},formatTitle:function(t){return(t||"");},formatEvaluationCount:function(e){return(e||0);},formatID:function(i){var t=this;return(t.oApplicationFacade.getResourceBundle().getText("KPI_MASTER_ID_TEXT")+": "+(i||""));},formatGroupName:function(c){var t=this;var i=c.getProperty("MANUAL_ENTRY");var g="";switch(i){case 1:g=t.oApplicationFacade.getResourceBundle().getText("MY_FAVOURITES");break;case 0:g=t.oApplicationFacade.getResourceBundle().getText("MY_LAST_WORKED_UPON");break;default:g=t.oApplicationFacade.getResourceBundle().getText("ALL_KPI_OPI");}return{key:g,text:g}},setGrouping:function(k,g){var t=this;g=g||false;var l=t.getView().byId("list");var a;if(k=="type"){a=new sap.ui.model.Sorter("TYPE",g,function(c){return{key:c.getProperty("TYPE"),text:(c.getProperty("TYPE")+"S")}});}else if(k=="status"){a=new sap.ui.model.Sorter("IS_ACTIVE",g,function(c){return{key:c.getProperty("IS_ACTIVE")?t.oApplicationFacade.getResourceBundle().getText("STATUS_ACTIVE"):t.oApplicationFacade.getResourceBundle().getText("STATUS_DRAFT"),text:c.getProperty("IS_ACTIVE")?t.oApplicationFacade.getResourceBundle().getText("ACTIVE_KPI_OPI"):t.oApplicationFacade.getResourceBundle().getText("DRAFT_KPI_OPI"),}});}else if(k=="owner"){a=new sap.ui.model.Sorter("OWNER_NAME",g,function(c){var o=c.getProperty("OWNER_NAME");var b="";switch(o){case null:b=t.oApplicationFacade.getResourceBundle().getText("NO_OWNER");break;case"":b=t.oApplicationFacade.getResourceBundle().getText("NO_OWNER");break;default:b=o;}return{key:b,text:b}});}else if(k=="workspace"){a=new sap.ui.model.Sorter("MANUAL_ENTRY",g,function(c){var i=c.getProperty("MANUAL_ENTRY");var b="";switch(i){case 1:b=t.oApplicationFacade.getResourceBundle().getText("MY_FAVOURITES");break;case 0:b=t.oApplicationFacade.getResourceBundle().getText("MY_LAST_WORKED_UPON");break;default:b=t.oApplicationFacade.getResourceBundle().getText("ALL_KPI_OPI");}return{key:b,text:b}});}else if(k=="none"){a=null;}if(t.lastSortingOrder&&k!="none"){l.getBinding("items").sort([a,t.lastSortingOrder],true);}else{l.getBinding("items").sort([t.lastSortingOrder]);}this.lastGroupingOption=a;},setFiltering:function(i){var t=this;var f=[];var l=t.getView().byId("list");var a={"drafts":(new sap.ui.model.Filter("IS_ACTIVE",sap.ui.model.FilterOperator.EQ,0)),"activated":(new sap.ui.model.Filter("IS_ACTIVE",sap.ui.model.FilterOperator.EQ,1)),"self_created":(new sap.ui.model.Filter("CREATED_BY",sap.ui.model.FilterOperator.EQ,t.oApplicationFacade.currentLogonHanaUser)),"recently_worked_upon":(new sap.ui.model.Filter("MANUAL_ENTRY",sap.ui.model.FilterOperator.EQ,0)),"favorite":(new sap.ui.model.Filter("MANUAL_ENTRY",sap.ui.model.FilterOperator.EQ,1))};f=sap.suite.ui.smartbusiness.lib.Util.utils.getFilterArray(i,a);if(f.length){l.getBinding("items").filter(new sap.ui.model.Filter(f,true));}else{l.getBinding("items").filter(f);}},setSorting:function(k,g){var t=this;g=g||false;var l=t.getView().byId("list");var s;if(k=="changedate"){s=new sap.ui.model.Sorter("CHANGED_ON",g,null);}else if(k=="type"){s=new sap.ui.model.Sorter("TYPE",g,null);}else if(k=="name"){s=new sap.ui.model.Sorter("TITLE",g,null);}else if(k=="id"){s=new sap.ui.model.Sorter("ID",g,null);}if(t.lastGroupingOption){l.getBinding("items").sort([t.lastGroupingOption,s],true);}else{l.getBinding("items").sort([s]);}this.lastSortingOrder=s;},toggleListSelection:function(i){if(i){this.byId("list").detachSelectionChange(this._handleSelect,this);this.byId("list").setMode("MultiSelect");this.currentHeaderFooterOptions=this.multiSelectHeaderFooterOptions;this.refreshHeaderFooterForEditToggle();this.oRouter.navTo("multiSelect",{});this.showEmptyView("DETAIL_TITLE",sap.ui.getCore().getConfiguration().getLanguage()," ");}else{this.byId("list").attachSelectionChange(this._handleSelect,this);this.byId("list").setMode("SingleSelectMaster");this.currentHeaderFooterOptions=this.defaultHeaderFooterOptions;this.refreshHeaderFooterForEditToggle();this.oRouter.navTo("detail",{contextPath:this.oApplicationFacade.currentContextPath});}},exportIndicators:function(){var t=this;var d=new sap.m.SelectDialog({title:t.oApplicationFacade.getResourceBundle().getText("SELECT_PACKAGES"),items:{path:"/HANA_PACKAGES",template:new sap.m.StandardListItem({title:"{OBJECT}"})},confirm:function(e){var p=e.getParameter("selectedItem").getProperty("title");if(p){var a=t.getExportObject();a=a.replace("<Hana Package Here>",e.getParameter("selectedItem").getProperty("title"));var s=t.byId("list").getSelectedContexts();var b="";var c=[];var f="";for(var i=0,l=s.length;i<l;i++){if(s[i].getProperty("IS_ACTIVE")==1){b+=(b)?',':'';b+='{"value":"'+s[i].getProperty("ID")+'","operator":"="}';}else{f+=(f)?' , ':'';f+='"'+s[i].getProperty("TITLE")+'"';c.push(s[i]);}}a=a.replace(/"<Indicators Here>"/g,b);if(b){if(c.length){sap.m.MessageBox.show(f+" "+t.oApplicationFacade.getResourceBundle().getText("INACTIVE_KPI_OPI_FOR_EXPORT"),"sap-icon://hint",t.oApplicationFacade.getResourceBundle().getText("EXPORT_ALERT_TITLE"),[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],function(g){if(g=="OK"){t.callExportService(a);}else{}});}else{t.callExportService(a);}}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_KPI_OPI_FOR_EXPORT"))}}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_HANA_PACKAGE_SELECTED"));}},liveChange:function(e){var s="'"+e.getParameter("value").toLowerCase()+"'";var f=new sap.ui.model.Filter("tolower(OBJECT)",sap.ui.model.FilterOperator.Contains,s);var b=e.getSource().getBinding("items");b.filter(new sap.ui.model.Filter([f],false));}});d.setModel(this.oApplicationFacade.getODataModel());d.open();},getExportObject:function(){var e={"data":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["ID"]},{"tableName":"sap.hba.r.sb.core.db::INDICATOR_TEXTS","schema":"SAP_HBA","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["ID"],"dependentOn":[]},{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","customKeys":["ID"],"keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"INDICATOR","mappingKey":"ID"}]},{"tableName":"sap.hba.r.sb.core.db::EVALUATION_TEXTS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"dependentKey":"INDICATOR","mappingKey":"ID","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"keys":{},"dependentKey":"ID","mappingKey":"ID"}]},{"tableName":"sap.hba.r.sb.core.db::EVALUATION_VALUES","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"dependentKey":"INDICATOR","mappingKey":"ID","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"keys":{},"dependentKey":"ID","mappingKey":"ID"}]},{"tableName":"sap.hba.r.sb.core.db::EVALUATION_FILTERS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"dependentKey":"INDICATOR","mappingKey":"ID","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"keys":{},"dependentKey":"ID","mappingKey":"ID"}]},{"tableName":"sap.hba.r.sb.core.db::PROPERTIES","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"TYPE":[{"value":"IN","operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"ID","mappingKey":"ID","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"customKeys":["ID","TYPE"]},{"tableName":"sap.hba.r.sb.core.db::PROPERTIES","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"TYPE":[{"value":"EV","operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"mappingKey":"ID","dependentKey":"INDICATOR","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"dependentKey":"ID","mappingKey":"ID"}],"customKeys":["ID","TYPE"]},{"tableName":"sap.hba.r.sb.core.db::TAGS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"TYPE":[{"value":"IN","operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"ID","mappingKey":"ID","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"customKeys":["ID","TYPE"]},{"tableName":"sap.hba.r.sb.core.db::TAGS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"TYPE":[{"value":"EV","operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"mappingKey":"ID","dependentKey":"INDICATOR","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"dependentKey":"ID","mappingKey":"ID"}],"customKeys":["ID","TYPE"]},{"tableName":"sap.hba.r.sb.core.db::ASSOCIATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"SOURCE_INDICATOR","mappingKey":"ID","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"customKeys":["SOURCE_INDICATOR"]},{"tableName":"sap.hba.r.sb.core.db::ASSOCIATION_PROPERTIES","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"SOURCE_INDICATOR","mappingKey":"ID","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"customKeys":["SOURCE_INDICATOR"]},{"tableName":"sap.hba.r.sb.core.db::DDA_MASTER","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_MASTER_TEXT","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_FILTERS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_HEADER","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_COLUMNS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_CHART","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_CONFIGURATION","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::CHIPS","schema":"SAP_HBA","keys":{"isActive":[{"value":1,"operator":"="}]},"customKeys":["id"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"evaluationId","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::CHIP_TEXTS","schema":"SAP_HBA","keys":{"isActive":[{"operator":"=","value":1}]},"customKeys":["id"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::CHIPS","schema":"SAP_HBA","keys":{"isActive":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"evaluationId","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}],"mappingKey":"id","dependentKey":"id"}]}],"file":{"package_name":"<Hana Package Here>"}};return JSON.stringify(e);},callExportService:function(p){var t=this;jQuery.ajax({type:"HEAD",async:false,dataType:"json",url:"/sap/hba/r/sb/core/logic/__token.xsjs",headers:{"X-CSRF-Token":"Fetch"},success:function(d,s,x){t.exportBusyDialog=t.exportBusyDialog||new sap.m.BusyDialog({text:t.oApplicationFacade.getResourceBundle().getText("EXPORT_KPI_OPI_BUSY_DIALOG_TEXT"),title:t.oApplicationFacade.getResourceBundle().getText("EXPORT_KPI_OPI_BUSY_DIALOG_TITLE")});t.exportBusyDialog.open();jQuery.ajax({url:"/sap/hba/r/sb/core/logic/transferToHanaRepo.xsjs",type:"POST",data:p,headers:{"X-CSRF-Token":x.getResponseHeader("X-CSRF-Token")},async:true,success:function(d){t.exportBusyDialog.close();sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("EXPORT_SUCCESS"));},error:function(e){t.exportBusyDialog.close();sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("EXPORT_ERROR"));t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("EXPORT_ERROR"),"description":""});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);}});},error:function(){sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("ERR_FETCH_AUTH_TOKEN"));$.sap.log.error("ERR_FETCH_AUTH_TOKEN");t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("ERR_FETCH_AUTH_TOKEN"),"description":""});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);}});},onExit:function(){var h=hasher||window.hasher;if(!(h.getHash())){sap.suite.ui.smartbusiness.lib.Util.utils.backToHome();}},applySearchPatternToListItem:function(i,s){return sap.suite.ui.smartbusiness.lib.Util.utils.applySearchPatternToListItem.apply(this,arguments);},refreshMasterList:function(){var t=this;t.utilsRef.refreshMasterList(t,true);}});
