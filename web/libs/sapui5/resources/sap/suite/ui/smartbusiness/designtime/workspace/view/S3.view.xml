<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- SAP Smart Business (c) Copyright 2012-2015 SAP SE. All rights reserved -->
<core:View xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:form="sap.ui.layout.form"
	xmlns:l="sap.ui.layout" controllerName="sap.suite.ui.smartbusiness.designtime.workspace.view.S3">
	<Page>
		<content>
			<ObjectHeader title="{indicator>/INDICATOR/TITLE}" titleActive="false"
				showMarkers="true" markFavorite="{path:'indicator>/INDICATOR/MANUAL_ENTRY', formatter:'.formatFavoriteMark'}"
				titlePress=".doSomething">
				<attributes>
					<ObjectAttribute
						text="{parts:[{path:'indicator>/INDICATOR/ID'},{path:'indicator>/INDICATOR/TYPE'}], formatter:'sap.suite.ui.smartbusiness.lib.formatters.kpiID' }" visible ="{SB_APP_SETTING>/ID_VISIBLE}" />
					<ObjectAttribute
						text="{path:'indicator>/INDICATOR/OWNER_NAME', formatter:'sap.suite.ui.smartbusiness.lib.formatters.kpiOwnerInOH'}" />
				</attributes>
				<statuses>
					<ObjectStatus
						text="{parts:[{path:'indicator>/INDICATOR/IS_ACTIVE'},{path:'indicator>/INDICATOR/COUNTER'}], formatter:'.formatKpiStatus'}"
						state="{path:'indicator>/INDICATOR/IS_ACTIVE', formatter:'sap.suite.ui.smartbusiness.lib.formatters.kpiStatusState'}" />
				</statuses>
			</ObjectHeader>
			<IconTabBar id="idWorkspaceDetailTab">
				<items>
					<IconTabFilter icon="sap-icon://hint" text="{i18n>INFORMATION}">
						<form:SimpleForm id="idInfoForm" minWidth="1024"
							maxContainerCols="2" editable="false" layout="ResponsiveGridLayout"
							labelSpanL="3" labelSpanM="3" emptySpanL="4" emptySpanM="4"
							columnsL="1" columnsM="1">
							<form:content>
								<Label design="Bold" text="{i18n>DESCRIPTION}" />
								<Text text="{indicator>/INDICATOR/DESCRIPTION}" />
								<Label design="Bold" text="{i18n>TAGS}" />
								<HBox items="{indicator>/TAGS}" id="tags">
									<items>
										<Text text="{path:'indicator>TAG', formatter:'.formatTags'}" />
									</items>
								</HBox>
								<Label design="Bold" text="{i18n>PROPERTIES}" />
								<HBox items="{indicator>/PROPERTIES}" id="properties">
									<items>
										<Text
											text="{parts:[{path:'indicator>NAME'},{path:'indicator>VALUE'}], formatter:'.formatProperties'}" />
									</items>
								</HBox>
								<Text text="" />
								<Label design="Bold" text="{i18n>GOAL_TYPE}" />
								<Text text="{path:'indicator>/INDICATOR/GOAL_TYPE', formatter:'.formatGoalType'}" />
								<Label design="Bold" text="{i18n>ADDITIONAL_LANGUAGES}" />
								<Link id="kpiAdditionalLanguages"
								text="{i18n>ADDITIONAL_LANGUAGES}"
								press="openAdditionalLanguageDialog">
								</Link>
							</form:content>
						</form:SimpleForm>
					</IconTabFilter>
					<IconTabFilter icon="sap-icon://database" text="{i18n>DATA_SOURCE}">

						<form:SimpleForm id="idDataSourceForm" minWidth="1024"
							maxContainerCols="2" editable="false" layout="ResponsiveGridLayout"
							labelSpanL="3" labelSpanM="3" emptySpanL="4" emptySpanM="4"
							columnsL="1" columnsM="1">
							<form:content>
								<Label design="Bold" text="{i18n>HANA_VIEW}" />
								<Text text="{indicator>/INDICATOR/VIEW_NAME}" />
								<Label design="Bold" text="{i18n>ODATA_SERVICE}" />
								<Text text="{indicator>/INDICATOR/ODATA_URL}" />
								<Label design="Bold" text="{i18n>ENTITY_SET}" />
								<Text text="{indicator>/INDICATOR/ODATA_ENTITYSET}" />
								<Label design="Bold" text="{i18n>VALUE_MEASURE}" />
								<Text text="{indicator>/INDICATOR/COLUMN_NAME}" />
								<Label design="Bold" text="{i18n>ADDITIONAL_INFORMATION}" />
								<Text text="{indicator>/INDICATOR/DATA_SPECIFICATION}" />
							</form:content>
						</form:SimpleForm>

					</IconTabFilter>
					<IconTabFilter id="associationIconTab" icon="sap-icon://chain-link"
						text="{i18n>ASSOCIATIONS}" count="{parts:[{path:'indicator>/INDICATOR/ASSOCIATION_SOURCE_COUNT'},{path:'indicator>/INDICATOR/ASSOCIATION_TARGET_COUNT'}], formatter:'.formatAssociationCountValue'}">

						<Table id="kpiAssociationTable" inset="false" fixedLayout="false"
							items="{path:'indicator>/ASSOCIATIONS'}">
							<headerToolbar>
								<Toolbar>
									<Label id="associationTableLabel"
										text="{parts:[{path:'indicator>/INDICATOR/ASSOCIATION_SOURCE_COUNT'},{path:'indicator>/INDICATOR/ASSOCIATION_TARGET_COUNT'}], formatter:'.formatAssociationCount'}"></Label>
								</Toolbar>
							</headerToolbar>
							<columns>
								<Column>
									<Text text="{i18n>TYPE}" />
								</Column>
								<Column minScreenWidth="Tablet" demandPopin="true">
									<Text text="{i18n>DIRECTION}" />
								</Column>
								<Column minScreenWidth="Tablet" demandPopin="true">
									<Text text="{i18n>ASSOCIATED_KPI}" />
								</Column>
								<Column minScreenWidth="Tablet" demandPopin="true">
									<Text text="{i18n>STATUS}" />
								</Column>
								<Column>
									<Text text="{i18n>PROPERTIES}" />
								</Column>
								<Column>
									<Text text="" />
								</Column>
								<Column>
									<Text text="" />
								</Column>
							</columns>
							<items>
								<ColumnListItem vAlign="Middle">
									<cells>
										<Text text="{path:'indicator>TYPE', formatter:'.formatAssociationType'}" />
										<l:Grid vSpacing="0" class="columnListItemGridPadding"
											width="100%" defaultSpan="L12 M12 S12">
											<l:content>
												<core:Icon id="directionArrowAssociation" class="iconsForAssociationTable"
													src="{path:'indicator>SOURCE_INDICATOR', formatter:'.formatArrowDirection'}"
													size="24px">
													<core:layoutData>
														<FlexItemData growFactor="1" />
													</core:layoutData>
												</core:Icon>
											</l:content>
										</l:Grid>
										<Text
											text="{parts:[{path:'indicator>SOURCE_INDICATOR'},{path:'indicator>TARGET_INDICATOR'},{path:'indicator>SOURCE_INDICATOR_TITLE'},{path:'indicator>TARGET_INDICATOR_TITLE'}], formatter:'.formatTargetIndicatorText'}" />
										<!-- <HBox id="targetIndicatorTextBox" -->
										<!-- items="{TARGET_INDICATOR_WITH_FAVOURITES}"> -->
										<!-- <items> -->
										<!-- <Text -->
										<!-- text="{path:'TITLE', formatter:'.formatTargetIndicatorText'}" 
											/> -->
										<!-- </items> -->
										<!-- </HBox> -->
										<ObjectNumber
											number="{parts:[{path:'indicator>IS_ACTIVE'},{path:'indicator>COUNTER'}], formatter:'.formatStatusOfAssociation'}"
											state="{path:'indicator>IS_ACTIVE', formatter:'sap.suite.ui.smartbusiness.lib.formatters.evalStatus'}" />

										<HBox items="{indicator>PROPERTIES}" id="assoProperties">
											<items>
												<Text
													text="{parts:[{path:'indicator>NAME'},{path:'indicator>VALUE'}], formatter:'.formatProperties'}" />
											</items>
										</HBox>
									</cells>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
				</items>
			</IconTabBar>
			<Table id="evaluationTable" inset="false" items="{indicator>/EVALUATIONS}"
				itemPress="handleEvaluationSelect">
				<headerToolbar>
					<Toolbar>
						<Label
							text="{i18n>EVALUATIONS} ({path:'indicator>/INDICATOR/EVALUATION_COUNT', formatter:'.formatEvaluationCount'})"></Label>
					</Toolbar>
				</headerToolbar>
				<columns>
					<Column>
						<Text text="{i18n>EVALUATION_TITLE}" />
					</Column>
					<!-- <Column minScreenWidth="Tablet" demandPopin="true"> -->
					<!-- <Text text="ID" /> -->
					<!-- </Column> -->
					<Column minScreenWidth="Tablet" demandPopin="true">
						<Text text="{i18n>STATUS}" />
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true">
						<Text text="{i18n>DESCRIPTION}" />
					</Column>
				</columns>
				<items>
					<ColumnListItem type="Navigation">
						<cells>
							<VBox id="property">
								<items>
									<Label text="{indicator>TITLE}" design="Bold"/>
									<Text text="{indicator>ID}" visible ="{SB_APP_SETTING>/ID_VISIBLE}"/>
								</items>
							</VBox>
							<!-- <Text text="{ID}" /> -->
							<ObjectNumber
								number="{parts:[{path:'indicator>IS_ACTIVE'},{path:'indicator>COUNTER'}], formatter:'.formatKpiStatus'}"
								state="{path:'indicator>IS_ACTIVE', formatter:'sap.suite.ui.smartbusiness.lib.formatters.evalStatus'}" />
							<Text text="{indicator>DESCRIPTION}" />
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</content>
	</Page>
</core:View>