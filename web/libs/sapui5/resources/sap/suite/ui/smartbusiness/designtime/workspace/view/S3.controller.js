/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP SE. All rights reserved
 * @deprecated since SAPUI 5 version 1.28.0
 */
jQuery.sap.require("sap.ca.scfld.md.controller.BaseDetailController");jQuery.sap.require("sap.m.MessageBox");jQuery.sap.require("sap.m.MessageToast");sap.ca.scfld.md.controller.BaseDetailController.extend("sap.suite.ui.smartbusiness.designtime.workspace.view.S3",{onInit:function(){var t=this;this.errorMessages=[];this.errorModel=new sap.ui.model.json.JSONModel();this.errorModel.setData(this.errorMessages);this.errorState=false;var v=this.getView();this.utilsRef=sap.suite.ui.smartbusiness.lib.Util.utils;this.settingModel=sap.ui.getCore().getModel("SB_APP_SETTING")||new sap.ui.model.json.JSONModel();sap.ui.getCore().setModel(this.settingModel,"SB_APP_SETTING");this.getView().setModel(sap.ui.getCore().getModel("SB_APP_SETTING"),"SB_APP_SETTING");this.oRouter.attachRouteMatched(function(e){if(e.getParameter("name")==="multiSelect"){var p=this.getView().getContent()[0].getContent();for(var i=0,l=p.length;i<l;i++){p[i].setVisible(false);}this.oApplicationFacade.multiSelectMode=true;}else if(e.getParameter("name")==="detail"){t.metadataRef=sap.suite.ui.smartbusiness.Adapter.getService("ModelerServices");if(this.oApplicationFacade.multiSelectMode){var p=this.getView().getContent()[0].getContent();for(var i=0,l=p.length;i<l;i++){p[i].setVisible(true);}this.oApplicationFacade.multiSelectMode=undefined;}this.oApplicationFacade.currentContextPath=e.getParameter("arguments").contextPath;this.context=new sap.ui.model.Context(v.getModel(),'/'+(e.getParameter("arguments").contextPath));var m=new sap.ui.model.json.JSONModel();m.setData(t.metadataRef.getKPIById({context:this.context,tags:true,properties:true,texts:true,evaluations:true,associations:true,associationProperties:true,model:this.oApplicationFacade.getODataModel()}));v.setModel(m,"indicator");v.setBindingContext(this.context);v.contextPath=e.getParameter("arguments").contextPath;this.updateFooterButtons(m.getData().INDICATOR);t.oApplicationFacade.evaluationData=m.getData().EVALUATIONS;t.oApplicationFacade.evaluationDetails=[];}},this);this.oHeaderFooterOptions={bSuppressBookmarkButton:{},buttonList:[]};t.byId("directionArrowAssociation").setColor(sap.ui.core.theming.Parameters.get("sapUiLightText"));},getHeaderFooterOptions:function(){return this.oHeaderFooterOptions;},onAfterRendering:function(){},formatOwner:function(o){return(o||"");},formatStatus:function(s){return((s)?(this.oApplicationFacade.getResourceBundle().getText("ACTIVE")):this.oApplicationFacade.getResourceBundle().getText("DRAFT"));},formatGoalType:function(g){var t=this;var a=null;switch(g){case'MA':a=t.oApplicationFacade.getResourceBundle().getText("MAXIMIZING");break;case'MI':a=t.oApplicationFacade.getResourceBundle().getText("MINIMIZING");break;case'RA':a=t.oApplicationFacade.getResourceBundle().getText("RANGE");break;default:a=t.oApplicationFacade.getResourceBundle().getText("NONE");}return a;},formatEvaluationCount:function(e){return(e||0);},formatFavoriteMark:function(f){return((f)?true:false);},formatTags:function(t){return((this.getView().byId("tags").getItems().length>1)?(', '+t):(t));},formatAssociationCount:function(s,t){var a=this;if(s==null&&t==null){return a.oApplicationFacade.getResourceBundle().getText("ASSOCIATIONS")+"(0)";}if(s==null){return a.oApplicationFacade.getResourceBundle().getText("ASSOCIATIONS")+"("+t+")";}if(t==null){return a.oApplicationFacade.getResourceBundle().getText("ASSOCIATIONS")+"("+s+")";}var c=(parseInt(s)+parseInt(t));return a.oApplicationFacade.getResourceBundle().getText("ASSOCIATIONS")+"("+c.toString()+")";},formatAssociationCountValue:function(s,t){var a=this;if(s==null&&t==null){return 0;}if(s==null){return t;}if(t==null){return s;}var c=(parseInt(s)+parseInt(t));return c;},formatProperties:function(n,v){var p=((this.getView().byId("assoProperties").getItems().length>1)?(", "+n+" : "+v):(n+" : "+v+","));return p;},formatArrowDirection:function(s){return((s==this.getView().getModel("indicator").getData().INDICATOR.ID)?("sap-icon://arrow-right"):("sap-icon://arrow-left"));},formatAssociationType:function(a){if(a=="SUPPORTING"){return this.oApplicationFacade.getResourceBundle().getText("SUPPORTING");}else{return this.oApplicationFacade.getResourceBundle().getText("CONFLICTING");}},formatTargetIndicatorText:function(s,t,a,b){var i=null;if(t==this.getView().getModel("indicator").getData().INDICATOR.ID){i=a;}else{i=b;}return i;},formatStatusOfAssociation:function(i,c){var t=this;if(c=="2"){var s=t.oApplicationFacade.getResourceBundle().getText("STATUS_ACTIVE")+","+t.oApplicationFacade.getResourceBundle().getText("STATUS_DRAFT");return s;}if(i==0){return t.oApplicationFacade.getResourceBundle().getText("STATUS_NEW");}if(i==1){return t.oApplicationFacade.getResourceBundle().getText("STATUS_ACTIVE");}},formatKpiStatus:function(s,c){var t=this;var i="";if(c>1){i=(t.oApplicationFacade.getResourceBundle().getText("STATUS_ACTIVE")+","+t.oApplicationFacade.getResourceBundle().getText("STATUS_DRAFT"));}else if(s){i=t.oApplicationFacade.getResourceBundle().getText("STATUS_ACTIVE");}else{i=t.oApplicationFacade.getResourceBundle().getText("STATUS_NEW");}return i;},handleEvaluationSelect:function(e){var t=this;var b=e.getParameter("listItem").getBindingContext("indicator");var a="/EVALUATIONS_MODELER(ID='"+b.getObject().ID+"',IS_ACTIVE="+b.getObject().IS_ACTIVE+")";this.oApplicationFacade.evaluationIndex=parseInt(b.getPath().substring(b.getPath().length-1),10);sap.suite.ui.smartbusiness.lib.Util.utils.replaceHash({action:"SBWorkspace",route:"evalDetail",context:(this.getView().contextPath+a)});},getAllFooterButtons:function(){var t=this;var b=[{id:"addEval",sId:"addEvaluationButton",sI18nBtnTxt:"ADD_EVALUATION",onBtnPressed:function(e){t.errorMessages=[];sap.suite.ui.smartbusiness.lib.Util.utils.appToAppNavigation({action:"createSBKPIEvaluation",route:"addEvaluation",context:(t.getView().contextPath)});},},{sId:"favouriteToggleButton",sI18nBtnTxt:"ADD_FAVOURITE",onBtnPressed:function(e){t.errorMessages=[];var p="/FAVOURITES";var c=t.getView().getModel("indicator").getData().INDICATOR;var d=t.oApplicationFacade.getODataModel();var a={ID:c.ID,TYPE:c.ENTITY_TYPE,USER_ID:t.oApplicationFacade.currentLogonHanaUser,MANUAL_ENTRY:1,LAST_WORKED_ON:null};if(c.MANUAL_ENTRY){t.metadataRef.remove("INDICATOR_FAVOURITE",a,function(f){sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_IN_DELETE_SUCCESS_KPI_OPI"));c.MANUAL_ENTRY=0;t.updateFooterButtons(c);t.getView().getModel("indicator").getData().INDICATOR=c;t.getView().getModel("indicator").setData(t.getView().getModel("indicator").getData());t.refreshMasterList();},function(f){sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_IN_DELETE_ERROR_KPI_OPI"),f.responseText);t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_IN_DELETE_ERROR_KPI_OPI"),"description":f.responseText});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}else if(c.MANUAL_ENTRY==0){t.metadataRef.update("INDICATOR_FAVOURITE",a,null,function(f){sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_IN_SUCCESS_KPI_OPI"));c.MANUAL_ENTRY=1;t.updateFooterButtons(c);t.getView().getModel("indicator").getData().INDICATOR=c;t.getView().getModel("indicator").setData(t.getView().getModel("indicator").getData());t.refreshMasterList();},function(f){sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_KPI_OPI_ERROR"),f.responseText);t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_KPI_OPI_ERROR"),"description":f.responseText});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}else if(c.MANUAL_ENTRY==null){t.metadataRef.create("INDICATOR_FAVOURITE",a,null,function(f){sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_IN_SUCCESS_KPI_OPI"));c.MANUAL_ENTRY=1;t.updateFooterButtons(c);t.getView().getModel("indicator").getData().INDICATOR=c;t.getView().getModel("indicator").setData(t.getView().getModel("indicator").getData());t.refreshMasterList();},function(f){sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_KPI_OPI_ERROR"),f.responseText);t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_KPI_OPI_ERROR"),"description":f.responseText});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}}},{sId:"activateButton",sI18nBtnTxt:"ACTIVATE",onBtnPressed:function(e){t.errorMessages=[];var a="ACTIVE_INDICATORS";var p={};var c=[];p.ID=t.getView().getModel("indicator").getData().INDICATOR.ID;c.push(p);t.oApplicationFacade.getODataModel().read(("/INDICATOR_TEXTS?$filter=ID eq '"+t.getView().getModel("indicator").getData().INDICATOR.ID+"' and IS_ACTIVE eq 0 and TITLE ne ''"),null,null,false,function(d){if(d&&d.results&&d.results.length){var O=t.oApplicationFacade.getODataModel();t.metadataRef.create("ACTIVATE_INDICATOR",c,null,function(d){sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("ACTIVATE_KPI_OPI_SUCCESS"));sap.suite.ui.smartbusiness.lib.Util.utils.replaceHash({hash:window.location.hash.replace("IS_ACTIVE=0","IS_ACTIVE=1")},true);t.refreshMasterList();},function(f){sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("ACTIVATE_KPI_OPI_ERROR"),f.responseText);t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("ACTIVATE_KPI_OPI_ERROR"),"description":f.responseText});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}else{sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("ERROR_ENTER_KPI_OPI_TITLE"));t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("ERROR_ENTER_KPI_OPI_TITLE"),"description":""});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);}},function(){});}},{id:"editBut",sId:"editButton",sI18nBtnTxt:"EDIT",onBtnPressed:function(e){t.errorMessages=[];sap.suite.ui.smartbusiness=sap.suite.ui.smartbusiness||{};sap.suite.ui.smartbusiness.modelerAppCache=sap.suite.ui.smartbusiness.modelerAppCache||{};sap.suite.ui.smartbusiness.modelerAppCache.createSBKPI=sap.suite.ui.smartbusiness.modelerAppCache.createSBKPI||{};sap.suite.ui.smartbusiness.modelerAppCache.createSBKPI.appFromWorkspace=true;var c=t.getView().contextPath;c=(t.getView().getBindingContext().getObject().COUNTER==2)?c.replace("IS_ACTIVE=1","IS_ACTIVE=0"):c;c=c.replace("INDICATORS_MODELER","INDICATORS");if(t.getView().getBindingContext().getObject().COUNTER==2){sap.suite.ui.smartbusiness.lib.Util.utils.appToAppNavigation({action:"createSBKPI",route:"editDraftKpi",context:(c)});}else if(t.getView().getBindingContext().getObject().COUNTER==1){sap.suite.ui.smartbusiness.lib.Util.utils.appToAppNavigation({action:"createSBKPI",route:"editKpi",context:(c)});}}},{sId:"deleteButton",sI18nBtnTxt:"DELETE_BUTTON_TEXT",onBtnPressed:function(e){t.errorMessages=[];if(!(sap.m.MessageBox)){jQuery.sap.require("sap.m.MessageBox");}sap.m.MessageBox.show(t.oApplicationFacade.getResourceBundle().getText("WARNING_SINGLE_INDICATOR_DELETE_KPI_OPI"),"sap-icon://hint",t.oApplicationFacade.getResourceBundle().getText("DELETE_BUTTON_TEXT"),[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],function(e){if(e=="OK"){var a=t.getView().contextPath.substring(1).replace("INDICATORS_MODELER","INDICATORS");var p=[];p.push({ID:t.getView().getModel("indicator").getData().INDICATOR.ID,IS_ACTIVE:t.getView().getModel("indicator").getData().INDICATOR.IS_ACTIVE});var O=t.oApplicationFacade.getODataModel();t.metadataRef.remove("INDICATOR",p,function(d){sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("DELETE_KPI_OPI_SUCCESS"));t.refreshMasterList();sap.suite.ui.smartbusiness.lib.Util.utils.replaceHash({hash:window.location.hash.substr(0,window.location.hash.indexOf("&/"))},true);},function(c){sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("DELETE_KPI_OPI_ERROR"),c.responseText);t.errorMessages.push({"type":"Error","title":t.oApplicationFacade.getResourceBundle().getText("DELETE_KPI_OPI_ERROR"),"description":c.responseText});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}if(e=="CANCEL"){}});}},{sId:"duplicateButton",sI18nBtnTxt:"DUPLICATE",onBtnPressed:function(e){t.errorMessages=[];this.duplicateKPIDialog=this.duplicateKPIDialog||t.createDuplicateDialog();this.duplicateKPIDialog.setContentHeight("350px");t.vBoxForIdPrefixText.setVisible(true);t.prefixInput.setValue();t.prefixInput.setValueState("None");t.prefixForm.setVisible(true);if(!t.settingModel.getData().ID_VISIBLE){t.vBoxForIdPrefixText.setVisible(false);t.prefixForm.setVisible(false);this.duplicateKPIDialog.setContentHeight("200px");}this.duplicateKPIDialog.open();}}];return b;},createDuplicateDialog:function(){var t=this;var k=new sap.m.RadioButton({groupName:"DuplicateKPI",text:t.oApplicationFacade.getResourceBundle().getText("DUPLICATE_KPI_ONLY"),selected:true});var a=new sap.m.RadioButton({groupName:"DuplicateKPI",text:t.oApplicationFacade.getResourceBundle().getText("DUPLICATE_KPI_AND_ENTITIES")});var b=new sap.m.Text({text:t.oApplicationFacade.getResourceBundle().getText("KPI_ONLY_TEXT")});var c=new sap.m.Text({text:t.oApplicationFacade.getResourceBundle().getText("KPI_AND_ENTITIES_TEXT")});var g=new sap.m.Text({text:t.oApplicationFacade.getResourceBundle().getText("GENERATED_ID_INFO")});var d=new sap.m.Text({text:t.oApplicationFacade.getResourceBundle().getText("DUPLICATE_ID_SAMPLE")});var p=new sap.m.Label({text:t.oApplicationFacade.getResourceBundle().getText("ID_PREFIX")});this.prefixInput=new sap.m.Input({type:"Text",maxLength:4,placeholder:t.oApplicationFacade.getResourceBundle().getText("PREFIX_PLACEHOLDER"),showValueHelp:false}).attachLiveChange(function(){t.validatePrefix();});var e=new sap.m.Text({text:t.oApplicationFacade.getResourceBundle().getText("CHAR_LIMIT"),});var B=new sap.m.VBox({items:[k,b]});var v=new sap.m.VBox({items:[a,c]});this.vBoxForIdPrefixText=new sap.m.VBox({items:[g,d]});var o=new sap.m.Button({text:t.oApplicationFacade.getResourceBundle().getText("DUPLICATE_KPI_OK"),press:function(){if(k.getSelected()){if(t.prefixInput.getVisible()){if(t.validatePrefix()){t.metadataRef.create("DUPLICATE_ENTITY",{flag:"INDICATOR-ONLY",id:t.getView().getModel("indicator").getData().INDICATOR.ID,prefix:t.prefixInput.getValue()},null,function(s){h.close();sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("DUPLICATE_SUCCESS"));t.refreshMasterList();},function(i){h.close();sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(JSON.parse(i.responseText).errorMessage);t.errorMessages.push({"type":"Error","title":JSON.parse(i.responseText).errorMessage,"description":""});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}}else{t.metadataRef.create("DUPLICATE_ENTITY",{flag:"INDICATOR-ONLY",id:t.getView().getModel("indicator").getData().INDICATOR.ID,prefix:""},null,function(s){h.close();sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("DUPLICATE_SUCCESS"));t.refreshMasterList();},function(i){h.close();sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(JSON.parse(i.responseText).errorMessage);t.errorMessages.push({"type":"Error","title":JSON.parse(i.responseText).errorMessage,"description":""});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}}else if(a.getSelected()){if(t.prefixInput.getVisible()){if(t.validatePrefix()){t.metadataRef.create("DUPLICATE_ENTITY",{flag:"INDICATOR",id:t.getView().getModel("indicator").getData().INDICATOR.ID,prefix:t.prefixInput.getValue()},null,function(s){h.close();sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("DUPLICATE_SUCCESS"));t.refreshMasterList();},function(i){h.close();sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(JSON.parse(i.responseText).errorMessage);t.errorMessages.push({"type":"Error","title":JSON.parse(i.responseText).errorMessage,"description":""});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}}else{t.metadataRef.create("DUPLICATE_ENTITY",{flag:"INDICATOR",id:t.getView().getModel("indicator").getData().INDICATOR.ID,prefix:""},null,function(s){h.close();sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("DUPLICATE_SUCCESS"));t.refreshMasterList();},function(i){h.close();sap.suite.ui.smartbusiness.lib.Util.utils.showErrorMessage(JSON.parse(i.responseText).errorMessage);t.errorMessages.push({"type":"Error","title":JSON.parse(i.responseText).errorMessage,"description":""});sap.suite.ui.smartbusiness.lib.Util.utils.setErrorState(t);});}}}});var f=new sap.m.Button({text:t.oApplicationFacade.getResourceBundle().getText("DUPLICATE_KPI_CANCEL"),press:function(){h.close();}});this.prefixForm=new sap.ui.layout.form.SimpleForm({editable:true,layout:"ResponsiveGridLayout",maxContainerCols:12,labelSpanL:3,labelSpanM:3,labelSpanS:3,columnsL:4,columnsM:4,columnsS:4,content:[p,t.prefixInput,e]});var h=new sap.m.Dialog({title:t.oApplicationFacade.getResourceBundle().getText("DUPLICATE_KPI_DIALOG_TITLE"),contentWidth:"100px",verticalScrolling:false,horizontalScrolling:false,content:[new sap.ui.layout.Grid({width:"100%",defaultSpan:"L12 M12 S12",content:[B,v,t.vBoxForIdPrefixText,t.prefixForm]})],beginButton:o,endButton:f});return h;},validatePrefix:function(){var t=this;this.HANA="hana";this.CDS="cds";this.VIEW_MODE=this.HANA;var s=true;var u;if((u=jQuery.sap.getUriParameters().get("viewmode"))){if(u.toLowerCase&&u.toLowerCase()==this.CDS)this.VIEW_MODE=this.CDS;}var p=t.prefixInput.getValue();if(!p){t.prefixInput.setValueState("None");}if(this.VIEW_MODE==this.CDS){t.prefixInput.setValue(p.toUpperCase());}if(p){if(this.VIEW_MODE==this.CDS&&p[0]!='.'){t.prefixInput.setValueState("Error");t.prefixInput.setValueStateText(t.oApplicationFacade.getResourceBundle().getText("ERROR_CDS_KPI_ID_BEGIN_WITH_PERIOD"));s=false;}else if(this.VIEW_MODE==this.HANA&&p[0]=='.'){t.prefixInput.setValueState("Error");t.prefixInput.setValueStateText(t.oApplicationFacade.getResourceBundle().getText("ERROR_HANA_KPI_ID_BEGIN_WITH_PERIOD"));s=false;}else if(!(/^[a-zA-Z0-9.]*$/.test(p))){t.prefixInput.setValueState("Error");t.prefixInput.setValueStateText(t.oApplicationFacade.getResourceBundle().getText("ERROR_HANA_ID_PREFIX_NO_SPL_CHAR"));s=false;}else{t.prefixInput.setValueState("None");t.prefixInput.setValueStateText();}}return s;},updateFooterButtons:function(i){i=i||this.getView().getBindingContext().getObject();var f=this.getAllFooterButtons();this.oHeaderFooterOptions.buttonList=[];if((i.COUNTER==2)||(i.IS_ACTIVE)){this.oHeaderFooterOptions.oEditBtn=f[0];}if(i.MANUAL_ENTRY){f[1].sI18nBtnTxt=this.oApplicationFacade.getResourceBundle().getText("REMOVE_FAVOURITE");}else{f[1].sI18nBtnTxt=this.oApplicationFacade.getResourceBundle().getText("ADD_FAVOURITE");}this.oHeaderFooterOptions.buttonList.push(f[1]);if(!(i.IS_ACTIVE)){this.oHeaderFooterOptions.oEditBtn=f[2];}if(i.IS_ACTIVE){this.oHeaderFooterOptions.buttonList.push(f[5]);}if(i.COUNTER==2){f[3].sI18nBtnTxt=this.oApplicationFacade.getResourceBundle().getText("EDIT_DRAFT");}else{f[3].sI18nBtnTxt=this.oApplicationFacade.getResourceBundle().getText("EDIT");}this.oHeaderFooterOptions.buttonList.push(f[3]);this.oHeaderFooterOptions.buttonList.push(f[4]);this.setHeaderFooterOptions(this.oHeaderFooterOptions);},refreshMasterList:function(){var t=this;t.utilsRef.refreshMasterList(t,false);},openAdditionalLanguageDialog:function(){var t=this;this.additionalLanguageListModel=new sap.ui.model.json.JSONModel();this.additionalLanguageListModelData=[];this.additionalLanguageListModelData=t.getView().getModel('indicator').getData().TEXTS;var a=function(o,c,d){t.SAP_LANGUAGES=o;t.SAP_LANGUAGE_ARRAY=c;t.localLanguage=d;};var i=0;var l=this.additionalLanguageListModelData.length;sap.suite.ui.smartbusiness.Adapter.getService("ModelerServices").getAllLanguages({async:false,success:a,model:this.oDataModel});for(i=0;i<l;i++){this.additionalLanguageListModelData[i].ADDITIONAL_LANGUAGE_KEY=t.SAP_LANGUAGES.SPRAS[this.additionalLanguageListModelData[i].LANGUAGE];}this.additionalLanguageListModel.setData(this.additionalLanguageListModelData);this.addedLanguagesList=new sap.m.List({showNoData:false,layoutData:new sap.ui.layout.GridData({span:"L5 M5 S5"}),});this.setEnable=function(){if(this.addedLanguagesList.getItems().length==0){b.getBeginButton().setEnabled(false);}else{b.getBeginButton().setEnabled(true);}};this.addedLanguagesList.bindItems("additionalLanguageListModel>/",new sap.m.CustomListItem({content:new sap.ui.layout.Grid({hSpacing:1,vSpacing:0,defaultSpan:"L12 M12 S12",content:[new sap.m.Input({value:"{additionalLanguageListModel>TITLE}",design:"Bold",layoutData:new sap.ui.layout.GridData({span:"L12 M12 S12",vAlign:"Middle"}),editable:false}),new sap.m.Input({value:"{additionalLanguageListModel>DESCRIPTION}",design:"Bold",layoutData:new sap.ui.layout.GridData({span:"L7 M7 S7",vAlign:"Middle"}),editable:false}),new sap.m.Input({value:"{additionalLanguageListModel>ADDITIONAL_LANGUAGE_KEY}",design:"Bold",layoutData:new sap.ui.layout.GridData({span:"L3 M3 S3"}),editable:false}),]})}));this.addedLanguagesList.setModel(t.additionalLanguageListModel,"additionalLanguageListModel");var b=new sap.m.Dialog({contentHeight:"50%",contentWidth:"25%",title:t.oApplicationFacade.getResourceBundle().getText("ADDITIONAL_LANGUAGES"),content:[t.addedLanguagesList],endButton:new sap.m.Button({text:t.oApplicationFacade.getResourceBundle().getText("OK"),press:function(){b.close();}})});b.open();}});
