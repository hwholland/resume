/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
jQuery.sap.declare('sap.apf.utils.pathContextHandler');jQuery.sap.require('sap.apf.utils.hashtable');
sap.apf.utils.PathContextHandler=function(f,m){var u=1;var c={};var a;this.add=function(e){c[u]=e;f.setContext(b());return u++;};this.update=function(i,e){if(i&&typeof i=='number'){m.check((i>0&&i<u),'Passed unknown numeric identifier during update of path context handler');if(!(i>0&&i<u)){return;}}else if(!i||typeof i!='string'){m.check(i,'Passed false identifier during update of path context handler');return;}c[i]=e;f.setContext(b());};this.get=function(i){switch(typeof i){case'number':m.check((i>0&&i<u),'Passed unknown numeric identifier during get from path context handler');break;case'string':m.check(c[i],'Passed unknown string identifier during get from path context handler');break;}return c[i];};this.getAllIds=function(){var r=[];var p;for(p in c){if(c.hasOwnProperty(p)){r.push(d(p));}}return r;};this.serialize=function(){var s={};var p;for(p in c){if(c.hasOwnProperty(p)){s[p]=c[p].serialize();}}return s;};this.deserialize=function(e){var p;u=1;c={};for(p in e){if(e.hasOwnProperty(p)){c[p]=new sap.apf.utils.Filter(m).deserialize(e[p]);u++;}}if(u>1){f.setContext(b());}return this;};this.saveInitialContext=function(e){var p,i,l;var g={};var h={};if(e){for(p in a){if(a.hasOwnProperty(p)){g[p]=new sap.apf.utils.Filter(m).deserialize(a[p]);}}for(i=0,l=e.length;i<l;i++){g[e[i]]=c[e[i]];}for(p in g){h[p]=g[p].serialize();}a=h;}else{a=this.serialize();}};this.restoreInitialContext=function(i){var e={};var p;if(a){if(i){for(p in c){if(i.indexOf(d(p))==-1){e[p]=c[p];}}}this.deserialize(a);for(p in e){c[p]=e[p];}f.setContext(b());}};function b(){var e=[];for(var g in c){if(c.hasOwnProperty(g)){e.push(c[g]);}}return new sap.apf.utils.Filter(m).intersectWith(e);}function d(p){if(isNaN(Number(p))){return p;}else{return Number(p);}}};
