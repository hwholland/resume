// Copyright (c) 2009-2014 SAP SE, All Rights Reserved
(function(){"use strict";jQuery.sap.declare("sap.ushell.renderers.fiori2.launchpad.PagingManager");sap.ui.base.EventProvider.extend("sap.ushell.renderers.fiori2.launchpad.PagingManager",{metadata:{publicMethods:["setElementClass","setContainerSize","getNumberOfAllocatedElements","moveToNextPage","getTileHeight"]},constructor:function(i,s){sap.ushell.renderers.fiori2.launchpad.getPagingManager=jQuery.sap.getter(this.getInterface());this.currentPageIndex=0;this.containerHeight=s.containerHeight||0;this.containerWidth=s.containerWidth||0;this.ElementClass=s.elementClassName||"";this.tileHeight=0;},getTileHeight:function(){return this.tileHeight;},setElementClass:function(c){this.ElementClass=c;},setContainerSize:function(n,a){var t=this.getNumberOfAllocatedElements();this.containerHeight=n;this.containerWidth=a;this._changePageSize(t);},getNumberOfAllocatedElements:function(){return this._calcElementsPerPage()*this.currentPageIndex;},_changePageSize:function(t){this.currentPageIndex=Math.ceil(t/this._calcElementsPerPage());},moveToNextPage:function(){this.currentPageIndex++;},_calcElementsPerPage:function(){var e=jQuery("<div>").addClass(this.ElementClass);jQuery('body').append(e);var a=e.height();var b=e.width();if(a<100||b<100){b=100;a=100;}var c=Math.round(this.containerWidth/b),d=Math.round(this.containerHeight/a);this.tileHeight=a;e.remove();if(!c||!d||d===Infinity||c===Infinity||d===0||c===0){return 10;}return c*d;}});}());
