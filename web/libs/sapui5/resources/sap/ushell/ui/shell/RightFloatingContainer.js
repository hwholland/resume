/*!
 * ${copyright}
 */
sap.ui.define(['jquery.sap.global','sap/ushell/library','sap/ui/Device','sap/ui/core/theming/Parameters'],function(q,l,D,t,R){"use strict";var a=sap.ui.core.Control.extend("sap.ushell.ui.shell.RightFloatingContainer",{metadata:{properties:{size:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'56px'},top:{type:"string",group:"Appearance",defaultValue:'0'},right:{type:"string",group:"Appearance",defaultValue:'0'},textVisible:{type:"boolean",group:"Appearance",defaultValue:true},insertItemsWithAnimation:{type:"boolean",group:"Appearance",defaultValue:true},hideItemsAfterPresentation:{type:"boolean",group:"Appearance",defaultValue:false},enableBounceAnimations:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{floatingContainerItems:{type:"sap.ui.core.Control",multiple:true}},events:{afterRendering:{}}},renderer:{render:function(r,o){var i=sap.ui.getCore().getConfiguration().getRTL();r.write("<ul");r.writeControlData(o);r.addStyle('top',o.getTop()+'rem');r.addStyle(i?'left':'right',o.getRight());r.writeStyles();r.addClass("sapUshellRightFloatingContainer");r.writeClasses();r.write(">");this.renderFloatingContainerItems(r,o);r.write("</ul>");},renderFloatingContainerItems:function(r,o){var I=o.getFloatingContainerItems(),i;for(i=0;i<I.length;i++){r.renderControl(I[i]);}}}});a.prototype.init=function(){var b;q(window).bind("resize",function(){clearTimeout(b);b=setTimeout(this._handleResize.bind(this),100);}.bind(this));this.iRequiredItemsNumber=5;};a.prototype.onBeforeRendering=function(){};a.prototype._setSize=function(){};a.prototype._handleResize=function(){if(this.getDomRef()&&this.getFloatingContainerItems().length){var n=this.iRequiredItemsNumber,b=window.innerHeight,d=this.getDomRef(),c=d.getBoundingClientRect().top,j=q(d).find('li').first(),e,I;if(!j.length){return;}e=j[0].clientHeight;this.iRequiredItemsNumber=Math.min(parseInt((b-c)/e,10),5);if(n!==this.iRequiredItemsNumber){I=this.getFloatingContainerItems();for(var i=0;i<I.length;i++){if(i<this.iRequiredItemsNumber||isNaN(this.iRequiredItemsNumber)){I[i].removeStyleClass('sapUshellShellHidden');}else{I[i].addStyleClass('sapUshellShellHidden');}}}}};a.prototype.onAfterRendering=function(){this.fireAfterRendering();setTimeout(function(){this._handleResize();}.bind(this),500);};a.prototype.setVisible=function(v){this.setProperty('visible',v,true);if(v){q(this.getDomRef()).css('visibility','visible');}else{q(this.getDomRef()).css('visibility','hidden');}};a.prototype.setFloatingContainerItemsVisiblity=function(v){var b=this.getFloatingContainerItems(),c=v?300:0;for(var i=0;i<b.length;i++){(function(d){return function(){setTimeout(function(){if(v){b[d].removeStyleClass("sapUshellRightFloatingContainerItemBounceOut").addStyleClass("sapUshellRightFloatingContainerItemBounceIn");}else{b[d].removeStyleClass("sapUshellRightFloatingContainerItemBounceIn").addStyleClass("sapUshellRightFloatingContainerItemBounceOut");}},c+d*100);};})(i)();}};a.prototype.addFloatingContainerItem=function(n){this.addAggregation('floatingContainerItems',n);if(this.getInsertItemsWithAnimation()){n.addStyleClass("sapUshellRightFloatingContainerItemHidden");if(this.getEnableBounceAnimations()){var i=this.getFloatingContainerItems(),b=i.indexOf(n);setTimeout(function(){n.addStyleClass("sapUshellRightFloatingContainerItmHeightVisible").addStyleClass('sapUshellRightFloatingContainerItemBounceIn');},500+b*100);}else{setTimeout(function(){var i=this.getFloatingContainerItems();if(i.length>5){var c=i[i.length-1];c.addStyleClass("sapUshellRightFloatingContainerHideLastItem");}n.addStyleClass('sapUshellRightFloatingContainerItemBackToViewport').addStyleClass("sapUshellRightFloatingContainerItmHeightVisible");}.bind(this),500);}}if(this.getHideItemsAfterPresentation()){setTimeout(function(){n.removeStyleClass("sapUshellRightFloatingContainerItemBackToViewport");},3200);}};return a;},true);
