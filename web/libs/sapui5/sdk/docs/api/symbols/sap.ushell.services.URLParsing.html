<!DOCTYPE html><html xml:lang="en" lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="JsDoc Toolkit" />
		<title>JsDoc Report - SAP UI development Toolkit for HTML5 - API Reference - sap.ushell.services.URLParsing</title>
		<link rel=stylesheet href="../default.css" type="text/css">
		
			
				
				<script type="text/javascript" src="../../../resources/sap/ui/thirdparty/jquery/jquery-1.11.1.js"></script>
				
				
			
				
				<script type="text/javascript" src="../../../resources/sap/ui/demokit/js/highlight-query-terms.js"></script>
				
				
			
				
				
				<link rel="stylesheet" href="../../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
				
			
		
	</head>

	<body>


		<div id="main">
			<div id="content">

					<h1 class="classTitle static">
					
					Class sap.ushell.services.URLParsing
					</h1>
					
					
					
					
					<hr/>

					
					
					<div class="full-description">
						<p>The Unified Shell's internal URL parsing service (platform independent)
</p><p>
Methods in this class allow to break down a shell compliant hash into it's respective parts
(SemanticObject,Action,Context, Parameters, appSpecificHash) or (ShellPart,appSpecificHash) respectively
or construct a hash from its constituents.
</p><p>
All methods deal with the *internal* shellHash format.
</p><p>
Most of the parse methods are robust w.r.t. a leading "#".
</p><p>
Note: The functions were designed with a "truthy" behaviour for not present values,
Thus a client should not rely on the difference between null, "undefined", "" when testing for the
result of a parse action.
</p><p>
The parsing functions are deliberately restrictive and fragile,
only shell compliant hashes are parsed correctly,
behaviour for non-compliant hashes is undefined and subject to change,
notably we do not aim do "degrade" nicefully or support partial parsing of corrupted urls.</p>
						
						
						
						
						
						
							<br />
							<i>Since: </i>1.15.0.
						
					</div>
					
		
					
					
					
						<div class="summary section">
							<div class="sectionTitle">Constructor Summary</div>
							<div class="sectionItems">
								<div class="sectionItem classConstructor static">
									<div class="itemName">
										<b class="icon" title="This method MUST be called by the Unified Shell's container only, others MUST call sap.ushell.Container.getService(&quot;URLParsing&quot;).">new <a href="../symbols/sap.ushell.services.URLParsing.html#constructor">sap.ushell.services.URLParsing</a></b>
										<span class='signature'>()</span>
										<span class='description'>This method MUST be called by the Unified Shell's container only, others MUST call <code>sap.ushell.Container.getService("URLParsing")</code>.</span>
									</div>
								</div>
							</div>
						</div>
					
					
					
		
					

					
						<div class="summary section">
							<div class="sectionTitle">Method Summary</div>
							<div class="sectionItems">
							
								<div class="sectionItem classMethod">
									<b class="icon" title="Makes the given server-relative service URL point to the system given as parameter sSystem or to the system of the current application if sSystem is empty."><a href="../symbols/sap.ushell.services.URLParsing.html#addSystemToServiceUrl">addSystemToServiceUrl</a></b><span class='signature'>(<span title="(string) a server-relative URL without system alias information">sServiceUrl</span>, <span title="(string) a system specification like &quot;SYS&quot; or &quot;sid(SYS.123)&quot;; if empty the system of the current application is used">sSystem</span><i class="help" title="Optional parameter">?</i>)</span>
									<span class='description'>Makes the given server-relative service URL point to the system given as parameter <code>sSystem</code> or to the system of the current application if <code>sSystem</code> is empty.</span>
								</div>
							
								<div class="sectionItem classMethod">
									<b class="icon" title="compose a shell Hash from it's respective parts Note that it also may append an app specific route !"><a href="../symbols/sap.ushell.services.URLParsing.html#constructShellHash">constructShellHash</a></b><span class='signature'>(<span title="(object) undefined  if not a parseable hash  { target : { semanticObject : string, action : string, contextRaw : string }, params : MapObject, appSpecificRoute : string }  xor  { target : { shellHash } } ">oShellHash</span>)</span>
									<span class='description'>compose a shell Hash from it's respective parts Note that it also may append an app specific route !</span>
								</div>
							
								<div class="sectionItem classMethod">
									<b class="icon" title="Extract a hash part from an URL, including an app-specific part"><a href="../symbols/sap.ushell.services.URLParsing.html#getHash">getHash</a></b><span class='signature'>(<span title="(String) any value">sURL</span>)</span>
									<span class='description'>Extract a hash part from an URL, including an app-specific part</span>
								</div>
							
								<div class="sectionItem classMethod">
									<b class="icon" title="combine members of a javascript object into a parameter string, note that parameters are ordered in an arbitrary manner which is subject to change"><a href="../symbols/sap.ushell.services.URLParsing.html#paramsToString">paramsToString</a></b><span class='signature'>(<span title="(Object) any value { ABC : [1,&quot;1 2&quot;], DEF : [&quot;4&quot;]}">oParams</span>)</span>
									<span class='description'>combine members of a javascript object into a parameter string, note that parameters are ordered in an arbitrary manner which is subject to change</span>
								</div>
							
								<div class="sectionItem classMethod">
									<b class="icon" title="parse parameters from a uri query string (starting with ?) into a parameter object"><a href="../symbols/sap.ushell.services.URLParsing.html#parseParameters">parseParameters</a></b><span class='signature'>()</span>
									<span class='description'>parse parameters from a uri query string (starting with ?) into a parameter object</span>
								</div>
							
								<div class="sectionItem classMethod">
									<b class="icon" title="Decompose a shell hash into the respective parts"><a href="../symbols/sap.ushell.services.URLParsing.html#parseShellHash">parseShellHash</a></b><span class='signature'>(<span title="(String) Hash part of a shell compliant URL #SO-Action~Context?P1=a&P2=x&/route?RPV=1 the hash part of an URL,  e.g.">sHash</span>)</span>
									<span class='description'>Decompose a shell hash into the respective parts</span>
								</div>
							
								<div class="sectionItem classMethod">
									<b class="icon" title="split a Unified Shell compliant hash into an Object containing a shell specific part and an app specific parts for non compliant hash strings, the empty object {} is returned."><a href="../symbols/sap.ushell.services.URLParsing.html#splitHash">splitHash</a></b><span class='signature'>(<span title="(String) Hash part of a shell conformant URL {code}#SO-Action~Context?P1=a&P2=x&/route?RPV=1{code} the hash part of an URL, e.g.">sHash</span>)</span>
									<span class='description'>split a Unified Shell compliant hash into an Object containing a shell specific part and an app specific parts</br> for non compliant hash strings, the empty object {} is returned.</span>
								</div>
							
							</div>
						</div>
					
		
					
						<div class="section details">
							<div class="sectionTitle">
								Constructor Detail
							</div>
							<div class="sectionItems">
								<div class="sectionItem classItem itemName static">
									<div class="details"><a name="constructor"> </a>
										
										<div class="icon">
											new <b>sap.ushell.services.URLParsing</b>()
										</div>
										
										<div class="full-description">
											This method MUST be called by the Unified Shell's container only, others MUST call
<code>sap.ushell.Container.getService("URLParsing")</code>.
Constructs a new instance of the URL parsing service.
										</div>
										
										
										
										
										
										
										<!--
										
										-->
										
											<dl class="detailList">
											<dt class="heading">See:</dt>
											
												<dd><a href="../symbols/sap.ushell.services.Container.html#getService">sap.ushell.services.Container#getService</a></dd>
											
											</dl>
										
						
									</div>
								</div>
							</div>
						</div>
					
		
					
		
					
					
					
						<div class="details section">
							<div class="sectionTitle">
								Method Detail
							</div>
							<div class="sectionItems">
								
									<div class='sectionItem classMethod'>
										<a name="addSystemToServiceUrl"> </a>
										<div class="itemTitle icon">
											addSystemToServiceUrl<span class="signature">(<span title="(string) a server-relative URL without system alias information">sServiceUrl</span>, <span title="(string) a system specification like &quot;SYS&quot; or &quot;sid(SYS.123)&quot;; if empty the system of the current application is used">sSystem</span><i class="help" title="Optional parameter">?</i>)</span>
											<span class="light" title="returns string">: string</span>
										</div>
										<div class="full-description">
											Makes the given server-relative service URL point to the system given as parameter
<code>sSystem</code> or to the system of the current application if <code>sSystem</code>
is empty.
<em>Server-relative URL</em> means a URL starting with exactly one "/" (also known as
absolute-path URL). <em>System of the current application</em> is the value of the
business parameter <code>sap-system</code> with which the application is started.
<p>
Applications must call this API for any service URL with empty parameter
<code>sSystem</code> to create service URLs which respect the system of the current
application. They may call this API with non-empty parameter <code>sSystem</code> if
application specific logic is to determine the target system for service calls.
<p>
With service URLs converted using this API, administrators can redirect service
calls to servers other than the Unified Shell frontend server via SAP Web
Dispatcher or SAP Gateway configuration.
<p>
The system is added via segment parameter <code>o</code> to the last URL segment of the
service URL. It is also possible to make this function put the system to a different
URL path segment of the service URL by specifying the empty segment parameter
<code>o</code>, e.g. <code>/sap/opu/odata/MyService;o=/MyEntities/$count?p1=v1</code>.
If both <code>sSystem</code> is empty and the current application has
no system, no system is added and the empty segment parameter <code>o</code> is removed.
<br/>
<b>Example 1:</b> <code>/sap/opu/odata/MyService/?p1=v1</code> is converted to
<code>/sap/opu/odata/MyService;o=SYS/?p1=v1</code> if the current application's system
is &quot;SYS&quot;.
However it remains unchanged if the both the current application's system <em>and</em>
the parameter <code>sSystem</code> are empty.<br/>
<b>Example 2:</b> <code>/sap/opu/odata/MyService;o=/MyEntities/$count?p1=v1</code> is
converted to
<code>/sap/opu/odata/MyService;o=sid(SYS.123)/MyEntities/$count?p1=v1</code> if
parameter <code>sSystem</code> is set to &quot;sid(SYS.123)&quot;</code>.
<p>
The URL is in no way normalized.
											
											
											
											
										</div>
										
										
											<div class="heading">Parameters:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
													  <span class="light">{string}</span> 
													</td>
													<td class="methodItemName">
													  <b>sServiceUrl</b>
													</td>
													<td class="methodItemDesc">
												    a server-relative URL without system alias information
													</td>
												</tr>
											
												<tr>
													<td class="methodItemType">
													  <span class="light">{string}</span> 
													</td>
													<td class="methodItemName">
													  <b>sSystem</b><i class="help" title="Optional parameter">?</i>
													</td>
													<td class="methodItemDesc">
												    a system specification like &quot;SYS&quot; or &quot;sid(SYS.123)&quot;; if empty the
  system of the current application is used
													</td>
												</tr>
											
											</tbody></table>
										
										
										
										
											<dl class="detailList since">
												<dt class="heading since">Since:</dt>
												<dd>1.19.1</dd>
											</dl>
										
										
											<div class="heading">Exceptions:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
														 <b></b>
													</td>
													<td class="methodItemDesc">
														Error if the URL is not server-relative (e.g. <code>./something</code>,
  <code>http://foo.bar/something</code>, ...)
													</td>
												</tr>
											
											</tbody></table>
										
										
											<div class="heading">Returns:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
														<span class="light">{string}</span> 
													</td>
													<td class="methodItemDesc">
														the service URL pointing to the system specified in parameter <code>sSystem</code> or
  to the system of the current application
													</td>
												</tr>
											
											</tbody></table>
										
										
									</div>
								
									<div class='sectionItem classMethod'>
										<a name="constructShellHash"> </a>
										<div class="itemTitle icon">
											constructShellHash<span class="signature">(<span title="(object) undefined  if not a parseable hash  { target : { semanticObject : string, action : string, contextRaw : string }, params : MapObject, appSpecificRoute : string }  xor  { target : { shellHash } } ">oShellHash</span>)</span>
											<span class="light" title="returns string">: string</span>
										</div>
										<div class="full-description">
											compose a shell Hash from it's respective parts
Note that it also may append an app specific route !
											
											
											
											
										</div>
										
										
											<div class="heading">Parameters:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
													  <span class="light">{object}</span> 
													</td>
													<td class="methodItemName">
													  <b>oShellHash</b>
													</td>
													<td class="methodItemDesc">
												    <code>undefined </code> if not a parseable hash
  <code> { target : { semanticObject : string,<br/>
                      action : string,<br/>
                      contextRaw : string<br/>
                    },<br/>
           params :  MapObject<String,Array[String]>,<br/>
           appSpecificRoute : string<br/>
         }<br/>
   </code>
   xor
  <code> { target : { shellHash }<br/>
         }
   </code>
													</td>
												</tr>
											
											</tbody></table>
										
										
										
										
											<dl class="detailList since">
												<dt class="heading since">Since:</dt>
												<dd>1.16.0</dd>
											</dl>
										
										
										
											<div class="heading">Returns:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
														<span class="light">{string}</span> 
													</td>
													<td class="methodItemDesc">
														the hash part of an URL, e.g. <code>"Object-name~AFE2==?PV1=PV2&PV4=V5&/display/detail/7?UU=HH</code>
 returns "" for an undefined object
													</td>
												</tr>
											
											</tbody></table>
										
										
									</div>
								
									<div class='sectionItem classMethod'>
										<a name="getHash"> </a>
										<div class="itemTitle icon">
											getHash<span class="signature">(<span title="(String) any value">sURL</span>)</span>
											<span class="light" title="returns String">: String</span>
										</div>
										<div class="full-description">
											Extract a hash part from an URL, including an app-specific part
											
											
											
											
										</div>
										
										
											<div class="heading">Parameters:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
													  <span class="light">{String}</span> 
													</td>
													<td class="methodItemName">
													  <b>sURL</b>
													</td>
													<td class="methodItemDesc">
												    any value
													</td>
												</tr>
											
											</tbody></table>
										
										
										
										
											<dl class="detailList since">
												<dt class="heading since">Since:</dt>
												<dd>1.16.0</dd>
											</dl>
										
										
										
											<div class="heading">Returns:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
														<span class="light">{String}</span> 
													</td>
													<td class="methodItemDesc">
														<code>extracted string</code> if and only if a hash is present, undefined otherwise
													</td>
												</tr>
											
											</tbody></table>
										
										
									</div>
								
									<div class='sectionItem classMethod'>
										<a name="paramsToString"> </a>
										<div class="itemTitle icon">
											paramsToString<span class="signature">(<span title="(Object) any value { ABC : [1,&quot;1 2&quot;], DEF : [&quot;4&quot;]}">oParams</span>)</span>
											<span class="light" title="returns String">: String</span>
										</div>
										<div class="full-description">
											combine members of a javascript object into aparameter string,note that parameters are ordered in an arbitrary mannerwhich is subject to change
											
											
											
											
										</div>
										
										
											<div class="heading">Parameters:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
													  <span class="light">{<a href="../symbols/Object.html">Object</a>}</span> 
													</td>
													<td class="methodItemName">
													  <b>oParams</b>
													</td>
													<td class="methodItemDesc">
												    any value { ABC : [1,"1 2"], DEF : ["4"]}
													</td>
												</tr>
											
											</tbody></table>
										
										
										
										
											<dl class="detailList since">
												<dt class="heading since">Since:</dt>
												<dd>1.20.0</dd>
											</dl>
										
										
										
											<div class="heading">Returns:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
														<span class="light">{String}</span> 
													</td>
													<td class="methodItemDesc">
														<code>ABC=1&ABC=1%202DEF=4</code>  Note that the result is *not* prefixed with a "?",  parameter values are encodeURIComponent encoded.
													</td>
												</tr>
											
											</tbody></table>
										
										
									</div>
								
									<div class='sectionItem classMethod'>
										<a name="parseParameters"> </a>
										<div class="itemTitle icon">
											parseParameters<span class="signature">()</span>
											<span class="light" title="returns Object">: <a href="../symbols/Object.html">Object</a></span>
										</div>
										<div class="full-description">
											parse parameters from a uri query string (starting with ?)into a parameter object
											
											
											
											
										</div>
										
										
										
										
										
											<dl class="detailList since">
												<dt class="heading since">Since:</dt>
												<dd>1.20.0</dd>
											</dl>
										
										
										
											<div class="heading">Returns:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
														<span class="light">{<a href="../symbols/Object.html">Object</a>}</span> 
													</td>
													<td class="methodItemDesc">
														oParams  any value { ABC : ["1","1 2"], DEF : ["4"]}
													</td>
												</tr>
											
											</tbody></table>
										
										
									</div>
								
									<div class='sectionItem classMethod'>
										<a name="parseShellHash"> </a>
										<div class="itemTitle icon">
											parseShellHash<span class="signature">(<span title="(String) Hash part of a shell compliant URL #SO-Action~Context?P1=a&P2=x&/route?RPV=1 the hash part of an URL,  e.g.">sHash</span>)</span>
											<span class="light" title="returns object">: object</span>
										</div>
										<div class="full-description">
											Decompose a shell hash into the respective parts
											
											
											
											
										</div>
										
										
											<div class="heading">Parameters:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
													  <span class="light">{String}</span> 
													</td>
													<td class="methodItemName">
													  <b>sHash</b>
													</td>
													<td class="methodItemDesc">
												    Hash part of a shell compliant URL
 <code>#SO-Action~Context?P1=a&P2=x&/route?RPV=1</code>
 the hash part of an URL, <br/> e.g. <code>"#Object-name~AFE2==?PV1=PV2&PV4=V5&/display/detail/7?UU=HH</code>
</p><p>
 Note that params always has an Array for each parameter value!
													</td>
												</tr>
											
											</tbody></table>
										
										
										
										
											<dl class="detailList since">
												<dt class="heading since">Since:</dt>
												<dd>1.16.0</dd>
											</dl>
										
										
										
											<div class="heading">Returns:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
														<span class="light">{object}</span> 
													</td>
													<td class="methodItemDesc">
														<code>undefined </code> if not a parseable hash <br/>
  <code> { semanticObject : string, <br/>
           action : string, <br/>
           contextRaw : string, <br/>
           params :  MapObject<String,Array[String]>, <br/>
           appSpecificRoute : string <br/>
         }
 </code>
													</td>
												</tr>
											
											</tbody></table>
										
										
									</div>
								
									<div class='sectionItem classMethod'>
										<a name="splitHash"> </a>
										<div class="itemTitle icon">
											splitHash<span class="signature">(<span title="(String) Hash part of a shell conformant URL {code}#SO-Action~Context?P1=a&P2=x&/route?RPV=1{code} the hash part of an URL, e.g.">sHash</span>)</span>
											<span class="light" title="returns object">: object</span>
										</div>
										<div class="full-description">
											split a Unified Shell compliant hash into an Object containing a shell specific part and an app specific parts</br>
for non compliant hash strings, the empty object {} is returned.
an optional leading # is stripped
											
											
											
											
										</div>
										
										
											<div class="heading">Parameters:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
													  <span class="light">{String}</span> 
													</td>
													<td class="methodItemName">
													  <b>sHash</b>
													</td>
													<td class="methodItemDesc">
												    Hash part of a shell conformant URL
 {code}#SO-Action~Context?P1=a&P2=x&/route?RPV=1{code}
 the hash part of an URL, e.g. {code}"#Object-name~AFE2==?PV1=PV2&PV4=V5&/display/detail/7?UU=HH{code}
</p><p>
 Note that params always has an Array for each parameter value!
													</td>
												</tr>
											
											</tbody></table>
										
										
										
										
											<dl class="detailList since">
												<dt class="heading since">Since:</dt>
												<dd>1.16.0</dd>
											</dl>
										
										
										
											<div class="heading">Returns:</div>
											<table class="methodItem"><tbody>
											
												<tr>
													<td class="methodItemType">
														<span class="light">{object}</span> 
													</td>
													<td class="methodItemDesc">
														<code>{}</code>(empty object) if not a parseable hash
  <code>{ shellPart : "Object-name~AFE2==?PV1=PV2&PV4=V5",<br/>
           appSpecificRoute : "display/detail/7?UU=HH"<br/>
        }</br>
   </code> otherwise
													</td>
												</tr>
											
											</tbody></table>
										
										
									</div>
								
							</div>
						</div>
					



		</div>
	</div>

				
	</body>
</html>
