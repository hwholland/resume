<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content="Calculated fields enable the binding of multiple properties in different models to a single property of a control."/>
<meta name="description" content="Calculated fields enable the binding of multiple properties in different models to a single property of a control."/>

<link rel="stylesheet" type="text/css" href="css/prettify.css?x=8019032437330912"/>
<link rel="stylesheet" type="text/css" href="css/documentation.css?x=8019032437330912"/>
<title>Composite Binding</title>
  <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
    <script src="../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script>
  </head>
<body class="" id="loioa2fe8e763014477e87990ff50657a0d0">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Composite Binding</h1>

	
	<div class="body conbody"><p class="shortdesc">Calculated fields enable the binding of multiple properties in different models to a
		single property of a control.</p>

		<p class="p">The value property of a text field, for example, may be bound to a property
				<samp class="ph codeph">firstName</samp> and a property <samp class="ph codeph">lastName</samp> in a model. The
			application can access these values in a formatter function and can decide how they
			should be processed or combined together. If no formatter function is specified, the
			values are joined together by default. You can use the <samp class="ph codeph">useRawValues</samp>
			property to specify if the parameter values in the formatter function are formatted
			according to the type of the property or not. </p>

		<p class="p">The multiple property bindings are stored in a <samp class="ph codeph">CompositeBinding</samp> and can
			be accessed by calling the <samp class="ph codeph">getBindings</samp> function. You can access the
			composite binding, for example, by using the <samp class="ph codeph">getBinding('value')</samp>
			function of the control. The composite binding has no path, model, context, and type
			because it contains multiple property bindings containing the necessary information. A
			composite binding may, for example, store two property bindings which belong to
			different models and have different types.</p>

		<p class="p">If you have specified a formatter function, it is also available in the composite
			binding.</p>

		<div class="p">
			<div class="note note" id="loioa2fe8e763014477e87990ff50657a0d0__note_N1003B_N10038_N10011_N10001"><span class="notetitle">Note</span> Currently, calculated fields work only from model to view, read only, and the
				values can be accessed via a formatter function.</div>

		</div>

		<p class="p">There are several options to create multiple bindings for a control. The syntax is very
			similar to the normal single binding declaration. </p>

		<p class="p">Each binding is created by the specified parts and assigned information. A part must
			contain the path to the property in the model and may contain additional information for
			the binding, for example a type. If multiple parts exist, the binding mode is
			automatically set to one-way binding.</p>

		<div class="section" id="loioa2fe8e763014477e87990ff50657a0d0__section_N10044_N10011_N10001"><div class="section_title">Constructor Declaration</div><div type="Constructor Declaration">
			
			<ol class="ol" id="loioa2fe8e763014477e87990ff50657a0d0__ol_zkm_qrp_cj">
				<li class="li">Use binding objects to add additional parameters, for example the type:
					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">oTxt = new sap.m.Input({
    value: {
        parts: [
                {path: "/firstName", type: new sap.ui.model.type.String()},
                {path: "/lastName"},
                {path: "myModel2&gt;/amount", type: new sap.ui.model.type.Float()} // path to property in another model
               ]
          }
}); </pre></div>
</li>

				<li class="li"> Use strings which only take the
					path:<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">oTxt = new sap.m.Input({
    value: {
        parts: [
                "/firstName",
                "/lastName",
                "myModel2&gt;/fraud" // path to property in another model
               ]
         }
}); </pre></div>
</li>

			</ol>

		</div></div>

		<div class="section" id="loioa2fe8e763014477e87990ff50657a0d0__section_N10062_N10011_N10001"><div class="section_title">Bind Property Declaration</div><div type="Bind Property Declaration">
			
			<ol class="ol" id="loioa2fe8e763014477e87990ff50657a0d0__ol_bzv_yrp_cj">
				<li class="li">Use binding objects to add additional parameters, for example the type:
					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">oTxt.bindValue({
    parts: [
            {path: "/firstName", type: new sap.ui.model.type.String()},
            {path: "/lastName"}
           ]
}); </pre></div>
</li>

				<li class="li">Use strings which only take the
					path:<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">oTxt.bindValue({
    parts: [
            "/firstName",
            "/lastName"
           ]
}); </pre></div>
</li>

			</ol>

			<p class="p">These samples also work with a relative binding path, when you use them as a template in a
				list binding. </p>

		</div></div>

		<div class="section" id="loioa2fe8e763014477e87990ff50657a0d0__section_tlp_5np_rcb"><div class="section_title">Complex Syntax for Calculated Fields</div><div type="Complex Syntax for Calculated Fields">
			
			<p class="p">Complex (or "extended") syntax can be used for calculated fields in declarative
				views, such as HTML and XML views.</p>

			<p class="p">To use the feature in your <span class="ph"><span class="ph pname">OpenUI5</span></span> application, set
				the configuration flag <samp class="ph codeph">bindingSyntax</samp> in the bootstrap as
				follows:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">
&lt;script id="sap-ui-bootstrap"
      ...
        data-sap-ui-bindingSyntax="complex"&gt;
    &lt;/script&gt;</pre></div>

			<p class="p">The following examples show how to use the feature:</p>

			<ul class="ul" id="loioa2fe8e763014477e87990ff50657a0d0__ul_us5_ynp_rcb">
				<li class="li">
					<p class="p">You can mix text with calculated fields as follows:</p>

					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">
&lt;Label text="Hello Mr. {
                         path:'/singleEntry/firstName', 
                         formatter: '.myFormatter'
                        }, 
                        {
                         /singleEntry/lastName
                        }
 " /&gt;</pre></div>

					<div class="note note"><span class="notetitle">Note</span> 
						<p class="p">Use translatable text in your application.</p>

					</div>

				</li>

				<li class="li">
					<p class="p">Use a syntax with leading quotation marks ("...") if you use MVC and your
						formatter or type is located in the controller. In the following example,
						the existing type or formatter function in the controller is used:</p>

					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">
&lt;TextField value="{
                   path:'gender', 
                   formatter:'.myGenderFormatter'
                  } 
                  {firstName}, 
                  {lastName}
"/&gt;</pre></div>

				</li>

				<li class="li">
					<p class="p">If you have a global formatter function, use the following syntax:</p>

					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">
&lt;TextField value="{
              parts: [
                      {path:'birthday/day'},
                      {path:'birthday/month'},
                      {path:'birthday/year'}
                     ], 
              formatter:'my.globalFormatter'
}"/&gt;</pre></div>

				</li>

				<li class="li">
					<p class="p">For a global type that is created with the specified format options, see the
						following example:</p>

					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">
&lt;Label text="A type test: {
                           path:'/singleEntry/amount', 
                           type:'sap.ui.model.type.Float', 
                           formatOptions: { minFractionDigits: 1}
                          } EUR
"/&gt;</pre></div>

				</li>

			</ul>

		</div></div>

	</div>

</div></div>

</body>
</html>