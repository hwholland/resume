<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content="A mechanism used for aggregations of composite controls."/>
<meta name="description" content="A mechanism used for aggregations of composite controls."/>

<link rel="stylesheet" type="text/css" href="css/prettify.css?x=43488777272197787"/>
<link rel="stylesheet" type="text/css" href="css/documentation.css?x=43488777272197787"/>
<title>Aggregation Forwarding</title>
  <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
    <script src="../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script>
  </head>
<body class="" id="loio64a5e1775bf04d4883db18c9de7d83bd">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Aggregation Forwarding</h1>

	
	<div class="body conbody"><p class="shortdesc">A mechanism used for aggregations of composite controls.</p>

		<div class="section" id="loio64a5e1775bf04d4883db18c9de7d83bd__section_kyq_3m5_scb"><div class="section_title">Overview</div><div type="Overview">
			
			<p class="p">Aggregration forwarding is used when application developers
				want
				to add child controls
				to
				an aggregation of a composite control, but the composite control does not keep these
				controls as direct children. Instead, it moves or forwards them to an aggregation of
				one of its internal controls. </p>

			<p class="p">This technique is often used when a control with an aggregation is wrapped by a composite
				control to add functionality, but the application
				still
				has control over the content of the
				wrapped
				control.
				In
				other cases, the composite control uses layout controls
				internally
				to define the placement of aggregated children.</p>

			<div class="note note"><span class="notetitle">Note</span> 
				<p class="p">While aggregation forwarding as described here is mainly aimed at composite controls, it has
					also been implemented for the <samp class="ph codeph">ManagedObject</samp> base class. The
					forwarding can also be used for other entities which are not controls, but
					inherit directly from <samp class="ph codeph">ManagedObject</samp> or one of its
					subclasses.</p>

				<p class="p">For more information about this class, see the <a class="xref" href="../../docs/api/symbols/ sap.ui.base.ManagedObject/methods/sap.ui.base.ManagedObject.extend" alt="../../docs/api/symbols/ sap.ui.base.ManagedObject/methods/sap.ui.base.ManagedObject.extend" title="../../docs/api/symbols/ sap.ui.base.ManagedObject/methods/sap.ui.base.ManagedObject.extend">API Reference</a>.</p>

			</div>

			<div class="note note"><span class="notetitle">Note</span> Sometimes the controls that have been added to an aggregation of a composite control have
				to be transformed into different controls, which are then added to an aggregation of
				an internal control. This is a different use case and not covered by aggregation
				forwarding. With aggregation forwarding, aggregated child controls are moved
					<span class="ph emphasis emphasis">without</span> transforming them.</div>

		</div></div>

		<div class="section" id="loio64a5e1775bf04d4883db18c9de7d83bd__section_vlk_km5_scb"><div class="section_title">Configuration</div><div type="Configuration">
			
			<p class="p">Aggregation forwarding requires a simple additional setting in the definition of a
				control aggregation. <span class="ph"><span class="ph pname">OpenUI5</span></span> needs to know to
				which internal control all aggregated children need to be forwarded and to which
				aggregation of this internal control.</p>

			<p class="p">Aggregation forwarding is defined in the aggregation definition inside the control
				metadata.</p>

			<p class="p">The <samp class="ph codeph">forwarding</samp> property can be set as an object defining the following:</p>

			<ul class="ul" id="loio64a5e1775bf04d4883db18c9de7d83bd__ul_o5w_v3r_rcb">
				<li class="li">
					<p class="p"><samp class="ph codeph">getter</samp> or <samp class="ph codeph">idSuffix</samp>: A way how <span class="ph"><span class="ph pname">OpenUI5</span></span>
						determines the internal control instance to which the aggregation is
						forwarded at runtime, which is what you could call the target control. This
						can either be done by specifying the <samp class="ph codeph">getter</samp>, the name of a
						function of the composite control which always returns the target control
						instance, or the <samp class="ph codeph">idSuffix</samp>, a string which is appended to
						the ID of the composite control to construct the ID of the target
						control.</p>

				</li>

				<li class="li">
					<p class="p"><samp class="ph codeph">aggregation</samp>: The name of the aggregation of the target
						control to which this aggregation is forwarded</p>

				</li>

				<li class="li">
					<p class="p"><samp class="ph codeph">forwardBinding</samp> (optional): Determines whether any binding is done
						at
						the target control or only at the outer composite control</p>

				</li>

			</ul>

			<p class="p">When such a forwarding definition is done, <span class="ph"><span class="ph pname">OpenUI5</span></span> moves all
				aggregated child controls to the target control. All calls to
					<samp class="ph codeph">addAggregation</samp>, <samp class="ph codeph">removeAggregation</samp>,
					<samp class="ph codeph">indexOfAggregation</samp> and so on are forwarded. When asked for the
				forwarded child control, both the composite control and the forwarding target act
				like the child control belongs to their aggregation. However, the inner forwarding
				target control is the actual parent of all forwarded children.</p>

		</div></div>

		<div class="section" id="loio64a5e1775bf04d4883db18c9de7d83bd__section_pmd_qm5_scb"><div class="section_title">Examples</div><div type="Examples"><p class="p">Here is an example that demonstrates
				aggregation forwarding: The new <samp class="ph codeph">FilterableList</samp> control is supposed
				to display a list of items with an input field above the list. The list items are
				filtered while the
				user
				is entering the input. This <samp class="ph codeph">FilterableList</samp>
				control can be implemented as a composite control, using the
					<samp class="ph codeph">sap.m.List</samp> and <samp class="ph codeph">sap.m.Input</samp> controls as inner
				controls to take advantage of their existing implementation, design, and set of
				features. Application developers using <samp class="ph codeph">FilterableList</samp>
				cannot
				change all attributes
				of the inner <samp class="ph codeph">List</samp> control. However, they should
				be able to provide the actual list items. Hence, the new
					<samp class="ph codeph">FilterableList</samp> composite control has an <samp class="ph codeph">items</samp>
				aggregation and forwards all items to the inner <samp class="ph codeph">sap.m.List</samp> control,
				so, for example, the layouting, events, and selection can be handled
				there.</p>
<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">
              aggregations: {
                     // The items forwarded from the FilterableList to the internal sap.m.List
                     items : {type: "sap.m.ListItemBase", multiple: true, forwarding: {
                           idSuffix: "-myInternalList",
                           aggregation: "items”
                     }},</pre></div>
<p class="p">Another
				example would be a new <samp class="ph codeph">ButtonList</samp> control that is supposed to
				contain and display an arbitrary number of <samp class="ph codeph">sap.m.Button</samp> controls in
				a grid. Hence it has a <samp class="ph codeph">buttons</samp> aggregation. For this control,
				control-specific HTML could be written that provides screen-size-dependent CSS for a
				proper grid layout of the buttons. However, this effort can be avoided, and a
					<samp class="ph codeph">sap.ui.layout.Grid</samp> control used internally instead to do the
				layouting. The buttons given to the <samp class="ph codeph">ButtonList</samp> control then need to
				be forwarded to the <samp class="ph codeph">content</samp> aggregation of the
					<samp class="ph codeph">Grid</samp>
				control.</p>
<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">
              aggregations: {
                     // The items forwarded from the ButtonList to the internal sap.ui.layout.Grid
                     buttons: {type: "sap.m.Button", multiple: true, forwarding: {
                           getter: "_getInternalGrid",
                           aggregation: "content”
                     }},</pre></div>
</div></div>

		<div class="section" id="loio64a5e1775bf04d4883db18c9de7d83bd__section_b14_ym5_scb"><div class="section_title">Dos and Don'ts</div><div type="Dos and Don'ts">
			
			<p class="p">If you use aggregation forwarding, you have to keep the following in mind:</p>

			<ul class="ul" id="loio64a5e1775bf04d4883db18c9de7d83bd__ul_urn_1fg_scb">
				<li class="li">
					<p class="p">Aggregations can only be forwarded to non-hidden aggregations of the same
						multiplicity (single or multiple).</p>

				</li>

				<li class="li">
					<p class="p">The target aggregation and the source aggregation have to be compatible: Any child elements
						given
						to the source aggregation must be valid in the target
						aggregation as well (otherwise the target element will throw a validation
						error).</p>

				</li>

				<li class="li">
					<p class="p">If the forwarded child
						elements
						use data binding, there must be a proper aggregation hierarchy between
						source and
						target
						element to make sure all models are available in the target as
						well.</p>

				</li>

				<li class="li">
					<p class="p">The aggregation target control for a particular instance of a composite
						control must stay the same across the entire
						lifetime
						of the composite control.</p>

				</li>

				<li class="li">
					<p class="p">If the content in the target aggregation is modified by other
						entities
						or actions, such as the target control itself or another
						forwarding from a different source aggregation, this
						will
						lead to an unexpected behavior of the aggregation forwarding. Hence, these
						modifications are not allowed.</p>

				</li>

			</ul>

		</div></div>

	</div>

</div></div>

</body>
</html>