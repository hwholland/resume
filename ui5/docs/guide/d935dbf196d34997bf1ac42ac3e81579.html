<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content="In the last step of our Walkthrough tutorial, we adjust the content density based on the user’s device. OpenUI5 contains different content densities allowing you to display larger controls for touch-enabled devices and a smaller, more compact design for devices that are operated by mouse. In our app, we will detect the device and adjust the density accordingly."/>
<meta name="description" content="In the last step of our Walkthrough tutorial, we adjust the content density based on the user’s device. OpenUI5 contains different content densities allowing you to display larger controls for touch-enabled devices and a smaller, more compact design for devices that are operated by mouse. In our app, we will detect the device and adjust the density accordingly."/>

<link rel="stylesheet" type="text/css" href="css/prettify.css?x=32281844898330536"/>
<link rel="stylesheet" type="text/css" href="css/documentation.css?x=32281844898330536"/>
<title>Step 37: Content Density</title>
  <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
    <script src="../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script>
  </head>
<body class="" id="loiod935dbf196d34997bf1ac42ac3e81579">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Step 37: Content Density</h1>

	
	<div class="body conbody"><p class="shortdesc">In the last step of our Walkthrough tutorial, we adjust the content density based on the
		user’s device. <span class="ph"><span class="ph pname">OpenUI5</span></span> contains
		different content densities allowing you to display larger controls for touch-enabled
		devices and a smaller, more compact design for devices that are operated by mouse. In our
		app, we will detect the device and adjust the density accordingly.</p>

		<div class="section"><div class="section_title">Preview</div><div type="Preview">
			
			<div class="fig fignone" id="loiod935dbf196d34997bf1ac42ac3e81579__fig_r1j_pst_mr"><div class="figcontainer">
				
				<img class="image" id="loiod935dbf196d34997bf1ac42ac3e81579__image_jpm_yqp_lt" src="loio04b6669bbc8a4524be5a998ad78544ac_HiRes.png"/>
			<div class="figcap">Figure 1: The content density is compact on desktop devices and cozy on touch-enabled
					devices</div></div></div>

		</div></div>

		<div class="section"><div class="section_title">Coding</div><div type="Coding">
			
			<p class="p">You can view and download all files <span class="ph">at <a class="xref" target="_blank" href="../../explored.html#/sample/sap.m.tutorial.walkthrough.37/preview" alt="../../explored.html#/sample/sap.m.tutorial.walkthrough.37/preview" title="../../explored.html#/sample/sap.m.tutorial.walkthrough.37/preview">Walkthrough - Step 37</a></span>.</p>

		</div></div>

		<div class="section"><div class="section_title">webapp/Component.js</div><div type="webapp/Component.js">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-js">...
		init: function () {
...		}<span class="ph emphasis emphasis">,</span>
...
<span class="ph emphasis emphasis">		getContentDensityClass : function() {
			if (!this._sContentDensityClass) {
				if (!sap.ui.Device.support.touch) {
					this._sContentDensityClass = "sapUiSizeCompact";
				} else {
					this._sContentDensityClass = "sapUiSizeCozy";
				}
			}
			return this._sContentDensityClass;
		}
</span>
	});
});</pre></div>

			<p class="p">To prepare the content density feature we will also add a helper method <samp class="ph codeph">getContentDensityClass</samp>. <span class="ph"><span class="ph pname">OpenUI5</span></span> controls can be displayed in multiple sizes, for example in a
					<samp class="ph codeph">compact</samp> size that is optimized for desktop and non-touch devices, and in a <samp class="ph codeph">cozy</samp> mode that is optimized for
				touch interaction. The controls look for a specific CSS class in the HTML structure of the application to adjust their size.</p>

			<p class="p">This helper method queries the <span class="keyword apiname">sap.ui.Device</span> API directly for touch support of the client and returns the CSS class
					<samp class="ph codeph">sapUiSizeCompact</samp> if touch interaction is not supported and <samp class="ph codeph">sapUiSizeCozy</samp> for all other cases. We will use
				it throughout the application coding to set the proper content density CSS class.</p>

		</div></div>

		<div class="section"><div class="section_title">webapp/controller/App.controller.js</div><div type="webapp/controller/App.controller.js"><div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-xml">sap.ui.define([
	"sap/ui/core/mvc/Controller"
], function (Controller) {
	"use strict";

	return Controller.extend("sap.ui.demo.walkthrough.controller.App", {

<span class="ph emphasis emphasis">		onInit: function () {
			this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());
		}</span>,
		onOpenDialog: function () {
			this.getOwnerComponent().openHelloDialog();
		}
	});
});</pre></div>
We
			add a method <samp class="ph codeph">onInit</samp> on the app controller that is called when the app view is instantiated. There we query the helper function that
			we defined on the app component to set the corresponding style class on the app view, All controls inside the app view will now automatically adjust
			either to the compact or cozy size as defined by the style.</div></div>

		<div class="section"><div class="section_title">webapp/controller/HelloDialog.js</div><div type="webapp/controller/HelloDialog.js"><div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-xml">sap.ui.define([
   "sap/ui/base/ManagedObject"
], function (ManagedObject) {
   "use strict";

   return ManagedObject.extend("sap.ui.demo.walkthrough.controller.HelloDialog", {

      constructor : function (oView) {
         this._oView = oView;
      },

        exit : function () {
		    delete this._oView;
        },

      open : function () {
         var oView = this._oView;
         var oDialog = oView.byId("helloDialog");

         // create dialog lazily
         if (!oDialog) {
            var oFragmentController = {
               onCloseDialog : function () {
                  oDialog.close();
               }
            };
            // create dialog via fragment factory
            oDialog = sap.ui.xmlfragment(oView.getId(), "sap.ui.demo.walkthrough.view.HelloDialog", oFragmentController);
            // connect dialog to the root view of this component (models, lifecycle)
            oView.addDependent(oDialog);
<span class="ph emphasis emphasis">            // forward compact/cozy style into dialog
            jQuery.sap.syncStyleClass(oView.getController().getOwnerComponent().getContentDensityClass(), oView, oDialog);</span>
         }
         oDialog.open();
      }
   });

});
</pre></div>
The "Hello World" dialog is not part of the <samp class="ph codeph">app</samp> view but opened in a special part of the DOM called "static area". The content density class defined on the <samp class="ph codeph">app</samp> view is not known to the dialog so we sync the style class of the app with the dialog manually.</div></div>

		<div class="section"><div class="section_title">webapp/manifest.json</div><div type="webapp/manifest.json">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-json">...
  "sap.ui5": {
    ...     
    "dependencies": {
      ...
    }<span class="ph emphasis emphasis">,
    "contentDensities": {
      "compact": true,
      "cozy": true
    }
</span>
  }</pre></div>

			<p class="p">In the <samp class="ph codeph">contentDensities</samp> section of the <samp class="ph codeph">sap.ui5</samp> namespace, we specify the modes that the application supports.
				Containers like the <span class="ph pname">SAP Fiori launchpad</span> allow switching the content density based on these settings.</p>

			<p class="p">As we have just enabled the app to run in both modes depending on the devices capabilities, we can set both to <samp class="ph codeph">true</samp> in the
				application descriptor. </p>

		</div></div>

		<div class="section">
			<p class="p"><span class="ph emphasis emphasis">This was the last step, you have successfully completed the Walkthrough!</span></p>

		</div>

		<div class="section" id="loiod935dbf196d34997bf1ac42ac3e81579__section_kpq_zct_qbb"><div class="section_title">Summary</div><div type="Summary">
			
			<p class="p">You should now be familiar with the major development paradigms and concepts of <span class="ph"><span class="ph pname">OpenUI5</span></span> and have created
				a very simple first app. You are now ready to build a proper app based on what
				you've learned.</p>

			<p class="p">If you want to dive deeper into specific topics, you can use the other tutorials that
				show some of the aspects of this Walkthrough and advanced topics in more detail.
			</p>

		</div></div>

	</div>

	<div class="related-links"> 

<div class="familylinks">
<div class="parentlink"><br/>
<strong>Parent topic: </strong><a class="link" href="3da5f4be63264db99f2e5b04c5e853db.html" title="In this tutorial we will introduce you to all major development paradigms of OpenUI5.">Walkthrough</a><br/>
</div>
<div class="previouslink"><br/>
<strong>Previous: </strong><a class="link" href="d63a15e5eebb45cdada317bae5f45bc2.html" title="We now configure the visibility and properties of controls based on the device that we run the application on. By making use of the sap.ui.Device API and defining a device model we will make the app look great on many devices.">Step 36: Device Adaptation</a><br/>
</div>
</div>
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="e54f729da8e3405fae5e4fe8ae7784c1.html" title="The devices used to run apps that are developed with OpenUI5 run on various different operating systems and have very different screen sizes. OpenUI5 contains different content densities for certain controls that allow your app to adapt to the device in question, allowing you to display larger controls for touch-enabled devices and a smaller, more compact design for devices that are operated by mouse.">Content Densities</a></div>
<div><a class="link" href="../../docs/api/symbols/sap.ui.Device.media.RANGESETS.html" alt="../../docs/api/symbols/sap.ui.Device.media.RANGESETS.html" title="../../docs/api/symbols/sap.ui.Device.media.RANGESETS.html">API Reference: <samp class="ph codeph">sap.ui.Device.media.RANGESETS</samp></a></div>
<div><a class="link" href="../../docs/api/symbols/sap.ui.Device.html" alt="../../docs/api/symbols/sap.ui.Device.html" title="../../docs/api/symbols/sap.ui.Device.html">API Reference: <samp class="ph codeph">sap.ui.Device</samp></a></div>
<div><a class="link" href="../../docs/api/symbols/jQuery.sap.html#.syncStyleClass" alt="../../docs/api/symbols/jQuery.sap.html#.syncStyleClass" title="../../docs/api/symbols/jQuery.sap.html#.syncStyleClass">API Reference: <samp class="ph codeph">jQuery.sap.html#.syncStyleClass</samp></a></div>
</div>
</div>
</div></div>

</body>
</html>