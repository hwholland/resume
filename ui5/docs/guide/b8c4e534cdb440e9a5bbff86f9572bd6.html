<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content="So far, we have created a currency field that can format itself correctly. The currency data type also has the ability to validate that user input adheres to to the requirements of a currency; however, data type validation functions are managed by OpenUI5, which of itself has no mechanism for reporting error messages back to the UI; therefore, we need a mechanism for reporting error messages raised by validation functions back to the user. In this step, we will connect the entire view to a feature known as the &#34;Message Manager&#34;. Once this connection is established, any validation error messages generated based on the user input will be passed to the message manager which in turn will connect them to the appropriate view and control that caused the error."/>
<meta name="description" content="So far, we have created a currency field that can format itself correctly. The currency data type also has the ability to validate that user input adheres to to the requirements of a currency; however, data type validation functions are managed by OpenUI5, which of itself has no mechanism for reporting error messages back to the UI; therefore, we need a mechanism for reporting error messages raised by validation functions back to the user. In this step, we will connect the entire view to a feature known as the &#34;Message Manager&#34;. Once this connection is established, any validation error messages generated based on the user input will be passed to the message manager which in turn will connect them to the appropriate view and control that caused the error."/>

<link rel="stylesheet" type="text/css" href="css/prettify.css?x=8336172185246111"/>
<link rel="stylesheet" type="text/css" href="css/documentation.css?x=8336172185246111"/>
<title>Step 11: Validation Using the Message Manager</title>
  <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
    <script src="../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script>
  </head>
<body class="" id="loiob8c4e534cdb440e9a5bbff86f9572bd6">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Step 11: Validation Using the Message Manager</h1>

	
	<div class="body conbody"><p class="shortdesc">So far, we have created a currency field that can format itself correctly. The currency data type also has the ability to validate that user input
		adheres to to the requirements of a currency; however, data type validation functions are managed by <span class="ph"><span class="ph pname">OpenUI5</span></span>, which of itself has no mechanism for reporting error messages back to the UI;
		therefore, we need a mechanism for reporting error messages raised by validation functions back to the user. In this step, we will connect the entire
		view to a feature known as the "Message Manager". Once this connection is established, any validation error messages generated based on the user input
		will be passed to the message manager which in turn will connect them to the appropriate view and control that caused the error.</p>

		<div class="section"><div class="section_title">Preview</div><div type="Preview">
			
			<div class="fig fignone" id="loiob8c4e534cdb440e9a5bbff86f9572bd6__fig_r1j_pst_mr"><div class="figcontainer">
				
				<img class="image" id="loiob8c4e534cdb440e9a5bbff86f9572bd6__image_l5z_5rz_1t" src="loio418c4f74dae54878bda198882046a455_HiRes.png"/>
			<div class="figcap">Figure 1: A message appears</div></div></div>

		</div></div>

		<div class="section"><div class="section_title">Coding</div><div type="Coding">
			
			<p class="p">You can view and download all files in the Demo Kit
					<span class="ph">at <a class="xref" target="_blank" href="../../explored.html#/sample/sap.ui.core.tutorial.databinding.11/preview" alt="../../explored.html#/sample/sap.ui.core.tutorial.databinding.11/preview" title="../../explored.html#/sample/sap.ui.core.tutorial.databinding.11/preview">Data Binding - Step 11</a></span>.</p>

		</div></div>

		<div class="section"><div class="section_title">webapp/index.html</div><div type="webapp/index.html">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-xml">...
	&lt;script&gt;
...
			// Assign the model object to the SAPUI5 core
			sap.ui.getCore().setModel(oModel);
 
			var oResourceBundle = new sap.ui.model.resource.ResourceModel({
				bundleName: "sap.ui.demo.db.i18n.i18n"
			});
 
			sap.ui.getCore().setModel(oResourceBundle, "i18n");
 
			// Create view
			<span class="ph emphasis emphasis">var oView = </span>new sap.ui.core.mvc.XMLView({ viewName : "sap.ui.demo.db.view.App" });
 
			<span class="ph emphasis emphasis">// Register the view with the message manager
			sap.ui.getCore().getMessageManager().registerObject(oView, true);</span>
 
			// Insert the view into the DOM
			<span class="ph emphasis emphasis">oView</span>.placeAt("content");
		});
	&lt;/script&gt;
&lt;/head&gt;
&lt;body class="sapUiBody" id="content"&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div>

			<div class="p">The changes to the coding are minimal:<ul class="ul" id="loiob8c4e534cdb440e9a5bbff86f9572bd6__ul_mmd_gcl_vs">
					<li class="li">
						<p class="p">The XML view is now created as a named object called
								<samp class="ph codeph">oView</samp>.</p>

					</li>

					<li class="li">
						<p class="p">The view object <samp class="ph codeph">oView</samp> is registered with the
								<samp class="ph codeph">MessageManager</samp>.</p>

					</li>

					<li class="li">
						<p class="p">Once registered, the XML view is then inserted into the DOM as
							before.</p>

					</li>

				</ul>
</div>

			<p class="p">You can now enter a non-numeric value into the <span class="ph uicontrol">Sales To Date</span> field and either press <kbd class="key">Enter</kbd> or move the focus to a
				different UI control. This action triggers either the <samp class="ph codeph">onenter</samp> or <samp class="ph codeph">onchange</samp> event and then <span class="ph"><span class="ph pname">OpenUI5</span></span> executes the validation function belonging to the
					<samp class="ph codeph">sap.ui.model.type.Currency</samp> data type.</p>

			<p class="p">Now that the view has been registered with the <samp class="ph codeph">MessageManager</samp>, any
				validation error messages will be picked up by the <samp class="ph codeph">MessageManager</samp>,
				which in turn checks its list of registered objects and then passes the error
				message back to the correct view for display.</p>

			<p class="p">Note that the field in error has a red border: <img class="image" id="loiob8c4e534cdb440e9a5bbff86f9572bd6__image_rg5_wcl_vs" src="loio44db88e92bc445b2b00e1b8e53b5ca9a_HiRes.png"/>
			</p>

			<p class="p">However, the error message itself will only be displayed when that particular field
				has focus: <img class="image" id="loiob8c4e534cdb440e9a5bbff86f9572bd6__image_nsv_ycl_vs" src="loioe67207b43d08410e82e74ad57ffbc022_HiRes.png"/></p>

		</div></div>

	</div>

	<div class="related-links"> 

<div class="familylinks">
<div class="parentlink"><br/>
<strong>Parent topic: </strong><a class="link" href="e5310932a71f42daa41f3a6143efca9c.html" title="In this tutorial, we will explain the concepts of data binding in OpenUI5.">Data Binding</a><br/>
</div>
<div class="previouslink"><br/>
<strong>Previous: </strong><a class="link" href="9252ee4015f24fc49c71c295394d1b8d.html" title="OpenUI5 provides a set of simple data types such as Boolean, Currency, Date and Float. These data types can then be applied to controls in order to ensure that the value presented on the screen is formatted correctly, and, if the field is open for input, that the value entered by the user adheres to the requirements of that data type. We will now add a new field called Sales to Date of type Currency.">Step 10: Property Formatting Using Data Types</a><br/>
</div>
<div class="nextlink"><br/>
<strong>Next: </strong><a class="link" href="97830de2d7314e93b5c1ee3878a17be9.html" title="Aggregation binding allows a control to be bound to a list within the model data and allows relative binding to the list entries by its child controls.">Step 12: Aggregation Binding Using Templates</a><br/>
</div>
</div>
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="62b1481d3e084cb49dd30956d183c6a0.html" title="OpenUI5 provides a central management of UI and server messages.">Managing UI and Server Messages</a></div>
</div>
</div>
</div></div>

</body>
</html>