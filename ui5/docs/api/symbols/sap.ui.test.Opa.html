<!DOCTYPE html> <html xml:lang="en" lang="en"><head><meta charset="UTF-8" ><meta name="generator" content="JsDoc + OpenUI5/SAPUI5 template" ><title>JsDoc Report - SAP UI development Toolkit for HTML5 - API Reference - sap.ui.test.Opa</title><link rel="stylesheet" href="../default.css" ><link rel="stylesheet" href="../../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" /><link rel="stylesheet" href="../../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" /><script src="../../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script></head><body><div id="main"><div id="content"><h1 class="classTitle static">Class <span class="package">sap.ui.test.</span>Opa<span class="module"><span>Module: </span><a href="../modules/sap_ui_test_Opa.html">sap/ui/test/Opa</a></span></h1><hr><div class="full-description"> One Page Acceptance testing. <br /><i>Since: </i>1.22. </div><div class="summary section"><div class="sectionTitle">Constructor Summary</div><div class="sectionItems"><div class="sectionItem classConstructor static"><div class="itemName"><b class="icon" title="This class will help you write acceptance tests in one page or single page applications.">new <a href="sap.ui.test.Opa.html#constructor">sap.ui.test.Opa</a></b><span class='signature'>(<span title="(object) An object containing properties and functions.">extensionObject</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>This class will help you write acceptance tests in one page or single page applications.</span></div></div></div></div><div class="summary section"><div class="sectionTitle">Field Summary</div><div class="sectionItems"><div class="sectionItem classProperty static"><b class="icon" title="the global configuration of Opa."><a href="sap.ui.test.Opa.html#.config"><span class="package">sap.ui.test.Opa.</span>config</a></b><span class='description'>the global configuration of Opa.</span></div></div></div><div class="summary section"><div class="sectionTitle">Method Summary</div><div class="sectionItems"><div class="sectionItem classMethod static"><b class="icon" title="Waits until all waitFor calls are done."><a href="sap.ui.test.Opa.html#.emptyQueue"><span class="package">sap.ui.test.Opa.</span>emptyQueue</a></b><span class='signature'>()</span><span class='description'>Waits until all waitFor calls are done.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Extends and overwrites default values of the sap.ui.test.Opa.config."><a href="sap.ui.test.Opa.html#.extendConfig"><span class="package">sap.ui.test.Opa.</span>extendConfig</a></b><span class='signature'>(<span title="(object) The values to be added to the existing config">options</span>)</span><span class='description'>Extends and overwrites default values of the <a href="sap.ui.test.Opa.html#.config">sap.ui.test.Opa.config</a>.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Gives access to a singleton object you can save values in."><a href="sap.ui.test.Opa.html#.getContext"><span class="package">sap.ui.test.Opa.</span>getContext</a></b><span class='signature'>()</span><span class='description'>Gives access to a singleton object you can save values in.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Reset Opa.config to its default values."><a href="sap.ui.test.Opa.html#.resetConfig"><span class="package">sap.ui.test.Opa.</span>resetConfig</a></b><span class='signature'>()</span><span class='description'>Reset Opa.config to its default values.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Clears the queue and stops running tests so that new tests can be run."><a href="sap.ui.test.Opa.html#.stopQueue"><span class="package">sap.ui.test.Opa.</span>stopQueue</a></b><span class='signature'>()</span><span class='description'>Clears the queue and stops running tests so that new tests can be run.</span></div><div class="sectionItem classMethod"><b class="icon" title="Calls the static emptyQueue function in the Opa namespace sap.ui.test.Opa.emptyQueue"><a href="sap.ui.test.Opa.html#emptyQueue">emptyQueue</a></b><span class='signature'>()</span><span class='description'>Calls the static emptyQueue function in the Opa namespace <a href="sap.ui.test.Opa.html#.emptyQueue">sap.ui.test.Opa.emptyQueue</a></span></div><div class="sectionItem classMethod"><b class="icon" title="Calls the static extendConfig function in the Opa namespace sap.ui.test.Opa.extendConfig"><a href="sap.ui.test.Opa.html#extendConfig">extendConfig</a></b><span class='signature'>()</span><span class='description'>Calls the static extendConfig function in the Opa namespace <a href="sap.ui.test.Opa.html#.extendConfig">sap.ui.test.Opa.extendConfig</a></span></div><div class="sectionItem classMethod"><b class="icon" title="Gives access to a singleton object you can save values in."><a href="sap.ui.test.Opa.html#getContext">getContext</a></b><span class='signature'>()</span><span class='description'>Gives access to a singleton object you can save values in.</span></div><div class="sectionItem classMethod"><b class="icon" title="Queues up a waitFor command for Opa."><a href="sap.ui.test.Opa.html#waitFor">waitFor</a></b><span class='signature'>(<span title="(object) These contain check, success and error functions">options</span>)</span><span class='description'>Queues up a waitFor command for Opa.</span></div></div></div><div class="section details"><div class="sectionTitle">Constructor Detail</div><div class="sectionItems"><div id="constructor" class='sectionItem classItem itemName static'><div class="itemTitle icon"> new sap.ui.test.Opa<span class="signature">(<span title="(object) An object containing properties and functions.">extensionObject</span><i class="help" title="Optional parameter">?</i>)</span></div><div class="full-description"> This class will help you write acceptance tests in one page or single page applications. You can wait for certain conditions to be met. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">extensionObject<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">An object containing properties and functions. The newly created Opa will be extended by these properties and functions using jQuery.extend.</td></tr></tbody></table></div></div></div><div class="section details"><div class="sectionTitle">Field Detail</div><div class="sectionItems"><div id=".config" class='sectionItem classProperty static'><div class="itemTitle icon"> sap.ui.test.Opa.config </div><div class="full-description"><p>the global configuration of Opa. All of the global values can be overwritten in an individual waitFor call. The default values are: </p><ul><li>arrangements: A new Opa instance</li><li>actions: A new Opa instance</li><li>assertions: A new Opa instance</li><li>timeout : 15 seconds, 0 for infinite timeout</li><li>pollingInterval: 400 milliseconds</li><li>debugTimeout: 0 seconds, infinite timeout by default. This will be used instead of timeout if running in debug mode.</li></ul><p> You can either directly manipulate the config, or extend it using <a href="sap.ui.test.Opa.html#.extendConfig">sap.ui.test.Opa.extendConfig</a></p></div></div></div></div><div class="details section"><div class="sectionTitle">Method Detail</div><div class="sectionItems"><div id=".emptyQueue" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa.emptyQueue<span class="signature">()</span><span class="light" title="returns jQuery.promise">: jQuery.promise</span></div><div class="full-description"> Waits until all waitFor calls are done. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">jQuery.promise</td><td class="methodItemDesc">If the waiting was successful, the promise will be resolved. If not it will be rejected</td></tr></tbody></table></div><div id=".extendConfig" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa.extendConfig<span class="signature">(<span title="(object) The values to be added to the existing config">options</span>)</span></div><div class="full-description"> Extends and overwrites default values of the <a href="sap.ui.test.Opa.html#.config">sap.ui.test.Opa.config</a>. Sample usage: <pre class="prettyprint">
    <code>
        var oOpa = new Opa();

        // this statement will  will time out after 15 seconds and poll every 400ms.
        // those two values come from the defaults of {@link sap.ui.test.Opa.config}.
        oOpa.waitFor({
        });

        // All wait for statements added after this will take other defaults
        Opa.extendConfig({
            timeout: 10,
            pollingInterval: 100
        });

        // this statement will time out after 10 seconds and poll every 100 ms
        oOpa.waitFor({
        });

        // this statement will time out after 20 seconds and poll every 100 ms
        oOpa.waitFor({
            timeout: 20;
        });
    </code>
</pre></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">options</td><td class="methodItemDesc">The values to be added to the existing config</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.48 All config parameters could be overwritten from URL. Should be prefixed with 'opa' and have uppercase first character. Like 'opaExecutionDelay=1000' will overwrite 'executionDelay'</dd></dl></div><div id=".getContext" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa.getContext<span class="signature">()</span><span class="light" title="returns object">: object</span></div><div class="full-description"> Gives access to a singleton object you can save values in. Same as <a href="sap.ui.test.Opa.html#getContext">sap.ui.test.Opa#getContext</a></div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemDesc">the context object</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.29.0</dd></dl></div><div id=".resetConfig" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa.resetConfig<span class="signature">()</span></div><div class="full-description"><p>Reset Opa.config to its default values. All of the global values can be overwritten in an individual waitFor call.</p><p>The default values are: </p><ul><li>arrangements: A new Opa instance</li><li>actions: A new Opa instance</li><li>assertions: A new Opa instance</li><li>timeout : 15 seconds, 0 for infinite timeout</li><li>pollingInterval: 400 milliseconds</li><li>debugTimeout: 0 seconds, infinite timeout by default. This will be used instead of timeout if running in debug mode.</li><li> executionDelay: 0 or 50 (depending on the browser). The value is a number representing milliseconds. The executionDelay will slow down the execution of every single waitFor statement to be delayed by the number of milliseconds. This does not effect the polling interval it just adds an initial pause. Use this parameter to slow down OPA when you want to watch your test during development or checking the UI of your app. It is not recommended to use this parameter in any automated test executions. </li></ul></div><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.25</dd></dl></div><div id=".stopQueue" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa.stopQueue<span class="signature">()</span></div><div class="full-description"> Clears the queue and stops running tests so that new tests can be run. This means all waitFor statements registered by <a href="sap.ui.test.Opa.html#waitFor">sap.ui.test.Opa#waitFor</a> will not be invoked anymore and the promise returned by <a href="sap.ui.test.Opa.html#.emptyQueue">sap.ui.test.Opa.emptyQueue</a> will be rejected When it is called inside of a check in <a href="sap.ui.test.Opa.html#waitFor">sap.ui.test.Opa#waitFor</a> the success function of this waitFor will not be called. </div><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.40.1</dd></dl></div><div id="emptyQueue" class='sectionItem classMethod'><div class="itemTitle icon"> emptyQueue<span class="signature">()</span></div><div class="full-description"> Calls the static emptyQueue function in the Opa namespace <a href="sap.ui.test.Opa.html#.emptyQueue">sap.ui.test.Opa.emptyQueue</a></div></div><div id="extendConfig" class='sectionItem classMethod'><div class="itemTitle icon"> extendConfig<span class="signature">()</span></div><div class="full-description"> Calls the static extendConfig function in the Opa namespace <a href="sap.ui.test.Opa.html#.extendConfig">sap.ui.test.Opa.extendConfig</a></div></div><div id="getContext" class='sectionItem classMethod'><div class="itemTitle icon"> getContext<span class="signature">()</span><span class="light" title="returns object">: object</span></div><div class="full-description"> Gives access to a singleton object you can save values in. This object will only be created once and it will never be destroyed. That means you can use it to save values you need in multiple separated tests. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemDesc">the context object</td></tr></tbody></table></div><div id="waitFor" class='sectionItem classMethod'><div class="itemTitle icon"> waitFor<span class="signature">(<span title="(object) These contain check, success and error functions">options</span>)</span><span class="light" title="returns jQuery.promise">: jQuery.promise</span></div><div class="full-description"><p>Queues up a waitFor command for Opa. The Queue will not be emptied until <a href="sap.ui.test.Opa.html#.emptyQueue">sap.ui.test.Opa.emptyQueue</a> is called. If you are using <a href="sap.ui.test.html#.opaQunit">sap.ui.test.opaQunit</a>, emptyQueue will be called by the wrapped tests.</p><p>If you are using Opa5, waitFor takes additional parameters. They can be found here: <a href="sap.ui.test.Opa5.html#waitFor">sap.ui.test.Opa5#waitFor</a>. Waits for a check condition to return true, in which case a success function will be called. If the timeout is reached before the check returns true, an error function will be called.</p></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">options</td><td class="methodItemDesc">These contain check, success and error functions</td></tr><tr><td class="methodItemType light">int</td><td class="methodItemName">options.timeout<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">default: 15 - (seconds) Specifies how long the waitFor function polls before it fails.O means it will wait forever.</td></tr><tr><td class="methodItemType light">int</td><td class="methodItemName">options.debugTimeout<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">@since 1.47 default: 0 - (seconds) Specifies how long the waitFor function polls before it fails in debug mode.O means it will wait forever.</td></tr><tr><td class="methodItemType light">int</td><td class="methodItemName">options.pollingInterval<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">default: 400 - (milliseconds) Specifies how often the waitFor function polls.</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">options.check<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Will get invoked in every polling interval. If it returns true, the check is successful and the polling will stop. The first parameter passed into the function is the same value that gets passed to the success function. Returning something other than boolean in the check will not change the first parameter of success.</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">options.success<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Will get invoked after the check function returns true. If there is no check function defined, it will be directly invoked. waitFor statements added in the success handler will be executed before previously added waitFor statements.</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">options.errorMessage<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Will be displayed as an errorMessage depending on your unit test framework. Currently the only adapter for Opa is QUnit. This message is displayed there if Opa has reached its timeout but QUnit has not yet reached it.</td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">jQuery.promise</td><td class="methodItemDesc">A promise that gets resolved on success. If an error occurs, the promise is rejected with the options object. A detailed error message containing the stack trace and Opa logs is available in options.errorMessage.</td></tr></tbody></table></div></div></div></div></div></body></html>