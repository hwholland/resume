<!DOCTYPE html> <html xml:lang="en" lang="en"><head><meta charset="UTF-8" ><meta name="generator" content="JsDoc + OpenUI5/SAPUI5 template" ><title>JsDoc Report - SAP UI development Toolkit for HTML5 - API Reference - sap.ui.test.Opa5</title><link rel="stylesheet" href="../default.css" ><link rel="stylesheet" href="../../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" /><link rel="stylesheet" href="../../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" /><script src="../../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script></head><body><div id="main"><div id="content"><h1 class="classTitle static">Class <span class="package">sap.ui.test.</span>Opa5<span class="module"><span>Module: </span><a href="../modules/sap_ui_test_Opa5.html">sap/ui/test/Opa5</a></span></h1><div class="classRelation extends"><span class="caption">extends </span><a title="sap.ui.base.Object" href="sap.ui.base.Object.html">Object</a></div><hr><div class="full-description"> UI5 extension of the OPA framework <br /><i>Since: </i>1.22. </div><div class="summary section"><div class="sectionTitle">Constructor Summary</div><div class="sectionItems"><div class="sectionItem classConstructor static"><div class="itemName"><b class="icon" title="Helps you when writing tests for UI5 applications.">new <a href="sap.ui.test.Opa5.html#constructor">sap.ui.test.Opa5</a></b><span class='signature'>()</span><span class='description'>Helps you when writing tests for UI5 applications.</span></div></div></div></div><div class="summary section"><div class="sectionTitle">Method Summary</div><div class="sectionItems"><div class="sectionItem classMethod static"><b class="icon" title="Create a page object configured as arrangement, action and assertion to the Opa.config."><a href="sap.ui.test.Opa5.html#.createPageObjects"><span class="package">sap.ui.test.Opa5.</span>createPageObjects</a></b><span class='signature'>(<span title="(map) map">mPageObjects</span>)</span><span class='description'>Create a page object configured as arrangement, action and assertion to the Opa.config.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Waits until all waitFor calls are done See sap.ui.test.Opa.emptyQueue for the description"><a href="sap.ui.test.Opa5.html#.emptyQueue"><span class="package">sap.ui.test.Opa5.</span>emptyQueue</a></b><span class='signature'>()</span><span class='description'>Waits until all waitFor calls are done See <a href="sap.ui.test.Opa.html#.emptyQueue">sap.ui.test.Opa.emptyQueue</a> for the description</span></div><div class="sectionItem classMethod static"><b class="icon" title="Extends and overwrites default values of the sap.ui.test.Opa.config."><a href="sap.ui.test.Opa5.html#.extendConfig"><span class="package">sap.ui.test.Opa5.</span>extendConfig</a></b><span class='signature'>(<span title="(object) The values to be added to the existing config">options</span>)</span><span class='description'>Extends and overwrites default values of the <a href="sap.ui.test.Opa.html#.config">sap.ui.test.Opa.config</a>.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Gives access to a singleton object you can save values in."><a href="sap.ui.test.Opa5.html#.getContext"><span class="package">sap.ui.test.Opa5.</span>getContext</a></b><span class='signature'>()</span><span class='description'>Gives access to a singleton object you can save values in.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Returns the HashChanger object in the current context."><a href="sap.ui.test.Opa5.html#.getHashChanger"><span class="package">sap.ui.test.Opa5.</span>getHashChanger</a></b><span class='signature'>()</span><span class='description'>Returns the HashChanger object in the current context.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Returns the jQuery object in the current context."><a href="sap.ui.test.Opa5.html#.getJQuery"><span class="package">sap.ui.test.Opa5.</span>getJQuery</a></b><span class='signature'>()</span><span class='description'>Returns the jQuery object in the current context.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Returns the Opa plugin used for retrieving controls."><a href="sap.ui.test.Opa5.html#.getPlugin"><span class="package">sap.ui.test.Opa5.</span>getPlugin</a></b><span class='signature'>()</span><span class='description'>Returns the Opa plugin used for retrieving controls.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Return particular test lib config object."><a href="sap.ui.test.Opa5.html#.getTestLibConfig"><span class="package">sap.ui.test.Opa5.</span>getTestLibConfig</a></b><span class='signature'>(<span title="(string) test library name">sTestLibName</span>)</span><span class='description'>Return particular test lib config object.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Returns the QUnit utils object in the current context."><a href="sap.ui.test.Opa5.html#.getUtils"><span class="package">sap.ui.test.Opa5.</span>getUtils</a></b><span class='signature'>()</span><span class='description'>Returns the QUnit utils object in the current context.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Returns the window object in the current context."><a href="sap.ui.test.Opa5.html#.getWindow"><span class="package">sap.ui.test.Opa5.</span>getWindow</a></b><span class='signature'>()</span><span class='description'>Returns the window object in the current context.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Starts an app in an IFrame."><a href="sap.ui.test.Opa5.html#.iStartMyAppInAFrame"><span class="package">sap.ui.test.Opa5.</span>iStartMyAppInAFrame</a></b><span class='signature'>(<span title="(string) The source of the IFrame">sSource</span>, <span title="(number) The timeout for loading the IFrame in seconds - default is 80">iTimeout</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>Starts an app in an IFrame.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Removes the IFrame from the DOM and removes all the references to its objects."><a href="sap.ui.test.Opa5.html#.iTeardownMyAppFrame"><span class="package">sap.ui.test.Opa5.</span>iTeardownMyAppFrame</a></b><span class='signature'>()</span><span class='description'>Removes the IFrame from the DOM and removes all the references to its objects.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Resets Opa.config to its default values."><a href="sap.ui.test.Opa5.html#.resetConfig"><span class="package">sap.ui.test.Opa5.</span>resetConfig</a></b><span class='signature'>()</span><span class='description'>Resets Opa.config to its default values.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Clears the queue and stops running tests so that new tests can be run."><a href="sap.ui.test.Opa5.html#.stopQueue"><span class="package">sap.ui.test.Opa5.</span>stopQueue</a></b><span class='signature'>()</span><span class='description'>Clears the queue and stops running tests so that new tests can be run.</span></div><div class="sectionItem classMethod"><b class="icon" title="Checks if the application has been started using sap.ui.test.Opa5#iStartMyAppInAFrame or sap.ui.test.Opa5#iStartMyUIComponent"><a href="sap.ui.test.Opa5.html#hasAppStarted">hasAppStarted</a></b><span class='signature'>()</span><span class='description'>Checks if the application has been started using <a href="sap.ui.test.Opa5.html#iStartMyAppInAFrame">sap.ui.test.Opa5#iStartMyAppInAFrame</a> or <a href="sap.ui.test.Opa5.html#iStartMyUIComponent">sap.ui.test.Opa5#iStartMyUIComponent</a></span></div><div class="sectionItem classMethod"><b class="icon" title="Checks if the application has been started using sap.ui.test.Opa5#iStartMyAppInAFrame"><a href="sap.ui.test.Opa5.html#hasAppStartedInAFrame">hasAppStartedInAFrame</a></b><span class='signature'>()</span><span class='description'>Checks if the application has been started using <a href="sap.ui.test.Opa5.html#iStartMyAppInAFrame">sap.ui.test.Opa5#iStartMyAppInAFrame</a></span></div><div class="sectionItem classMethod"><b class="icon" title="Checks if the application has been started using sap.ui.test.Opa5#iStartMyUIComponent"><a href="sap.ui.test.Opa5.html#hasUIComponentStarted">hasUIComponentStarted</a></b><span class='signature'>()</span><span class='description'>Checks if the application has been started using <a href="sap.ui.test.Opa5.html#iStartMyUIComponent">sap.ui.test.Opa5#iStartMyUIComponent</a></span></div><div class="sectionItem classMethod"><b class="icon" title="Starts an app in an IFrame."><a href="sap.ui.test.Opa5.html#iStartMyAppInAFrame">iStartMyAppInAFrame</a></b><span class='signature'>(<span title="(string) The source of the IFrame">sSource</span>, <span title="(int) The timeout for loading the IFrame in seconds - default is 80">iTimeout</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>Starts an app in an IFrame.</span></div><div class="sectionItem classMethod"><b class="icon" title="Starts a UIComponent."><a href="sap.ui.test.Opa5.html#iStartMyUIComponent">iStartMyUIComponent</a></b><span class='signature'>(<span title="(object) An Object that contains the configuration for starting up a UIComponent.">oOptions</span>)</span><span class='description'>Starts a UIComponent.</span></div><div class="sectionItem classMethod"><b class="icon" title="Tears down the started application regardless of how it was started."><a href="sap.ui.test.Opa5.html#iTeardownMyApp">iTeardownMyApp</a></b><span class='signature'>()</span><span class='description'>Tears down the started application regardless of how it was started.</span></div><div class="sectionItem classMethod"><b class="icon" title="Removes the IFrame from the DOM and removes all the references to its objects Use sap.ui.test.Opa5#hasAppStartedInAFrame to ensure that an IFrame has been started and teardown can be safely performed."><a href="sap.ui.test.Opa5.html#iTeardownMyAppFrame">iTeardownMyAppFrame</a></b><span class='signature'>()</span><span class='description'>Removes the IFrame from the DOM and removes all the references to its objects Use <a href="sap.ui.test.Opa5.html#hasAppStartedInAFrame">sap.ui.test.Opa5#hasAppStartedInAFrame</a> to ensure that an IFrame has been started and teardown can be safely performed.</span></div><div class="sectionItem classMethod"><b class="icon" title="Destroys the UIComponent and removes the div from the dom like all the references on its objects."><a href="sap.ui.test.Opa5.html#iTeardownMyUIComponent">iTeardownMyUIComponent</a></b><span class='signature'>()</span><span class='description'>Destroys the UIComponent and removes the div from the dom like all the references on its objects.</span></div><div class="sectionItem classMethod"><b class="icon" title="Takes the same parameters as sap.ui.test.Opa#waitFor."><a href="sap.ui.test.Opa5.html#waitFor">waitFor</a></b><span class='signature'>(<span title="(object) An Object containing conditions for waiting and callbacks">options</span>)</span><span class='description'>Takes the same parameters as <a href="sap.ui.test.Opa.html#waitFor">sap.ui.test.Opa#waitFor</a>.</span></div></div></div><div class="summary section"><div class="sectionTitle">Methods borrowed from class <a href="sap.ui.base.Object.html">sap.ui.base.Object</a></div><div class="sectionItems"><a href="sap.ui.base.Object.html#destroy">destroy</a>, <a href="sap.ui.base.Object.html#getInterface">getInterface</a>, <a href="sap.ui.base.Object.html#getMetadata">getMetadata</a></div></div><div class="section details"><div class="sectionTitle">Constructor Detail</div><div class="sectionItems"><div id="constructor" class='sectionItem classItem itemName static'><div class="itemTitle icon"> new sap.ui.test.Opa5<span class="signature">()</span></div><div class="full-description"> Helps you when writing tests for UI5 applications. Provides convenience to wait and retrieve for UI5 controls without relying on global IDs. Makes it easy to wait until your UI is in the state you need for testing, e.g.: waiting for backend data. </div></div></div></div><div class="details section"><div class="sectionTitle">Method Detail</div><div class="sectionItems"><div id=".createPageObjects" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.createPageObjects<span class="signature">(<span title="(map) map">mPageObjects</span>)</span><span class="light" title="returns map">: map</span></div><div class="full-description"> Create a page object configured as arrangement, action and assertion to the Opa.config. Use it to structure your arrangement, action and assertion based on parts of the screen to avoid name clashes and help to structure your tests. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">map</td><td class="methodItemName">mPageObjects</td><td class="methodItemDesc"></td></tr><tr><td class="methodItemType light">map</td><td class="methodItemName">mPageObjects.&lt;your-page-object-name&gt;</td><td class="methodItemDesc">Multiple page objects are possible, provide at least actions or assertions</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">mPageObjects.&lt;your-page-object-name&gt;.viewName<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">When a viewName is given, all waitFors inside of the page object will get a viewName parameter. Here is an example: <pre class="prettyprint">
		<code>
			Opa5.createPageObjects({
				viewName: "myView",
				onMyPageWithViewName: {
					assertions: {
						iWaitForAButtonInMyView: function () {
							this.waitFor({
								id: "myButton",
								success: function (oButton) {
									// the button is defined in the view myView
								}
							});
						}
					}
				}
    </code>
</pre> This saves you repeating the viewName in every waitFor statement of the page object. It is possible to overwrite the viewName of the page object in a specific waitFor. So if you have specified a <code>viewName: "myView"</code> in your page object and you want to look for a control with a global id you may use <code>viewName: ""</code> in a waitFor to overwrite the viewName of the page Object. Example: <pre class="prettyprint">
		<code>
			this.waitFor({
				id: "myButton",
				viewName: "",
				success: function (oButton) {
					// now a button with the global id "myButton" will be searched
				}
			});
		</code>
</pre></td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">mPageObjects.&lt;your-page-object-name&gt;.baseClass<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Base class for the page object's actions and assertions, default: Opa5</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">mPageObjects.&lt;your-page-object-name&gt;.namespace<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Namespace prefix for the page object's actions and assertions, default: sap.ui.test.opa.pageObject. Use it if you use page objects from multiple projects in the same test build.</td></tr><tr><td class="methodItemType light">map</td><td class="methodItemName">mPageObjects.&lt;your-page-object-name&gt;.actions<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Can be used as an arrangement and action in Opa tests. Only the test knows if an action is used as arrangement or action</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">mPageObjects.&lt;your-page-object-name&gt;.actions.&lt;your-action-1&gt;</td><td class="methodItemDesc">This is your custom implementation containing one or multiple waitFor statements</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">mPageObjects.&lt;your-page-object-name&gt;.actions.&lt;your-action-2&gt;</td><td class="methodItemDesc">This is your custom implementation containing one or multiple waitFor statements</td></tr><tr><td class="methodItemType light">map</td><td class="methodItemName">mPageObjects.&lt;your-page-object-name&gt;.assertions<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Can be used as an assertions in Opa tests.</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">mPageObjects.&lt;your-page-object-name&gt;.assertions.&lt;your-assertions-1&gt;</td><td class="methodItemDesc">This is your custom implementation containing one or multiple waitFor statements</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">mPageObjects.&lt;your-page-object-name&gt;.assertions.&lt;your-assertions-2&gt;</td><td class="methodItemDesc">This is your custom implementation containing one or multiple waitFor statements</td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">map</td><td class="methodItemDesc">mPageObject The created page object. It will look like this: <pre class="prettyprint"><code>
 {
  &lt;your-page-object-name&gt; : {
      actions: // an instance of baseClass or Opa5 with all the actions defined above
      assertions: // an instance of baseClass or Opa5 with all the assertions defined above
  }
 }
</code></pre></td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.25</dd></dl></div><div id=".emptyQueue" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.emptyQueue<span class="signature">()</span><span class="light" title="returns jQuery.promise">: jQuery.promise</span></div><div class="full-description"> Waits until all waitFor calls are done See <a href="sap.ui.test.Opa.html#.emptyQueue">sap.ui.test.Opa.emptyQueue</a> for the description </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">jQuery.promise</td><td class="methodItemDesc">If the waiting was successful, the promise will be resolved. If not it will be rejected</td></tr></tbody></table></div><div id=".extendConfig" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.extendConfig<span class="signature">(<span title="(object) The values to be added to the existing config">options</span>)</span></div><div class="full-description"><p>Extends and overwrites default values of the <a href="sap.ui.test.Opa.html#.config">sap.ui.test.Opa.config</a>. Most frequent usecase: <pre class="prettyprint">
    <code>
        // Every waitFor will append this namespace in front of your viewName
        Opa5.extendConfig({
           viewNamespace: "namespace.of.my.views."
        });

        var oOpa = new Opa5();

        // Looks for a control with the id "myButton" in a View with the name "namespace.of.my.views.Detail"
        oOpa.waitFor({
             id: "myButton",
             viewName: "Detail"
        });

        // Looks for a control with the id "myList" in a View with the name "namespace.of.my.views.Master"
        oOpa.waitFor({
             id: "myList",
             viewName: "Master"
        });
    </code>
</pre></p><p>Sample usage: <pre class="prettyprint">
    <code>
        var oOpa = new Opa5();

        // this statement will  will time out after 15 seconds and poll every 400ms.
        // those two values come from the defaults of {@link sap.ui.test.Opa.config}.
        oOpa.waitFor({
        });

        // All wait for statements added after this will take other defaults
        Opa5.extendConfig({
            timeout: 10,
            pollingInterval: 100
        });

        // this statement will time out after 10 seconds and poll every 100 ms
        oOpa.waitFor({
        });

        // this statement will time out after 20 seconds and poll every 100 ms
        oOpa.waitFor({
            timeout: 20;
        });
    </code>
</pre></p></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">options</td><td class="methodItemDesc">The values to be added to the existing config</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.49 Declarative configuration of test libraries is supported <pre>
    <code>
        // in your app
        Opa5.extendConfig({
            testLibs: {
                someAwesomeTestLib: {
                    key: 'value'
                }
            }
        });

        // so the test library could do
        var key = Opa5.getTestLibConfig('someAwesomeTestLib').key;         *
    </code>
</pre></dd></dl></div><div id=".getContext" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.getContext<span class="signature">()</span><span class="light" title="returns object">: object</span></div><div class="full-description"> Gives access to a singleton object you can save values in. See <a href="sap.ui.test.Opa.html#.getContext">sap.ui.test.Opa.getContext</a> for the description </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemDesc">the context object</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.29.0</dd></dl></div><div id=".getHashChanger" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.getHashChanger<span class="signature">()</span><span class="light" title="returns sap.ui.core.routing.HashChanger">: <a href="sap.ui.core.routing.HashChanger.html">sap.ui.core.routing.HashChanger</a></span></div><div class="full-description"> Returns the HashChanger object in the current context. If an IFrame is launched, it will return the IFrame's HashChanger. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light"><a href="sap.ui.core.routing.HashChanger.html">sap.ui.core.routing.HashChanger</a></td><td class="methodItemDesc">The HashChanger instance</td></tr></tbody></table></div><div id=".getJQuery" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.getJQuery<span class="signature">()</span><span class="light" title="returns jQuery">: <a href="jQuery.html">jQuery</a></span></div><div class="full-description"> Returns the jQuery object in the current context. If an IFrame is launched, it will return the IFrame's jQuery object. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light"><a href="jQuery.html">jQuery</a></td><td class="methodItemDesc">The jQuery object</td></tr></tbody></table></div><div id=".getPlugin" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.getPlugin<span class="signature">()</span><span class="light" title="returns sap.ui.test.OpaPlugin">: <a href="sap.ui.test.OpaPlugin.html">sap.ui.test.OpaPlugin</a></span></div><div class="full-description"> Returns the Opa plugin used for retrieving controls. If an IFrame is launched, it will return the IFrame's plugin. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light"><a href="sap.ui.test.OpaPlugin.html">sap.ui.test.OpaPlugin</a></td><td class="methodItemDesc">The plugin instance</td></tr></tbody></table></div><div id=".getTestLibConfig" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.getTestLibConfig<span class="signature">(<span title="(string) test library name">sTestLibName</span>)</span><span class="light" title="returns object">: object</span></div><div class="full-description"> Return particular test lib config object. This method is intended to be used by test libraries to access their configuration provided by the test in the testLibs section in <a href="sap.ui.test.Opa5.html#.extendConfig">sap.ui.test.Opa5.extendConfig</a></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">string</td><td class="methodItemName">sTestLibName</td><td class="methodItemDesc">test library name</td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemDesc">this test library config object or empty object if configuration is not provided</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.49</dd></dl></div><div id=".getUtils" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.getUtils<span class="signature">()</span><span class="light" title="returns sap.ui.test.qunit">: sap.ui.test.qunit</span></div><div class="full-description"> Returns the QUnit utils object in the current context. If an IFrame is launched, it will return the IFrame's QUnit utils. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">sap.ui.test.qunit</td><td class="methodItemDesc">The QUnit utils</td></tr></tbody></table></div><div id=".getWindow" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.getWindow<span class="signature">()</span><span class="light" title="returns Window">: Window</span></div><div class="full-description"> Returns the window object in the current context. If an IFrame is launched, it will return the IFrame's window. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">Window</td><td class="methodItemDesc">The window of the IFrame</td></tr></tbody></table></div><div id=".iStartMyAppInAFrame" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.iStartMyAppInAFrame<span class="signature">(<span title="(string) The source of the IFrame">sSource</span>, <span title="(number) The timeout for loading the IFrame in seconds - default is 80">iTimeout</span><i class="help" title="Optional parameter">?</i>)</span><span class="light" title="returns jQuery.promise">: jQuery.promise</span></div><div class="full-description"> Starts an app in an IFrame. Only works reliably if running on the same server. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">string</td><td class="methodItemName">sSource</td><td class="methodItemDesc">The source of the IFrame</td></tr><tr><td class="methodItemType light">number</td><td class="methodItemName">iTimeout<i class="help" title="Optional parameter">?, Default: 80</i></td><td class="methodItemDesc">The timeout for loading the IFrame in seconds - default is 80</td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">jQuery.promise</td><td class="methodItemDesc">A promise that gets resolved on success</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.48 If appParams are provided in {@link sap.ui.test.Opa.config}, they are merged in the query params of app URL</dd></dl></div><div id=".iTeardownMyAppFrame" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.iTeardownMyAppFrame<span class="signature">()</span><span class="light" title="returns jQuery.promise">: jQuery.promise</span></div><div class="full-description"> Removes the IFrame from the DOM and removes all the references to its objects. Use <a href="sap.ui.test.Opa5.html#hasAppStartedInAFrame">sap.ui.test.Opa5#hasAppStartedInAFrame</a> to ensure that an IFrame has been started and teardown can be safely performed. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">jQuery.promise</td><td class="methodItemDesc">A promise that gets resolved on success. If no IFrame has been created or an error occurs, the promise is rejected with the options object. A detailed error message containing the stack trace and Opa logs is available in options.errorMessage.</td></tr></tbody></table></div><div id=".resetConfig" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.resetConfig<span class="signature">()</span></div><div class="full-description"><p>Resets Opa.config to its default values. See <a href="sap.ui.test.Opa5.html#waitFor">sap.ui.test.Opa5#waitFor</a> for the description Default values for OPA5 are: </p><ul><li>viewNamespace: empty string</li><li>arrangements: instance of OPA5</li><li>actions: instance of OPA5</li><li>assertions: instance of OPA5</li><li>visible: true</li><li>timeout : 15 seconds, 0 for infinite timeout</li><li>pollingInterval: 400 milliseconds</li><li>debugTimeout: 0 seconds, infinite timeout by default. This will be used instead of timeout if running in debug mode.</li><li>autoWait: false - since 1.42</li><li>appParams: object with URI parameters for the tested app - since 1.48</li></ul></div><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.25</dd></dl></div><div id=".stopQueue" class='sectionItem classMethod static'><div class="itemTitle icon"> sap.ui.test.Opa5.stopQueue<span class="signature">()</span></div><div class="full-description"> Clears the queue and stops running tests so that new tests can be run. This means all waitFor statements registered by <a href="sap.ui.test.Opa5.html#waitFor">sap.ui.test.Opa5#waitFor</a> will not be invoked anymore and the promise returned by <a href="sap.ui.test.Opa5.html#.emptyQueue">sap.ui.test.Opa5.emptyQueue</a> will be rejected. When its called inside of a check in <a href="sap.ui.test.Opa5.html#waitFor">sap.ui.test.Opa5#waitFor</a> the success function of this waitFor will not be called. </div></div><div id="hasAppStarted" class='sectionItem classMethod'><div class="itemTitle icon"> hasAppStarted<span class="signature">()</span><span class="light" title="returns boolean">: boolean</span></div><div class="full-description"> Checks if the application has been started using <a href="sap.ui.test.Opa5.html#iStartMyAppInAFrame">sap.ui.test.Opa5#iStartMyAppInAFrame</a> or <a href="sap.ui.test.Opa5.html#iStartMyUIComponent">sap.ui.test.Opa5#iStartMyUIComponent</a></div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">boolean</td><td class="methodItemDesc">A boolean indicating whether the application has been started regardless of how it was started</td></tr></tbody></table></div><div id="hasAppStartedInAFrame" class='sectionItem classMethod'><div class="itemTitle icon"> hasAppStartedInAFrame<span class="signature">()</span><span class="light" title="returns boolean">: boolean</span></div><div class="full-description"> Checks if the application has been started using <a href="sap.ui.test.Opa5.html#iStartMyAppInAFrame">sap.ui.test.Opa5#iStartMyAppInAFrame</a></div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">boolean</td><td class="methodItemDesc">A boolean indicating whether the application has been started in an iFrame</td></tr></tbody></table></div><div id="hasUIComponentStarted" class='sectionItem classMethod'><div class="itemTitle icon"> hasUIComponentStarted<span class="signature">()</span><span class="light" title="returns boolean">: boolean</span></div><div class="full-description"> Checks if the application has been started using <a href="sap.ui.test.Opa5.html#iStartMyUIComponent">sap.ui.test.Opa5#iStartMyUIComponent</a></div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">boolean</td><td class="methodItemDesc">A boolean indicating whether the application has been started as a UIComponent</td></tr></tbody></table></div><div id="iStartMyAppInAFrame" class='sectionItem classMethod'><div class="itemTitle icon"> iStartMyAppInAFrame<span class="signature">(<span title="(string) The source of the IFrame">sSource</span>, <span title="(int) The timeout for loading the IFrame in seconds - default is 80">iTimeout</span><i class="help" title="Optional parameter">?</i>)</span><span class="light" title="returns jQuery.promise">: jQuery.promise</span></div><div class="full-description"> Starts an app in an IFrame. Only works reliably if running on the same server. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">string</td><td class="methodItemName">sSource</td><td class="methodItemDesc">The source of the IFrame</td></tr><tr><td class="methodItemType light">int</td><td class="methodItemName">iTimeout<i class="help" title="Optional parameter">?, Default: 80</i></td><td class="methodItemDesc">The timeout for loading the IFrame in seconds - default is 80</td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">jQuery.promise</td><td class="methodItemDesc">A promise that gets resolved on success</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.48 If appParams are provided in {@link sap.ui.test.Opa.config}, they are merged in the query params of app URL</dd></dl></div><div id="iStartMyUIComponent" class='sectionItem classMethod'><div class="itemTitle icon"> iStartMyUIComponent<span class="signature">(<span title="(object) An Object that contains the configuration for starting up a UIComponent.">oOptions</span>)</span><span class="light" title="returns jQuery.promise">: jQuery.promise</span></div><div class="full-description"> Starts a UIComponent. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">oOptions</td><td class="methodItemDesc">An Object that contains the configuration for starting up a UIComponent.</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">oOptions.componentConfig</td><td class="methodItemDesc">Will be passed to <a href="sap.ui.html#.component">component</a>, please read the respective documentation.</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">oOptions.hash<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Sets the hash <a href="sap.ui.core.routing.HashChanger.html#setHash">sap.ui.core.routing.HashChanger#setHash</a> to the given value. If this parameter is omitted, the hash will always be reset to the empty hash - "".</td></tr><tr><td class="methodItemType light">number</td><td class="methodItemName">oOptions.timeout<i class="help" title="Optional parameter">?, Default: 15</i></td><td class="methodItemDesc">The timeout for loading the UIComponent in seconds - <a href="sap.ui.test.Opa5.html#waitFor">sap.ui.test.Opa5#waitFor</a>.</td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">jQuery.promise</td><td class="methodItemDesc">A promise that gets resolved on success.</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.48 If appParams are provided in {@link sap.ui.test.Opa.config}, they are applied to the current URL.</dd></dl></div><div id="iTeardownMyApp" class='sectionItem classMethod'><div class="itemTitle icon"> iTeardownMyApp<span class="signature">()</span><span class="light" title="returns jQuery.promise">: jQuery.promise</span></div><div class="full-description"> Tears down the started application regardless of how it was started. Removes the IFrame launched by <a href="sap.ui.test.Opa5.html#iStartMyAppInAFrame">sap.ui.test.Opa5#iStartMyAppInAFrame</a> or destroys the UIComponent launched by <a href="sap.ui.test.Opa5.html#iStartMyUIComponent">sap.ui.test.Opa5#iStartMyUIComponent</a>. This function is designed to make the test's teardown independent of the startup. Use <a href="sap.ui.test.Opa5.html#hasAppStarted">sap.ui.test.Opa5#hasAppStarted</a> to ensure that the application has been started and teardown can be safely performed. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">jQuery.promise</td><td class="methodItemDesc">A promise that gets resolved on success. If nothing has been started or an error occurs, the promise is rejected with the options object. A detailed error message containing the stack trace and Opa logs is available in options.errorMessage.</td></tr></tbody></table></div><div id="iTeardownMyAppFrame" class='sectionItem classMethod'><div class="itemTitle icon"> iTeardownMyAppFrame<span class="signature">()</span><span class="light" title="returns jQuery.promise">: jQuery.promise</span></div><div class="full-description"> Removes the IFrame from the DOM and removes all the references to its objects Use <a href="sap.ui.test.Opa5.html#hasAppStartedInAFrame">sap.ui.test.Opa5#hasAppStartedInAFrame</a> to ensure that an IFrame has been started and teardown can be safely performed. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">jQuery.promise</td><td class="methodItemDesc">A promise that gets resolved on success. If no IFrame has been created or an error occurs, the promise is rejected with the options object. A detailed error message containing the stack trace and Opa logs is available in options.errorMessage.</td></tr></tbody></table></div><div id="iTeardownMyUIComponent" class='sectionItem classMethod'><div class="itemTitle icon"> iTeardownMyUIComponent<span class="signature">()</span><span class="light" title="returns jQuery.promise">: jQuery.promise</span></div><div class="full-description"> Destroys the UIComponent and removes the div from the dom like all the references on its objects. Use <a href="sap.ui.test.Opa5.html#hasUIComponentStarted">sap.ui.test.Opa5#hasUIComponentStarted</a> to ensure that a UIComponent has been started and teardown can be safely performed. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">jQuery.promise</td><td class="methodItemDesc">a promise that gets resolved on success. If no UIComponent has been started or an error occurs, the promise is rejected with the options object. A detailed error message containing the stack trace and Opa logs is available in options.errorMessage.</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.48 If appParams were applied to the current URL, they will be removed after UIComponent is destroyed</dd></dl></div><div id="waitFor" class='sectionItem classMethod'><div class="itemTitle icon"> waitFor<span class="signature">(<span title="(object) An Object containing conditions for waiting and callbacks">options</span>)</span><span class="light" title="returns jQuery.promise">: jQuery.promise</span></div><div class="full-description"> Takes the same parameters as <a href="sap.ui.test.Opa.html#waitFor">sap.ui.test.Opa#waitFor</a>. Also allows you to specify additional parameters: </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">options</td><td class="methodItemDesc">An Object containing conditions for waiting and callbacks</td></tr><tr><td class="methodItemType light">string|RegExp</td><td class="methodItemName">options.id<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">The global ID of a control, or the ID of a control inside a view. If a regex and a viewName is provided, Opa5 will only look for controls in the view with a matching ID.<br/> Example of a waitFor: <pre class="prettyprint">
    <code>
        this.waitFor({
            id: /my/,
            viewName: "myView"
        });
    </code>
</pre> The view that is searched in: <pre class="prettyprint">
    <code>
        &lt;core:View xmlns:core="sap.ui.core" xmlns="sap.m"&gt;
            &lt;Button id="myButton"&gt;
            &lt;/Button&gt;
            &lt;Button id="bar"&gt;
            &lt;/Button&gt;
            &lt;Button id="baz"&gt;
            &lt;/Button&gt;
            &lt;Image id="myImage"&gt;&lt;/Image&gt;
        &lt;/core:View&gt;
    </code>
</pre> Will result in matching two controls, the image with the effective ID myView--myImage and the button myView--myButton. Although the IDs of the controls myView--bar and myView--baz contain a my, they will not be matched since only the part you really write in your views will be matched.</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">options.viewName<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">The name of a view. If this is set the id of the control is searched inside of the view. If an id is not be set, all controls of the view will be found.</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">options.viewNamespace<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">This string gets appended before the viewName - should probably be set to the <a href="sap.ui.test.Opa5.html#.extendConfig">sap.ui.test.Opa5.extendConfig</a>.</td></tr><tr><td class="methodItemType light">function|array|<a href="sap.ui.test.matchers.Matcher.html">sap.ui.test.matchers.Matcher</a></td><td class="methodItemName">options.matchers<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">A single matcher or an array of matchers <a href="sap.ui.test.matchers.html">sap.ui.test.matchers</a>. Matchers will be applied to an every control found by the waitFor function. The matchers are a pipeline: the first matcher gets a control as an input parameter, each subsequent matcher gets the same input as the previous one, if the previous output is 'true'. If the previous output is a truthy value, the next matcher will receive this value as an input parameter. If any matcher does not match an input (i.e. returns a falsy value), then the input is filtered out. Check will not be called if the matchers filtered out all controls/values. Check/success will be called with all matching values as an input parameter. Matchers also can be define as an inline-functions.</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">options.controlType<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Selects all control by their type. It is usually combined with a viewName or searchOpenDialogs. If no control is matching the type, an empty array will be returned. Here are some samples: <code><pre class="prettyprint">
        this.waitFor({
            controlType: "sap.m.Button",
            success: function (aButtons) {
                // aButtons is an array of all visible buttons
            }
        });

        // control type will also return controls that extend the control type
        // this will return an array of visible sap.m.List and sap.m.Table since both extend List base
        this.waitFor({
            controlType: "sap.m.ListBase",
            success: function (aLists) {
                // aLists is an array of all visible Tables and Lists
            }
        });

        // control type is often combined with viewName - only controls that are inside of the view
        // and have the correct type will be returned
        this.waitFor({
            viewName: "my.View"
            controlType: "sap.m.Input",
            success: function (aInputs) {
                // aInputs are all sap.m.Inputs inside of a view called 'my.View'
            }
        });
    </pre></code></td></tr><tr><td class="methodItemType light">boolean</td><td class="methodItemName">options.searchOpenDialogs<i class="help" title="Optional parameter">?, Default: false</i></td><td class="methodItemDesc">If set to true, Opa5 will only look in open dialogs. All the other values except control type will be ignored</td></tr><tr><td class="methodItemType light">boolean</td><td class="methodItemName">options.visible<i class="help" title="Optional parameter">?, Default: true</i></td><td class="methodItemDesc">If set to false, Opa5 will also look for unrendered and invisible controls.</td></tr><tr><td class="methodItemType light">int</td><td class="methodItemName">options.timeout<i class="help" title="Optional parameter">?, Default: 15</i></td><td class="methodItemDesc">(seconds) Specifies how long the waitFor function polls before it fails.O means it will wait forever.</td></tr><tr><td class="methodItemType light">int</td><td class="methodItemName">options.debugTimeout<i class="help" title="Optional parameter">?, Default: 0</i></td><td class="methodItemDesc">@since 1.47 (seconds) Specifies how long the waitFor function polls before it fails in debug mode.O means it will wait forever.</td></tr><tr><td class="methodItemType light">int</td><td class="methodItemName">options.pollingInterval<i class="help" title="Optional parameter">?, Default: 400</i></td><td class="methodItemDesc">(milliseconds) Specifies how often the waitFor function polls.</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">options.check<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Will get invoked in every polling interval. If it returns true, the check is successful and the polling will stop. The first parameter passed into the function is the same value that gets passed to the success function. Returning something other than boolean in check will not change the first parameter of success.</td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">options.success<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc"><p>Will get invoked after the following conditions are met: </p><ol><li> One or multiple controls were found using controlType, Id, viewName. If visible is true (it is by default), the controls also need to be rendered. </li><li> The whole matcher pipeline returned true for at least one control, or there are no matchers </li><li> The check function returned true, or there is no check function </li></ol><p> The first parameter passed into the function is either a single control (when a single string ID was used), or an array of controls (viewName, controlType, multiple ID's, regex ID's) that matched all matchers. Matchers can alter the array or single control to something different. Please read the documentation of waitFor's matcher parameter.</p></td></tr><tr><td class="methodItemType light">function</td><td class="methodItemName">options.error<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Invoked when the timeout is reached and the check never returned true.</td></tr><tr><td class="methodItemType light">string</td><td class="methodItemName">options.errorMessage<i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc">Will be displayed as an errorMessage depending on your unit test framework. Currently the only adapter for Opa5 is QUnit. This message is displayed if Opa5 has reached its timeout before QUnit has reached it.</td></tr><tr><td class="methodItemType light">function|[object Object][]|<a href="sap.ui.test.actions.Action.html">sap.ui.test.actions.Action</a>|[object Object][]</td><td class="methodItemName">options.actions</td><td class="methodItemDesc"><p>Available since 1.34.0. An array of functions or Actions or a mixture of both. An action has an 'executeOn' function that will receive a single control as a parameter. If there are multiple actions defined all of them will be executed (first in first out) on each control of, similar to the matchers. Here is one of the most common usages: <code> function (sButtonId) { // executes a Press on a button with a specific id new Opa5().waitFor({ id: sButtonId, actions: new Press() }); }; </code> But actions will only be executed once and only after the check function returned true. Before actions are executed the <a href="sap.ui.test.matchers.Interactable.html">sap.ui.test.matchers.Interactable</a> matcher will check if the Control is currently able to perform actions if it is not, Opa5 will try again after the 'pollingInterval'. That means actions will only be executed if the control is not: </p><ul><li> Behind an open dialog </li><li> Inside of a navigating NavContainer </li><li> Busy </li><li> Inside a Parent control that is Busy </li></ul><p> If there are multiple controls in Opa5's result set the action will be executed on all of them. The actions will be invoked directly before success is called. In the documentation of the success parameter there is a list of conditions that have to be fulfilled. They also apply for the actions. There are some predefined actions in the <a href="sap.ui.test.actions.html">sap.ui.test.actions</a> namespace. since 1.42 an Action may add other waitFors. The next action or the success handler will not be executed until the waitFor of the action has finished. An example: <code><pre class="prettyprint">
    this.waitFor({
        id: "myButton",
        actions: function (oButton) {
           // this action is executed first
           this.waitFor({
             id: "anotherButton",
             actions: function () {
               // This is the second function that will be executed
               // Opa will also wait until anotherButton is Interactable before executing this function
             },
             success: function () {
               // This is the third function that will be executed
             }
           })
        },
        success: function () {
            // This is the fourth function that will be executed
        }
    });
    </pre></code> Executing multiple actions will not wait between actions for a control to become "Interactable" again. If you need waiting between actions you need to split the actions into multiple 'waitFor' statements.</p></td></tr><tr><td class="methodItemType light">boolean</td><td class="methodItemName">options.autoWait<i class="help" title="Optional parameter">?, Default: false</i></td><td class="methodItemDesc">@since 1.42 Only has an effect if set to true. The waitFor statement will not execute success callbacks as long as there are open XMLHTTPRequests (requests to a server). It will only execute success if the control is <a href="sap.ui.test.matchers.Interactable.html">sap.ui.test.matchers.Interactable</a> So success behaves like an action in terms of waiting. It is recommended to set this value to true for all your waitFor statements using: <code><pre class="prettyprint">
    Opa5.extendConfig({
        autoWait: true
    });
    </pre></code> Why is it recommended: When writing a huge set of tests and executing them frequently you might face tests that are sometimes successful but sometimes they are not. Setting the autoWait to true should stabilize most of those tests. The default "false" could not be changed since it causes existing tests to fail. There are cases where you do not want to wait for controls to be "Interactable": For example when you are testing the Busy indication of your UI during the sending of a request. But these cases are the exception so it is better to explicitly adding autoWait: false to this waitFor. <code><pre class="prettyprint">
    this.waitFor({
        id: "myButton",
        autoWait: false,
        success: function (oButton) {
             Opa5.assert.ok(oButton.getBusy(), "My Button was busy");
        }
    });
    </pre></code> This is also the easiest way of migrating existing tests. First extend the config, then see which waitFors will time out and finally disable autoWait in these Tests.</td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">jQuery.promise</td><td class="methodItemDesc">A promise that gets resolved on success. If an error occurs, the promise is rejected with the options object. A detailed error message containing the stack trace and Opa logs is available in options.errorMessage.</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.48 All config parameters could be overwritten from URL. Should be prefixed with 'opa' and have uppercase first character. Like 'opaExecutionDelay=1000' will overwrite 'executionDelay'</dd></dl></div></div></div></div></div></body></html>