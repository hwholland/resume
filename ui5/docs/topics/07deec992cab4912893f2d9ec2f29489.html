<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Tree Table: Constraints</title>
      <link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon">
      <link rel="shortcut icon" href="themes/sap-default/img/favicon.ico">
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="abstract" content="The following section explains some constraints that you have to be aware of when working with the TreeTable.">
      
      <meta name="description" content="The following section explains some constraints that you have to be aware of when working with the TreeTable.">
      <script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"de713373c4ef4e53b5717c59ed2c8d64.html","previousTopicHref":"c59be5220e2d490cb2c3e5e8b13ab5c7.html"}</script>
      <link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css">
      <script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script>
      <script type="text/javascript" src="toc-info.js"></script>
      <script type="text/javascript" src="themes/sap-default/js/script.js"></script>
      
      		<!--[if lt IE 9]>
      			<script>
      			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
      			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
      			    "progress,section,time,video").split(',');
      			  for (var i = 0; i < e.length; i++) {
      			    document.createElement(e[i]);
      			  }
      			</script>
      		<![endif]-->
      
      <script>
      function addLoadEvent(func) {
      var oldonload = window.onload;
      if (typeof window.onload != 'function') {
      window.onload = func;
      } else {
      window.onload = function() {
      if (oldonload) {
      oldonload();
      }
      func();
      }
      }
      }
      
      addLoadEvent(function() { prettyPrint();
      if ($('#local-navigation').length) {
      $('#local-navigation').navigation();
      }
      $('.collapsible').collapsify({"expandText":"Display Content","collapseText":"Hide Content","codeblockText":"Code Sample","codeblockCopyText":"Copy code to clipboard","codeblockSelectText":"Select code for copying to clipboard"});
      
      
      });
      
      </script>
      <script type="text/javascript" src="js/prettify.js"> </script>
      <script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script>
      <link type="text/css" rel="stylesheet" href="css/overrides.css"></head>
   <body class="en-us sap-default centered navigation-default">
      <div id="d4h5-main-container" class="container_12" role="application">
         <ul id="page-links" class="hidden">
            <li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li>
            <li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li>
            <li><a id="skip-to-footer" href="#footer">Skip to footer</a></li>
         </ul>
         
         
         <div id="d4h5-section-container" class="grid_12" style="padding-top: 0;">
            
            
            
            <div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;">
               <section>
                  <div id="content-toolbar" class="toolbar hide-for-small"></div>
                  <div class="page concept  - topic-topic concept-concept " id="loio07deec992cab4912893f2d9ec2f29489">
                     
                     <h1 class="title topictitle1" hidden>Tree Table: Constraints</h1>
                     
                     <div class="body conbody">
                        <p class="shortdesc" hidden>The following section explains some constraints that you have to be aware of when
                           		working with the <span class="keyword apiname">TreeTable</span>. 
                        </p>
                        
                        		
                        <div class="section collapsible">
                           <section class="section collapsible" type="Auto-Expand">
                              <h2 class="section_title" style="font-size: 1.15em;">Auto-Expand</h2>
                              			
                              			
                              <p class="p">A very common feature request is to initially expand a tree to a given level. Technically,
                                 					<samp class="ph codeph">ODataTreeBinding</samp> can only deliver this feature with the
                                 					<samp class="ph codeph">hierarchy-node-descendant-count-for</samp> annotation. However, we
                                 				recommend not to use this feature with the minimal annotation set, and we strictly
                                 				advise against building a similar feature yourself with application coding.
                                 				The
                                 				preconditions and data structures are far to complex to be manipulated by
                                 				&quot;best-guess&quot; API calls.
                              </p>
                              
                              		
                           </section>
                        </div>
                        
                        		
                        <div class="section collapsible">
                           <section class="section collapsible" type="Expand All / Expand to Level">
                              <h2 class="section_title" style="font-size: 1.15em;">Expand All / Expand to Level</h2>
                              			
                              			
                              <p class="p">When running in <samp class="ph codeph">OperationMode</samp>
                                 				<samp class="ph codeph">Server</samp>,
                                 				you cannot expand all nodes in a tree. The OData protocol (2.0) does not provide a
                                 				mechanism to formulate such a request, but can still perform paging based on
                                 					<samp class="ph codeph">$skip</samp> and <samp class="ph codeph">$top</samp> values. 
                              </p>
                              
                              			
                              <p class="p">When using the <samp class="ph codeph">hierarchy-node-descendant-count-for</samp> annotation, you can set
                                 				the <samp class="ph codeph">numberOfExpandedLevels</samp> to a
                                 				very
                                 				high number so that the back-end implementation takes care of pre-expanding the tree
                                 				to the given level. However, the maximum number of available levels is unknown to
                                 				the application most of the time.
                              </p>
                              
                              			
                              <p class="p">The only feasible solution is to use <samp class="ph codeph">OperationMode</samp>
                                 				<samp class="ph codeph">Client</samp> and then expand the tree with a
                                 				very
                                 				high number of levels. Be aware that this might affect other features of the
                                 				<samp class="ph codeph">ODataTreeBinding</samp> feature and has serious performance
                                 				implications.
                              </p>
                              
                              		
                           </section>
                        </div>
                        
                        		
                        <div class="section collapsible">
                           <section class="section collapsible" type="Expand Node To Level / Expand Node Fully">
                              <h2 class="section_title" style="font-size: 1.15em;">Expand Node To Level / Expand Node Fully</h2>
                              			
                              			
                              <p class="p">Not supported in any binding configuration. The OData protocol 2.0 does not provide a
                                 				way to formulate back-end requests to retrieve the relevant entities.
                              </p>
                              
                              		
                           </section>
                        </div>
                        
                        		
                        <div class="section collapsible">
                           <section class="section collapsible" type="Collapse Recursively">
                              <h2 class="section_title" style="font-size: 1.15em;">Collapse Recursively</h2>
                              			
                              			
                              <p class="p">You can collapse a subtree recursively by setting the <samp class="ph codeph">collapseRecursive</samp>
                                 				property of the <samp class="ph codeph">TreeTable</samp> to <samp class="ph codeph">true</samp>. However, the
                                 					<samp class="ph codeph">collapseRecursive</samp> property is directly tied to the selection
                                 				behavior. When you recursively collapse a subtree, the selection of all nodes in
                                 				that subtree is lost.
                              </p>
                              
                              			
                              <p class="p">When you set <samp class="ph codeph">collapseRecursive</samp> to <samp class="ph codeph">false</samp>, the
                                 				selection state of the nodes in the subtree is kept intact.
                              </p>
                              
                              		
                           </section>
                        </div>
                        
                        		
                        <div class="section collapsible">
                           <section class="section collapsible" type="Selection Behavior">
                              <h2 class="section_title" style="font-size: 1.15em;">Selection Behavior</h2>
                              			
                              			
                              <p class="p">The selection behavior of the <samp class="ph codeph">TreeTable</samp> (and
                                 					<samp class="ph codeph">AnalyticalTable</samp> for that matter) is based solely on the
                                 				entities that are known on the client. Therefore, you cannot select entities that
                                 				are not yet loaded to the client. 
                              </p>
                              
                              			
                              <p class="p">The <samp class="ph codeph">TreeTable</samp> provides an index-based API to manipulate the selected
                                 				rows. However, selecting an index that does not hold a valid entity will simply be
                                 				ignored. 
                              </p>
                              
                              			
                              <p class="p">The selected indices are only valid as long as no other operation is performed on the tree. In
                                 				case a node is expanded, collapsed, added, or removed, the indices will become
                                 				invalid and have to be requested from the <samp class="ph codeph">TreeTable</samp> anew. Do not
                                 				create your own application logic to select certain nodes (for example, by finding
                                 				the node via its ID). This kind of logic is bound to fail at some point, as the
                                 				application has even less information about the data than the
                                 					<samp class="ph codeph">ODataTreeBinding</samp> has.
                              </p>
                              
                              		
                           </section>
                        </div>
                        
                        		
                        <div class="section collapsible">
                           <section class="section collapsible" type="Select All - Mass Change Operations">
                              <h2 class="section_title" style="font-size: 1.15em;">Select All - Mass Change Operations</h2>
                              			
                              			
                              <p class="p">When running in <samp class="ph codeph">OperationMode</samp>
                                 				<samp class="ph codeph">Server</samp>, the data sets are not completely loaded on the client, so
                                 				selecting all entities from the UI is not possible. But for mass change operations
                                 				like approving of all orders, it is necessary to also select entities that are not
                                 				currently visible.
                              </p>
                              
                              			
                              <p class="p">In a <samp class="ph codeph">TreeTable</samp> this behavior is hidden from the user, and yet unknown entries
                                 				are selected automatically when they are loaded from the back end, for example, when
                                 				they are scrolled into view. However, the indices of selected items that are
                                 				retrieved from the <samp class="ph codeph">TreeTable</samp> still include only the indices of
                                 				visible items.
                              </p>
                              
                              			
                              <p class="p">A simple solution for this would be to get all selected indices and loop over them to change
                                 				all values, but you can already know that everything is selected, by looking at the
                                 					<samp class="ph codeph">selectAll</samp> flag in the <samp class="ph codeph">rowSelectionChange</samp> event
                                 				of the <samp class="ph codeph">TreeTable</samp>. 
                              </p>
                              
                              			
                              <p class="p">A better approach for mass-change operations would be to provide service functions (for
                                 				example, function imports) that allow you to change
                                 				all
                                 				entities except all nodes that are not selected. This information
                                 				can also be gathered from the <samp class="ph codeph">rowSelectionChange</samp> event of the
                                 					<samp class="ph codeph">TreeTable</samp>. This way, you keep the number of back-end requests
                                 				to a minimum and you do not run into client-side problems.
                              </p>
                              
                              		
                           </section>
                        </div>
                        
                        		
                        <div class="section collapsible">
                           <section class="section collapsible" type="Filtering and Searching">
                              <h2 class="section_title" style="font-size: 1.15em;">Filtering and Searching</h2>
                              			
                              			
                              <p class="p">For services that expose the <samp class="ph codeph">hierarchy-node-descendant-count-for</samp> annotation,
                                 				the filtering behavior is completely under the control of the application and can be
                                 				implemented in the service layer. The <samp class="ph codeph">TreeTable</samp> and the
                                 					<samp class="ph codeph">ODataTreeBinding</samp> are completely decoupled from filtering and
                                 				searching.
                              </p>
                              
                              		
                           </section>
                        </div>
                        
                        		
                        <div class="section collapsible">
                           <section class="section collapsible" type="Scrolling">
                              <h2 class="section_title" style="font-size: 1.15em;">Scrolling</h2>
                              			
                              			
                              <p class="p">Don&apos;t use of the programmatic scrolling API of the <samp class="ph codeph">TreeTable</samp>. Each scrolling
                                 				action can lead to multiple back-end requests, depending on the internal state of
                                 				the <samp class="ph codeph">ODataTreeBinding</samp>. This is not usually intended when
                                 				programmatic scrolling is triggered.
                              </p>
                              
                              			
                              <p class="p">Scrolling to a specific entity is also technically not feasible, as the correct location of
                                 				this entity is not known to the data binding. The same is true for the application.
                                 				Especially in customer systems, in which data and data structures change frequently,
                                 				locating a single entity from the client is not possible.
                              </p>
                              
                              			
                              <p class="p">Do not build any application logic to find single entities in the overall tree structure. Such
                                 				logic is bound to fail, as the data keeps changing and the algorithms do not have
                                 				the necessary insight into the data structures to know what is really going on
                                 				internally. The <samp class="ph codeph">ODataTreeBinding</samp> and the <samp class="ph codeph">TreeTable</samp>
                                 				do not support such self-made algorithms.
                              </p>
                              
                              		
                           </section>
                        </div>
                        
                        	
                     </div>
                     
                  </div>
                  
               </section>
               <div class="clear"></div>
               
            </div>
            <div class="clearfix"></div>
         </div>
      </div>
      <div class="clearfix"></div>
      <div id="footer-container" class="grid_12">
         <footer>
            	
            <div id="custom-footerSpacer"></div>
            	
            
         </footer>
         
         
      </div>
   </body>
</html>