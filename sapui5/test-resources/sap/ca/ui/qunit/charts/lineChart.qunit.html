<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

    <title>Fiori Wave 2: Test Page for Line Chart</title>

    <script src="../../../../../../resources/sap-ui-core.js" id="sap-ui-bootstrap"
            data-sap-ui-libs="sap.m" data-sap-ui-theme="sap_bluecrystal"
            data-sap-ui-xx-bindingSyntax="complex" data-sap-ui-noConflict="true">
    </script>

    <link rel="stylesheet" href="../../../../../../resources/sap/ui/thirdparty/qunit.css" type="text/css"
          media="screen"/>
    <script type="text/javascript" src="../../../../../../resources/sap/ui/thirdparty/qunit.js"></script>
    <script type="text/javascript" src="../../../../../../resources/sap/ui/qunit/qunit-junit.js"></script>
    <script type="text/javascript" src="../../../../../../resources/sap/ui/qunit/QUnitUtils.js"></script>

    <script type="text/javascript" src="../utils/qunithelper.js"></script>

    <script type="text/javascript">
        QUnit.config.autostart = false;
        jQuery(document).ready(function () {
            QUnit.start();
        });

        // require dialog module
        jQuery.sap.require("sap.ca.ui.charts.LineChart");
        jQuery.sap.require("sap.ui.layout.HorizontalLayout");

        $ = jQuery;
        var chartID = "LINE_CHART";

        var createChart = function () {
            var oLineChart = new sap.ca.ui.charts.LineChart({id: chartID});

            var hl = new sap.ui.layout.HorizontalLayout();
            hl.addContent(oLineChart);
            hl.placeAt("content");

            return oLineChart;
        };

        module('Line Chart');

        /*
         * Test that the line chart has been created
         */
        test("Line Chart Creation with Id", function () {
            var oLineChart = createChart();
            strictEqual(oLineChart.getId(), chartID, "line chart ID is not" + chartID);
            oLineChart.destroy();
        });

        /*
         * Test that the line chart can be created then destroyed
         */
        test("Line Chart Destroy", function () {
            var chartID2 = "LINECHART222";
            var oLineChart = new sap.ca.ui.charts.LineChart({id: chartID2});
            oLineChart.placeAt("content");

            ok(!!oLineChart, "Line Chart created");
            ok(sap.ui.getCore().byId(oLineChart.getId()), "Line Chart Found");

            // Destroy object
            oLineChart.destroy();

            ok(!sap.ui.getCore().byId(oLineChart.getId()), "Line Chart destroyed");
        });

        test("LineChart getters/setters", function () {
            var oLineChart = new sap.ca.ui.charts.LineChart();

            var deprecatedFunctions = ["ChartTitle", "ChartDataset", "ChartDatasetSettings", "DatasetSettings",
                "ChartBusinessData", "DataLabelFormat", "DataPath", "Data", "MinTouchSize",
                "ShowLabel", "UseDelayedResize", "Vertical", "ChartDataset"];

            for (var i = 0; i < deprecatedFunctions.length; i++) {
                var functionName = deprecatedFunctions[i];
                ok(null === oLineChart["get" + functionName](), "deprecated get" + functionName + " called");
                ok(oLineChart["set" + functionName]("") || true, "deprecated set" + functionName + " called");
            }

            oLineChart.destroy();
        });
    </script>

</head>
<body id="body" class="sapUiBody">
<div id="qunit"></div>
<div id="qunit-testresult"></div>
<h1 id="qunit-header">QUnit tests: Line Chart</h1>

<h2 id="qunit-banner"></h2>

<h2 id="qunit-userAgent"></h2>

<div id='content' style="width: 640px; height: 480px;"></div>
<div id="qunit-testrunner-toolbar"></div>
<ol id="qunit-tests"></ol>
</body>
</html>
