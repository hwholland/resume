<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

    <title>Fiori Wave 2: Test Page for Dialog</title>

    <script src="../../../../../../resources/sap-ui-core.js"
            id="sap-ui-bootstrap"
            data-sap-ui-libs="sap.m"
            data-sap-ui-theme="sap_bluecrystal"
            data-sap-ui-xx-bindingSyntax="complex"
            data-sap-ui-compatVersion="1.16"
            data-sap-ui-noConflict="true">
    </script>

    <link rel="stylesheet" href="../../../../../../resources/sap/ui/thirdparty/qunit.css" type="text/css"
          media="screen"/>
    <script type="text/javascript" src="../../../../../../resources/sap/ui/thirdparty/qunit.js"></script>
    <script type="text/javascript" src="../../../../../../resources/sap/ui/qunit/qunit-junit.js"></script>
    <script type="text/javascript" src="../../../../../../resources/sap/ui/qunit/QUnitUtils.js"></script>

    <script type="text/javascript" src="../utils/qunithelper.js"></script>

    <script type="text/javascript">
        QUnit.config.autostart = false;
        jQuery(document).ready(function () {
            QUnit.start();
        });

        // require dialog module
        jQuery.sap.require("sap.ca.ui.dialog.Dialog");

        var oHtml = new sap.ui.core.HTML({
            content: '<div id="contentHolder"></div><h1 id="qunit-header">Fiori Wave 2: Test Page for Fiori Dialog</h1><h2 id="qunit-banner"></h2><h2 id="qunit-userAgent"></h2><ol id="qunit-tests"></ol>'
        });

        var page = new sap.m.Page("myFirstPage", {
            title: "Fiori - Dialog",
            showNavButton: true,
            enableScrolling: true,
            content: oHtml
        });

        var app = new sap.m.App("myApp", {
            initPage: "myFirstPage"
        });

        app.addPage(page).placeAt("content");

        ///////////////
        //Testing Part
        ////////////////
        module("Dialog - Object Create");

        test("Object Creation with Id", function () {
            var oDialog = new sap.ca.ui.dialog.Dialog("id", {});
            strictEqual(oDialog.getId(), "id", "Dialog has ID 'id'");
            ok(!oDialog.getXMLView(), "XMLView is not set");
        });

        var CONFIRMDLG_VIEW_NAME = "sap.ca.ui.dialog.Confirm"; //it should be a real XMLView name
        var DIALOG_ID = "DLG_CONFIRM";//it should be a real DialogID in the view
        test("Object Creation with Id and XMLView", function () {
            var oDialog = new sap.ca.ui.dialog.Dialog(DIALOG_ID, {
                xmlViewId: "viewId",
                xmlViewName: CONFIRMDLG_VIEW_NAME
            });
            strictEqual(oDialog.getId(), DIALOG_ID, "Dialog has ID 'id'");
            ok(oDialog.getXMLView(), "Dialog has a XMLView");
            ok(oDialog.getDialog(), "Dialog has been created");
        });

    </script>

</head>
<body id="body" class="sapUiBody">
<div id="qunit"></div>
<div id="qunit-testresult"></div>
<h1 id="qunit-header">QUnit tests: Test Page for Dialog</h1>

<h2 id="qunit-banner"></h2>

<h2 id="qunit-userAgent"></h2>

<div id='content'></div>
<div id="qunit-testrunner-toolbar"></div>
<ol id="qunit-tests"></ol>
</body>
</html>