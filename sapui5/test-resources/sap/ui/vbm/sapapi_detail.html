<!DOCTYPE HTML>
<html>
   <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- <link href="style/sapvbistyle.css" type="text/css" rel="stylesheet" /> -->

      <script src="../../../../resources/sap-ui-core.js"
         id="Script1"
         data-sap-ui-libs="sap.ui.commons,sap.ui.vbm"
         data-sap-ui-theme="sap_bluecrystal" >
      </script>

      <script>
            
         var oPanel = null;

         function onOpenWindow( oEvent )
         {
            if( oEvent.getParameter( "id" ) != "Detail1" )
               return;

            // create a panel instance
            if( !oPanel )
            {
               oPanel = new sap.ui.commons.Panel({width: "350px", showCollapseIcon: false});
               oPanel.setAreaDesign(sap.ui.commons.enums.AreaDesign.Plain);
               oPanel.setBorderDesign(sap.ui.commons.enums.BorderDesign.None);

               //Set the title of the panel
               oPanel.setTitle(new sap.ui.core.Title({text: "Location Data"}));
               //As alternative if no icon is desired also the following shortcut might be possible:
               //oPanel.setText("Contact Data");

               //Create a matrix layout with 2 columns
               var oMatrix = new sap.ui.commons.layout.MatrixLayout({layoutFixed: true, width: '300px', columns: 2});
               oMatrix.setWidths('100px', '200px');

               //Create a simple form within the layout
               var oLabel = new sap.ui.commons.Label({text: 'Name'});
               var oInput = new sap.ui.commons.TextField({value: 'Mustermann', width: '100%'});
               oLabel.setLabelFor(oInput);
               oMatrix.createRow(oLabel, oInput);

               oLabel = new sap.ui.commons.Label({text: 'First Name'});
               oInput = new sap.ui.commons.TextField({value: 'Max', width: '100%'});
               oLabel.setLabelFor(oInput);
               oMatrix.createRow(oLabel, oInput);
               //Add some buttons 
               oMatrix.createRow(new sap.ui.commons.Button({text: 'Save'}), new sap.ui.commons.Button({text: 'Cancel'}));
               //Add the form to the panels content area
               oPanel.addContent(oMatrix);

               
//                oPanel.addButton(new sap.ui.commons.Button({text: 'Save'}));
//                oPanel.addButton(new sap.ui.commons.Button({text: 'Cancel'}));
            }

            //Attach the panel to the page
            oPanel.placeAt( oEvent.getParameter( "contentarea" ).id );
         };

         function onCloseWindow( oEvent )
         {
            // when the panel should be destroyed it can be done.............//
            // if( oPanel )
            //   oPanel.destroy();
            // oPanel = null;
         };
       
         // creation of visual business...........................//
         sap.ui.localResources("vbitestapp");

         function onSubmit( e )
         {
             if( evtoutput.innerText !== undefined )
                evtoutput.innerText = e.getParameter( "data" );
             else
   			if( evtoutput.textContent !== undefined )
                evtoutput.textContent = e.getParameter( "data" );	// due to ff
         };
        
         var oVBI1 = new sap.ui.vbm.VBI('ds',
         {
            width : 1024,
            height: 620,
            openWindow: onOpenWindow,
            submit: onSubmit        // set the event handler
         });
         oVBI1.placeAt("content");

         // load the json and set the default text area text
         var dat = $.getJSON("media/vbdetail/main.json", function( dat ) 
         {
               oVBI1.load( dat );
         });
      </script>
   </head>
    
   <body class="sapUiBody" >
        <h1>Visual Business UI5: Sample should show the detail window capabilities</h1>
         <ul>
            <li> The detail window content is filled with UI5 controls.</li>
         </ul> 
         
      <table>
         <tr>
               <td><div id="content"></div></td>
         </tr>
         <tr>
               <td><h6>Event:</h6><br><textarea style="width:100%;box-sizing:border-box" id="evtoutput" rows="8" ></textarea></td>
         </tr>
      </table>
           <script>
                //...........................................................//
                // setting some objects......................................//
      
                function onClearMap()
                {
				       var dat = $.getJSON("media/vbdetail/clear.json", function( dat ) 
				       {
                           oVBI1.load( dat );
				       });
                };

                function onDetailWindow1()
                {
				       var dat = $.getJSON("media/vbdetail/opendetail1.json", function( dat ) 
				       {
                           oVBI1.load( dat );
				       });
                };

                function onDetailWindow2()
                {
				       var dat = $.getJSON("media/vbdetail/opendetail2.json", function( dat ) 
				       {
                           oVBI1.load( dat );
				       });
                };

                function onDetailWindow3()
                {
				       var dat = $.getJSON("media/vbdetail/opendetail3.json", function( dat ) 
				       {
                           oVBI1.load( dat );
				       });
                };
                
                
		</script>
		<button onclick=onClearMap() >Clear Map</button>
        <button onclick=onDetailWindow1() >Custom Content</button>
        <button id="sceneContent" onclick=onDetailWindow2() >Scene Content</button>
        <button onclick=onDetailWindow3() >No Content</button>
   </body>
</html>