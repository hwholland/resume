<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="UTF-8">

<title>Testpage - sap.gantt.Gantt Complex</title>

<script id="sap-ui-bootstrap"
	data-sap-ui-libs="sap.gantt, sap.m, sap.ui.unified"
	data-sap-ui-theme="sap_bluecrystal"
	src="../../../../resources/sap-ui-core.js">
</script>
		<link rel="stylesheet" type="text/css" href="../../../../resources/sap/ui/thirdparty/qunit.css"/>
		<script src="../../../../resources/sap/ui/thirdparty/qunit.js"></script>
		<script src="../../../../resources/sap/ui/qunit/qunit-junit.js"></script>
		<script src="../../../../resources/sap/ui/qunit/QUnitUtils.js"></script>
		
<script src="../test.js"></script>
<script src="./data/DataProducer.js"></script>
<script src="./data/DataMaker.js"></script>
<script>

<!-- add the qunit-coverage.js to add client-side coverage to QUnit tests -->
if(!(sap.ui.Device.browser.internet_explorer && sap.ui.Device.browser.version <= 8)) {
      jQuery.sap.require("sap.ui.qunit.qunit-coverage");
}

// create shape configuration
var oShapeConfig = new sap.gantt.config.Shape({
	key: "activity",
	shapeClassName: "sap.gantt.shape.Rectangle",
	shapeDataName: "activity",
	level: 10,
	shapeProperties: {
		time: "{startTime}",
		endTime: "{endTime}",
		fill: "#A52A2A",
		height: 21,
		rx: 10,
		ry: 10,
		yBias: 0.5,
		isDuration: true
	}
});

var oDataProducer = new sap.gantt.DataProducer();
oDataProducer.produceData();
// create model and load data
var oModel = new sap.ui.model.json.JSONModel();
oModel.setData(oDataProducer.getData("sap_hierarchy"));

// create GanttChart
var oGanttChart = new sap.gantt.GanttChart({
	shapeDataNames: ["activity"],
	shapes: [oShapeConfig],
	rows: {
		path: "test>/root",
			parameters: {
				arrayNames: ["children"]
			}
	}
});
oGanttChart.setModel(oModel, "test");
oGanttChart.placeAt("content");

qutils.delayTestStart(5000);
module("Gantt Chart - Basic Rendering Test", {
	setup: function() {
 		//setup
 	},
 	teardown: function() {
 		//teardown
 	}
});

test("Gantt Chart RenderingOk", 3, function() {	
	//Chart Svg correct
	assert.equal(oGanttChart.$().find(".sapGanttChartSvg").length, 1, "Chart SVG created correctly");
	assert.equal(oGanttChart.$().find(".sapGanttChartSvg > .sapGanttChartVerticalLine").length, 1, "Chart Vertical Line created correctly");
	assert.equal(oGanttChart.$().find(".sapGanttChartSvg > .sapGanttChartVerticalLine > path").length, 1, "Chart Vertical Line path created correctly");
});
				
</script>
</head>
<body id="body" class="sapUiBody">
	<h1 id="header">Test Page for <code>sap.gantt.GanttChart</code></h1>
	<div id="content" class="sapUiSizeCompact" style="width: 100%; height: 500px; margin-bottom: 40px"></div>
	<div id="qunit"></div>
</body>
</html>