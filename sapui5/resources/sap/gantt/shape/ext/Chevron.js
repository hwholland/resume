/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/gantt/shape/Path","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(P,U,F,C){"use strict";var a=P.extend("sap.gantt.shape.ext.Chevron",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},isDuration:{type:"boolean",defaultValue:true},headLength:{type:"number",defaultValue:5},tailLength:{type:"number",defaultValue:5},height:{type:"number",defaultValue:15}}}});a.prototype.init=function(){this._isRTL=C.getConfiguration().getRTL();var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CHEVRON"));};a.prototype.getD=function(d,r){if(this.mShapeConfig.hasShapeProperty("d")){return this._configFirst("d",d);}var n=this.getHeadLength(d,r),b=this.getTailLength(d,r),c=this.getHeight(d,r),A=this.getAxisTime();var e=A.timeToView(F.abapTimestampToDate(this.getTime(d,r)));var f=A.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));if(e<0){e=A.timeToView(0);}if(f<0){f=A.timeToView(0);}var g=this.getRowYCenter(d,r);return this.getDString({nStartOriginalX:e,nEndOriginalX:f,nTailLength:b,nHeadLength:n,nHeight:c,nRowYCenter:g});};a.prototype.getDString=function(c){var n=c.nHeight/2;var r,b,d;if(this._isRTL){b=c.nStartOriginalX-c.nEndOriginalX-c.nHeadLength;b=(b>0)?b:1;d=(b===1)?(c.nStartOriginalX-1):(c.nStartOriginalX-c.nTailLength);r="m "+d+" "+c.nRowYCenter+" l "+c.nTailLength+" -"+n+" l -"+b+" "+0+" l -"+c.nHeadLength+" "+n+" l "+c.nHeadLength+" "+n+" l "+b+" "+0+" z";}else{b=c.nEndOriginalX-c.nStartOriginalX-c.nHeadLength;b=(b>0)?b:1;d=(b===1)?(c.nStartOriginalX+1):(c.nStartOriginalX+c.nTailLength);r="m "+d+" "+c.nRowYCenter+" l -"+c.nTailLength+" -"+n+" l "+b+" "+0+" l "+c.nHeadLength+" "+n+" l -"+c.nHeadLength+" "+n+" l -"+b+" "+0+" z";}return r;};a.prototype.getHeadLength=function(d){return this._configFirst("headLength",d,true);};a.prototype.getTailLength=function(d){return this._configFirst("tailLength",d,true);};a.prototype.getHeight=function(d){return this._configFirst("height",d,true);};return a;},true);
