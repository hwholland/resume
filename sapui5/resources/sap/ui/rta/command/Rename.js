/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2016 SAP SE. All rights reserved
 */
sap.ui.define(['jquery.sap.global','sap/ui/rta/command/FlexCommand','sap/ui/rta/controlAnalyzer/ControlAnalyzerFactory',"sap/ui/comp/smartform/flexibility/changes/RenameGroup","sap/ui/comp/smartform/flexibility/changes/RenameField","sap/ui/fl/Change"],function(q,F,C,R,a,b){"use strict";var c=F.extend("sap.ui.rta.command.Rename",{metadata:{library:"sap.ui.rta",properties:{newValue:{type:"string",defaultValue:"new text"},oldValue:{type:"string",defaultValue:undefined}},associations:{},events:{}}});c.FORWARD=true;c.BACKWARD=false;c.prototype._getSpecificChangeInfo=function(f){var e=this.getElement();var s={};s.selector={};s.selector.id=e.getId();s.value=f?this.getNewValue():this.getOldValue();s.changeType=this.getChangeType();s.element=e;var o=C.getControlAnalyzerFor(this._getElement());if(o){s=o.mapSpecificChangeData("Rename",s);}return s;};c.prototype.execute=function(){this._rememberOldValue();F.prototype.execute.apply(this,arguments);};c.prototype.undo=function(){F.prototype.undo.apply(this,arguments);this._rememberOldValue();};c.prototype._rememberOldValue=function(){var o=C.getControlAnalyzerFor(this.getElement());if(o){var t=o.getLabel(this.getElement());if(t!==null){this.setOldValue(t);}}};c.prototype._getFlexChange=function(f,e){var s=this._getSpecificChangeInfo(f);var o=this._completeChangeContent(s);return{change:o,selectorElement:e};};c.prototype._getForwardFlexChange=function(e){return this._getFlexChange(c.FORWARD,e);};c.prototype._getBackwardFlexChange=function(e){return this._getFlexChange(c.BACKWARD,e);};c.prototype._undoWithElement=function(e){F.prototype._undoWithElement.apply(this,arguments);var o=C.getControlAnalyzerFor(e);var B="";if(o){var d=o.getLabelBinding(this.getElement());if(d){B=d.binding.getValue();if(B===this.getOldValue()){o.resumeLabelBinding(e);}}}};c.prototype.serialize=function(){return this._getSpecificChangeInfo(c.FORWARD);};return c;},true);
