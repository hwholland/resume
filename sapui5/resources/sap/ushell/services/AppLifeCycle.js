// Copyright (c) 2009-2014 SAP SE, All Rights Reserved
(function(){"use strict";var S="appLoaded";jQuery.sap.declare("sap.ushell.services.AppLifeCycle");jQuery.sap.require("sap.ui.base.EventProvider");sap.ushell.services.AppLifeCycle=function(a,c,p,C){var o,e,v;this.getCurrentApplication=function(){return o;};this.attachAppLoaded=function(d,f,l){e.attachEvent(S,d,f,l);};this.detachAppLoaded=function(f,l){e.detachEvent(S,f,l);};e=new sap.ui.base.EventProvider();v=sap.ui.getCore().byId("viewPortContainer");if(!v||typeof v.attachAfterNavigate!=="function"){jQuery.sap.log.error("Error during instantiation of AppLifeCycle service","Could not attach to afterNavigate event","sap.ushell.services.AppLifeCycle");return;}v.attachAfterNavigate(function(E){var A,s,b,h=false;if(E.mParameters.toId.indexOf("applicationShellPage")===0){A=E.mParameters.to.getApp();}else if(E.mParameters.toId.indexOf("application")===0){A=E.mParameters.to;}if(A&&typeof A.getComponentHandle==="function"&&A.getComponentHandle()){b=A.getComponentHandle().getInstance();}if(b&&b.getId()==="application-Shell-home-component"){h=true;}s=A&&typeof A.getApplicationType==="function"&&A.getApplicationType();if((!s||s==="URL")&&b){s="UI5";}o={applicationType:s,componentInstance:b,homePage:h};setTimeout(function(){e.fireEvent(S,o);},0);});};sap.ushell.services.AppLifeCycle.hasNoAdapter=true;}());
