{
"version":"2.0",
"name":"sap.ushell.library-preload",
"dependencies":["sap.ui.core.library-preload","sap.ui.layout.library-preload","sap.m.library-preload"],
"modules":{
	"sap/ushell/Fiori20AdapterTest.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.Fiori20AdapterTest');jQuery.sap.require('sap.ui.core.UIComponent');var F={I_DEFAULT_SEARCH_DEPTH:5,B_DEFAULT_LATE_ADAPTATION:false,S_FIORI20ADAPTER_URL_PARAM_NAME:'sap-ui-xx-fiori2Adaptation',S_FIORI20ADAPTER_METADATA_PARAM_NAME:'sapFiori2Adaptation',A_WHITELIST:['fin.*','ssuite.fin.*','fscm.*','sap.fin.*'],getConfiguration:function(c){var C=this._getURLParamConfiguration();if(!C){C=this._getMetadataConfiguration(c);}if(!C){C=this._getDefaultConfiguration(c);}C.iSearchDepth=C.iSearchDepth||F.I_DEFAULT_SEARCH_DEPTH;if((typeof C.iSearchDepth==='string')&&!isNaN(C.iSearchDepth)){C.iSearchDepth=parseInt(C.iSearchDepth,10);}return C;},_getURLParamConfiguration:function(){if(typeof sap.ui.getCore().getConfiguration().getFiori2Adaptation!=='function'){return;}if(!this._isURLParameterSpecified(F.S_FIORI20ADAPTER_URL_PARAM_NAME)){return;}var u=sap.ui.getCore().getConfiguration().getFiori2Adaptation(),U,s;if(typeof(u)==='boolean'){U=u;}else if(u&&(u.length>=1)){s=u;}if(!s&&(U===undefined)){return;}return{bStylePage:s?s.indexOf('style')>-1:U,bMoveTitle:s?s.indexOf('title')>-1:U,bHideBackButton:s?s.indexOf('back')>-1:U,bCollapseHeader:s?s.indexOf('collapse')>-1:U,bHierarchy:s?s.indexOf('hierarchy')>-1:U};},_getMetadataConfiguration:function(c){var a=c.getMetadata('config').getConfig(F.S_FIORI20ADAPTER_METADATA_PARAM_NAME),A,b;if(typeof(a)==='boolean'){A=a;}else if((typeof a==='object')&&!jQuery.isEmptyObject(a)){b=a;}if(!b&&(A===undefined)){return;}return{bStylePage:b?this._isSgnTrue(b['style']):A,bMoveTitle:b?this._isSgnTrue(b['title']):A,bHideBackButton:b?this._isSgnTrue(b['back']):A,bCollapseHeader:b?this._isSgnTrue(b['collapse']):A,bHierarchy:b?this._isSgnTrue(b['hierarchy']):A,bLateAdaptation:b?this._isSgnTrue(b['lateAdaptation']):F.B_DEFAULT_LATE_ADAPTATION};},_getDefaultConfiguration:function(c){var e=this._hasMinVersionSmallerThan(c,'1.38')&&this._isWhitelisted(c);return{bStylePage:e,bMoveTitle:e,bHideBackButton:e,bCollapseHeader:e,bHierarchy:e};},_isURLParameterSpecified:function(p){var a=jQuery.sap.getUriParameters().mParams&&jQuery.sap.getUriParameters().mParams[p];return a&&(a.length>0);},_isWhitelisted:function(c){var C=c.getMetadata().getName();for(var i=0;i<F.A_WHITELIST.length;i++){var n=F.A_WHITELIST[i].substring(0,F.A_WHITELIST[i].length-2);if(this._isPrefixedString(C,n)){return true;}}return false;},_isAdaptationRequired:function(a){for(var o in a){if(a[o]===true){return true;}}return false;},_isPrefixedString:function(s,p){return s&&p&&(s.substring(0,p.length)===p);},_hasMinVersionSmallerThan:function(c,v){var i=c.getMetadata().getManifestEntry('sap.ui5'),m=true;if(i&&i.dependencies&&i.dependencies.minUI5Version){var M=new jQuery.sap.Version(i.dependencies.minUI5Version);m=M.compareTo(new jQuery.sap.Version(v))<0;}return m;},_isSgnTrue:function(v){return(v===true)||(v==='true');}};sap.ui.core.UIComponent._fnOnInstanceInitialized=function(c){var C=c.getAggregation('rootControl');if(!C||C.getId()==='navContainerFlp'||c.getId().indexOf('application-')!==0){return;}var o=F.getConfiguration(c);if(!F._isAdaptationRequired(o)){return;}if(!sap.ui.core.service||!sap.ui.core.service.ServiceFactoryRegistry||typeof sap.ui.core.service.ServiceFactoryRegistry.get!=='function'){jQuery.sap.log.warning('Fiori20Adapter not loaded because static FactoryRegistry is not available','sap.ui.core.service.ServiceFactoryRegistry should be a function','sap.ushell.Fiori20AdapterTest');return;}var d={onBeforeRendering:function(){C.removeEventDelegate(d);var s=sap.ui.core.service.ServiceFactoryRegistry.get('sap.ushell.ui5service.ShellUIService'),S=s&&s.createInstance();if(!s||!S){jQuery.sap.log.warning('Fiori20Adapter not loaded because ShellUIService is not available','sap.ushell.ui5service.ShellUIService should be declared by configuration','sap.ushell.Fiori20AdapterTest');return;}S.then(function(s){if(s&&(s.getUxdVersion()===2)){jQuery.sap.require('sap.ushell.Fiori20Adapter');sap.ushell.Fiori20Adapter.applyTo(C,c,o,s);}},function(e){jQuery.sap.log.warning('Fiori20Adapter not loaded as ShellUIService is not available',e,'sap.ushell.Fiori20AdapterTest');});}};C.addEventDelegate(d);};})();\n",
	"sap/ushell/Layout.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.Layout');var C=function(s){this.init(s);};C.prototype={settings:null,tileWidth:0,tileHeight:0,tileMargin:0,curTouchMatrixCords:null,tilesInRow:null,groupsList:null,item:null,matrix:null,tiles:null,collisionLeft:false,startGroup:null,currentGroup:null,endGroup:null,init:function(s){this.curTouchMatrixCords={column:null,row:null};this.endGroup=null;this.item=null;this.matrix=null;this.tiles=null;this.collisionLeft=false;this.startGroup=null;this.currentGroup=null;this.groupsList=null;this.settings=this.settings||s;jQuery.extend(this,this.settings);this.tileWidth=this.thisLayout.styleInfo.tileWidth;this.tileHeight=this.thisLayout.styleInfo.tileHeight;this.tileMargin=this.thisLayout.styleInfo.tileMarginWidth;this.aExcludedControlClass=this.aExcludedControlClass||[];this.reorderElementsCallback=this.reorderElementsCallback||function(){};this.rightToLeft=sap.ui.getCore().getConfiguration().getRTL();},moveDraggable:function(m,a){var i=this.detectCollision(m,a);if(i){this.changePlaceholder();}},changePlaceholder:function(){var c=this.currentGroup;var t=(this.endGroup!==this.currentGroup);if(t){var a=this.thisLayout.getGroupTiles(this.currentGroup);if(this.currentGroup===this.startGroup){a=a.slice(0);a.splice(a.indexOf(this.item),1);}this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0);if(this.startGroup===this.endGroup){this.tiles.splice(this.tiles.indexOf(this.item),1);}this.matrix=this.thisLayout.organizeGroup(this.tiles);this.endGroup.getInnerContainerDomRef().appendChild(this.item.getDomRef());this.currentGroup=this.endGroup;}this.removeExcludedElementsFromMatrix(this.aExcludedControlClass);var b=this.tiles||this.thisLayout.getGroupTiles(this.endGroup).slice(0);var n;if(this.matrix[this.curTouchMatrixCords.row]&&typeof this.matrix[this.curTouchMatrixCords.row][this.curTouchMatrixCords.column]=='object'){var r=this.matrix[this.curTouchMatrixCords.row][this.curTouchMatrixCords.column];var d=b.indexOf(r);var e=b.indexOf(this.item);if(this.rightToLeft){this.collisionLeft=!this.collisionLeft;}if(e>-1&&e<d){r=b[d+1];}if(r===this.item){if(t){this.reorderElementsCallback({currentGroup:c,endGroup:this.endGroup,tiles:this.tiles,item:this.item});this.reorderTilesView(b,this.endGroup);this.reorderTilesInDom();}return;}n=this.changeTilesOrder(this.item,r,b,this.matrix);if(n){this.reorderElementsCallback({currentGroup:c,endGroup:this.endGroup,tiles:this.tiles,item:this.item});this.reorderTilesView(n,this.endGroup);this.reorderTilesInDom();}return;}var m=this.findTileToPlaceAfter(this.matrix,b);if(b[m+1]==this.item){return;}if(b[m+1]){r=b[m+1];}else if(this.currentGroup.getShowPlaceholder()){r=b[0];}n=this.changeTilesOrder(this.item,r,b,this.matrix);if(n){this.reorderElementsCallback({currentGroup:c,endGroup:this.endGroup,tiles:this.tiles,item:this.item});this.reorderTilesView(n,this.endGroup);this.reorderTilesInDom();}},reorderTilesInDom:function(){var j=this.item.getDomRef(),s=jQuery(j).index(),a=jQuery(j).closest('.sapUshellTilesContainer-sortable'),d=this.calcDestIndexInGroup(),b=jQuery(this.endGroup.getDomRef()).find('.sapUshellTilesContainer-sortable'),c=b.find('.sapUshellTile');a.find(c[s]).remove();c=b.find('.sapUshellTile');b[0].insertBefore(j,c[d]);},calcDestIndexInGroup:function(){var l,t=0,i,j,I=false;for(i=0;i<this.matrix.length&&!I;i++){for(j=0;j<this.matrix[i].length;j++){if(this.matrix[i][j]!=undefined){if(this.item.sId!==this.matrix[i][j].sId){if(l!==this.matrix[i][j].sId){l=this.matrix[i][j].sId;t++;}}else{I=true;break;}}}}return t;},layoutStartCallback:function(e){this.init();this.item=sap.ui.getCore().byId(e.id);this.tilesInRow=this.thisLayout.getTilesInRow();this.groupsList=this.thisLayout.getGroups();this.startGroup=this.currentGroup=this.item.getParent();},layoutEndCallback:function(){if(!this.tiles){return{tile:this.item};}var r={srcGroup:this.startGroup,dstGroup:this.endGroup,tile:this.item,dstTileIndex:this.tiles.indexOf(this.item),tileMovedFlag:true};return r;},compareArrays:function(a,b){if(a.length!==b.length){return false;}for(var i=0;i<a.length;i++){if(a[i]!==b[i]){return false;}}return true;},reorderTilesView:function(t,g){this.tiles=t;this.matrix=this.thisLayout.organizeGroup(t);},changeTilesOrder:function(i,r,t,m){var n=t.slice(0);var d=n.indexOf(i);if(d>-1){n.splice(d,1);}if(r){n.splice(n.indexOf(r),0,this.item);}else{n.push(i);}if(this.currentGroup==this.endGroup){if(this.compareArrays(t,n)){return false;}var a=this.thisLayout.organizeGroup(n);var c=this.thisLayout.getTilePositionInMatrix(i,m);var b=this.thisLayout.getTilePositionInMatrix(i,a);if((c.row==b.row)&&(c.col==b.col)){return false;}}this.tiles=n;this.currentGroup=this.endGroup;return n;},setMatrix:function(n){this.matrix=n;},findTileToPlaceAfter:function(c,t){var x=(this.thisLayout.rightToLeft)?0:this.curTouchMatrixCords.column,I=(this.thisLayout.rightToLeft)?1:-1,m=0,r=c[0].length;for(var i=this.curTouchMatrixCords.row;i>=0;i--){for(var j=x;j>=0&&j<r;j+=I){if(!c[i]||typeof c[i][j]!='object'){continue;}var a=t.indexOf(c[i][j]);m=a>m?a:m;}x=c[0].length-1;}return m;},detectCollision:function(m,a){var r,b,c,d=false;for(var i=0;i<this.groupsList.length;i++){var e=this.groupsList[i].getInnerContainerDomRef();r=e.getBoundingClientRect();b=!(r.right<m||r.left>m);c=!(r.bottom<a||r.top>a);if(b&&c){d=this.groupsList[i];break;}}var f=jQuery.extend({},this.curTouchMatrixCords);if(!d||d.getIsGroupLocked()){return false;}if(d){this.matrix=this.matrix||this.thisLayout.organizeGroup(this.thisLayout.getGroupTiles(d));var o=this.rightToLeft?(r.right+(-1)*m):(r.left*(-1)+m),g=(r.top*(-1)+a)/(this.tileHeight+this.tileMargin),h=o/(this.tileWidth+this.tileMargin);f={row:Math.floor(g),column:Math.floor(h)};}if((d===this.endGroup)&&(f.column===this.curTouchMatrixCords.column)&&(f.row===this.curTouchMatrixCords.row)){return false;}if(sap.ui.getCore().getConfiguration().getRTL()){this.collisionLeft=(this.curTouchMatrixCords.column-f.column)>0;}else{this.collisionLeft=(f.column-this.curTouchMatrixCords.column)>0;}if(f.column===this.curTouchMatrixCords.column){this.collisionLeft=false;}jQuery.extend(this.curTouchMatrixCords,f);this.endGroup=d;return true;},removeExcludedElementsFromMatrix:function(e){if(!e.length){return;}var n=this.matrix.map(function(r){return r.map(function(i){var a=e.some(function(c){return i instanceof c;});return(a)?undefined:i;});});this.setMatrix(n);},setExcludedControl:function(c){if(c){this.aExcludedControlClass.push(c);}},setReorderTilesCallback:function(f){if(typeof f==='function'){this.reorderElementsCallback=f;}}};var L=function(){};L.prototype={_initDeferred:jQuery.Deferred(),init:function(c){var t=function(){var s=this.getStyleInfo(this.container);if(s.tileWidth>0){this.isInited=true;this.reRenderGroupsLayout();this.layoutEngine=new C({thisLayout:this});this._initDeferred.resolve();return;}setTimeout(t,100);}.bind(this);this.cfg=c||this.cfg;this.minTilesinRow=2;this.maxTilesInRow=30;this.container=this.cfg.container||document.getElementById('dashboardGroups');t();return this.getInitPromise();},getInitPromise:function(){return this._initDeferred.promise();},getLayoutEngine:function(){return this.layoutEngine;},getStyleInfo:function(c){var t=document.createElement('div'),a=c.getAttribute('id');c=a?document.getElementById(a):c;t.className='sapUshellTile';t.setAttribute('style','position: absolute; visibility: hidden;');c.appendChild(t);var b=window.getComputedStyle(t);var i={'tileMarginHeight':parseInt(b.marginBottom,10)+parseInt(b.marginTop,10),'tileMarginWidth':parseInt(b.marginLeft,10)+parseInt(b.marginRight,10),'tileWidth':t.offsetWidth,'tileHeight':t.offsetHeight,'containerWidth':c.offsetWidth-(c.style.marginLeft?parseInt(c.style.marginLeft,10):0)};t.parentNode.removeChild(t);return i;},getGroups:function(){return this.cfg.getGroups();},getTilesInRow:function(i){return this.tilesInRow;},setTilesInRow:function(t){this.tilesInRow=t;},checkPlaceForTile:function(t,m,a,l,i){if(typeof m[a.y]==='undefined'){m.push(new Array(m[0].length));}if(typeof m[a.y+1]==='undefined'){m.push(new Array(m[0].length));}if(typeof m[a.y][a.x]!=='undefined'){return false;}var p=jQuery.extend({},a);if(i||!t.getLong()){return[p];}var c=[p];if(t.getLong()){if((a.x+1)>=m[0].length||(typeof m[p.y][p.x+1]!=='undefined')){return false;}c.push({y:p.y,x:p.x+1});}return c;},placeTile:function(t,m,c){for(var i=0;i<c.length;i++){m[c[i].y][c[i].x]=t;}},getTilePositionInMatrix:function(t,m){for(var r=0;r<m.length;r++){for(var c=0;c<m[0].length;c++){if(m[r][c]==t){return{row:r,col:c};}}}return false;},fillRowsInLine:function(m,t,s,e,I){if(!t.length){return 0;}var p=[],c,i;var a=e||s;for(i=s;i<=a&&t.length;i++){for(var j=0;j<m[0].length&&t.length;j++){c=this.checkPlaceForTile(t[0],m,{x:j,y:i},e,I);if(c){this.placeTile(t[0],m,c);p.push(t.shift());}}}var b=1,h=1;for(i=0;i<p.length;i++){b=h>b?h:b;}return b;},organizeGroup:function(t,I){var a=t.slice(0);var b=[];var c=0;b.push(new Array(I?Math.floor(this.tilesInRow/2):this.tilesInRow));while(a.length){var l=this.fillRowsInLine(b,a,c,undefined,I);c++;if(l<=1){continue;}this.fillRowsInLine(b,a,c,c+l-2);c+=(l-1)||1;}if(this.rightToLeft){for(var i=0;i<b.length;i++){b[i].reverse();}}b=this.cleanRows(b);return b;},cleanRows:function(t){var d=false;for(var r=t.length-1;r>0&&!d;r--){for(var c=0;c<t[r].length&&!d;c++){if(typeof t[r][c]==='object'){d=true;}}if(!d){t.pop();}}return t;},setGroupsLayout:function(g,m){var i;if(this.cfg.isLockedGroupsCompactLayoutEnabled&&g.getIsGroupLocked()&&m.length>0){var p=g.getDomRef().parentElement;if(this.cfg.isLockedGroupsCompactLayoutEnabled()){var t=m[0].length;if(this.rightToLeft){for(i=m[0].length-1;i>=0;i--){if(!m[0][i]){t=(m[0].length-1)-i;break;}}}else{for(i=0;i<m[0].length;i++){if(!m[0][i]){t=i;break;}}}var c=t>0?t*(this.styleInfo.tileWidth+this.styleInfo.tileMarginWidth)+this.styleInfo.tileMarginWidth:0;g.getDomRef().style.width='auto';p.style.width=c+'px';p.style.display='inline-block';}else{g.getDomRef().style.width='';p.style.width='';p.style.display='';}}},calcTilesInRow:function(c,t,a){var b=Math.floor(c/(t+a));if(b<=this.maxTilesInRow){b=(b<this.minTilesinRow?this.minTilesinRow:b);}else{b=this.maxTilesInRow;}return b;},getGroupTiles:function(g){var t=g.getTiles();if(g.getShowPlaceholder()){t.push(g.oPlusTile);}return t;},reRenderGroupsLayout:function(g){if(!this.isInited){return;}var s=this.getStyleInfo(this.container);if(!s.tileWidth){return;}this.styleInfo=s;this.tilesInRow=this.calcTilesInRow(s.containerWidth,s.tileWidth,s.tileMarginWidth);g=g||this.getGroups();for(var i=0;i<g.length;i++){var t=this.getGroupTiles(g[i]);var a=this.organizeGroup(t);this.setGroupsLayout(g[i],a);}}};sap.ushell.Layout=new L();})();\n",
	"sap/ushell/System.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.System');sap.ushell.System=function(d){this.getAlias=function(){return d.alias;};this.getBaseUrl=function(){return d.baseUrl;};this.getClient=function(){return d.client;};this.getName=function(){return d.system;};this.getPlatform=function(){return d.platform;};this.adjustUrl=function(u){if(u.indexOf('/')!==0||u==='/'){throw new Error('Invalid URL: '+u);}if(d.baseUrl===';o='){if(d.alias){u=u+';o='+d.alias;}}else if(d.baseUrl){u=d.baseUrl.replace(/\\/$/,'')+u;}if(d.client){u+=(u.indexOf('?')>=0?'&':'?')+'sap-client='+d.client;}return u;};this.toString=function(){return JSON.stringify(d);};};}());\n",
	"sap/ushell/UIActions.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.UIActions');sap.ushell.UIActions=function(c){if(!c||!c.rootSelector||!c.containerSelector||!c.draggableSelector){throw new Error('No configuration object to initialize User Interaction module.');}this.animationDuration=null;this.captureStart=null;this.captureMove=null;this.captureEnd=null;this.clickCallback=null;this.clickEvent=null;this.clickHandler=null;this.clone=null;this.cloneClass=null;this.container=null;this.contextMenuEvent=null;this.debug=null;this.defaultDragStartEvent=null;this.deltaTop=0;this.disabledDraggableSelector=null;this.dragAndScrollCallback=null;this.dragAndScrollDuration=null;this.dragAndScrollTimer=null;this.draggable=null;this.placeHolderClass=null;this.draggableSelector=null;this.draggableSelectorExclude=null;this.doubleTapCallback=null;this.doubleTapDelay=null;this.element=null;this.endX=null;this.endY=null;this.isLayoutEngine=null;this.isTouch=null;this.isCombi=null;this.lastElement=null;this.lastTapTime=null;this.lockMode=null;this.log=null;this.mode=null;this.mouseDownEvent=null;this.mouseMoveEvent=null;this.mouseUpEvent=null;this.moveTolerance=null;this.moveX=null;this.moveY=null;this.noop=null;this.onDragStartUIHandler=null;this.onDragEndUIHandler=null;this.preventClickFlag;this.preventClickTimeoutId;this.scrollContainer=null;this.scrollContainerSelector=null;this.scrollEvent=null;this.scrollTimer=null;this.startX=null;this.startY=null;this.switchModeDelay=null;this.tapsNumber=null;this.timer=null;this.scrollHandler=null;this.touchCancelEvent=null;this.dragCallback=null;this.endCallback=null;this.touchEndEvent=null;this.touchMoveEvent=null;this.startCallback=null;this.touchStartEvent=null;this.wrapper=null;this.wrapperRect=null;this.scrollCallback=null;this.draggableElement;this.offsetLeft=0;this.elementsToCapture=null;this.init=function(c){this.startX=-1;this.startY=-1;this.moveX=-1;this.moveY=-1;this.endX=-1;this.endY=-1;this.noop=function(){};this.isLayoutEngine=c.isLayoutEngine||false;if(this.isLayoutEngine){this.moveDraggable=this.noop;}this.isTouch=c.isTouch?!!c.isTouch:false;this.isCombi=c.isCombi?!!c.isCombi:false;this.container=document.querySelector(c.containerSelector);this.scrollContainerSelector=c.scrollContainerSelector||c.containerSelector;this.switchModeDelay=c.switchModeDelay||1500;this.dragAndScrollDuration=c.dragAndScrollDuration||230;this.moveTolerance=c.moveTolerance===0?0:c.moveTolerance||10;this.draggableSelector=c.draggableSelector;this.draggableSelectorBlocker=c.draggableSelectorBlocker||c.rootSelector;this.draggableSelectorExclude=c.draggableSelectorExclude;this.mode='normal';this.debug=c.debug||false;this.root=document.querySelector(c.rootSelector);this.animationDuration=c.animationDuration||330;this.tapsNumber=0;this.lastTapTime=0;this.log=this.debug?this.logToConsole:this.noop;this.lockMode=false;this.placeHolderClass=c.placeHolderClass||'';this.cloneClass=c.cloneClass||'';this.deltaTop=c.deltaTop||0;this.wrapper=c.wrapperSelector?document.querySelector(c.wrapperSelector):this.container.parentNode;this.clickCallback=typeof c.clickCallback==='function'?c.clickCallback:this.noop;this.startCallback=typeof c.startCallback==='function'?c.startCallback:this.noop;this.doubleTapCallback=typeof c.doubleTapCallback==='function'?c.doubleTapCallback:this.noop;this.endCallback=typeof c.endCallback==='function'?c.endCallback:this.noop;this.dragCallback=typeof c.dragCallback==='function'?c.dragCallback:this.noop;this.dragAndScrollCallback=typeof c.dragAndScrollCallback==='function'?c.dragAndScrollCallback:this.noop;this.scrollCallback=typeof c.scrollCallback==='function'?c.scrollCallback:this.noop;this.doubleTapDelay=c.doubleTapDelay||500;this.wrapperRect=this.wrapper.getBoundingClientRect();this.scrollEvent='scroll';this.touchStartEvent='touchstart';this.touchMoveEvent='touchmove';this.touchEndEvent='touchend';this.mouseDownEvent='mousedown';this.mouseMoveEvent='mousemove';this.mouseUpEvent='mouseup';this.contextMenuEvent='contextmenu';this.touchCancelEvent='touchcancel';this.defaultDragStartEvent='dragstart';this.clickEvent='click';this.isVerticalDragOnly=c.isVerticalDragOnly||false;this.draggableElement=c.draggableElement;this.offsetLeft=c.offsetLeft;this.elementsToCapture=c.elementToCapture?jQuery(c.elementToCapture):this.root;this.disabledDraggableSelector=c.disabledDraggableSelector;this.onDragStartUIHandler=typeof c.onDragStartUIHandler==='function'?c.onDragStartUIHandler:this.noop;this.onDragEndUIHandler=typeof c.onDragEndUIHandler==='function'?c.onDragEndUIHandler:this.noop;};this.forEach=function(s,a){return Array.prototype.forEach.call(s,a);};this.indexOf=function(s,i){return Array.prototype.indexOf.call(s,i);};this.insertBefore=function(s,i,r){var a,b,d;d=Array.prototype.splice;a=this.indexOf(s,i);b=this.indexOf(s,r);d.call(s,b-(a<b?1:0),0,d.call(s,a,1)[0]);};this.logToConsole=function(){window.console.log.apply(console,arguments);};this.getDraggableElement=function(a){var e,i=false,I=false;this.draggable=jQuery(this.draggableSelector,this.container);while(typeof e==='undefined'&&a!==this.root&&!jQuery(a).is(this.draggableSelectorBlocker)){i=i||jQuery(a).is(this.draggableElement)||this.draggableElement===undefined;if(!(jQuery(a).not(this.draggableSelectorExclude).length>0)){I=true;}if(!I&&i&&this.indexOf(this.draggable,a)>=0){e=a;}a=a.parentNode;}return e;};this.captureStart=function(e){var a;if(e.type==='touchstart'&&e.touches.length===1){a=e.touches[0];}else if(e.type==='mousedown'){a=e;if(e.which!=1){return;}}if(a){this.element=this.getDraggableElement(a.target);this.startX=a.pageX;this.startY=a.pageY;this.lastMoveX=0;this.lastMoveY=0;if(this.lastTapTime&&this.lastElement&&this.element&&(this.lastElement===this.element)&&Math.abs(Date.now()-this.lastTapTime)<this.doubleTapDelay){this.lastTapTime=0;this.tapsNumber=2;}else{this.lastTapTime=Date.now();this.tapsNumber=1;this.lastElement=this.element;}this.log('captureStart('+this.startX+', '+this.startY+')');}};this.startHandler=function(e){this.log('startHandler');if(this.isCombi&&!(e instanceof MouseEvent)){this.isTouchEvent=true;}clearTimeout(this.timer);delete this.timer;this.captureStart(e);if(this.element){this.startCallback(e,this.element);if(this.lockMode===false){if(this.tapsNumber===2){this.mode='double-tap';return;}if(this.isTouch||this.isTouchEvent){this.timer=setTimeout(function(){if(!jQuery(this.element).hasClass(this.disabledDraggableSelector)){this.log('mode switched to drag');this.mode='drag';this.createClone();this.dragCallback(e,this.element);}else{this.onDragStartUIHandler();}this.isTouchEvent=false;}.bind(this),this.switchModeDelay);}}}}.bind(this);this.captureMove=function(e){var a;if(e.type==='touchmove'&&e.touches.length===1){a=e.touches[0];}else if(e.type==='mousemove'){a=e;}if(a){this.moveX=a.pageX;this.moveY=a.pageY;this.log('captureMove('+this.moveX+', '+this.moveY+')');}};this.moveHandler=function(e){var i;this.log('moveHandler');this.captureMove(e);switch(this.mode){case'normal':if((Math.abs(this.startX-this.moveX)>this.moveTolerance||Math.abs(this.startY-this.moveY)>this.moveTolerance)){if(this.isTouch||this.isTouchEvent){this.log('-> normal');clearTimeout(this.timer);delete this.timer;}else if(this.element){this.onDragStartUIHandler();if(!jQuery(this.element).hasClass(this.disabledDraggableSelector)){this.log('mode switched to drag');this.mode='drag';this.createClone();}else{this.preventClick();this.element=null;}}}break;case'drag':e.preventDefault();this.onDragStartUIHandler();this.log('-> drag');if(this.isVerticalDragOnly){this.mode='vertical-drag';}else{this.mode='drag-and-scroll';}window.addEventListener(this.mouseUpEvent,this.endHandler,true);this.translateClone();this.scrollContainer=document.querySelector(this.scrollContainerSelector);this.dragAndScroll();if(!this.isTouch){this.dragCallback(e,this.element);}break;case'drag-and-scroll':e.stopPropagation();e.preventDefault();this.log('-> drag-and-scroll');i=this.dragAndScroll();this.translateClone();if(!i){this.moveDraggable();}this.dragAndScrollCallback({evt:e,clone:this.clone,isScrolling:i,moveX:this.moveX,moveY:this.moveY});break;case'vertical-drag':e.stopPropagation();e.preventDefault();i=this.dragAndScroll();this.translateClone();if(!i){this.moveDraggableVerticalOnly(this.moveX,this.moveY);}this.dragAndScrollCallback({evt:e,clone:this.clone,isScrolling:i,moveX:this.moveX,moveY:this.moveY});break;default:break;}}.bind(this);this.captureEnd=function(e){var a;if((e.type==='touchend'||e.type==='touchcancel')&&(e.changedTouches.length===1)){a=e.changedTouches[0];}else if(e.type==='mouseup'){a=e;}if(a){this.endX=a.pageX;this.endY=a.pageY;this.log('captureEnd('+this.endX+', '+this.endY+')');}};this.contextMenuHandler=function(e){if(this.isTouch||this.isCombi){e.preventDefault();}}.bind(this);this.clickHandler=function(e){if(this.preventClickFlag){this.preventClickFlag=false;e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();clearTimeout(this.preventClickTimeoutId);}this.clickCallback();}.bind(this);this.preventClick=function(){this.preventClickFlag=true;this.preventClickTimeoutId=setTimeout(function(){this.preventClickFlag=false;}.bind(this),100);};this.endHandler=function(e){this.log('endHandler');this.captureEnd(e);switch(this.mode){case'normal':this.onDragEndUIHandler();this.log('-> normal');break;case'drag':this.log('-> drag');this.removeClone();this.endCallback(e,this.element);this.onDragEndUIHandler();this.preventClick();break;case'drag-and-scroll':this.log('-> drag-and-scroll');window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.removeClone();this.endCallback(e,this.element,{deltaX:this.moveX-this.startX,deltaY:this.moveY-this.startY});this.onDragEndUIHandler();this.preventClick();e.stopPropagation();e.preventDefault();break;case'vertical-drag':this.log('-> vertical-drag');window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.removeClone();this.endCallback(e,this.element);this.onDragEndUIHandler();this.preventClick();e.stopPropagation();e.preventDefault();break;case'double-tap':this.log('-> double-tap');this.doubleTapCallback(e,this.element);break;default:break;}clearTimeout(this.timer);delete this.timer;this.lastMoveX=0;this.lastMoveY=0;this.element=null;this.mode='normal';}.bind(this);this.defaultDragStartHandler=function(e){e.preventDefault();};this.scrollHandler=function(){clearTimeout(this.scrollTimer);this.lockMode=true;this.scrollTimer=setTimeout(function(){this.lockMode=false;}.bind(this),500);}.bind(this);this.createClone=function(){var s,r;this.preventClickFlag=true;r=this.element.getBoundingClientRect();this.clone=this.element.cloneNode(true);this.clone.className+=(' '+this.cloneClass);this.element.className+=(' '+this.placeHolderClass);s=this.clone.style;s.position='fixed';s.display='block';s.top=(r.top+this.deltaTop)+'px';s.left=r.left+'px';s.width=r.width+'px';s.zIndex='100';s.webkitTransition='-webkit-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.mozTransition='-moz-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.msTransition='-ms-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.transition='transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.webkitTransform='translate3d(0px, 0px, 0px) ';s.mozTransform='translate3d(0px, 0px, 0px) ';s.msTransform='translate3d(0px, 0px, 0px) ';s.transform='translate3d(0px, 0px, 0px) ';this.root.appendChild(this.clone);this.log('createClone');};this.removeClone=function(){this.preventClick();this.element.className=this.element.className.split(' '+this.placeHolderClass).join('');this.clone.parentElement.removeChild(this.clone);this.clone=null;this.log('removeClone');};this.translateClone=function(){var d,a;d=this.moveX-this.startX;a=this.moveY-this.startY;this.clone.style.webkitTransform='translate3d('+d+'px, '+a+'px, 0px)';this.clone.style.mozTransform='translate3d('+d+'px, '+a+'px, 0px)';this.clone.style.msTransform='translate('+d+'px, '+a+'px)';this.clone.style.transform='translate3d('+d+'px, '+a+'px, 0px)';this.log('translateClone ('+d+', '+a+')');};this.dragAndScroll=function(){var d,a,s,t=this;function b(){s.webkitTransition='-webkit-transform '+a+'ms linear';s.transition='transform '+a+'ms linear';s.mozTransition='-moz-transform '+a+'ms linear';s.msTransition='-ms-transform '+a+'ms linear';s.webkitTransform='translate3d(0px, '+d+'px 0px)';s.mozTransform='translate3d(0px, '+d+'px 0px)';s.msTransform='translate3d(0px, '+d+'px 0px)';s.transform='translate3d(0px, '+d+'px 0px)';}function e(){s.webkitTransition='';s.mozTransition='';s.msTransition='';s.transition='';s.webkitTransform='';s.mozTransform='';s.msTransform='';s.transform='';t.wrapper.scrollTop-=d;}function g(){var r,h;if(t.clone){r=t.clone.getBoundingClientRect();h=t.wrapperRect.top-r.top;if(h>0){return h;}h=t.wrapper.offsetTop+t.wrapper.offsetHeight-(r.top+t.clone.offsetHeight);if(h<0){return h;}}return 0;}function i(){if(d<0){return t.wrapper.getBoundingClientRect().top-(t.container.getBoundingClientRect().top+t.container.offsetHeight)+t.wrapper.offsetHeight<0;}return t.container.getBoundingClientRect().top-(t.wrapper.getBoundingClientRect().top+t.container.offsetTop)<0;}function f(){b();t.dragAndScrollTimer=setTimeout(function(){e();t.dragAndScrollTimer=undefined;if((d=g())!==0&&i()){f();}t.scrollCallback();},a);}d=g();if(d!==0&&!this.dragAndScrollTimer&&i()){a=this.dragAndScrollDuration;this.scrollContainer=this.scrollContainer||document.querySelector(this.scrollContainerSelector);s=this.scrollContainer.style;f();}this.log('dragAndScroll ('+d+')');return(d!=0)&&i();};this.moveDraggableVerticalOnly=function(){var h,i,r,m=true;this.forEach(this.draggable,function(a,b){if(!h){r=a.getBoundingClientRect();i=!(r.bottom<this.moveY||r.top>this.moveY);if(i){h=a;if(r.top+r.height/2<this.moveY){m=false;}}}}.bind(this));if(h&&this.element!==h){if(m){this.insertBefore(this.draggable,this.element,h);h.parentNode.insertBefore(this.element,h);}else{this.insertBefore(this.draggable,this.element,h.nextSibling);h.parentNode.insertBefore(this.element,h.nextSibling);}this.lastMoveX=this.moveX;this.lastMoveY=this.moveY;}this.log('moveDraggableVerticalonly');};this.moveDraggable=function(m,a){var e,h,b,i,d,r;this.forEach(this.draggable,function(f,g){if(!h){r=f.getBoundingClientRect();i=!(r.right<this.moveX||r.left>this.moveX);d=!(r.bottom<this.moveY||r.top>this.moveY);if(i&&d){h=f;b=g;}}}.bind(this));if(h&&this.element!==h){e=this.indexOf(this.draggable,this.element);if(Math.abs(this.lastMoveX-this.moveX)>=this.moveTolerance||Math.abs(this.lastMoveY-this.moveY)>=this.moveTolerance){if(b<=e){h.parentNode.insertBefore(this.element,h);this.insertBefore(this.draggable,this.element,h);}else if(b>e){h.parentNode.insertBefore(this.element,h.nextSibling);this.insertBefore(this.draggable,this.element,this.draggable[b+1]);}this.lastMoveX=this.moveX;this.lastMoveY=this.moveY;}}this.log('moveDraggable');};this.enable=function(){this.log('enable');this.root.addEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.addEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.addEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.addEventListener(this.clickEvent,this.clickHandler,true);this.root.addEventListener(this.defaultDragStartEvent,this.defaultDragStartHandler,true);this.wrapper.addEventListener(this.scrollEvent,this.scrollHandler,false);if(this.elementsToCapture.length){var t=this;this.elementsToCapture.each(function(){this.addEventListener(t.touchStartEvent,t.startHandler,false);this.addEventListener(t.touchEndEvent,t.endHandler,false);this.addEventListener(t.touchCancelEvent,t.endHandler,false);this.addEventListener(t.mouseDownEvent,t.startHandler,false);this.addEventListener(t.mouseUpEvent,t.endHandler,false);});}else{this.elementsToCapture.addEventListener(this.touchStartEvent,this.startHandler,false);this.elementsToCapture.addEventListener(this.touchEndEvent,this.endHandler,false);this.elementsToCapture.addEventListener(this.touchCancelEvent,this.endHandler,false);this.elementsToCapture.addEventListener(this.mouseDownEvent,this.startHandler,false);this.elementsToCapture.addEventListener(this.mouseUpEvent,this.endHandler,false);}return this;};this.delete=function(){this.log('delete');this.disable();this.dragCallback=null;this.endCallback=null;this.startCallback=null;this.scrollCallback=null;this.doubleTapCallback=null;this.clickCallback=null;this.dragAndScrollCallback=null;delete this;};this.disable=function(){this.log('disable');if(this.elementsToCapture.length){var t=this;this.elementsToCapture.each(function(){this.removeEventListener(t.touchStartEvent,t.startHandler,false);this.removeEventListener(t.touchEndEvent,t.endHandler,false);this.removeEventListener(t.touchCancelEvent,t.endHandler,false);this.removeEventListener(t.mouseDownEvent,t.startHandler,false);this.removeEventListener(t.mouseUpEvent,t.endHandler,false);});}else{this.elementsToCapture.removeEventListener(this.touchStartEvent,this.startHandler,false);this.elementsToCapture.removeEventListener(this.touchEndEvent,this.endHandler,false);this.elementsToCapture.removeEventListener(this.touchCancelEvent,this.endHandler,false);this.elementsToCapture.removeEventListener(this.mouseDownEvent,this.startHandler,false);this.elementsToCapture.removeEventListener(this.mouseUpEvent,this.endHandler,false);}this.root.removeEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.removeEventListener(this.clickEvent,this.clickHandler,true);this.wrapper.removeEventListener(this.scrollEvent,this.scrollHandler,false);return this;};this.init(c);this.getMove=function(){return{x:this.moveX,y:this.moveY};};};})();\n",
	"sap/ushell/UIActionsWin8.js":"(function(){'use strict';function n(){}var U=function(){};U.prototype={init:function(c){this.cfg=c;this.forGroups=this.cfg.forGroups||false;this.wrapper=jQuery(c.wrapperSelector).get(0);this.container=jQuery(c.containerSelector).get(0);this.dragAndScrollCallback=c.dragAndScrollCallback||n;this.dragAndScrollDuration=100;this.dragCallback=c.dragCallback||n;this.draggableSelector=c.draggableSelector;this.endCallback=typeof c.endCallback==='function'?c.endCallback:n;this.placeHolderClass=c.placeHolderClass||'';this.$root=jQuery(c.rootSelector);this.startCallback=typeof c.startCallback==='function'?c.startCallback:n;this.onDragStartUIHandler=typeof c.onDragStartUIHandler==='function'?c.onDragStartUIHandler:n;this.onDragEndUIHandler=typeof c.onDragEndUIHandler==='function'?c.onDragEndUIHandler:n;this._publishAsync=typeof c._publishAsync==='function'?c._publishAsync:n;},enable:function(){if(this.enabled){return this;}this.enabled=true;this.$root.on('dragstart',this.draggableSelector,this,this.dragStartHandler).on('dragend',this.draggableSelector,this,this.dragEndHandler);return this;},disable:function disable(){this.enabled=false;this.$root.off('dragstart',this.draggableSelector).off('dragend',this.draggableSelector);return this;},dragLeaveHandler:function(e){var c=window.getComputedStyle(e.data.container).transform;e.data.container.style.transform=c;e.data.container.style.transition='';var t;var b=c.split(',');if(c.substr(0,8)=='matrix3d'){t=parseInt(b[13],10);}else if(c.substr(0,6)=='matrix'){t=parseInt(b[5],10);}if(isNaN(t)){return;}e.data.container.style.transform='none';e.data.wrapper.scrollTop+=~t+1;},dragEnterHandler:function dragEnterHandler(e){if(e.target==e.data.$bottomScroller.get(0)){e.data.startScroll('down');}if(e.target==e.data.$topScroller.get(0)){e.data.startScroll('up');}},startScroll:function(d){var l;if(d=='up'){l=this.wrapper.scrollTop;if(l<=0){return;}}else{l=this.wrapper.scrollHeight-this.wrapper.offsetHeight-this.wrapper.scrollTop;if(l<=0){return;}}var s=l*3;var t=(d=='up')?l:~l+1;this.container.style.transition='transform '+s+'ms linear';this.container.style.transform='translate(0px, '+t+'px) scale(1) translateZ(0px)';},initScrollRegions:function(){this.$topScroller=jQuery(\"<div class='UiActionsTopScroller' style='position:absolute; top: 0; height: 70px; left:0; right:0;'></div>\");this.$bottomScroller=jQuery(\"<div class='UiActionsBottomScroller' style='position:absolute; bottom: 0; height: 70px; left:0; right:0;'></div>\");jQuery(document.body).append(this.$topScroller).append(this.$bottomScroller);this.$topScroller.add(this.$bottomScroller).on('dragenter',this,this.dragEnterHandler).on('dragleave',this,this.dragLeaveHandler);},removeScrollRegions:function(){jQuery('.UiActionsTopScroller, .UiActionsBottomScroller').remove();}};function G(c){this.init(c);}G.prototype=new U();jQuery.extend(G.prototype,{dragOverTimeout:null,dragStartHandler:function(e){var _=e.data;if(sap.ui.Device.system.phone){_.$root.find('.sapUshellTilesContainer-sortable').addClass('sapUshellTileContainerRemoveContent');_.$root.find('.sapUshellTileContainerBeforeContent').addClass('sapUshellTileContainerRemoveContent');_.$root.find('.sapUshellContainerHeaderActions').addClass('sapUshellTileContainerHidden');}else{_.$root.find('.sapUshellTileContainerBeforeContent').addClass('sapUshellTileContainerHidden');}_.$originalElement=jQuery(e.target).closest('.sapUshellDashboardGroupsContainerItem');_.originalIndex=_.$originalElement.index();_.$element=_.$originalElement.clone().css('display','none').addClass('sapUshellDashboardGroupsContainerItem-placeholder');_.$element.insertAfter(_.$originalElement);_.$originalElement.addClass('sapUshellDashboardGroupsContainerItem-orignal');_.$root.find('.sapUshellTileContainerAfterContent').last().addClass('sapUshellTileContainerRemoveContent');_.initScrollRegions();setTimeout(function(){_.$originalElement.css('display','none');_.$element.css('display','block');},0);_.$root.on('dragover','.sapUshellDashboardGroupsContainerItem:not(.sapUshellDisableDragAndDrop)',_,_.dragOverHandler);},dragEndHandler:function(e){var _=e.data;_.removeScrollRegions();_.$root.off('dragover','.sapUshellDashboardGroupsContainerItem:not(.sapUshellDisableDragAndDrop)');_.$root.find('.sapUshellTilesContainer-sortable').removeClass('sapUshellTileContainerRemoveContent');_.$root.find('.sapUshellTileContainerBeforeContent').removeClass('sapUshellTileContainerRemoveContent');_.$root.find('.sapUshellContainerHeaderActions').removeClass('sapUshellTileContainerHidden');_.$root.find('.sapUshellTileContainerBeforeContent').removeClass('sapUshellTileContainerHidden');_.$element.replaceWith(_.$originalElement);var b=_.$originalElement.index();_.$originalElement.css('display','block').removeClass('sapUshellDashboardGroupsContainerItem-orignal');var B=sap.ui.getCore().getEventBus(),f=_.$originalElement.children().eq(0).attr('id'),g=sap.ui.getCore().byId(f),d=sap.ui.getCore().byId('dashboardGroups'),D={group:g,groupChanged:false,focus:false};d.removeAggregation('groups',g,true);d.insertAggregation('groups',g,b,true);_._publishAsync('launchpad','moveGroup',{fromIndex:_.originalIndex,toIndex:b});window.setTimeout(jQuery.proxy(B.publish,B,'launchpad','scrollToGroup',D),1);},dragOverHandler:function dragOverHandler(e){if(e.data.dragOverTimeout){return;}e.data.dragOverTimeout=setTimeout(function(){e.data.dragOverTimeout=null;var o=e.currentTarget;if(e.data.$element.get(0)===o){return;}var b=e.data.isOverAboveMiddle(o,e.originalEvent.pageY);if(o===e.data.overElement&&b===e.data.overAboveMiddle){return;}e.data.overElement=o;e.data.overAboveMiddle=b;e.data.movePlaceholder(e.data.$element,o,b);},50);},isOverAboveMiddle:function(e,p){var m=true;var r=e.getBoundingClientRect();if(r.top+r.height/2<p){m=false;}return m;},movePlaceholder:function(p,e,i){if(i){jQuery(p).insertBefore(jQuery(e));}else{jQuery(p).insertAfter(jQuery(e));}}});function T(c){this.init(c);}T.prototype=new U();jQuery.extend(T.prototype,{dragOverTimeout:null,dragStartHandler:function dragStartHandler(e){var _=e.data;_.element=e.target;_.$root.on('dragover',_.draggableSelector+', .sapUshellTileContainer',_,_.dragOverHandler);var i=e.target.getAttribute('id');_.oTile=sap.ui.getCore().byId(i);if(_.oTile.getParent().getIsGroupLocked()&&_.oTile.getParent().getDefaultGroup()){_.onDragStartUIHandler();e.preventDefault();var m=function m(){_.onDragEndUIHandler();document.removeEventListener('mouseup',m);};document.addEventListener('mouseup',m);return false;}_.initScrollRegions();var $=jQuery(e.target).clone();$.addClass(_.placeHolderClass).css('z-index','-1');var c=$.get(0);_.$cloned=$;jQuery(e.target).after($);_.getDomRefOriginal=_.oTile.getDomRef;_.oTile.getDomRef=function(){return c;};_.startCallback(e,_.element);_.onDragStartUIHandler();_.dragCallback(e,_.element);setTimeout(function(){jQuery(e.target).css('visibility','hidden');},0);},dragEndHandler:function dragEndHandler(e){var _=e.data;_.$root.off('dragover',_.draggableSelector+', .sapUshellTileContainer',_.dragOverHandler);_.removeScrollRegions();_.oTile.getDomRef=_.getDomRefOriginal;jQuery(_.element).css('visibility','visible');_.$cloned.remove();_.endCallback(e,_.element);_.onDragEndUIHandler();_.element=null;},dragOverHandler:function dragOverHandler(e){if(e.data.dragOverTimeout){return;}e.data.dragOverTimeout=setTimeout(function(){e.data.dragOverTimeout=null;e.data.overElement=this;e.data.dragAndScrollCallback({moveX:e.originalEvent.pageX,moveY:e.originalEvent.pageY});},50);}});var a={getInstance:function(c){return c.forGroups?new G(c):new T(c);}};jQuery.sap.declare('sap.ushell.UIActionsWin8');sap.ushell.UIActionsWin8=a;}());\n",
	"sap/ushell/User.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.User');jQuery.sap.require('sap.ushell.utils');function c(o){if(o===undefined){return undefined;}return jQuery.extend(true,{},o);}function g(u){var o;if(u.host&&typeof u.host==='function'&&u.host()){o=u.host();if(typeof u.protocol==='function'&&u.protocol()){o=u.protocol()+'://'+o;}return o;}return'';}function i(t){return t.indexOf('sap_')===0;}sap.ushell.User=function(C){var a=[],b,s,o,n,e=new sap.ui.base.EventProvider();this.getEmail=function(){return C.email;};this.getFirstName=function(){return C.firstName;};this.getFullName=function(){return C.fullName;};this.getId=function(){return C.id;};this.getLanguage=function(){return C.language;};this.getLanguageBcp47=function(){return C.languageBcp47;};this.getLastName=function(){return C.lastName;};this.getImage=function(){return C.image;};this.setImage=function(u){C.image=u;e.fireEvent('onSetImage',u);};this.attachOnSetImage=function(f,d){e.attachEvent('onSetImage',f,d);};this.isJamActive=function(){return C.isJamActive===true;};this.getTheme=function(t){if(t===sap.ushell.User.prototype.constants.themeFormat.ORIGINAL_THEME){return o.originalTheme.theme;}if(t===sap.ushell.User.prototype.constants.themeFormat.THEME_NAME_PLUS_URL){return o.theme+(o.locationPath?'@'+o.locationOrigin+o.locationPath:'');}if(t===sap.ushell.User.prototype.constants.themeFormat.NWBC){if(i(o.theme)){return o.theme;}else{return this.getTheme(sap.ushell.User.prototype.constants.themeFormat.THEME_NAME_PLUS_URL);}}return o.theme;};this.setTheme=function(N){if(this.isSetThemePermitted()===false){var E='setTheme not permitted';jQuery.sap.log.error(E);throw new Error(E);}o=this._amendTheme({theme:N,root:''},s);if(N!==n.originalTheme.theme){this.setChangedProperties('THEME',n.originalTheme.theme,N);n=o;}if(o.suppliedRoot){sap.ui.getCore().applyTheme(o.theme,o.suppliedRoot+'/UI5/');}else if(o.path){sap.ui.getCore().applyTheme(o.theme,o.path+'/UI5/');}else{sap.ui.getCore().applyTheme(o.theme);}};this.getAccessibilityMode=function(){return C.accessibility;};this.setAccessibilityMode=function(A){if(this.isSetAccessibilityPermitted()===false){var E='setAccessibilityMode not permitted';jQuery.sap.log.error(E);throw new Error(E);}C.accessibility=A;};this.isSetAccessibilityPermitted=function(){return C.setAccessibilityPermitted;};this.isSetThemePermitted=function(){return C.setThemePermitted;};this.getContentDensity=function(){return C.contentDensity;};this.setContentDensity=function(d){if(this.isSetContentDensityPermitted()===false){var E='setContentDensity not permitted';jQuery.sap.log.error(E);throw new Error(E);}this.setChangedProperties('CONTENT_DENSITY',C.contentDensity,d);C.contentDensity=d;};this.isSetContentDensityPermitted=function(){return C.setContentDensityPermitted;};this.getChangedProperties=function(){return jQuery.extend(true,[],a);};this.setChangedProperties=function(p,d,f){a.push({name:p,oldValue:d,newValue:f});};this.resetChangedProperties=function(){a=[];};this.getTrackUsageAnalytics=function(){return C.trackUsageAnalytics;};this.setTrackUsageAnalytics=function(t){this.setChangedProperties('TRACKING_USAGE_ANALYTICS',C.trackUsageAnalytics,t);C.trackUsageAnalytics=t;};s={locationPathUi5:(new URI(jQuery.sap.getModulePath(''))).absoluteTo(document.location).pathname(),locationPathCustom:C.themeRoot||'',locationOrigin:g(new URI(document.location))};if(!s.locationPathUi5){jQuery.sap.log.warning('User: Could not set UI5 location path');}if(!s.locationPathCustom){jQuery.sap.log.warning('User: Could not set location path for custom themes');}if(!s.locationOrigin){jQuery.sap.log.warning('User: Could not set front-end server location origin');}b=C.bootTheme||{theme:'',root:''};o=this._amendTheme(b,s);n=o;};sap.ushell.User.prototype._amendTheme=function(t,s){var T={},a,r;function b(R,s){var u,o,p={};u=new URI(R);o=g(u);if(o){p.locationOrigin=o;p.locationPath=u.path();}else{p.locationOrigin=s.locationOrigin;p.locationPath=R;}return p;}if(!t||!t.theme||!s){return{originalTheme:{theme:'',root:''},theme:'',suppliedRoot:'',path:'',locationPath:'',locationOrigin:''};}T.originalTheme=c(t);if(T.originalTheme.theme.indexOf('@')>0){a=T.originalTheme.theme.split('@',2);T.theme=a[0];T.suppliedRoot=a[1];r=b(a[1],s);T.locationPath=r.locationPath;T.path=T.locationPath;T.locationOrigin=r.locationOrigin;return T;}T.theme=T.originalTheme.theme;if(T.originalTheme.root){T.suppliedRoot=T.originalTheme.root;r=b(T.originalTheme.root,s);T.locationPath=r.locationPath;T.path=T.locationPath;T.locationOrigin=r.locationOrigin;return T;}T.suppliedRoot='';if(i(T.theme)){T.locationOrigin=s.locationOrigin;T.locationPath=s.locationPathUi5;T.path='';return T;}T.locationOrigin=s.locationOrigin;T.locationPath=s.locationPathCustom;T.path=T.locationPath;return T;};sap.ushell.User.prototype.constants={themeFormat:{ORIGINAL_THEME:'O',THEME_NAME_PLUS_URL:'N+U',NWBC:'NWBC'}};}());\n",
	"sap/ushell/UserActivityLog.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.UserActivityLog');jQuery.sap.require('sap.ushell.utils');var U=function(){};U.prototype={_maxLoggedMessages:30,_maxMessageByteSize:2048,_maxQueueByteSize:30720,_isActive:false,_observedLaunchpadActions:['createGroup','deleteGroup','resetGroup','changeGroupTitle','moveGroup','addTile','deleteTile','moveTile','externalSearch','appOpened','addBookmarkTile'],_observedGeneralActions:['showCatalog','openApp'],messageType:{ACTION:0,ERROR:1},_tileOntapOrigFunc:undefined,activate:function(c){if(this._isActive){return;}this._isActive=true;var e=sap.ui.getCore().getEventBus(),t=this;this._observedLaunchpadActions.forEach(function(a,i,b){e.subscribe('launchpad',a,t._handleAction,t);});this._observedGeneralActions.forEach(function(a,i,b){e.subscribe(a,t._handleAction,t);});jQuery.sap.log.addLogListener(this);jQuery.sap.log.debug('requiring sap.ushell.ui.launchpad.Tile',new Error().stack,'sap.ushell.UserActivityLog');jQuery.sap.require('sap.ushell.ui.launchpad.Tile');t._tileOntapOrigFunc=sap.ushell.ui.launchpad.Tile.prototype.ontap;sap.ushell.ui.launchpad.Tile.prototype.ontap=t._tileOnTapDecorator(t._tileOntapOrigFunc);},deactivate:function(){if(!this._isActive){return;}this._isActive=false;var e=sap.ui.getCore().getEventBus(),t=this;this._observedLaunchpadActions.forEach(function(a,i,b){e.unsubscribe('launchpad',a,t._handleAction,t);});this._observedGeneralActions.forEach(function(a,i,b){e.unsubscribe(a,t._handleAction,t);});jQuery.sap.log.removeLogListener(this);sap.ushell.ui.launchpad.Tile.prototype.ontap=this._tileOntapOrigFunc;},addMessage:function(t,m,a){if(this._isActive){this._addMessageInternal(t,m,a);}},getLog:function(){return this._getLoggingQueueFromStorage();},getMessageInfo:function(u){var r={userDetails:this._getUserDetails(),shellState:this._getShellState(),navigationData:this._getLastNavActionFromStorage(),userLog:this.getLog(),formFactor:sap.ushell.utils.getFormFactor()};return r;},getMessageInfoAsString:function(u){return JSON.stringify(this.getMessageInfo(u));},onLogEntry:function(d){var e=(typeof d.details!='undefined'&&(d.details!==''))?(d.message+' , '+d.details):d.message;this.addMessage(this.messageType.ERROR,e);},onAttachToLog:function(){},onDetachFromLog:function(){},_tileOnTapDecorator:function(o){var t=this,n,l,a,b,c,d;return function(e,u){var f=this.getMetadata().getName();if(f=='sap.ushell.ui.launchpad.PlusTile'){t.addMessage(t.messageType.ACTION,'Open Catalog for empty group '+this.getGroupId());}else if(f=='sap.ushell.ui.launchpad.Tile'){n=hasher.getHash();if(n){var g=sap.ushell.Container.getService('URLParsing');var h=g.parseShellHash(n);n='#'+g.constructShellHash({target:{semanticObject:h.semanticObject,action:h.action}});}l=t._getLastNavActionFromStorage();l.time=new Date();l.navigationHash=n;l.tileDebugInfo=this.getDebugInfo();a=sap.ui.getCore().byId(this.getId());b=a.getModel();c=this.getBindingContext();d=c.getPath();l.tileTitle=c.getModel().getProperty(d).title;t._putInLocalStorage('sap.ushell.UserActivityLog.lastNavigationActionData',JSON.stringify(l));t.addMessage(t.messageType.ACTION,'Click on Tile: '+b.getData().title+' Tile debugInfo: '+this.getDebugInfo());}o.apply(this,arguments);};},_addMessageInternal:function(t,m,a){var l=this._getLoggingQueueFromStorage(),b={type:null},p;for(p in this.messageType){if(t==this.messageType[p]){b.type=p;break;}}if(b.type===null){return;}jQuery.extend(b,{messageID:a,messageText:m,time:new Date(),toString:function(){var c=[this.type,this.time];if(typeof this.messageID!=='undefined'){c.push(this.messageID);}c.push(this.messageText);return c.join(' :: ');}});l.push(b);if(l.length>this._maxLoggedMessages){l.shift();}this._putInLocalStorage('sap.ushell.UserActivityLog.loggingQueue',JSON.stringify(l));},_handleAction:function(c,e,d){var m;switch(e){case'deleteTile':m='Delete Tile '+(d.tileId||'');break;case'moveTile':m='Move Tile '+(d.sTileId||'')+' to Group '+(d.toGroupId||'');break;case'createGroup':m='Create Group';break;case'changeGroupTitle':m='Change Group Title of '+(d.groupId||'')+' to '+(d.newTitle||'');break;case'deleteGroup':m='Delete Group '+(d.groupId||'');break;case'addTile':var t=d.catalogTileContext.oModel.oData,T=d.catalogTileContext.sPath,a=this._findInModel(T,t),b=a.id,g=d.groupContext.oModel.oData,G=d.groupContext.sPath,f=this._findInModel(G,g),h=f.groupId;m='Add Tile '+(b||'')+' to Group '+(h||'');break;case'moveGroup':m='Move Group from index '+(d.fromIndex||'')+' to index '+(d.toIndex||'');break;case'appOpened':m='Open application '+d.action;var l=this._getLastNavActionFromStorage();l.applicationInformation=d;if(!this._hashSegmentsEqual(l.navigationHash,d.sShellHash)){l.tileDebugInfo='';}l.navigationHash=d.sShellHash;this._putInLocalStorage('sap.ushell.UserActivityLog.lastNavigationActionData',JSON.stringify(l));break;case'addBookmarkTile':m='Add Bookmark '+(d.title||'')+' '+(d.subtitle||'')+' for URL: '+(d.url||'');break;case'showCatalog':m='Show Catalog';break;default:break;}this.addMessage(this.messageType.ACTION,m);},_findInModel:function(p,m){var a,b=m,i,c;try{a=p.split('/');for(i=0;i<a.length;i=i+1){if(c!==a[i]){continue;}b=b[c];}}catch(e){return undefined;}return b;},_getUserDetails:function(u){var a=sap.ushell.Container.getUser();return{fullName:a.getFullName()||'',userId:a.getId()||'',eMail:a.getEmail()||'',Language:a.getLanguage()||''};},_getShellState:function(){var v=sap.ui.getCore().byId('viewPortContainer'),m,r='';if(v!==undefined){m=v.getModel();r=m.getProperty('/currentState/stateName');}return r;},_getLoggingQueueFromStorage:function(){var l=this._getFromLocalStorage('sap.ushell.UserActivityLog.loggingQueue');var q=[];if(l){try{q=JSON.parse(l);}catch(e){}}return q;},_getLastNavActionFromStorage:function(){var l=this._getFromLocalStorage('sap.ushell.UserActivityLog.lastNavigationActionData');return(l?JSON.parse(l):{});},_hashSegmentsEqual:function(u,a){if((!u)||(!a)){return false;}return(this._getHashSegment(u)==this._getHashSegment(a))?true:false;},_getHashSegment:function(u){var i=u.indexOf('~'),a;if(i>-1){return u.substring(0,i);}a=u.indexOf('?');if(a>-1){return u.substring(0,a);}return u;},_getFromLocalStorage:function(k){var r=null;try{r=localStorage.getItem(k);}catch(e){}return r;},_putInLocalStorage:function(k,v){try{localStorage.setItem(k,v);}catch(e){}}};sap.ushell.UserActivityLog=new U();})();\n",
	"sap/ushell/adapters/cdm/ClientSideTargetResolutionAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter');sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter=function(s,p,a){this._oAdapterConfig=a&&a.config;jQuery.sap.require('sap.ushell.utils');this._oLocalSystemAlias={http:{host:'',port:'',pathPrefix:'/sap/bc/'},https:{host:'',port:'',pathPrefix:'/sap/bc/'},rfc:{systemId:'',host:'',service:0,loginGroup:'',sncNameR3:'',sncQoPR3:''},id:'',client:'',language:''};};sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter.prototype.getInbounds=function(){var t=this;if(!this._getInboundsDeferred){this._getInboundsDeferred=new jQuery.Deferred();sap.ushell.Container.getService('CommonDataModel').getSite().done(function(s){var i=t._formatOSite(s)||[];t._getInboundsDeferred.resolve(i);}).fail(function(e){t._getInboundsDeferred.reject(e);});}return this._getInboundsDeferred.promise();};sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter.prototype._getSystemAliases=function(){var t=this;if(!this._getSystemAliasesDeferred){this._getSystemAliasesDeferred=new jQuery.Deferred();sap.ushell.Container.getService('CommonDataModel').getSite().done(function(s){var S=jQuery.extend(true,{},s.systemAliases||{});Object.keys(S).forEach(function(i){S[i].id=i;});t._getSystemAliasesDeferred.resolve(S);}).fail(function(e){t._getSystemAliasesDeferred.reject(e);});}return this._getSystemAliasesDeferred.promise();};sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter.prototype._getMember=function(o,a){return sap.ushell.utils.getMember(o,a);};sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter.prototype._formatOSite=function(s){var t=this;if(!s){return[];}function m(k,o,a){var I={};I.semanticObject=o.semanticObject;I.action=o.action;I.title=o.title||t._getMember(a,'sap|app.title');var T,b,c=false;I.resolutionResult=jQuery.extend(true,{},t._getMember(a,'sap|platform|runtime'));I.resolutionResult=I.resolutionResult||{};if(t._getMember(a,'sap|platform|runtime')){I.resolutionResult['sap.platform.runtime']=jQuery.extend(true,{},t._getMember(a,'sap|platform|runtime'));}if(t._getMember(a,'sap|ui.technology')==='GUI'){I.resolutionResult['sap.gui']=t._getMember(a,'sap|gui');}if(t._getMember(a,'sap|ui.technology')==='WDA'){I.resolutionResult['sap.wda']=t._getMember(a,'sap|wda');}if(t._getMember(a,'sap|ui.technology')==='URL'&&I.resolutionResult['sap.platform.runtime']){if(I.resolutionResult['sap.platform.runtime'].uri){I.resolutionResult['sap.platform.runtime'].url=I.resolutionResult['sap.platform.runtime'].uri;I.resolutionResult.url=I.resolutionResult['sap.platform.runtime'].uri;}}I.resolutionResult.applicationType=t._formatApplicationType(I.resolutionResult,a);I.resolutionResult.systemAlias=I.resolutionResult.systemAlias||o.systemAlias;I.resolutionResult.text=I.title;I.deviceTypes=t._getMember(a,'sap|ui.deviceTypes')||{};['desktop','tablet','phone'].forEach(function(M){if(Object.prototype.hasOwnProperty.call(o.deviceTypes||{},M)){I.deviceTypes[M]=o.deviceTypes[M];}if(!Object.prototype.hasOwnProperty.call(I.deviceTypes,M)){I.deviceTypes[M]=true;}I.deviceTypes[M]=!!I.deviceTypes[M];});I.signature=o.signature||{};I.signature.parameters=I.signature.parameters||{};I.signature.additionalParameters=(o.signature||{}).additionalParameters||'allowed';var d=o.indicatorDataSource||t._getMember(a,'sap|app.indicatorDataSource');var f=d?'#Shell-dynamicTile':'#Shell-staticTile';if(t._getMember(a,'sap|app.type')==='tile'||t._getMember(a,'sap|flp.type')==='tile'){f=I.resolutionResult;f.url=t._getMember(a,'sap|platform|runtime.componentProperties.url');f.componentName=t._getMember(a,'sap|ui5.componentName');b=t._getMember(a,'sap|app.crossNavigation.outbounds.target');c=true;}if(t._getMember(a,'sap|app.type')==='plugin'||t._getMember(a,'sap|flp.type')==='plugin'){return undefined;}if(t._getMember(a,'sap|flp.tileSize')){T=t._getMember(a,'sap|flp.tileSize');}I.tileResolutionResult={title:I.title,subtitle:o.subtitle||t._getMember(a,'sap|app.subTitle'),icon:o.icon||t._getMember(a,'sap|ui.icons.icon'),size:T,tileComponentLoadInfo:f,indicatorDataSource:d};I.tileResolutionResult.isCustomTile=c;if(b){I.tileResolutionResult.targetOutbound=b;}return I;}var i=[];try{var S=Object.keys(s.applications).sort();S.forEach(function(a){try{var A=s.applications[a];var o=t._getMember(A,'sap|app.crossNavigation.inbounds');if(o){var l=Object.keys(o).sort();l.forEach(function(I){var b=o[I];var r=m(I,b,A);if(r){i.push(r);}});}}catch(E){jQuery.sap.log.error('Error in application '+a+': '+E,E.stack);}});}catch(e){jQuery.sap.log.error(e);jQuery.sap.log.error(e.stack);return[];}return i;};sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter.prototype._formatApplicationType=function(r,a){var A=r.applicationType;if(A){return A;}var c=this._getMember(a,'sap|platform|runtime.componentProperties.self.name')||this._getMember(a,'sap|ui5.componentName');if(this._getMember(a,'sap|flp.appType')==='UI5'||this._getMember(a,'sap|ui.technology')==='UI5'){r.applicationType='SAPUI5';r.additionalInformation='SAPUI5.Component='+c;r.url=this._getMember(a,'sap|platform|runtime.componentProperties.url');r.applicationDependencies=this._getMember(a,'sap|platform|runtime.componentProperties');return'SAPUI5';}if(this._getMember(a,'sap|ui.technology')==='GUI'){r.applicationType='TR';r['sap.gui']=this._getMember(a,'sap|gui');r.systemAlias=this._getMember(a,'sap|app.destination.name');return'TR';}if(this._getMember(a,'sap|ui.technology')==='WDA'){r.applicationType='WDA';r['sap.wda']=this._getMember(a,'sap|wda');r.systemAlias=this._getMember(a,'sap|app.destination.name');return'WDA';}return'URL';};sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter.prototype.resolveSystemAlias=function(s){var d=new jQuery.Deferred(),t=this;this._getSystemAliases().done(function(S){var m,o=s===''?t._oLocalSystemAlias:S[s];if(o){d.resolve(o);}else{m='Cannot resolve system alias '+s;jQuery.sap.log.warning(m,'The system alias cannot be found in the site response','sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter');d.reject(m);}}).fail(function(){d.reject();});return d.promise();};}());\n",
	"sap/ushell/adapters/cdm/CommonDataModelAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.cdm.CommonDataModelAdapter');sap.ushell.adapters.cdm.CommonDataModelAdapter=function(u,p,a){jQuery.sap.require('sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter');this.oAdapterConfiguration=a;if(a&&a.config&&a.config.siteData){this.oCdmSiteDataRequestPromise=new jQuery.Deferred().resolve(a.config.siteData);}else if(a&&a.config&&a.config.siteDataPromise){this.oCdmSiteDataRequestPromise=a.config.siteDataPromise;}else{this.sCdmSiteUrl=jQuery.sap.getModulePath('sap.ushell.cdmSiteData')+'/CommonDataModelAdapterData.json';if(a&&a.config&&a.config.sCdmSiteUrl){this.sCdmSiteUrl=a.config.sCdmSiteUrl;}this.oCdmSiteDataRequestPromise=this._requestSiteData(this.sCdmSiteUrl);}};sap.ushell.adapters.cdm.CommonDataModelAdapter.prototype._requestSiteData=function(u){var s=new jQuery.Deferred();jQuery.ajax({type:'GET',dataType:'json',url:u}).done(function(r){s.resolve(r);}).fail(function(e){jQuery.sap.log.error(e.responseText);s.reject('CDM Site was requested but could not be loaded.');});return s.promise();};sap.ushell.adapters.cdm.CommonDataModelAdapter.prototype.getSite=function(){var d=new jQuery.Deferred();this.oCdmSiteDataRequestPromise.done(function(s){var S=jQuery.extend({},s);delete S.personalization;d.resolve(S);}).fail(function(m){d.reject(m);});return d.promise();};sap.ushell.adapters.cdm.CommonDataModelAdapter.prototype.getPersonalization=function(){var d=new jQuery.Deferred(),t=this;this.oCdmSiteDataRequestPromise.done(function(s){var S=jQuery.extend({},s);if(t.oAdapterConfiguration&&t.oAdapterConfiguration.config&&t.oAdapterConfiguration.config.ignoreSiteDataPersonalization){delete S.personalization;}if(S.personalization){d.resolve(S.personalization);}else{t._readPersonalizationDataFromStorage().done(function(p){d.resolve(p);}).fail(function(m){d.reject(m);});}}).fail(function(m){d.reject(m);});return d.promise();};sap.ushell.adapters.cdm.CommonDataModelAdapter.prototype._storePersonalizationData=function(p){var P=new jQuery.Deferred(),o=sap.ushell.Container.getService('Personalization'),c,s={keyCategory:o.constants.keyCategory.FIXED_KEY,writeFrequency:o.constants.writeFrequency.LOW,clientStorageAllowed:true},a={container:'sap.ushell.cdm.personalization',item:'data'},b=o.getPersonalizer(a,s,c);b.setPersData(p).done(function(){jQuery.sap.log.info('Personalization data has been stored successfully.');P.resolve();}).fail(function(){P.reject('Writing personalization data failed.');});return P.promise();};sap.ushell.adapters.cdm.CommonDataModelAdapter.prototype._readPersonalizationDataFromStorage=function(){var p=new jQuery.Deferred(),P=sap.ushell.Container.getService('Personalization'),c,s={keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.LOW,clientStorageAllowed:true},o={container:'sap.ushell.cdm.personalization',item:'data'},a=P.getPersonalizer(o,s,c);a.getPersData().done(function(b){if(!b){b={};}p.resolve(b);}).fail(function(){p.reject('Fetching personalization data failed.');});return p.promise();};}());\n",
	"sap/ushell/adapters/local/AppStateAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.local.AppStateAdapter');jQuery.sap.require('sap.ushell.services.Personalization');sap.ushell.adapters.local.AppStateAdapter=function(s,p,c){this._oConfig=c&&c.config;};sap.ushell.adapters.local.AppStateAdapter.prototype._getPersonalizationService=function(){return sap.ushell.Container.getService('Personalization');};sap.ushell.adapters.local.AppStateAdapter.prototype.saveAppState=function(k,s,v,a,c){var p=this._getPersonalizationService(),d=new jQuery.Deferred();p.createEmptyContainer(k,{keyCategory:p.constants.keyCategory.GENERATED_KEY,writeFrequency:p.constants.writeFrequency.HIGH,clientStorageAllowed:false}).done(function(C){C.setItemValue('appStateData',v);C.save().done(function(){d.resolve();}).fail(function(m){d.reject(m);jQuery.sap.log.error(m);});}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};sap.ushell.adapters.local.AppStateAdapter.prototype.loadAppState=function(k){var p=this._getPersonalizationService(),d=new jQuery.Deferred();p.getContainer(k,{keyCategory:p.constants.keyCategory.GENERATED_KEY,writeFrequency:p.constants.writeFrequency.HIGH,clientStorageAllowed:false}).done(function(c){var v=c.getItemValue('appStateData');d.resolve(k,v);}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};}());\n",
	"sap/ushell/adapters/local/ClientSideTargetResolutionAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.local.ClientSideTargetResolutionAdapter');sap.ushell.adapters.local.ClientSideTargetResolutionAdapter=function(s,p,c){this._oConfig=c&&c.config;this._aInbounds=[];if(!this._oConfig){this._oSystemAliases={};jQuery.sap.log.warning('No configuration supplied!','','sap.ushell.adapters.local.ClientSideTargetResolutionAdapter');}else{if(this._oConfig.inbounds){this._aInbounds=this._transformInboundsObjectToInboundsArray(this._oConfig.inbounds);}if(this._oConfig.applications){Array.prototype.push.apply(this._aInbounds,this._transformApplicationsToInbounds(this._oConfig.applications));}if(this._aInbounds.length===0){jQuery.sap.log.warning('Adapter got no inbounds via configuration!','','sap.ushell.adapters.local.ClientSideTargetResolutionAdapter');}this._oSystemAliases=this._oConfig.systemAliases||{};jQuery.sap.log.debug('Adapter got no system aliases via configuration','','sap.ushell.adapters.local.ClientSideTargetResolutionAdapter');}};sap.ushell.adapters.local.ClientSideTargetResolutionAdapter.prototype.getInbounds=function(){var d=new jQuery.Deferred(),t=this;setTimeout(function(){d.resolve(t._aInbounds);},0);return d.promise();};sap.ushell.adapters.local.ClientSideTargetResolutionAdapter.prototype.resolveSystemAlias=function(s){var d=new jQuery.Deferred(),t=this;setTimeout(function(){var r={};if(t._oSystemAliases.hasOwnProperty(s)){r=t._oSystemAliases[s];d.resolve(r);}else{d.reject('No system alias value available');}},0);return d.promise();};sap.ushell.adapters.local.ClientSideTargetResolutionAdapter.prototype._transformApplicationsToInbounds=function(a){var i,I=[],A,o,b;function c(s,u){if(s==='NWBC'&&u){if(u.indexOf('/~canvas;window=app/wda')>=0){return'WDA';}return'TR';}return s;}for(i in a){if(a.hasOwnProperty(i)&&i.indexOf('_')!==0){o={};if(i.indexOf('-')>-1){b=i.split('-',2);o.semanticObject=b[0];o.action=b[1];}else if(i===''){o.semanticObject='';o.action='';}else{jQuery.sap.log.warning(\"Excluded syntactically incorrect intent '\"+i+\"' from inbounds array\",'','sap.ushell.adapters.local.ClientSideTargetResolutionAdapter');continue;}A=a[i];o.title=A.description||'';o.signature={parameters:{}};o.signature.additionalParameters='allowed';o.resolutionResult={};o.resolutionResult.applicationType=c(A.applicationType,A.url);o.resolutionResult.additionalInformation=A.additionalInformation||'';if(o.resolutionResult.additionalInformation&&o.resolutionResult.additionalInformation.indexOf('SAPUI5.Component=')!==-1){o.resolutionResult.applicationType='SAPUI5';o.resolutionResult.ui5ComponentName=o.resolutionResult.additionalInformation.split('SAPUI5.Component=',2)[1];o.resolutionResult.applicationDependencies={self:{name:o.resolutionResult.ui5ComponentName},asyncHints:{libs:[{name:'sap.ui.core'},{name:'sap.ui.unified'}]}};}o.resolutionResult.url=A.url;I.push(o);}}return I;};sap.ushell.adapters.local.ClientSideTargetResolutionAdapter.prototype._transformInboundsObjectToInboundsArray=function(i){var I,a=[],o;for(I in i){if(i.hasOwnProperty(I)){o=i[I];if(o.resolutionResult.additionalInformation&&o.resolutionResult.additionalInformation.indexOf('SAPUI5.Component=')!==-1){o.resolutionResult.ui5ComponentName=o.resolutionResult.additionalInformation.split('SAPUI5.Component=',2)[1];if(!o.resolutionResult.hasOwnProperty('applicationDependencies')){o.resolutionResult.applicationDependencies={self:{name:o.resolutionResult.ui5ComponentName},asyncHints:{libs:[{name:'sap.ui.core'},{name:'sap.ui.unified'}]}};}}a.push(i[I]);}}return a;};}());\n",
	"sap/ushell/adapters/local/ContainerAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.local.ContainerAdapter');jQuery.sap.require('sap.ushell.User');jQuery.sap.require('sap.ushell.utils');sap.ushell.adapters.local.ContainerAdapter=function(s,p,a){var A,u,U,k;A=jQuery.sap.getObject('config',0,a);u={id:'DEFAULT_USER',firstName:'Default',lastName:'User',fullName:'Default User',accessibility:false,isJamActive:false,language:sap.ui.getCore().getConfiguration().getLanguage()||'en',bootTheme:{theme:'sap_bluecrystal',root:''},themeRoot:'/sap/public/bc/themes/',setAccessibilityPermitted:true,setThemePermitted:true,trackUsageAnalytics:null};for(k in A){if(A.hasOwnProperty(k)){u[k]=A[k];}}this.getSystem=function(){return s;};this.getUser=function(){return U;};this.load=function(){var b,c,o,d,D=new jQuery.Deferred();if(A&&typeof A.setUserCallback==='string'){d=new jQuery.Deferred();b=A.setUserCallback.split('.');c=b.pop();if(b.length===0){o=window;}else{o=jQuery.sap.getObject(b.join('.'));}if(o&&typeof o[c]==='function'){o[c](d);}else{throw new sap.ushell.utils.Error('ContainerAdapter local platform: Cannot execute setUserCallback - '+A.setUserCallback);}d.done(function(e){['id','firstName','lastName','fullName'].forEach(function(v){if(e[v]&&typeof A.setUserCallback!=='function'){u[v]=e[v];}});U=new sap.ushell.User(u);D.resolve();});}else{U=new sap.ushell.User(u);D.resolve();}return D.promise();};this.logout=function(l){jQuery.sap.log.info('Demo system logged out: '+s.getAlias(),null,'sap.ushell.adapters.local.ContainerAdapter');sap.ushell.utils.reload();return(new jQuery.Deferred()).resolve().promise();};};}());\n",
	"sap/ushell/adapters/local/EndUserFeedbackAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.local.EndUserFeedbackAdapter');jQuery.sap.require('jquery.sap.storage');var e;sap.ushell.adapters.local.EndUserFeedbackAdapter=function(s,p,a){var S='com.sap.ushell.adapters.local.EndUserFeedback';this.sendFeedback=function(f){var d,o,n;n=333;d=new jQuery.Deferred();setTimeout(function(){o=jQuery.sap.storage(jQuery.sap.storage.Type.session,S);if(o.put(n,JSON.stringify(f))===true){jQuery.sap.log.info('User Feedback '+JSON.stringify(f)+' has been sent.');d.resolve(n);}else{d.reject('Failed to save end user feedback');}},0);return d.promise();};this.getLegalText=function(){var d,l;l='This is the legal text \\n in the users language.\\n with multiple line breaks.';d=new jQuery.Deferred();setTimeout(function(){jQuery.sap.log.info('Legal text '+l+' for user feedback dialog has been sent.');d.resolve(l);},0);return d.promise();};this.isEnabled=function(){var d=new jQuery.Deferred();setTimeout(function(){if(e){d.resolve();}else{d.reject();}},0);return d.promise();};e=jQuery.sap.getObject('config.enabled',undefined,a);if(e===undefined){e=true;}};}());\n",
	"sap/ushell/adapters/local/LaunchPageAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.local.LaunchPageAdapter');jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.m.Text');sap.ushell.adapters.local.LaunchPageAdapter=function(u,p,a){var c=jQuery.extend(true,[],a.config.groups),C=a.config.catalogs||[],f=0,g=10,m=10,M=10,b,d,I,h;for(I=0;I<c.length;I++){if(c[I].isDefaultGroup===true){h=c[I];break;}}if(!h&&c.length>0){h=c[0];h.isDefaultGroup=true;}this.translationBundle=sap.ushell.resources.i18n;this.TileType={Tile:'tile',Link:'link'};if(!b&&a.config.pathToLocalizedContentResources){jQuery.sap.require('sap.ui.model.resource.ResourceModel');b=new sap.ui.model.resource.ResourceModel({bundleUrl:a.config.pathToLocalizedContentResources,bundleLocale:sap.ui.getCore().getConfiguration().getLanguage()});d=b.getResourceBundle();}function _(K){if(d){return d.getText(K);}return K;}jQuery.each(C,function(i,e){if(d){e.title=_(e.title);}jQuery.each(e.tiles,function(i,t){t.getTitle=function(){return t.title;};});});jQuery.each(c,function(i,G){if(d){G.title=_(G.title);}jQuery.each(G.tiles,function(i,t){s(t,true);});});function j(){return(100*Math.random())<f;}function k(){return(100*Math.random())<g;}function l(){return m+M*Math.random();}function o(G,t){var i;for(i=0;i<G.tiles.length;i=i+1){if(t.id===G.tiles[i].id){return i;}}return-1;}function q(G,e){var i;for(i=0;i<G.length;i=i+1){if(e.id===G[i].id){return i;}}return-1;}function r(G){var D=jQuery.Deferred();window.setTimeout(function(){D.resolve(G);},l());return D.promise();}function s(t,n){if(t.tileType!=='sap.ushell.ui.tile.DynamicTile'||!t.properties||!t.properties.serviceUrl){return;}if(t.intervalTimer){clearInterval(t.intervalTimer);t.intervalTimer=undefined;}if(n){var e=t.serviceRefreshInterval;if(e){e=e*1000;}else{e=10000;}t.intervalTimer=setInterval(function(){OData.read(t.properties.serviceUrl+'?id='+t.id+'&t='+new Date().getTime(),function(R){jQuery.sap.log.debug('Dynamic tile service call succeed for tile '+t.id);},function(i){jQuery.sap.log.debug('Dynamic tile service call failed for tile '+t.id+', error message:'+i);});},e);}}this.getGroups=function(){var D=jQuery.Deferred();window.setTimeout(function(){D.resolve(c.slice(0));},l());return D.promise();};this.getDefaultGroup=function(){var D=new jQuery.Deferred();D.resolve(h);return D.promise();};this.addGroup=function(t){var D=jQuery.Deferred(),F=j(),e=this;window.setTimeout(function(){if(!F){var n={id:'group_'+c.length,title:t,tiles:[]};c.push(n);D.resolve(n);}else{e.getGroups().done(function(E){D.reject(E);}).fail(function(){D.reject();});}},l());return D.promise();};this.getGroupTitle=function(G){return G.title;};this.setGroupTitle=function(G,n){var D=jQuery.Deferred(),F=j();window.setTimeout(function(){if(!F){G.title=n;D.resolve();}else{r(G).done(function(e){D.reject(e.title);}).fail(function(){D.reject();});}},l());return D.promise();};this.getGroupId=function(G){return G.id;};this.hideGroups=function(H){if(H&&c){for(var i=0;i<c.length;i++){if(H.indexOf(c[i].id)!=-1){c[i].isVisible=false;}else{c[i].isVisible=true;}}}return jQuery.Deferred().resolve();};this.isGroupVisible=function(G){return G&&(G.isVisible===undefined?true:G.isVisible);};this.moveGroup=function(G,n){var D=jQuery.Deferred(),F=j(),t=this;window.setTimeout(function(){if(!F){c.splice(n,0,c.splice(q(c,G),1)[0]);D.resolve();}else{t.getGroups().done(function(e){D.reject(e);}).fail(function(){D.reject();});}},l());return D.promise();};this.removeGroup=function(G){var D=jQuery.Deferred(),F=j(),t=this;window.setTimeout(function(){if(!F){c.splice(q(c,G),1);jQuery.each(G.tiles,function(i,T){s(T,false);});D.resolve();}else{t.getGroups().done(function(e){D.reject(e);}).fail(function(){D.reject();});}},l());return D.promise();};this.resetGroup=function(G){var D=jQuery.Deferred(),F=j(),t=this;window.setTimeout(function(){if(!F){jQuery.each(G.tiles,function(i,T){s(T,false);});G=jQuery.extend(true,{},a.config.groups[q(a.config.groups,G)]);c.splice(q(c,G),1,G);jQuery.each(G.tiles,function(i,T){s(T,true);});D.resolve(G);}else{t.getGroups().done(function(e){D.reject(e);}).fail(function(){D.reject();});}},l());return D.promise();};this.isGroupRemovable=function(G){return G&&!G.isPreset;};this.isGroupLocked=function(G){return G.isGroupLocked;};this.getGroupTiles=function(G){return G.tiles;};this.getLinkTiles=function(G){return G.links;};this.getTileTitle=function(t){return t.title;};this.getTileType=function(t){if(t.isLink){return this.TileType.Link;}return this.TileType.Tile;};this.getTileId=function(t){return t.id;};this.getTileSize=function(t){return t.size;};this.getTileTarget=function(t){return t.target_url||'';};this.isTileIntentSupported=function(t){if(t&&t.formFactor){var e=t.formFactor;var S=sap.ui.Device.system;var i;if(S.desktop){i='Desktop';}else if(S.tablet){i='Tablet';}else if(S.phone){i='Phone';}if(e.indexOf(i)===-1){return false;}}return true;};this.getTileView=function(t){var D=jQuery.Deferred(),F=j(),e=this;if(k()){window.setTimeout(function(){if(!F){D.resolve(e._getTileView(t));}else{D.reject();}},l());}else{if(!F){D.resolve(e._getTileView(t));}else{D.reject();}}return D.promise();};this._getTileView=function(t){var E='unknown error',T,i,n=this.getTileType(t)==='link';this._translateTileProperties(t);if(t.namespace&&t.path&&t.moduleType){jQuery.sap.registerModulePath(t.namespace,t.path);if(t.moduleType==='UIComponent'){T=new sap.ui.core.ComponentContainer({component:sap.ui.getCore().createComponent({componentData:{properties:t.properties},name:t.moduleName}),height:'100%',width:'100%'});}else{T=sap.ui.view({viewName:t.moduleName,type:sap.ui.core.mvc.ViewType[t.moduleType],viewData:{properties:t.properties},height:'100%'});}return T;}else if(t.tileType){i=n?'sap.m.Link':t.tileType;if(i){var v=t.properties.targetURL||t.properties.href;try{if(v){delete t.properties.targetURL;T=this._createTileInstance(t,i);if(n){T.setHref(v);if(v[0]!=='#'){T.setTarget('_blank');}}else{if(typeof(T.setTargetURL)==='function'){T.setTargetURL(v);}t.properties.targetURL=v;}}else{T=this._createTileInstance(t);}this._handleTilePress(T);this._applyDynamicTileIfoState(T);return T;}catch(e){return new sap.m.GenericTile({header:e&&(e.name+': '+e.message)||this.translationBundle.getText('failedTileCreationMsg'),frameType:this._parseTileSizeToGenericTileFormat(t.size)});}}else{E='TileType: '+t.tileType+' not found!';}}else{E='No TileType defined!';}return new sap.m.GenericTile({header:E,frameType:this._parseTileSizeToGenericTileFormat(t.size)});};this._createTileInstance=function(t,T){var e;jQuery.sap.require(T==='sap.m.Link'?T:'sap.m.GenericTile');switch(T){case'sap.ushell.ui.tile.DynamicTile':e=new sap.m.GenericTile({header:t.properties.title,subheader:t.properties.subtitle,frameType:this._parseTileSizeToGenericTileFormat(t.size),size:'Auto',tileContent:new sap.m.TileContent({size:'Auto',footer:t.properties.info,unit:t.properties.numberUnit,content:new sap.m.NumericContent({scale:t.properties.numberFactor,value:t.properties.numberValue,truncateValueTo:5,indicator:t.properties.stateArrow,valueColor:this._parseTileValueColor(t.properties.numberState),icon:t.properties.icon,width:'100%'})}),press:function(){this._genericTilePressHandler(t);}.bind(this)});break;case'sap.ushell.ui.tile.StaticTile':e=new sap.m.GenericTile({header:t.properties.title,subheader:t.properties.subtitle,frameType:this._parseTileSizeToGenericTileFormat(t.size),size:'Auto',tileContent:new sap.m.TileContent({size:'Auto',footer:t.properties.info,content:new sap.m.ImageContent({src:t.properties.icon,width:'100%'})}),press:function(){this._genericTilePressHandler(t);}.bind(this)});break;case'sap.m.Link':e=new sap.m.Link({text:t.properties.text});break;default:jQuery.sap.require(t.tileType);var i=jQuery.sap.getObject(t.tileType);e=new i(t.properties||{});}return e;};this._genericTilePressHandler=function(t){if(t.properties.targetURL){if(t.properties.targetURL[0]==='#'){hasher.setHash(t.properties.targetURL);}else{window.open(t.properties.targetURL,'_blank');}}};this._parseTileSizeToGenericTileFormat=function(t){return t==='1x2'?'TwoByOne':'OneByOne';};this._parseTileValueColor=function(t){var e=t;switch(t){case'Positive':e='Good';break;case'Negative':e='Critical';break;}return e;};this._applyDynamicTileIfoState=function(t){var O=t.onAfterRendering;t.onAfterRendering=function(){if(O){O.apply(this,arguments);}var e=this.getModel(),D=e.getProperty('/data/display_info_state'),i=this.getDomRef(),n=i.getElementsByClassName('sapMTileCntFtrTxt')[0];switch(D){case'Negative':n.classList.add('sapUshellTileFooterInfoNegative');break;case'Neutral':n.classList.add('sapUshellTileFooterInfoNeutral');break;case'Positive':n.classList.add('sapUshellTileFooterInfoPositive');break;case'Critical':n.classList.add('sapUshellTileFooterInfoCritical');break;default:return;}};};this._handleTilePress=function(t){if(typeof t.attachPress==='function'){t.attachPress(function(){if(typeof t.getTargetURL==='function'){var T=t.getTargetURL();if(T){if(T[0]==='#'){hasher.setHash(T);}else{window.open(T,'_blank');}}}});}};this._translateTileProperties=function(t){if(d){if(!t.properties.isTranslated){t.properties.title=_(t.properties.title);t.properties.subtitle=_(t.properties.subtitle);t.properties.info=_(t.properties.info);if(t.keywords){for(var e=0;e<t.keywords.length;e++){t.keywords[e]=_(t.keywords[e]);}}t.properties.isTranslated=true;}}};this.refreshTile=function(t){};this.setTileVisible=function(t,n){s(t,n);};this.addTile=function(e,G){if(!G){G=h;}var D=jQuery.Deferred(),F=j(),t=this;window.setTimeout(function(){if(!F){var n=jQuery.extend(true,{title:'A new tile was added',size:'1x1'},e,{id:'tile_0'+e.chipId});G.tiles.push(n);s(n,true);D.resolve(n);}else{t.getGroups().done(function(E){D.reject(E);}).fail(function(){D.reject();});}},l());return D.promise();};this.removeTile=function(G,t){var D=jQuery.Deferred(),F=j(),e=this;window.setTimeout(function(){if(!F){G.tiles.splice(o(G,t),1);s(t,false);D.resolve();}else{e.getGroups().done(function(E){D.reject(E);}).fail(function(){D.reject();});}},l());return D.promise();};this.moveTile=function(t,e,i,S,T){var D=jQuery.Deferred(),F=j(),n=this;window.setTimeout(function(){if(!F){if(T===undefined){T=S;}S.tiles.splice(e,1);T.tiles.splice(i,0,t);D.resolve(t);}else{n.getGroups().done(function(E){D.reject(E);}).fail(function(){D.reject();});}},l());return D.promise();};this.getTile=function(S,A){var D=jQuery.Deferred();return D.promise();};this.getCatalogs=function(){var D=jQuery.Deferred();C.forEach(function(e){window.setTimeout(function(){D.notify(e);},300);});window.setTimeout(function(){D.resolve(C);},1500);return D.promise();};this.isCatalogsValid=function(){return true;};this.getCatalogError=function(e){return;};this.getCatalogId=function(e){return e.id;};this.getCatalogTitle=function(e){return e.title;};this.getCatalogTiles=function(e){var D=jQuery.Deferred();window.setTimeout(function(){D.resolve(e.tiles);},l());return D.promise();};this.getCatalogTileId=function(e){if(e.chipId){return e.chipId;}else{return'UnknownCatalogTileId';}};this.getCatalogTileTitle=function(e){return e.title;};this.getCatalogTileSize=function(e){return e.size;};this.getCatalogTileView=function(e){return this._getTileView(e);};this.getCatalogTileTargetURL=function(e){return(e.properties&&e.properties.targetURL)||null;};this.getCatalogTilePreviewTitle=function(e){return(e.properties&&e.properties.title)||null;};this.getCatalogTilePreviewIcon=function(e){return(e.properties&&e.properties.icon)||null;};this.getCatalogTileKeywords=function(e){return jQuery.merge([],jQuery.grep(jQuery.merge([e.title,e.properties&&e.properties.subtitle,e.properties&&e.properties.info],(e&&e.keywords)||[]),function(n,i){return n!==''&&n;}));};this.getCatalogTileTags=function(e){return(e&&e.tags)||[];};this.addBookmark=function(P,G){var G=G?G:h,D=jQuery.Deferred(),F=j(),t=this,e=P.title,i=P.subtitle,n=P.info,v=P.url;window.setTimeout(function(){if(!F){var w={title:e,size:'1x1',chipId:'tile_0'+G.tiles.length,tileType:'sap.ushell.ui.tile.StaticTile',id:'tile_0'+G.tiles.length,keywords:[],properties:{icon:'sap-icon://time-entry-request',info:n,subtitle:i,title:e,targetURL:v}};G.tiles.push(w);s(w,true);D.resolve(w);}else{t.getGroups().done(function(E){D.reject(E);}).fail(function(){D.reject();});}},l());return D.promise();};this.updateBookmarks=function(U,P){var D=new jQuery.Deferred(),G=this.getGroups();G.done(function(R){R.forEach(function(e){e.tiles.forEach(function(t){if(t.properties&&t.properties.targetURL===U){for(var i in P){if(P.hasOwnProperty(i)){t.properties[i]=P[i];}}}});});D.resolve();});G.fail(function(){D.reject();});return D.promise();};this.countBookmarks=function(U){var D=jQuery.Deferred();var i=0;var G,t,e,T;for(e=0;e<c.length;e++){G=c[e];for(T=0;T<G.tiles.length;T++){t=G.tiles[T];if(t.properties.targetURL===U){i++;}}}D.resolve(i);return D.promise();};this.onCatalogTileAdded=function(t){};this.getTileActions=function(t){return(t&&t.actions)||null;};};}());\n",
	"sap/ushell/adapters/local/NavTargetResolutionAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.local.NavTargetResolutionAdapter');jQuery.sap.require('sap.ui.thirdparty.datajs');sap.ushell.adapters.local.NavTargetResolutionAdapter=function(u,p,a){var A=jQuery.sap.getObject('config.applications',0,a);this.resolveHashFragment=function(h){var d=new jQuery.Deferred(),i,r,R,P;if(h&&h.charAt(0)!=='#'){throw new sap.ushell.utils.Error('Hash fragment expected','sap.ushell.renderers.minimal.Shell');}h=h.substring(1);if(!h&&!A[h]){d.resolve(undefined);}else{jQuery.sap.log.info('Hash Fragment: '+h);i=h.indexOf('?');if(i>=0){P=h.slice(i+1);h=h.slice(0,i);}r=A[h];if(r){R={additionalInformation:r.additionalInformation,applicationType:r.applicationType,url:r.url,text:r.text,fullWidth:r.fullWidth};if(P){R.url+=(R.url.indexOf('?')<0)?'?':'&';R.url+=P;}if(r.navigationMode!==undefined){R.navigationMode=r.navigationMode;}d.resolve(R);}else{d.reject(\"Could not resolve link '\"+h+\"'\");}}return d.promise();};this.getSemanticObjectLinks=function(s,P){var I,r=[],i=0,d=new jQuery.Deferred(),b;if(!s){setTimeout(function(){d.resolve([]);},0);}else{b=sap.ushell.Container.getService('URLParsing').paramsToString(P);jQuery.sap.log.info('getSemanticObjectLinks: '+s);for(I in A){if(A.hasOwnProperty(I)&&I.substring(0,I.indexOf('-'))===s){r[i]=A[I];r[i].id=I;r[i].text=r[i].text||r[i].description||'no text';r[i].intent='#'+I;if(b!==''){if(r[i].intent.indexOf('?')!==-1){r[i].intent+='&'+b;}else{r[i].intent+='?'+b;}}i+=1;}}if(r){setTimeout(function(){d.resolve(r);},0);}else{setTimeout(function(){d.reject(\"Could not get links for  '\"+s+\"'\");},0);}}return d.promise();};this.isIntentSupported=function(I){var d=new jQuery.Deferred(),s={},D=[],t=this;function b(i,S){s[i]={supported:S};}I.forEach(function(c,i){var o=new jQuery.Deferred();D.push(o.promise());t.resolveHashFragment(c).fail(function(e){b(c,false);o.resolve();}).done(function(e){b(c,true);o.resolve();});});if(I.length>0){jQuery.when.apply(jQuery,D).always(function(){d.resolve(s);});}else{d.resolve(s);}return d.promise();};};}());\n",
	"sap/ushell/adapters/local/PersonalizationAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.local.PersonalizationAdapter');jQuery.sap.require('sap.ushell.utils');var m;sap.ushell.adapters.local.PersonalizationAdapter=function(u,P,a){this._sStorageType=jQuery.sap.getObject('config.storageType',undefined,a)||sap.ushell.adapters.local.PersonalizationAdapter.prototype.constants.storage.LOCAL_STORAGE;switch(this._sStorageType){case sap.ushell.adapters.local.PersonalizationAdapter.prototype.constants.storage.LOCAL_STORAGE:jQuery.sap.require('jquery.sap.storage');break;case sap.ushell.adapters.local.PersonalizationAdapter.prototype.constants.storage.MEMORY:m=jQuery.sap.getObject('config.personalizationData',undefined,a)||{};break;default:throw new sap.ushell.utils.Error(\"Personalization Adapter Local Platform: unsupported storage type '\"+this._sStorageType+\"'\");}};sap.ushell.adapters.local.PersonalizationAdapter.prototype.constants={'storage':{'MEMORY':'MEMORY','LOCAL_STORAGE':'LOCAL_STORAGE'}};sap.ushell.adapters.local.PersonalizationAdapter.prototype.getAdapterContainer=function(C){return new sap.ushell.adapters.local.AdapterContainer(C,this._sStorageType);};sap.ushell.adapters.local.PersonalizationAdapter.prototype.delAdapterContainer=function(C){return this.getAdapterContainer(C).del();};sap.ushell.adapters.local.AdapterContainer=function(C,S){this._sContainerKey=C;this._sStorageType=S;this._oItemMap=new sap.ushell.utils.Map();};function g(){return jQuery.sap.storage(jQuery.sap.storage.Type.local,'com.sap.ushell.adapters.sandbox.Personalization');}function p(j){try{return JSON.parse(j);}catch(e){return undefined;}}function s(j){return JSON.stringify(j);}function c(j){if(j===undefined){return undefined;}try{return JSON.parse(JSON.stringify(j));}catch(e){return undefined;}}sap.ushell.adapters.local.AdapterContainer.prototype.load=function(){var d=new jQuery.Deferred(),l,i,t=this;switch(this._sStorageType){case sap.ushell.adapters.local.PersonalizationAdapter.prototype.constants.storage.LOCAL_STORAGE:l=g();setTimeout(function(){i=l.get(t._sContainerKey);t._oItemMap.entries=p(i)||{};d.resolve(t);},0);break;case sap.ushell.adapters.local.PersonalizationAdapter.prototype.constants.storage.MEMORY:setTimeout(function(){t._oItemMap.entries=c(m[t._sContainerKey])||{};d.resolve(t);},0);break;default:setTimeout(function(){d.reject('unknown storage type');},0);}return d.promise();};sap.ushell.adapters.local.AdapterContainer.prototype.save=function(){var d=new jQuery.Deferred(),l,i,t=this;switch(this._sStorageType){case sap.ushell.adapters.local.PersonalizationAdapter.prototype.constants.storage.LOCAL_STORAGE:l=g();setTimeout(function(){i=s(t._oItemMap.entries);l.put(t._sContainerKey,i);d.resolve();},0);break;case sap.ushell.adapters.local.PersonalizationAdapter.prototype.constants.storage.MEMORY:setTimeout(function(){m[t._sContainerKey]=c(t._oItemMap.entries);d.resolve();},0);break;default:setTimeout(function(){d.reject('unknown storage type');},0);}return d.promise();};sap.ushell.adapters.local.AdapterContainer.prototype.del=function(){var d=new jQuery.Deferred(),l,t=this;switch(this._sStorageType){case sap.ushell.adapters.local.PersonalizationAdapter.prototype.constants.storage.LOCAL_STORAGE:l=g();setTimeout(function(){l.remove(t._sContainerKey);t._oItemMap.entries={};d.resolve();},0);break;case sap.ushell.adapters.local.PersonalizationAdapter.prototype.constants.storage.MEMORY:setTimeout(function(){if(m&&m[t._sContainerKey]){delete m[t._sContainerKey];}t._oItemMap.entries={};d.resolve();},0);break;default:setTimeout(function(){d.reject('unknown storage type');},0);}return d.promise();};sap.ushell.adapters.local.AdapterContainer.prototype.getItemKeys=function(){return this._oItemMap.keys();};sap.ushell.adapters.local.AdapterContainer.prototype.containsItem=function(i){return this._oItemMap.containsKey(i);};sap.ushell.adapters.local.AdapterContainer.prototype.getItemValue=function(i){return this._oItemMap.get(i);};sap.ushell.adapters.local.AdapterContainer.prototype.setItemValue=function(i,I){this._oItemMap.put(i,I);};sap.ushell.adapters.local.AdapterContainer.prototype.delItem=function(i){this._oItemMap.remove(i);};}());\n",
	"sap/ushell/adapters/local/SearchAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.local.SearchAdapter');window.sap.bc=window.sap.bc||{};window.sap.bc={ina:{api:{sina:{properties:{systemType:'ABAP',startWithSearch:'false',noSapClientFromUrl:true}}}}};jQuery.sap.require('sap.ushell.renderers.fiori2.search.esh.api.release.sina');sap.ushell.adapters.local.SearchAdapter=function(s,p,a){this.isSearchAvailable=function(){var d=jQuery.Deferred();d.resolve(true);return d.promise();};this.getSina=function(){return sap.bc.ina.api.sina;};};}());\n",
	"sap/ushell/adapters/local/SupportTicketAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.local.SupportTicketAdapter');sap.ushell.adapters.local.SupportTicketAdapter=function(s,p,a){this.createTicket=function(S){var d=new jQuery.Deferred(),t='1234567';d.resolve(t);return d.promise();};};}());\n",
	"sap/ushell/adapters/local/UserDefaultParameterPersistenceAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.local.UserDefaultParameterPersistenceAdapter');jQuery.sap.require('sap.ushell.services.Personalization');sap.ushell.adapters.local.UserDefaultParameterPersistenceAdapter=function(s,p,c){this._oConfig=c&&c.config;};sap.ushell.adapters.local.UserDefaultParameterPersistenceAdapter.prototype._getPersonalizationService=function(){return sap.ushell.Container.getService('Personalization');};sap.ushell.adapters.local.UserDefaultParameterPersistenceAdapter.prototype.saveParameterValue=function(p,v){var d=new jQuery.Deferred();if(!(typeof p==='string'&&p.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(p))){jQuery.sap.log.error(\"Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :\\\"\"+p+\"\\\"\");}this._getUDContainer().done(function(c){c.setItemValue(p,v);c.save().done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};sap.ushell.adapters.local.UserDefaultParameterPersistenceAdapter.prototype.deleteParameter=function(p,v){var d=new jQuery.Deferred();if(!(typeof p==='string'&&p.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(p))){jQuery.sap.log.error(\"Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :\\\"\"+p+\"\\\"\");}this._getUDContainer().done(function(c){c.delItem(p);c.save().done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};sap.ushell.adapters.local.UserDefaultParameterPersistenceAdapter.prototype.loadParameterValue=function(p){var d=new jQuery.Deferred();this._getUDContainer().done(function(c){var v=c.getItemValue(p);if(v){d.resolve(v);}else{d.reject('no value ');}}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};sap.ushell.adapters.local.UserDefaultParameterPersistenceAdapter.prototype.getStoredParameterNames=function(){var d=new jQuery.Deferred();this._getUDContainer().done(function(c){var v=c.getItemKeys();d.resolve(v);}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};sap.ushell.adapters.local.UserDefaultParameterPersistenceAdapter.prototype._getUDContainer=function(){var p=this._getPersonalizationService();if(this._oPromise){return this._oPromise;}this._oPromise=p.getContainer('sap.ushell.UserDefaultParameter',{keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true});return this._oPromise;};}());\n",
	"sap/ushell/adapters/local/UserInfoAdapter.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.adapters.local.UserInfoAdapter');jQuery.sap.require('sap.ui.thirdparty.datajs');sap.ushell.adapters.local.UserInfoAdapter=function(u,p,a){var U;function g(A){var d=[{id:'sap_bluecrystal',name:'sap_bluecrystal'}],e=jQuery.sap.getObject('config.themes',undefined,A);return e===undefined?d:e;}this.updateUserPreferences=function(o){var d=new jQuery.Deferred();jQuery.sap.log.info('updateUserPreferences: '+o);d.resolve({status:200});return d.promise();};this.getThemeList=function(){var d=new jQuery.Deferred();jQuery.sap.log.info('getThemeList');if(U===undefined){U=g(a);}if(U.length===0){d.reject('no themes were configured');}else{d.resolve({options:U});}return d.promise();};};}());\n",
	"sap/ushell/components/container/ApplicationContainer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';var p='sap.ushell.components.container.',c=p+'ApplicationContainer',d='sap.ushell.Container.dirtyState.',l,r,f=true;jQuery.sap.declare('sap.ushell.components.container.ApplicationContainer');jQuery.sap.require('sap.ushell.utils');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.UIComponent');jQuery.sap.require('sap.m.MessagePopover');function a(T){var C=sap.ushell.Container.getService('CrossApplicationNavigation');C.isUrlSupported(T.url).done(function(){T.promise.resolve({'allowed':true,'id':T.id});}).fail(function(){T.promise.resolve({'allowed':false,'id':T.id});});}l=new sap.ushell.utils.Map();sap.ushell.components.container.ApplicationType={URL:'URL',WDA:'WDA',NWBC:'NWBC',TR:'TR'};function g(C){return l.get(C.getId());}function b(U){var P=jQuery.sap.getUriParameters(U).mParams,e=P['sap-xapp-state'],R;delete P['sap-xapp-state'];R={startupParameters:P};if(e){R['sap-xapp-state']=e;}return R;}function h(K,e){if(!r){r=jQuery.sap.resources({url:jQuery.sap.getModulePath(p)+'/resources/resources.properties',language:sap.ui.getCore().getConfiguration().getLanguage()});}return r.getText(K,e);}function i(){return new sap.ui.core.Icon({size:'2rem',src:'sap-icon://error',tooltip:sap.ushell.components.container.ApplicationContainer.prototype._getTranslatedText('an_error_has_occured')});}function j(C){var e=C.getAggregation('child'),B;if(e instanceof sap.ui.core.ComponentContainer){B=e.getComponentInstance().getMetadata().getName().replace(/\\.Component$/,'');jQuery.sap.log.debug('unloading component '+B,null,c);}C.destroyAggregation('child');}function k(C,U,e){var B,D,I,L,M,E,N,V={},F,G;I=U.indexOf('?');if(I>=0){E=sap.ushell.components.container.ApplicationContainer.prototype._getParameterMap(U);V=E.startupParameters;U=U.slice(0,I);}if(U.slice(-1)!=='/'){U+='/';}if(/\\.view\\.(\\w+)$/i.test(e)){M=/^SAPUI5=(?:([^\\/]+)\\/)?([^\\/]+)\\.view\\.(\\w+)$/i.exec(e);if(!M){jQuery.sap.log.error('Invalid SAPUI5 URL',e,c);return sap.ushell.components.container.ApplicationContainer.prototype._createErrorControl();}N=M[1];F=M[2];G=M[3].toUpperCase();if(N){F=N+'.'+F;}else{L=F.lastIndexOf('.');if(L<1){jQuery.sap.log.error('Missing namespace',e,c);return sap.ushell.components.container.ApplicationContainer.prototype._createErrorControl();}N=F.slice(0,L);}}else{N=e.replace(/^SAPUI5=/,'');}jQuery.sap.registerModulePath(N,U+N.replace(/\\./g,'/'));sap.ushell.components.container.ApplicationContainer.prototype._destroyChild(C);if(F){if(C.getApplicationConfiguration()){V.config=C.getApplicationConfiguration();}D=sap.ui.view({id:C.getId()+'-content',type:G,viewData:V||{},viewName:F});C.fireEvent('applicationConfiguration');}else{jQuery.sap.log.debug('loading component '+N,null,c);var H=E?{startupParameters:E.startupParameters}:{startupParameters:{}};if(E&&E['sap-xapp-state']){H['sap-xapp-state']=E['sap-xapp-state'];}if(C.getApplicationConfiguration()){H.config=C.getApplicationConfiguration();}B=sap.ui.component({id:C.getId()+'-component',componentData:H,name:N});C.fireEvent('applicationConfiguration',{'configuration':B.getMetadata().getConfig()});D=new sap.ui.core.ComponentContainer({id:C.getId()+'-content',component:B});}D.setWidth(C.getWidth());D.setHeight(C.getHeight());D.addStyleClass('sapUShellApplicationContainer');C.setAggregation('child',D,true);return D;}function m(e,D){setTimeout(function(){sap.ui.getCore().getEventBus().publish('sap.ushell.components.container.ApplicationContainer',e,D);},0);}function n(C,U,e){var I,B,D,E,F={startupParameters:{}},G,H=C.getComponentHandle(),P=sap.ushell.Container.getService('PluginManager'),J,K;sap.ushell.utils.addTime('createUi5Component');I=U.indexOf('?');if(I>=0){E=sap.ushell.components.container.ApplicationContainer.prototype._getParameterMap(U);F={startupParameters:E.startupParameters};if(E['sap-xapp-state']){F['sap-xapp-state']=E['sap-xapp-state'];}U=U.slice(0,I);}if(C.getApplicationConfiguration()){F.config=C.getApplicationConfiguration();}if(U.slice(-1)!=='/'){U+='/';}jQuery.sap.registerModulePath(e,U);jQuery.sap.require('sap.ushell.services.CrossApplicationNavigation');sap.ushell.components.container.ApplicationContainer.prototype._destroyChild(C);G={id:C.getId()+'-component',name:e,componentData:F};jQuery.sap.log.debug('Creating component instance for '+e,JSON.stringify(G),c);sap.ui.getCore().getEventBus().publish('sap.ushell.components.container.ApplicationContainer','_prior.newUI5ComponentInstantion',{name:e});if(H){B=H.getInstance(G);}else{jQuery.sap.log.error(\"No component handle available for '\"+e+\"'; fallback to component.load()\",null,c);B=sap.ui.component({id:C.getId()+'-component',name:e,componentData:F});}C.fireEvent('applicationConfiguration',{'configuration':B.getMetadata().getConfig()});D=new sap.ui.core.ComponentContainer({id:C.getId()+'-content',component:B});if(B.navigationRedirect){var N=B.navigationRedirect();if(N){D.setVisible(false);N.done(function(L){sap.ushell.Container.getService('ShellNavigation').toExternal({target:{shellHash:L}},undefined,false);}).fail(function(){D.setVisible(true);});}}D.setHeight(C.getHeight());D.setWidth(C.getWidth());D.addStyleClass('sapUShellApplicationContainer');C._disableRouterEventHandler=sap.ushell.components.container.ApplicationContainer.prototype._disableRouter.bind(this,B);sap.ui.getCore().getEventBus().subscribe('sap.ushell.components.container.ApplicationContainer','_prior.newUI5ComponentInstantion',C._disableRouterEventHandler);C.setAggregation('child',D,true);if(P){J=P.getPluginLoadingPromise('RendererExtensions');K=J&&J.state();if(K==='pending'){J.done(function(){sap.ushell.components.container.ApplicationContainer.prototype._publishExternalEvent('componentCreated',{component:B});}).fail(function(){sap.ushell.components.container.ApplicationContainer.prototype._publishExternalEvent('componentCreated',{component:B});});}if(K==='resolved'||K==='rejected'){sap.ushell.components.container.ApplicationContainer.prototype._publishExternalEvent('componentCreated',{component:B});}}sap.ushell.components.container.ApplicationContainer.prototype._publishExternalEvent('componentCreated',{component:B});return D;}function o(C){var e;if((C instanceof sap.ui.core.Component)&&(typeof C.getRouter==='function')){e=C.getRouter();if(e&&(typeof e.stop==='function')){jQuery.sap.log.info('router stopped for instance '+C.getId());e.stop();}}}function q(U){var e=document.createElement('a'),C=jQuery.sap.getUriParameters(U).get('sap-client'),B;e.href=U;B=e.protocol+'//'+e.host;return new sap.ushell.System({alias:C?B+'?sap-client='+C:B,baseUrl:B,client:C||undefined,platform:'abap'});}function s(C,M){var T=false,D=C.getDomRef(),e=C.getApplicationType(),U,O;if(D){if(sap.ushell.utils.isApplicationTypeNWBCRelated(e)){U=URI(D.src);O=U.protocol()+'://'+U.host();T=(M.source===D.contentWindow)||(M.origin===O);}else if(e===sap.ushell.components.container.ApplicationType.URL){U=URI();O=U.protocol()+'://'+U.host();T=(M.origin===O);}}return T;}function t(C,M,e){var P=jQuery.sap.getObject('sap-ushell-config.services.PostMessage.config',0),S=e&&e.service,B;if(e.type!=='request'||!S||(S.indexOf('sap.ushell.services.CrossApplicationNavigation')!==0&&S.indexOf('sap.ushell.ui5service.ShellUIService')!==0&&S.indexOf('sap.ushell.services.ShellUIService')!==0)){return;}B=S.split('.')[3];if(P&&P.enabled===false){jQuery.sap.log.warning('Received message for '+B+', but this '+'feature is disabled. It can be enabled via launchpad configuration '+\"property 'services.PostMessage.config.enabled: true'\",undefined,'sap.ushell.components.container.ApplicationContainer');return;}if(!sap.ushell.components.container.ApplicationContainer.prototype._isTrustedPostMessageSource(C,M)){jQuery.sap.log.warning('Received message from untrusted origin: '+M.origin,M.data,'sap.ushell.components.container.ApplicationContainer');return;}function D(G,H){M.source.postMessage(JSON.stringify({type:'response',service:e.service,request_id:e.request_id,status:G,body:H}),M.origin);}function E(B){switch(B){case'sap.ushell.services.CrossApplicationNavigation.hrefForExternal':return new jQuery.Deferred().resolve(sap.ushell.Container.getService('CrossApplicationNavigation').hrefForExternal(e.body.oArgs)).promise();case'sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks':return sap.ushell.Container.getService('CrossApplicationNavigation').getSemanticObjectLinks(e.body.sSemanticObject,e.body.mParameters,e.body.bIgnoreFormFactors,undefined,undefined,e.body.bCompactIntents);case'sap.ushell.services.CrossApplicationNavigation.isIntentSupported':return sap.ushell.Container.getService('CrossApplicationNavigation').isIntentSupported(e.body.aIntents);case'sap.ushell.services.CrossApplicationNavigation.isNavigationSupported':return sap.ushell.Container.getService('CrossApplicationNavigation').isNavigationSupported(e.body.aIntents);case'sap.ushell.services.CrossApplicationNavigation.toExternal':return new jQuery.Deferred().resolve(sap.ushell.Container.getService('CrossApplicationNavigation').toExternal(e.body.oArgs)).promise();case'sap.ushell.services.CrossApplicationNavigation.getAppStateData':return sap.ushell.Container.getService('CrossApplicationNavigation').getAppStateData(e.body.sAppStateKey);case'sap.ushell.ui5service.ShellUIService.setTitle':return new jQuery.Deferred().resolve(C.getShellUIService().setTitle(e.body.sTitle)).promise();case'sap.ushell.services.ShellUIService.setTitle':return new jQuery.Deferred().resolve(C.getShellUIService().setTitle(e.body.sTitle)).promise();default:return undefined;}}try{E(e.service).done(function(R){D('success',{result:R});}).fail(function(G){D('error',{message:G});});}catch(F){D('error',{message:F.message});}}function u(C,M){var B=M.data;if(typeof B==='string'){try{B=JSON.parse(M.data);}catch(e){jQuery.sap.log.debug(\"Message received from origin '\"+M.origin+\"' cannot be parsed: \"+e,B,'sap.ushell.components.container.ApplicationContainer');return;}}if(B.action==='pro54_setGlobalDirty'&&localStorage.getItem(C.globalDirtyStorageKey)===sap.ushell.Container.DirtyState.PENDING){if(!sap.ushell.components.container.ApplicationContainer.prototype._isTrustedPostMessageSource(C,M)){jQuery.sap.log.warning('Received message from untrusted origin: '+M.origin,B,'sap.ushell.components.container.ApplicationContainer');return;}jQuery.sap.log.debug('getGlobalDirty() pro54_setGlobalDirty SetItem key:'+C.globalDirtyStorageKey+' value: '+B.parameters.globalDirty,null,'sap.ushell.components.container.ApplicationContainer');sap.ushell.utils.localStorageSetItem(C.globalDirtyStorageKey,B.parameters.globalDirty,true);}else{sap.ushell.components.container.ApplicationContainer.prototype._handleServiceMessageEvent(C,M,B);}}function v(C,e){var I=C.getDomRef(),B=C.getApplicationType();if(sap.ushell.utils.isApplicationTypeNWBCRelated(C.getApplicationType(B))&&I&&I.tagName==='IFRAME'){I.contentWindow.postMessage(JSON.stringify({action:'pro54_disableDirtyHandler'}),'*');e.preventDefault();}}function w(R,C,e){R.write('<div').writeControlData(C).writeAccessibilityState(C).addClass('sapUShellApplicationContainer').writeClasses(C).addStyle('height',C.getHeight()).addStyle('width',C.getWidth()).writeStyles().write('>').renderControl(e);R.write('</div>');}function x(U,B){var T,C=function(){var e=sap.ushell.utils.getParameterValueBoolean('sap-accessibility');if(e!==undefined){return e;}return sap.ushell.Container.getUser().getAccessibilityMode();},V,D=function(){try{var V=sap.ui.getVersionInfo().version,M=/\\d+\\.\\d+\\.\\d+/.exec(V);if(M&&M[0]){V=M[0];}}catch(e){jQuery.sap.log.error('sap ui version could not be determined '+e);V='';}return V;};U+=U.indexOf('?')>=0?'&':'?';U+='sap-ie=edge';T=sap.ushell.Container.getUser().getTheme(sap.ushell.User.prototype.constants.themeFormat.NWBC);if(T){U+=U.indexOf('?')>=0?'&':'?';U+='sap-theme='+encodeURIComponent(T);}if(C()){U+=U.indexOf('?')>=0?'&':'?';U+='sap-accessibility=X';}if(B==='TR'){return U;}V=D();if(V){U+=U.indexOf('?')>=0?'&':'?';U+='sap-shell='+encodeURIComponent('FLP'+V+'-NWBC');}return U;}function y(R,C,U,e){var B=C.getAggregation('child');if(!B||C._bRecreateChild){B=sap.ushell.components.container.ApplicationContainer.prototype._createUi5Component(C,U,e);C._bRecreateChild=false;}sap.ushell.components.container.ApplicationContainer.prototype._renderControlInDiv(R,C,B);}function z(C,K,V){var O=C.getProperty(K);if(jQuery.sap.equal(O,V)){return;}C.setProperty(K,V);C._bRecreateChild=true;}function A(R,C,e,U,B){var L;localStorage.removeItem(C.globalDirtyStorageKey);if(B&&B.indexOf('SAPUI5.Component=')===0&&e===sap.ushell.components.container.ApplicationType.URL){y(R,C,U,B.replace(/^SAPUI5\\.Component=/,''));return;}if(B&&B.indexOf('SAPUI5=')===0&&e===sap.ushell.components.container.ApplicationType.URL){sap.ushell.components.container.ApplicationContainer.prototype._renderControlInDiv(R,C,sap.ushell.components.container.ApplicationContainer.prototype._createUi5View(C,U,B));return;}jQuery.sap.log.debug(\"Not resolved as \\\"SAPUI5.Component=\\\" or \\\"SAPUI5=\\\" , \"+'will attempt to load into iframe '+B);try{U=C.getFrameSource(e,U,B);}catch(D){jQuery.sap.log.error(D.message||D,null,c);C.fireEvent('applicationConfiguration');R.renderControl(sap.ushell.components.container.ApplicationContainer.prototype._createErrorControl());return;}if(sap.ushell.Container){L=sap.ushell.components.container.ApplicationContainer.prototype._getLogoutHandler(C);if(!L){if(sap.ushell.utils.isApplicationTypeNWBCRelated(e)){L=sap.ushell.components.container.ApplicationContainer.prototype._logout.bind(null,C);l.put(C.getId(),L);sap.ushell.Container.attachLogoutEvent(L);sap.ushell.Container.addRemoteSystem(sap.ushell.components.container.ApplicationContainer.prototype._createSystemForUrl(U));}}else{if(!sap.ushell.utils.isApplicationTypeNWBCRelated(e)){sap.ushell.Container.detachLogoutEvent(L);l.remove(C.getId());}}}if(sap.ushell.utils.isApplicationTypeNWBCRelated(e)){U=sap.ushell.components.container.ApplicationContainer.prototype._adjustNwbcUrl(U,e);sap.ushell.utils.localStorageSetItem(C.globalDirtyStorageKey,sap.ushell.Container.DirtyState.INITIAL);}C.fireEvent('applicationConfiguration');R.write('<iframe').writeControlData(C).writeAccessibilityState(C).writeAttributeEscaped('src',U).addClass('sapUShellApplicationContainer').writeClasses(C).addStyle('height',C.getHeight()).addStyle('width',C.getWidth()).writeStyles().write('></iframe>');}sap.ui.core.Control.extend(c,{metadata:{properties:{additionalInformation:{defaultValue:'',type:'string'},application:{type:'object'},applicationConfiguration:{type:'object'},applicationType:{defaultValue:'URL',type:p+'ApplicationType'},height:{defaultValue:'100%',type:'sap.ui.core.CSSSize'},navigationMode:{defaultValue:'',type:'string'},text:{defaultValue:'',type:'string'},url:{defaultValue:'',type:'string'},visible:{defaultValue:true,type:'boolean'},'sap-system':{defaultValue:undefined,type:'string'},applicationDependencies:{type:'object'},componentHandle:{type:'object'},ui5ComponentName:{type:'string'},width:{defaultValue:'100%',type:'sap.ui.core.CSSSize'},shellUIService:{type:'object'}},events:{'applicationConfiguration':{}},aggregations:{child:{multiple:false,type:'sap.ui.core.Control',visibility:'hidden'}},library:'sap.ushell'},exit:function(){var L,e=this;if(sap.ushell.Container){L=sap.ushell.components.container.ApplicationContainer.prototype._getLogoutHandler(e);if(L){sap.ushell.Container.detachLogoutEvent(L);l.remove(e.getId());}}localStorage.removeItem(e.globalDirtyStorageKey);if(e._unloadEventListener){removeEventListener('unload',e._unloadEventListener);}if(e._disableRouterEventHandler){sap.ui.getCore().getEventBus().unsubscribe('sap.ushell.components.container.ApplicationContainer','_prior.newUI5ComponentInstantion',e._disableRouterEventHandler);}if(e._storageEventListener){removeEventListener('storage',e._storageEventListener);}if(e._messageEventListener){removeEventListener('message',e._messageEventListener);}sap.ushell.components.container.ApplicationContainer.prototype._destroyChild(e);if(sap.ui.core.Control.exit){sap.ui.core.Control.exit.apply(e);}},init:function(){var e=this;e.globalDirtyStorageKey=d+jQuery.sap.uid();e._unloadEventListener=e.exit.bind(e);addEventListener('unload',e._unloadEventListener);e._storageEventListener=function(S){var B=e.getApplicationType();if(S.key===e.globalDirtyStorageKey&&S.newValue===sap.ushell.Container.DirtyState.PENDING&&sap.ushell.utils.isApplicationTypeNWBCRelated(B)){var I=e.getDomRef();if(I&&I.tagName==='IFRAME'){jQuery.sap.log.debug('getGlobalDirty() send pro54_getGlobalDirty ',null,'sap.ushell.components.container.ApplicationContainer');I.contentWindow.postMessage(JSON.stringify({action:'pro54_getGlobalDirty'}),'*');}}};addEventListener('storage',e._storageEventListener);e._messageEventListener=sap.ushell.components.container.ApplicationContainer.prototype._handleMessageEvent.bind(null,e);addEventListener('message',e._messageEventListener);if(f){var M={'asyncURLHandler':sap.ushell.components.container.ApplicationContainer.prototype._adaptIsUrlSupportedResultForMessagePopover};if(sap.m.MessagePopover&&sap.m.MessagePopover.setDefaultHandlers){sap.m.MessagePopover.setDefaultHandlers(M);}f=false;}},renderer:function(R,C){var e=C.getApplication(),L=C.launchpadData,B;if(!C.getVisible()){sap.ushell.components.container.ApplicationContainer.prototype._renderControlInDiv(R,C);return;}if(C.error){delete C.error;sap.ushell.components.container.ApplicationContainer.prototype._renderControlInDiv(R,C,sap.ushell.components.container.ApplicationContainer.prototype._createErrorControl());}else if(!e){sap.ushell.components.container.ApplicationContainer.prototype._render(R,C,C.getApplicationType(),C.getUrl(),C.getAdditionalInformation());}else if(!e.isResolvable()){sap.ushell.components.container.ApplicationContainer.prototype._render(R,C,e.getType(),e.getUrl(),'');}else if(L){sap.ushell.components.container.ApplicationContainer.prototype._render(R,C,L.applicationType,L.Absolute.url.replace(/\\?$/,''),L.applicationData);}else{jQuery.sap.log.debug('Resolving '+e.getUrl(),null,c);e.resolve(function(D){jQuery.sap.log.debug('Resolved '+e.getUrl(),JSON.stringify(D),c);C.launchpadData=D;sap.ushell.components.container.ApplicationContainer.prototype._destroyChild(C);},function(E){var D=e.getMenu().getDefaultErrorHandler();if(D){D(E);}sap.ushell.components.container.ApplicationContainer.prototype._destroyChild(C);C.error=E;});B=new sap.m.Text({text:sap.ushell.components.container.ApplicationContainer.prototype._getTranslatedText('loading',[e.getText()])});sap.ushell.components.container.ApplicationContainer.prototype._destroyChild(C);C.setAggregation('child',B);sap.ushell.components.container.ApplicationContainer.prototype._renderControlInDiv(R,C,B);}}});sap.ushell.components.container.ApplicationContainer.prototype.getFrameSource=function(e,U,B){if(!Object.prototype.hasOwnProperty.call(sap.ushell.components.container.ApplicationType,e)){throw new Error('Illegal application type: '+e);}return U;};sap.ushell.components.container.ApplicationContainer.prototype.setUrl=function(V){z(this,'url',V);};sap.ushell.components.container.ApplicationContainer.prototype.setAdditionalInformation=function(V){z(this,'additionalInformation',V);};sap.ushell.components.container.ApplicationContainer.prototype.setApplicationType=function(V){z(this,'applicationType',V);};sap.ushell.components.container.ApplicationContainer.prototype._adaptIsUrlSupportedResultForMessagePopover=a;sap.ushell.components.container.ApplicationContainer.prototype._getLogoutHandler=g;sap.ushell.components.container.ApplicationContainer.prototype._getParameterMap=b;sap.ushell.components.container.ApplicationContainer.prototype._getTranslatedText=h;sap.ushell.components.container.ApplicationContainer.prototype._createErrorControl=i;sap.ushell.components.container.ApplicationContainer.prototype._destroyChild=j;sap.ushell.components.container.ApplicationContainer.prototype._createUi5View=k;sap.ushell.components.container.ApplicationContainer.prototype._publishExternalEvent=m;sap.ushell.components.container.ApplicationContainer.prototype._createUi5Component=n;sap.ushell.components.container.ApplicationContainer.prototype._disableRouter=o;sap.ushell.components.container.ApplicationContainer.prototype._createSystemForUrl=q;sap.ushell.components.container.ApplicationContainer.prototype._isTrustedPostMessageSource=s;sap.ushell.components.container.ApplicationContainer.prototype._handleServiceMessageEvent=t;sap.ushell.components.container.ApplicationContainer.prototype._handleMessageEvent=u;sap.ushell.components.container.ApplicationContainer.prototype._logout=v;sap.ushell.components.container.ApplicationContainer.prototype._renderControlInDiv=w;sap.ushell.components.container.ApplicationContainer.prototype._adjustNwbcUrl=x;sap.ushell.components.container.ApplicationContainer.prototype._render=A;}());\n",
	"sap/ushell/components/factsheet/Component.js":"jQuery.sap.declare('sap.ushell.components.factsheet.Component');jQuery.sap.require('sap.ui.core.UIComponent');sap.ui.core.UIComponent.extend('sap.ushell.components.factsheet.Component',{oMainView:null,metadata:{version:'1.38.26',library:'sap.ushell.components.factsheet',includes:['css/custom.css'],dependencies:{libs:['sap.m','sap.ui.vbm','sap.suite.ui.commons','sap.ui.layout','sap.viz'],components:[]}},createContent:function(){var c=this.getComponentData();var s=(c&&c.startupParameters)||{};this.oMainView=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.components.factsheet.views.ThingViewer',viewData:s,height:'100%'}).addStyleClass('ThingViewer');return this.oMainView;},exit:function(){window.console.log('On Exit of factsheet Component.js called : this.getView().getId()'+this.getId());},onExit:function(){window.console.log('On Exit of factsheet Component.js called : this.getView().getId()'+this.getId());}});jQuery.sap.setObject('factsheet.Component',sap.ushell.components.factsheet.Component);\n",
	"sap/ushell/components/factsheet/annotation/Mapping.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.components.factsheet.annotation.Mapping');sap.ushell.components.factsheet.annotation.Mapping={};sap.ushell.components.factsheet.annotation.Mapping.initialized=[];sap.ushell.components.factsheet.annotation.Mapping.parse=function(m,a){var x={},g,b,s,c,d,r,e,f,h,n,o,A,q={},t,u,S={},i,v,w={},y={},z='',B,C,D,E,F,G,H,T,I,J,K,M,L,j,N,O,P,Q,R,U,V,W,X,Y,Z,$,_,a1,b1,c1,d1,e1,f1;if(sap.ui.Device.browser.internet_explorer){x={setNameSpace:function(k){k.setProperty('SelectionNamespaces','xmlns:edmx=\"http://docs.oasis-open.org/odata/ns/edmx\" xmlns:d=\"http://docs.oasis-open.org/odata/ns/edm\"');k.setProperty('SelectionLanguage','XPath');return k;},selectNodes:function(k,x,l){return l.selectNodes(x);},nextNode:function(k){return k.nextNode();},getNodeText:function(k){return k.text;}};}else{x={setNameSpace:function(k){return k;},nsResolver:function(p){var k={'edmx':'http://docs.oasis-open.org/odata/ns/edmx','d':'http://docs.oasis-open.org/odata/ns/edm'};return k[p]||null;},selectNodes:function(k,p,l){var g1=k.evaluate(p,l,this.nsResolver,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);g1.length=g1.snapshotLength;return g1;},nextNode:function(k,l){return k.snapshotItem(l);},getNodeText:function(k){return k.textContent;}};}g=function(k){var l;if(sap.ui.Device.browser.internet_explorer){l=new ActiveXObject('Microsoft.XMLHTTP');l.open('GET',k,false);l.send(null);return l.responseXML;}else{l=jQuery.sap.sjax({url:k,dataType:'xml'});if(l.success){return l.data;}}};b=function(m){var g1={},h1={},i1={},j1=false,i,k1,l1,m1,n1={},j,o1={},p1={},q1=false,r1,l,k,s1,t1,u1,v1,p,w1;for(i=m.dataServices.schema.length-1;i>=0;i-=1){g1=m.dataServices.schema[i];if(g1.entityType){k1=g1.namespace;l1=g1.entityType;m1=g1.complexType;for(j in l1){if(l1.hasOwnProperty(j)){n1=l1[j];p1={};if(n1.hasStream&&n1.hasStream==='true'){continue;}o1={};for(k in n1.property){r1=n1.property[k];if(r1.type.substring(0,k1.length)===k1){for(l in m1){if(m1[l].name===r1.type.substring(k1.length+1)){for(k in m1[l].property){s1=m1[l].property[k];o1[m1[l].name+'/'+s1.name]=s1.type;}}}}else{t1=r1.name;u1=r1.type;for(p in r1.extensions){v1=r1.extensions[p];if((v1.name==='display-format')&&(v1.value==='Date')){u1='Edm.Date';}else{q1=true;if(!p1[t1]){p1[t1]={};}if(v1.namespace&&!p1[t1][v1.namespace]){p1[t1][v1.namespace]={};}p1[t1][v1.namespace][v1.name]=v1.value;}}o1[t1]=u1;}}if(!h1[k1+'.'+n1.name]){h1[k1+'.'+n1.name]={};}h1[k1+'.'+n1.name]=o1;if(q1){if(!i1[k1+'.'+n1.name]){j1=true;}i1[k1+'.'+n1.name]={};i1[k1+'.'+n1.name]=p1;}}}}}if(j1){w1={types:h1,extensions:i1};}else{w1={types:h1};}return w1;};s=function(p,k,l,S){var g1,h1,i1='';for(g1 in p){if(p.hasOwnProperty(g1)){if(p[g1]){h1=p[g1];if(h1.Value&&h1.Value.Path){i1=c(h1.Value.Path,k,l,S);if(i1){p[g1].EdmType=i1;}continue;}if(h1.Path){i1=c(h1.Path,k,l,S);if(i1){p[g1].EdmType=i1;}continue;}if(h1.Facets){p[g1].Facets=s(h1.Facets,k,l,S);continue;}if(h1.Data){p[g1].Data=s(h1.Data,k,l,S);continue;}if(g1==='Data'){p.Data=s(h1,k,l,S);continue;}if(h1.Value&&h1.Value.Apply){p[g1].Value.Apply.Parameters=s(h1.Value.Apply.Parameters,k,l,S);continue;}if(h1.Value&&h1.Type&&(h1.Type==='Path')){i1=c(h1.Value,k,l,S);if(i1){p[g1].EdmType=i1;}}}}}return p;};c=function(p,k,l,S){var g1;if((p.charAt(0)==='@')&&(p.indexOf(S.Alias)===1)){p=p.slice(S.Alias.length+2);}if(p.indexOf('/')>=0){if(k[p.slice(0,p.indexOf('/'))]){l=p.slice(0,p.indexOf('/'));p=p.slice(p.indexOf('/')+1);}}for(g1 in k[l]){if(k[l].hasOwnProperty(g1)){if(p===g1){return k[l][g1];}}}};d=function(k){var l='',p='',i,g1={};for(i=0;i<k.attributes.length;i+=1){if((k.attributes[i].name!=='Property')&&(k.attributes[i].name!=='Term')){l=k.attributes[i].name;p=k.attributes[i].value;}}if(l.length>0){g1[l]=r(p);}return g1;};e=function(t,k){var l={},p,g1,h1,i1,j1,k1;if(k.hasChildNodes()){p=x.selectNodes(t,'./d:String',k);if(p.length>0){g1=x.nextNode(p,0);l['String']=x.getNodeText(g1);}else{h1=x.selectNodes(t,'./d:Path',k);if(h1.length>0){i1=x.nextNode(h1,0);l['Path']=x.getNodeText(i1);}else{j1=x.selectNodes(t,'./d:Apply',k);if(j1.length>0){k1=x.nextNode(j1,0);l['Apply']=n(t,k1);}}}}return l;};f=function(t,k,l){var p={},g1,h1,I,i1,j1,k1,l1,m1,n1={},L,N,W,o1,p1;if(k.hasChildNodes()){g1=x.selectNodes(t,'./d:Record | ./d:Collection/d:Record | ./d:Collection/d:If/d:Record',k);if(g1.length){h1=0;for(I=0;I<g1.length;I+=1){i1=x.nextNode(g1,I);j1=h(t,i1,l);if(i1.getAttribute('Type')){j1['RecordType']=r(i1.getAttribute('Type'));}if(h1===0){if(i1.nextElementSibling||(i1.parentNode.nodeName==='Collection')||(i1.parentNode.nodeName==='If')){p=[];p.push(j1);}else{p=j1;}}else{p.push(j1);}h1+=1;}}else{k1=x.selectNodes(t,'./d:UrlRef',k);if(k1.length>0){for(I=0;I<k1.length;I+=1){l1=x.nextNode(k1,I);p['UrlRef']=e(t,l1);}}else{k1=x.selectNodes(t,'./d:Url',k);if(k1.length>0){for(I=0;I<k1.length;I+=1){l1=x.nextNode(k1,I);p['Url']=e(t,l1);}}else{p1=x.selectNodes(t,'./d:Collection/d:AnnotationPath | ./d:Collection/d:PropertyPath',k);if(p1.length>0){p=[];for(I=0;I<p1.length;I+=1){m1=x.nextNode(p1,I);n1={};n1[m1.nodeName]=x.getNodeText(m1);p.push(n1);}}else{p=d(k);L=x.selectNodes(t,'./d:Annotation',k);N={};for(W=0;W<L.length;W+=1){N=x.nextNode(L,W);if(N.hasChildNodes()===false){o1=r(N.getAttribute('Term'));p[o1]=d(N);}}}}}}}else{p=d(k);}return p;};h=function(t,k,l){var p={},N={},L,W,g1,h1,I,i1,j1,k1,l1,m1;L=x.selectNodes(t,'./d:Annotation',k);for(W=0;W<L.length;W+=1){N=x.nextNode(L,W);if(N.hasChildNodes()===false){g1=r(N.getAttribute('Term'));p[g1]=d(N);}}h1=x.selectNodes(t,'./d:PropertyValue',k);if(h1.length>0){for(I=0;I<h1.length;I+=1){i1=x.nextNode(h1,I);j1=i1.getAttribute('Property');p[j1]=f(t,i1,l);k1=x.selectNodes(t,'./d:Apply',i1);l1=null;for(m1=0;m1<k1.length;m1+=1){l1=x.nextNode(k1,m1);if(l1){p[j1]={};p[j1]['Apply']=n(t,l1);}}}}else{p=f(t,k,l);}return p;};n=function(t,k){var l={},p,g1=null,h1=[],i;p=x.selectNodes(t,'./d:*',k);for(i=0;i<p.length;i+=1){g1=x.nextNode(p,i);switch(g1.nodeName){case'Apply':h1.push({'Type':'Apply','Value':n(t,g1)});break;case'LabeledElement':h1.push({'Name':g1.getAttribute('Name'),'Value':e(t,g1)});break;default:h1.push({'Type':g1.nodeName,'Value':x.getNodeText(g1)});break;}}l['Name']=k.getAttribute('Function');l['Parameters']=h1;return l;};o=function(l,p,g1){var h1,i,i1,j1,j,k;for(i=m.dataServices.schema.length-1;i>=0;i-=1){h1=m.dataServices.schema[i];if(h1.entityType){i1=h1.namespace+'.';j1=h1.entityType;for(k=j1.length-1;k>=0;k-=1){if(i1+j1[k].name===l&&j1[k].navigationProperty){for(j=0;j<j1[k].navigationProperty.length;j+=1){if(j1[k].navigationProperty[j].name===p){return true;}}}}}}return false;};r=function(k){for(A in w){if(w.hasOwnProperty(A)){if(k.indexOf(A+'.')>=0){k=k.replace(A+'.',w[A]+'.');return k;}}}return k;};if(this.initialized[a]){return this.initialized[a];}t=g(a);t=x.setNameSpace(t);u=x.selectNodes(t,'//d:Schema',t);for(i=0;i<u.length;i+=1){v=x.nextNode(u,i);S.Alias=v.getAttribute('Alias');S.Namespace=v.getAttribute('Namespace');}B=x.selectNodes(t,'//edmx:Reference',t);for(i=0;i<B.length;i+=1){C=x.nextNode(B,i);D=x.selectNodes(t,'./edmx:Include',C);if(D&&D.length>0){E=x.nextNode(D,0);if(E.getAttribute('Alias')){w[E.getAttribute('Alias')]=E.getAttribute('Namespace');}else{w[E.getAttribute('Namespace')]=E.getAttribute('Namespace');}}F=x.selectNodes(t,'./edmx:IncludeAnnotations',C);if(F.length>0){for(j=0;j<F.length;j+=1){G=x.nextNode(F,j);if(G.getAttribute('TargetNamespace')){z=G.getAttribute('TargetNamespace');if(!y[z]){y[z]={};}y[z][G.getAttribute('TermNamespace')]=C.getAttribute('Uri');}else{y[G.getAttribute('TermNamespace')]=C.getAttribute('Uri');}}}}if(y){q.annotationReferences=y;}q.aliasDefinitions=w;H=x.selectNodes(t,'//d:Term',t);if(H.length>0){T={};for(I=0;I<H.length;I+=1){J=x.nextNode(H,I);K=r(J.getAttribute('Type'));T['@'+S.Alias+'.'+J.getAttribute('Name')]=K;}q.termDefinitions=T;}M=b(m);if(M.extensions){q.propertyExtensions=M.extensions;}L=x.selectNodes(t,'//d:Annotations ',t);for(I=0;I<L.length;I+=1){N=x.nextNode(L,I);if(N.hasChildNodes()===false){continue;}O=N.getAttribute('Target');P=O.split('.')[0];if(P&&w[P]){O=O.replace(new RegExp(P,''),w[P]);}Q=O;R=null;if(O.indexOf('/')>0){Q=O.split('/')[0];R=O.replace(Q+'/','');}if(!q[Q]){q[Q]={};}if(R){if(!q.propertyAnnotations){q.propertyAnnotations={};}if(!q.propertyAnnotations[Q]){q.propertyAnnotations[Q]={};}q.propertyAnnotations[Q][R]={};U=x.selectNodes(t,'./d:Annotation',N);for(W=0;W<U.length;W+=1){V=x.nextNode(U,W);if(V.hasChildNodes()===false){X=r(V.getAttribute('Term'));q.propertyAnnotations[Q][R][X]=d(V);}}}else{Z=Q.replace(w[P],P);U=x.selectNodes(t,'./d:Annotation',N);for(Y=0;Y<U.length;Y+=1){V=x.nextNode(U,Y);$=V.getAttribute('Qualifier');_=r(V.getAttribute('Term'));if($){_+='#'+$;}a1=f(t,V,Z);a1=s(a1,M.types,Q,S);q[Q][_]=a1;}b1=x.selectNodes(t,\"//d:Annotations[contains(@Target, '\"+Z+\"')]//d:PropertyValue[contains(@Path, '/')]//@Path\",t);for(i=0;i<b1.length;i+=1){c1=x.nextNode(b1,i);d1=c1.value;if(q.propertyAnnotations){if(q.propertyAnnotations[Q]){if(q.propertyAnnotations[Q][d1]){continue;}}}e1=d1.split('/');if(o(Q,e1[0],m)){if(!q.expand){q.expand={};}if(!q.expand[Q]){q.expand[Q]={};}q.expand[Q][e1[0]]=e1[0];}}f1=x.selectNodes(t,\"//d:Annotations[contains(@Target, '\"+Z+\"')]//d:Path[contains(., '/')]\",t);for(i=0;i<f1.length;i+=1){c1=x.nextNode(f1,i);d1=x.getNodeText(c1);if(q.propertyAnnotations[Q]){if(q.propertyAnnotations[Q][d1]){continue;}}if(!q.expand){q.expand={};}if(!q.expand[Q]){q.expand[Q]={};}e1=d1.split('/');if(o(Q,e1[0],m)){if(!q.expand){q.expand={};}if(!q.expand[Q]){q.expand[Q]={};}q.expand[Q][e1[0]]=e1[0];}}}this.initialized[a]=q;}return q;};}());\n",
	"sap/ushell/components/factsheet/controls/PictureTile.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.components.factsheet.controls.PictureTile');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.m.CustomTile');sap.m.CustomTile.extend('sap.ushell.components.factsheet.controls.PictureTile',{metadata:{deprecated:true,library:'sap.ushell',properties:{'height':{type:'sap.ui.core.CSSSize',group:'Dimension',defaultValue:'32px'},'width':{type:'sap.ui.core.CSSSize',group:'Dimension',defaultValue:'32px'}},associations:{'tileContent':{type:'sap.ushell.components.factsheet.controls.PictureViewerItem',multiple:false}},events:{'pictureDelete':{}}}});sap.ushell.components.factsheet.controls.PictureTile.M_EVENTS={'pictureDelete':'pictureDelete'};\nsap.ushell.components.factsheet.controls.PictureTile.prototype.init=function(t){this._oDeletePictureButton=new sap.m.Button({icon:'sap-icon://sys-cancel',press:jQuery.proxy(this._deletePictureRequestHandler,this),type:sap.m.ButtonType.Transparent}).addStyleClass('sapCaUiPTDeleteButton');if(!sap.ui.Device.system.desktop){this.attachPress(this._tilePressedHandler);this.attachBrowserEvent('swipe',jQuery.proxy(this._tileSwipedHandler,this));this._oDeletePictureButton.addStyleClass('hide');}};\nsap.ushell.components.factsheet.controls.PictureTile.prototype.setTileContent=function(t){this.setContent(null);if(t){var i=t.getImage();this.setContent(i);}else{this.setContent(null);}this.setAssociation('tileContent',t);};\nsap.ushell.components.factsheet.controls.PictureTile.prototype.setSize=function(w,h){this._width=w;this._height=h;var $=this.$();if($){$.css({width:w+'px',height:h+'px'});jQuery.sap.byId(this.getId()+'-wrapper').addClass('sapCaUiPTWrapper');}};\nsap.ushell.components.factsheet.controls.PictureTile.prototype._tilePressedHandler=function(e){this.switchVisibility();};\nsap.ushell.components.factsheet.controls.PictureTile.prototype.switchVisibility=function(v){var $=this._oDeletePictureButton.$();if(v===undefined){$.toggleClass('hide');}else{$.toggleClass('hide',!v);}};\nsap.ushell.components.factsheet.controls.PictureTile.prototype._tileSwipedHandler=function(e){var $=this._oDeletePictureButton.$();if($&&!$.hasClass('hide')){$.addClass('hide');}};\nsap.ushell.components.factsheet.controls.PictureTile.prototype._deletePictureRequestHandler=function(){this.firePictureDelete();};\n",
	"sap/ushell/components/factsheet/controls/PictureTileRenderer.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n*/\njQuery.sap.declare('sap.ushell.components.factsheet.controls.PictureTileRenderer');jQuery.sap.require('sap.m.CustomTileRenderer');sap.ushell.components.factsheet.controls.PictureTileRenderer=sap.ui.core.Renderer.extend(sap.m.CustomTileRenderer);\nsap.ushell.components.factsheet.controls.PictureTileRenderer.render=function(r,c){jQuery.sap.log.debug('PictureTileRenderer :: begin rendering');r.write('<div ');r.writeControlData(c);r.addClass('sapCaUiPictureTile');r.writeClasses();r.write('>');r.write('<div');r.addClass('sapCaUiPictureTileContent');r.writeClasses();r.write('>');r.write(\"<div id='\"+c.getId()+\"-wrapper'>\");r.renderControl(c._oDeletePictureButton);this._renderContent(r,c);r.write('</div>');r.write('</div></div>');};\nsap.ushell.components.factsheet.controls.PictureTileRenderer._renderContent=function(r,t){r.renderControl(t.getContent());};\n",
	"sap/ushell/components/factsheet/controls/PictureViewer.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.components.factsheet.controls.PictureViewer');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.m.TileContainer');sap.m.TileContainer.extend('sap.ushell.components.factsheet.controls.PictureViewer',{metadata:{deprecated:true,library:'sap.ushell',properties:{'tileScaling':{type:'float',group:'Misc',defaultValue:0.95},'removable':{type:'boolean',group:'Misc',defaultValue:false}},defaultAggregation:'items',aggregations:{'items':{type:'sap.ushell.components.factsheet.controls.PictureViewerItem',multiple:true,singularName:'item'}},events:{'pictureDeleted':{}}}});sap.ushell.components.factsheet.controls.PictureViewer.M_EVENTS={'pictureDeleted':'pictureDeleted'};jQuery.sap.declare('sap.ushell.components.factsheet.controls.PictureViewer');jQuery.sap.require('sap.ui.core.ResizeHandler');jQuery.sap.require('sap.m.TileContainer');\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.init=function(){sap.m.TileContainer.prototype.init.apply(this);this.setEditable(false);if(sap.ui.getCore().isMobile()){jQuery(window).bind('tap',jQuery.proxy(this._reset,this));var s=sap.ui.getCore().getStaticAreaRef();this.$blocker=jQuery(\"<div class='sapCaPVBly sapUiBLy'></div>\").css('visibility','hidden');jQuery(s).append(this.$blocker);}if(!sap.ui.getCore().isMobile()){jQuery(window).bind('resize',jQuery.proxy(this._resize,this));}this.addStyleClass('sapCaPW');this.addStyleClass('sapCaPWRendering');};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype._resize=function(){if(this._oDragSession){return;}setTimeout(jQuery.proxy(function(){this._applyDimension();this._update(false);delete this._iInitialResizeTimeout;},this),this._iInitialResizeTimeout);this._iInitialResizeTimeout=0;};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.exit=function(){this.$blocker.remove();if(!sap.ui.getCore().isMobile()){jQuery(window).unbind('resize',jQuery.proxy(this._resize,this));}sap.m.TileContainer.prototype.exit.apply(this);if(!sap.ui.Device.system.desktop){jQuery(window).unbind('tap',jQuery.proxy(this._reset,this));}};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.setTileScaling=function(t){if(t<0||t>1){t=0.75;jQuery.sap.log.error('Tile Scaling should be a float value between 0 and 1 and not '+t+'. Setting it to 0.75 by default.');}this.setProperty('tileScaling',t);};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.addItem=function(i){this.insertItem(i,this.getItems().length);};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.insertItem=function(i,I){var t=new sap.ushell.components.factsheet.controls.PictureTile({tileContent:i});t.attachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this));this.insertTile(t,I);this.insertAggregation('items',i,I);return this;};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.insertTile=function(t,i){t.attachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this));sap.m.TileContainer.prototype.insertTile.apply(this,arguments);};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.deleteTile=function(t){sap.m.TileContainer.prototype.deleteTile.apply(this,arguments);t.destroy();};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.deletePicture=function(i){var p,a,n;n=this.getTiles().length;if(typeof i!='number'||i<0||i>=n){p=this.getPageFirstTileIndex();}else{p=i;}if(p>-1){a=this.getTiles()[p];a.detachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this));this.deleteTile(a);this.removeAggregation('items',p,true);}else{jQuery.sap.log.warning('Cannot find and delete a picture at index : '+i);}return this;};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.selectPicture=function(i){var n=this.getTiles().length;if(typeof i!='number'){i=0;}else if(i<0){i=0;}else if(i>=n){i=n-1;}if(this._bRendered){this.addStyleClass('sapCaPWRendering');}this._selectedIndex=i;return this;};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.setSelectedIndex=function(i){this.selectPicture(i);};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.getCurrentPictureIndex=function(){return this.getPageFirstTileIndex();};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype._deletePictureRequestHandler=function(e){var p=this.indexOfTile(e.getSource());this.deleteTile(e.getSource());this.firePictureDeleted({index:p});};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype._reset=function(e){var i=this.getCurrentPictureIndex();var t=this.getTiles();if(i>-1&&t&&t.length>i){var T=t[i];if(T){var $=jQuery(e.target);var a=this.$();if(a.length>0&&$.length>0){var b=$.closest(this.$());if(b.length===0){T.switchVisibility(false);}}}}};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.setRemovable=function(v){this.setProperty('removable',v,true);this.toggleStyleClass('sapCaPWEditable',v);};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.setEditable=function(v){sap.m.TileContainer.prototype.setEditable.call(this,false);};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype._getTileDimension=function(){if(!this._bRendered){return;}var $=jQuery.sap.byId(this.getId()+'-scrl');var t={width:$.width(),height:$.height()};return t;};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.onBeforeRendering=function(){this.addStyleClass('sapCaPWRendering');};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.onAfterRendering=function(){var t=this;this._bRendered=true;this._applyDimension();this.$().toggleClass('sapCaPWEditable',this.getRemovable()===true);this._sInitialResizeTimeoutId=setTimeout(function(){t.addStyleClass('sapCaPWRendering');t._applyPageStartIndex(t._selectedIndex);t._update(false);},this._iInitialResizeTimeout);if(sap.ui.Device.system.desktop){var f=this.getTiles()[0],T=this._iInitialResizeTimeout;if(!!f){setTimeout(jQuery.proxy(function(){this._findTile(f.$()).focus();},this),T);}}};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype._update=function(a){sap.m.TileContainer.prototype._update.apply(this,arguments);this.removeStyleClass('sapCaPWRendering');if(sap.ui.getCore().isMobile()){var t=this;var b=this.$blocker;setTimeout(jQuery.proxy(function(){b.fadeOut(200,function(){t.css('visibility','hidden').css('z-index',0);});},this),250);}};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype._applyDimension=function(){var d=this._getContainerDimension(),i=this.getId(),$=this.$(),t,o=10,T=60,c=jQuery.sap.byId(i+'-cnt'),a,b,p=jQuery.sap.byId(i+'-pager').outerHeight();jQuery.sap.byId(i+'-scrl').css({width:d.outerwidth+'px',height:(d.outerheight-p)+'px'});c.css({height:(d.outerheight-p)+'px',visibility:'visible'});$.css('visibility','visible');t=$.position();a=c.position();b=c.outerHeight();if(jQuery.device.is.phone){o=2;}else if(sap.ui.Device.system.desktop){o=0;}jQuery.sap.byId(i+'-blind').css({top:(a.top+o)+'px',left:(a.left+o)+'px',width:(c.outerWidth()-o)+'px',height:(b-o)+'px'});jQuery.sap.byId(i+'-rightedge').css({top:(t.top+o+T)+'px',right:o+'px',height:(b-o-T)+'px'});jQuery.sap.byId(i+'-leftedge').css({top:(t.top+o+T)+'px',left:(t.left+o)+'px',height:(b-o-T)+'px'});};\nsap.ushell.components.factsheet.controls.PictureViewer.prototype.showBlockerLayer=function(c){if(sap.ui.getCore().isMobile()){var a=20;jQuery(sap.ui.getCore().getStaticAreaRef()).children().each(function(i,v){var z=parseInt(jQuery(v).css('z-index'),10);if(!isNaN(z)){a=Math.max(a,z);}});jQuery.sap.log.debug('blocker layer z-index calculated : '+a+1);this.$blocker.css('z-index',a+1).css('visibility','visible').fadeIn(200,function(){if(c){c.call();}});}else{if(c){c.call();}}};\n",
	"sap/ushell/components/factsheet/controls/PictureViewerItem.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.components.factsheet.controls.PictureViewerItem');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.components.factsheet.controls.PictureViewerItem',{metadata:{deprecated:true,library:'sap.ushell',properties:{'src':{type:'string',group:'Misc',defaultValue:null}},aggregations:{'image':{type:'sap.m.Image',multiple:false}}}});\n/*!\n * @copyright@\n*/\n\nsap.ushell.components.factsheet.controls.PictureViewerItem.prototype.setSrc=function(s){this.setProperty('src',s);var i=this.getImage();if(i==null){i=new sap.m.Image();}i.setSrc(s);this.setImage(i);return this;};\nsap.ushell.components.factsheet.controls.PictureViewerItem.prototype.exit=function(){var i=this.getImage();if(i){i.destroy();}};\n",
	"sap/ushell/components/factsheet/controls/PictureViewerRenderer.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n*/\njQuery.sap.declare('sap.ushell.components.factsheet.controls.PictureViewerRenderer');jQuery.sap.require('sap.m.TileContainerRenderer');sap.ushell.components.factsheet.controls.PictureViewerRenderer={};\nsap.ushell.components.factsheet.controls.PictureViewerRenderer.render=function(r,c){jQuery.sap.log.debug('PictureViewerRenderer :: begin rendering');sap.m.TileContainerRenderer.render(r,c);jQuery.sap.log.debug('PictureViewerRenderer :: end rendering');};\n",
	"sap/ushell/components/factsheet/factory/ThingInspector.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.components.factsheet.factory.ThingInspector');sap.ushell.components.factsheet.factory=(function(){jQuery.sap.require('sap.suite.ui.commons.UnifiedThingInspector');jQuery.sap.require('sap.ushell.components.factsheet.annotation.Mapping');jQuery.sap.require('sap.ui.vbm.library');var t,M={},A=[],L={},c,d,g,f,h,q,r,s,u,v,w,x,y={},z,B,C,D,E,F,G,H,I,J,K,N,O,P,Q,R,S,T,U,V,W,X,Y='displayFactSheet';jQuery.sap.require('sap.ui.base.Object');jQuery.sap.require('sap.ui.core.format.NumberFormat');Q=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();if(sap.ui.getCore().getConfiguration().getLanguage()==='ZH'){Q=new sap.ui.core.Locale('zh_CN');}function Z(a){return a<0?true:false;}function _(a){var b=Number(a).toFixed(0);if(Z(a)){b=Number(b)*-1;}return b;}function a1(a,b){var e,o,i,n;if(!a){return'';}o=new RegExp(sap.ui.core.format.NumberFormat.oDefaultFloatFormat.groupingSeparator,'g');if(b>=0){b=parseInt(b,10);n=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:b,maxFractionDigits:b},Q);}else{n=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:0,maxFractionDigits:99},Q);}e=n.format(a);i=e.replace(/[\\D]/g,'');if(i&&i.length>6){a=a.replace(o,'');if(_(a)<1000){return sap.ui.core.format.NumberFormat.getIntegerInstance().format(a);}n=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:1,maxFractionDigits:1,style:'short'},Q);return n.format(a);}else{return e;}}function b1(){var p,a,o='',b,m,e,k,i,j,n,l,c1;b=this.getElementBinding().sPath.split('/')[1];m=this.getModel();e=this.mBindingInfos.value.parameters;k=this.mBindingInfos.value.parts;for(i=0;i<e.length;i+=1){o=o+e[i].string;}for(j=0;j<k.length;j+=1){p=k[j].path;l='{'+p+'}';a=m.oData[b][p];o=o.replace(l,a);}n=z(o);if($.isNumeric(n)){c1=this.mBindingInfos.value.parts.filter(function(d1){return(d1.path===p);});n=a1(n,c1[0].type.oFormatOptions.maxFractionDigits);this.setDoubleFontSize(true);}this.setValue(n);this.getElementBinding().detachChange(b1);}V=function(){var a='';if(t.getName()&&t.getDescription()){a=t.getName()+', '+t.getDescription();}else if(t.getName()&&!t.getDescription()){a=t.getName();}else if(!t.getName()&&t.getDescription()){a=t.getDescription();}return a;};f=function(a){var b,e,i;b=a.slice(1).split('/');e='/';for(i=0;i<b.length;i+=1){if((b[i].indexOf('(')>0)&&(b[i].indexOf('sid(')<0)){break;}else{e+=b[i]+'/';}}return e;};h=function(a,m){var e,b,i,n;b=a.slice(m.sServiceUrl.length+1);if(b.indexOf('/')>=0){i=b.split('/');n=i[i.length];e=i[i.length-1];if(e.indexOf('(')>=0){e=e.slice(e.indexOf('('));}e=this.getNavEntitySet(e,n,m.getMetadata());}else{if(b.indexOf('(')>=0){e=b.slice(0,b.indexOf('('));}else{if(b.indexOf('?')>=0){e=b.slice(0,b.indexOf('?'));}else{e=b;}}}return e;};D=function(a,m){var e,k='',o,b;e=a.slice(m.sServiceUrl.length+1);if(e.indexOf('(')>=0){k=e.slice(e.indexOf('(')+1,e.indexOf(')'));if(k.indexOf('=')<=0){o=m.getServiceMetadata();b=r(h(a,m),o);k=E(b,o)+'='+k;}}return k;};E=function(e,m){var i,a,j;for(i=m.dataServices.schema.length-1;i>=0;i-=1){a=m.dataServices.schema[i];if(a.namespace===e.slice(0,e.lastIndexOf('.'))){for(j=0;j<a.entityType.length;j+=1){if(a.entityType[j].name===e.slice(e.lastIndexOf('.')+1)){return a.entityType[j].key.propertyRef[0].name;}}}}};q=function(e,m){var i,a,b,j;for(i=m.dataServices.schema.length-1;i>=0;i-=1){a=m.dataServices.schema[i];if(a.entityContainer){b=a.entityContainer[0].entitySet;for(j=b.length-1;j>=0;j-=1){if(b[j].entityType===e){return b[j].name;}}}}};r=function(e,m,b){var i,a,k,j,l;for(i=m.dataServices.schema.length-1;i>=0;i-=1){a=m.dataServices.schema[i];if(a.entityContainer){k=a.entityContainer[0].entitySet;for(j=k.length-1;j>=0;j-=1){if(k[j].name===e){if(b){l=k[j].entityType.slice(a.namespace.length+1);}else{l=k[j].entityType;}return l;}}}}};s=function(e,n,m){var a,i,b,l,k,j,o;a=e.split('.');for(i=m.dataServices.schema.length-1;i>=0;i-=1){b=m.dataServices.schema[i];l=a[0];if(a.length>2){for(k=1;k<a.length-1;k+=1){l+='.'+a[k];}}if(b.namespace===l){for(j=0;j<b.entityType.length;j+=1){if(b.entityType[j].name===a[a.length-1]){if(b.entityType[j].navigationProperty){for(k=0;k<b.entityType[j].navigationProperty.length;k+=1){if(b.entityType[j].navigationProperty[k].name===n){o=b.entityType[j].navigationProperty[k];return{name:o.relationship,toRole:o.toRole};}}}}}}}};u=function(e,n,m){var a,b,o,i,l,j,p,k;a=r(e,m);if(n.charAt(0)==='@'){if(M.termDefinitions&&M.termDefinitions[n]){b=M.termDefinitions[n];if(b.indexOf('Collection')>=0){b=b.slice(b.indexOf('(')+1,b.indexOf(')'));}return q(b,m);}}else{o=s(a,n,m);if(o){for(i=m.dataServices.schema.length-1;i>=0;i-=1){l=m.dataServices.schema[i];if(l.entityContainer&&l.entityContainer[0].associationSet){for(j=l.entityContainer[0].associationSet.length-1;j>=0;j-=1){p=l.entityContainer[0].associationSet[j];if(p.association===o.name){for(k=0;k<p.end.length;k+=1){if(p.end[k].role===o.toRole){return p.end[k].entitySet;}}}}}}}}};v=function(e,n,m){var a,o,i,b,j,l,k,p,c1;a=r(e,m);p=a.split('.')[a.split('.').length-1];o=s(a,n,m);if(o){for(i=m.dataServices.schema.length-1;i>=0;i-=1){b=m.dataServices.schema[i];for(j=0;j<b.entityType.length&&!c1;j+=1){if(b.entityType[j].name===p){for(k=0;k<b.entityType[j].navigationProperty.length;k+=1){if(b.entityType[j].navigationProperty[k].name===n){c1=b.entityType[j].navigationProperty[k].toRole;break;}}}}for(j=b.association.length-1;j>=0;j-=1){l=b.association[j];if(b.namespace+'.'+l.name===o.name){for(k=0;k<l.end.length;k+=1){if(l.end[k].role===c1){return l.end[k].multiplicity;}}}}}}else{jQuery.sap.log.error(\"\\\"\"+n+\"\\\" wasn't found in the metadata document. Check whether the corresponding search connector is active.\");return 0;}};w=function(e,m){var o,a,b,i;o={};if(M.expand){if(M.expand[r(e,m)]){a=M.expand[r(e,m)];b=[];for(i in a){if(a.hasOwnProperty(i)){b.push(a[i]);}}o.expand=b.join(', ');}}return o;};X=function(a,e,o){var m,b,j,k,l,n;for(m=o.dataServices.schema.length-1;m>=0;m-=1){b=o.dataServices.schema[m];for(j=0;j<b.entityType.length;j+=1){if(b.entityType[j].name===e.split('.')[e.split('.').length-1]){for(k=0;k<b.entityType[j].navigationProperty.length;k+=1){if(b.entityType[j].navigationProperty[k].name===a){for(l=0;l<b.association.length;l+=1){for(n=b.association[l].end.length-1;n>=0;n-=1){if(b.association[l].end[n].role===b.entityType[j].navigationProperty[k].toRole){return(b.association[l].end[n].type);}}}}}}}}};x=function(p,o){var b={},j;b.parts=[];b.parameters=[];for(j=p.length-1;j>=0;j-=1){if(p[j].Type==='Path'){if(p[j].EdmType){switch(p[j].EdmType){case'Edm.DateTimeOffset':case'Edm.DateTime':b.parts.push({path:p[j].Value,type:new sap.ui.model.type.DateTime({'UTC':true})});break;case'Edm.Time':b.parts.push({path:p[j].Value+'/ms',type:new sap.ui.model.type.Time({source:{pattern:'timestamp'},UTC:true})});break;case'Edm.Date':b.parts.push({path:p[j].Value,type:new sap.ui.model.type.Date({'UTC':true})});break;case'Edm.Decimal':case'Edm.Double':case'Edm.Single':b.parts.push({path:p[j].Value,type:new sap.ui.model.type.Float()});break;case'Edm.Int16':case'Edm.Int32':case'Edm.Int64':b.parts.push({path:p[j].Value,type:new sap.ui.model.type.Integer()});break;default:b.parts.push({path:p[j].Value});break;}}else{b.parts.push({path:p[j].Value});}}else if(p[j].Type==='String'){b.parameters.unshift({string:p[j].Value});}}b.formatter=function(){var a='',e,k,l,i,m='',n=false,c1=0,d1=0;if(arguments&&arguments.length>=1){e=arguments.length-1;l='';i=0;if(p&&p[0]&&(p[0].Type==='String')&&(p[0].Value.substr(0,1)==='#')){n=true;}for(k=0;k<p.length;k+=1){if(p[k].Type==='Path'){l=arguments[e];if(!l||(l.length===0)){if(a.length>i){if(a.indexOf('(')>i){a=a.substr(0,i);}else{a=a.substr(0,i);l=a;}}}else{if(n){l=encodeURIComponent(l);}a+=l;c1+=1;}e-=1;i=a.length;}else{i=a.length;m=p[k].Value;if(m.indexOf('(')!==-1){d1+=1;}if((l&&l.length>0)||(m.indexOf('(')!==-1)||(m&&(m.substr(0,1)==='#'))){a+=p[k].Value;}else{m='';}}}if(o){a=o(a);}a=a.trim();if((c1===1)&&(d1>0)&&(a.substr(0,1)==='(')&&(a.substr(-1)===')')){a=a.substr(1,a.length-2);}return a.trim();}};return b;};J=function(o,p){var k;for(k in o){if(o.hasOwnProperty(k)){if(k==='__metadata'){continue;}else if(k===p){return o[k];}else if(typeof o[k]==='object'){return J(o[k],p);}}}};z=function(a){var l,n,b,e={},i;l=a.lastIndexOf('/');n=a.slice(0,l);b=a.slice(l+1);if(!y[a]){e=new sap.ui.model.json.JSONModel();e.loadData(n,null,false);y[a]=e.getData();}else{e=y[a];}if(y[a]&&y[a].d){if(!y[a].d[b]){i=J(y[a].d,b);}else{i=y[a].d[b];}}return i;};B=function(o,e,m,a){var b,i,n,j,k,l,p,c1;b=new sap.ui.core.Control();i=K(o.Value,o.EdmType,e);if(o.Value&&o.Value['com.sap.vocabularies.UI.v1.IsImageURL']){b=new sap.m.Image({height:'50px'});if(i.BindingInfo){b.bindProperty('src',i.BindingInfo);}else{b.setProperty('src',i.String);}}else{if(o.UrlRef||o.Url||(o.Target&&o.Target.Path)){b=new sap.m.Link({wrapping:true});}else{b=new sap.m.Text();if(o.EdmType==='Edm.Decimal'||o.EdmType==='Edm.Double'||o.EdmType==='Edm.Single'||o.EdmType==='Edm.Int16'||o.EdmType==='Edm.Int32'||o.EdmType==='Edm.Int64'){b.setTextAlign(sap.ui.core.TextAlign.End);}}b.addStyleClass('sapFactsheetUtiDataField');if(i.BindingInfo){b.bindProperty('text',i.BindingInfo);}else{b.setProperty('text',i.String);}}if((o.RecordType==='com.sap.vocabularies.UI.v1.DataFieldWithNavigation')&&m){n=o.Target.Path;if(M[e][n.slice(1)]){if(n.charAt(0)==='@'){if(n.indexOf('/')<0){j=M[e][n.slice(1)].UrlRef;}else{j=M[e][n.slice(1,n.indexOf('/'))].UrlRef;}b.bindProperty('href',F(j));}}b.attachPress(function(d1){return false;});}if(o.RecordType==='com.sap.vocabularies.UI.v1.DataFieldWithUrl'){if(o.Url.String){b.setHref(o.Url.String);}else{b.bindProperty('href',F(o.Url));k=new sap.m.Text({wrapping:true});if(i.BindingInfo){k.bindProperty('text',i.BindingInfo);}else{k.setProperty('text',i.String);}b.setVisible(false);l=new sap.ui.layout.VerticalLayout();l.addContent(b);l.addContent(k);if(!A[A.indexOf(a)].Links){A[A.indexOf(a)].Links=[];}if(o.Url.Apply){p=o.Url.Apply.Parameters[0].Value.slice(o.Url.Apply.Parameters[0].Value.indexOf('#')+1,o.Url.Apply.Parameters[0].Value.indexOf('-'));c1=o.Url.Apply.Parameters[0].Value.slice(o.Url.Apply.Parameters[0].Value.indexOf('#')+1,o.Url.Apply.Parameters[0].Value.indexOf('?'));}A[A.indexOf(a)].Links.push({sSemanticObject:p,sIntend:c1,oVL:l});}}if(l){return l;}else{return b;}};C=function(o,l,p,b){var a,e='',i='',m,j,k,n;a=new sap.m.Label(l);a.addStyleClass('sapFactsheetUtiLabel');if(b){e=':';}if(o.Label){if(o.Label.String){a.setText(o.Label.String.trim()+e);a.setTooltip(o.Label.String.trim());}else{if(o.Label.Path){a.bindProperty('text',o.Label.Path);a.bindProperty('tooltip',o.Label.Path);}}}else{if(o.Value){if(o.Value.Path&&p){m=p[o.Value.Path];for(j in m){if(m.hasOwnProperty(j)){if(j==='http://www.sap.com/Protocols/SAPData'){if(m[j].label){i=m[j].label;break;}}}}}else if(o.Value.Apply&&(o.Value.Apply.Name==='odata.concat')){for(k in o.Value.Apply.Parameters){if(o.Value.Apply.Parameters.hasOwnProperty(k)){n=o.Value.Apply.Parameters[k];if(n.Type==='Path'){m=p[n.Value];for(j in m){if(m.hasOwnProperty(j)){if(j==='http://www.sap.com/Protocols/SAPData'){if(m[j].label){i=m[j].label;break;}}}}break;}}}}a.setText(i+e);a.setTooltip(i);}}return a;};K=function(o,e,a){var b={},p,k,l=[],j,m,n,c1=[],d1,e1,i,f1,g1,h1,i1,j1=[],k1;k1=function(a,l1,m1){var p,n1={};p=M.propertyAnnotations[a];if(p&&p[l1]&&p[l1][m1]){if(p[l1][m1].Path){n1.Type='Path';n1.Value=p[l1][m1].Path;}else{n1.Type='String';n1.Value=p[l1][m1].String;}}return n1;};if(!o){return false;}if(o.Apply){if(o.Apply.Name==='odata.concat'){if(a&&M.propertyAnnotations&&M.propertyAnnotations[a]){k=o.Apply.Parameters;for(j=0;j<k.length;j+=1){l.push(k[j]);if(k[j].Type==='Path'){p=k1(a,k[j].Value,'Org.OData.Measures.V1.ISOCurrency');if(!$.isEmptyObject(p)){l.push({Type:'String',Value:' '});l.push({Type:p.Type,Value:p.Value});}p=k1(a,k[j].Value,'Org.OData.Measures.V1.Unit');if(!$.isEmptyObject(p)){l.push({Type:'String',Value:' '});l.push({Type:p.Type,Value:p.Value});}}}b.BindingInfo=x(l);}else{b.BindingInfo=x(o.Apply.Parameters);}}}else{if(o.Path){if(o.Path.charAt(0)==='@'){m=M[a][o.Path.slice(1,o.Path.indexOf('/'))].UrlRef;n=o.Path.slice(o.Path.indexOf('/')+1);if(m&&m.Apply){d1=m.Apply.Parameters;switch(m.Apply.Name){case'odata.concat':c1=d1;c1.push({Type:'String',Value:'/'+n});break;case'odata.fillUriTemplate':e1=d1[0].Value.split('{');for(i in e1){if(e1.hasOwnProperty(i)){if(e1[i].indexOf('}')<0){c1.push({Type:'String',Value:e1[i]});}else{f1=e1[i].split('}');for(j=1;j<d1.length;j+=1){if(d1[j].Name===f1[0]){g1=d1[j].Value;if(g1.Path){c1.push({Type:'Path',Value:g1.Path});}else{if(g1.Apply&&g1.Apply.Name&&(g1.Apply.Name.toLowerCase()==='odata.uriencode')){h1=g1.Apply.Parameters[0];c1.push({Type:h1.Type,Value:encodeURIComponent(h1.Value)});c1.push({Type:'String',Value:'{'+encodeURIComponent(h1.Value)+'}'});}}}}c1.push({Type:'String',Value:f1[1]});}}}c1.push({Type:'String',Value:'/'+n});b.fnChange=b1;break;default:break;}b.BindingInfo=x(c1,z);}else{if(m&&m.Path){c1.push({Type:'Path',Value:m.Path},{Type:'String',Value:'/'+n});b.BindingInfo=x(c1,z);}else{if(m&&m.String){b.String=z(m.String+'/'+n);}}}}else{b.BindingInfo={};switch(e){case'Edm.DateTimeOffset':case'Edm.DateTime':b.BindingInfo={path:o.Path,type:new sap.ui.model.type.DateTime({'UTC':true})};break;case'Edm.Time':b.BindingInfo={path:o.Path+'/ms',type:new sap.ui.model.type.Time({source:{pattern:'timestamp'},UTC:true})};break;case'Edm.Date':b.BindingInfo={path:o.Path,type:new sap.ui.model.type.Date({'UTC':true})};break;case'Edm.Decimal':case'Edm.Double':case'Edm.Single':case'Edm.Int16':case'Edm.Int32':case'Edm.Int64':if((e==='Edm.Decimal')||(e==='Edm.Double')||(e==='Edm.Single')){i1=new sap.ui.model.type.Float();}else if((e==='Edm.Int16')||(e==='Edm.Int32')||(e==='Edm.Int64')){i1=new sap.ui.model.type.Integer();}if(M.propertyAnnotations){j1.push({Type:'Path',Value:o.Path,EdmType:e},{Type:'String',Value:' '});p=k1(a,o.Path,'Org.OData.Measures.V1.ISOCurrency');if(!$.isEmptyObject(p)){j1.push({Type:p.Type,Value:p.Value});}p=k1(a,o.Path,'Org.OData.Measures.V1.Unit');if(!$.isEmptyObject(p)){j1.push({Type:p.Type,Value:p.Value});}b.BindingInfo=x(j1);}else{b.BindingInfo={path:o.Path,type:i1};}break;default:b.BindingInfo={path:o.Path};break;}}}else{if(o.String){b.String=o.String;}}}return b;};F=function(o){var a=[],p,b,j,e,i={},k,l,m;if(o&&o.Apply){p=o.Apply.Parameters;switch(o.Apply.Name){case'odata.fillUriTemplate':p[0].Value=p[0].Value.trim();b=p[0].Value.split('{');for(j=0;j<b.length;j+=1){if(b[j].indexOf('}')<0){a.push({'Value':b[j],'Type':'String'});}else{e=b[j].split('}');i={};i.Value=e[0];i.Type='Path';for(j=1;j<p.length;j+=1){if(p[j].Name===i.Value){k=p[j].Value;if(k.Path){i.Value=k.Path;}else{if(k.Apply&&k.Apply.Name&&k.Apply.Name.toLowerCase()==='odata.uriencode'){i.Value=k.Apply.Parameters[0].Value;}}break;}}a.push(i);a.push({'Value':e[1],'Type':'String'});}}l=sap.ushell.Container.getService('NavTargetResolution').getCurrentResolution();if(l&&l.url){m=jQuery.sap.getUriParameters(l.url).get('sap-system');if(m){a.push({Type:'String',Value:'&sap-system='+m});}}break;default:break;}}return x(a);};G=function(o){var a=sap.ui.core.TextAlign.Begin;if(o.EdmType==='Edm.Decimal'||o.EdmType==='Edm.Double'||o.EdmType==='Edm.Single'||o.EdmType==='Edm.Int16'||o.EdmType==='Edm.Int32'||o.EdmType==='Edm.Int64'){a=sap.ui.core.TextAlign.End;}return a;};N=function(m,e,a,o,b,k){var l,p,j=0,n=0,c1=0,d1=0,e1,i,f1,g1,h1;if(!b){b=m.getServiceMetadata();}if(!a){a=[];}l=r(e,b);h1=new sap.ui.layout.form.SimpleForm({labelMinWidth:150,maxContainerCols:2});p=(M.propertyExtensions)?M.propertyExtensions[l]:[];if(o&&o.High){n=o.High;}if(o&&o.Medium){c1=o.Medium;}if(o&&o.Low){d1=o.Low;}for(i=0;i<a.length;i+=1){e1=W(a[i]);if(o&&(e1==='High')){if(n){n-=1;}else{continue;}}else if(o&&(e1==='Medium')){if(c1){c1-=1;}else{continue;}}else if(o&&(e1==='Low')){if(d1){d1-=1;}else{continue;}}if(o&&o.Total&&(j>=o.Total)){break;}j+=1;f1=new sap.ui.core.Control().setModel(m);g1=C(a[i],{textAlign:sap.ui.core.TextAlign.End},p,false);g1.addStyleClass('sapFactsheetUtiFormPadding');f1=B(a[i],l,b,k);f1.addStyleClass('sapFactsheetUtiFormPadding');if(f1.setTextAlign){f1.setTextAlign(sap.ui.core.TextAlign.Begin);}h1.addContent(g1);h1.addContent(f1);}h1.addStyleClass('sapFactsheetUtiFormLayout');return h1;};O=function(m,e,o,b,a){var j,k='',l,n,p,c1,d1,e1,f1,g1,h1,i1,j1=[],i,k1,l1,m1;j=m.getServiceMetadata();switch(o.RecordType){case'com.sap.vocabularies.UI.v1.ReferenceFacet':l=new sap.suite.ui.commons.UnifiedThingGroup();if(o.Label&&o.Label.String){l.setTitle(o.Label.String);}n=o.Target.AnnotationPath;p=n.substring(n.lastIndexOf('@')+1);n=n.substring(0,n.lastIndexOf('@')-1);if(n){k=v(e,n,j);}c1=p.split('#');switch(c1[0]){case'com.sap.vocabularies.UI.v1.LineItem':case'com.sap.vocabularies.UI.v1.Chart':case'com.sap.vocabularies.UI.v1.Badge':case'com.sap.vocabularies.UI.v1.Identification':if(n){d1=u(e,n,j);k1=r(d1,j);}else{k1=r(e,j);}if(c1[0]==='com.sap.vocabularies.UI.v1.Chart'){p='com.sap.vocabularies.UI.v1.LineItem';}l1=M[k1][p];if(M.propertyExtensions){m1=M.propertyExtensions[k1];}if(k==='*'&&c1[0]!=='com.sap.vocabularies.UI.v1.Identification'){e1=P(m,l1,k1,j,b+'/'+n,o,m1,a);l.setContent(e1);}if(c1[0]==='com.sap.vocabularies.UI.v1.Identification'){f1=M[k1]['com.sap.vocabularies.UI.v1.Identification'];g1=new sap.ui.layout.VerticalLayout({width:'100%'}).setModel(m);if(n){g1.addContent(N(m,d1,f1,null,null,a)).addStyleClass('sapFactsheetUtiPanel');g1.bindElement(b+'/'+n);}else{g1.addContent(N(m,e,f1,null,null,a).addStyleClass('sapFactsheetUtiPanel'));}l.setContent(g1);}break;case'com.sap.vocabularies.UI.v1.StatusInfo':if(n){d1=u(e,n,j);h1=M[r(d1,j)]['com.sap.vocabularies.UI.v1.StatusInfo'];l.setContent(N(m,d1,h1,null,null,a).addStyleClass('sapFactsheetUtiPanel').bindElement(b+'/'+n));}else{h1=M[r(e,j)]['com.sap.vocabularies.UI.v1.StatusInfo'];l.setContent(N(m,e,h1,null,null,a).addStyleClass('sapFactsheetUtiPanel'));}break;case'com.sap.vocabularies.UI.v1.FieldGroup':i1=M[r(e,j)][p];if(i1){if(!l.getTitle()||(l.getTitle()==='')){if(i1.Label){if(i1.Label.String){l.setTitle(i1.Label.String);}else{if(i1.Label.Path){l.bindProperty('title',i1.Label.Path);}}}}if(n){d1=u(e,n,j);l.setContent(N(m,d1,i1.Data,null,null,a).addStyleClass('sapFactsheetUtiPanel').bindElement(b+'/'+n));}else{l.setContent(N(m,e,i1.Data,null,null,a).addStyleClass('sapFactsheetUtiPanel'));}}break;default:break;}return l;case'com.sap.vocabularies.UI.v1.ReferenceURLFacet':l=new sap.ui.ux3.ThingGroup({title:o.Label.String});l.setContent(H(o));return l;case'com.sap.vocabularies.UI.v1.CollectionFacet':for(i=0;i<o.Facets.length;i+=1){j1.push(O(m,e,o.Facets[i],b,a));}return j1;default:break;}};H=function(o){var i,a,b;switch(o.UrlContentType.String){case'image/png':case'image/jpeg':case'image/gif':i=new sap.m.Image({width:'100%'});if(o.Url.String){i.setSrc(o.Url.String);}return i;default:a=new sap.ui.core.HTML();if(o.Url.String){a.setContent(\"<iframe src = '\"+o.Url.String+\"' width='100%' height='250px' frameborder='0'></iframe>\");}else{if(o.Url.Path){a.bindProperty('content',{path:o.Url.Path,formatter:function(e){b=\"<iframe src = '\"+o.Url.Path+\"' width='100%' height='250px' frameborder='0'></iframe>\";return b;}});}}return a;}};P=function(m,a,e,o,b,l,n,c1){var d1,e1,f1,g1,h1,i,k,i1=[],j1=[],k1=[],l1=[],m1,n1,o1,p1,q1,r1,s1,t1=[],u1,v1,w1,x1=[],y1,z1,A1,B1,C1,D1,E1,F1,G1=false,H1,I1;F1=sap.ui.getCore().getLibraryResourceBundle('sap.suite.ui.commons');if(!o){o=m.getServiceMetadata();}d1=(M.propertyExtensions)?M.propertyExtensions[e]:[];e1=6;if(jQuery.device.is.tablet&&jQuery.device.is.landscape){e1=5;}else if(jQuery.device.is.tablet&&jQuery.device.is.portrait){e1=4;}else if(jQuery.device.is.phone&&jQuery.device.is.landscape){e1=3;}else if(jQuery.device.is.phone&&jQuery.device.is.portrait){e1=2;}f1=0;g1=0;for(i=0;i<a.length;i+=1){h1=W(a[i]);if(h1==='High'){f1+=1;}}if(e1>f1){g1=e1-f1;}else if(e1<f1){f1=e1;}j1.push(new sap.m.Column({visible:false}));i1.push(new sap.m.Text().bindText('__metadata/uri'));for(i=0;i<a.length;i+=1){I1='';o1=new sap.ui.core.Control();h1=W(a[i]);o1=B(a[i],e,o,c1);m1=C(a[i],null,d1);if(a[i].Value.Path){w1=a[i].Value.Path;if(n&&n[w1]&&n[w1]['http://www.sap.com/Protocols/SAPData']&&n[w1]['http://www.sap.com/Protocols/SAPData'].sortable){m1.data('IsSortable',n[w1]['http://www.sap.com/Protocols/SAPData'].sortable);if(n[w1]['http://www.sap.com/Protocols/SAPData'].sortable==='true'){G1=true;}}else{m1.data('IsSortable','true');G1=true;}if(n&&n[w1]&&n[w1]['http://www.sap.com/Protocols/SAPData']&&n[w1]['http://www.sap.com/Protocols/SAPData'].filterable){m1.data('IsFilterable',n[w1]['http://www.sap.com/Protocols/SAPData'].filterable);if(n[w1]['http://www.sap.com/Protocols/SAPData'].filterable==='true'){G1=true;}}else{m1.data('IsFilterable','true');G1=true;}}else{H1=true;for(k=0;k<a[i].Value.Apply.Parameters.length;k+=1){if(a[i].Value.Apply.Parameters[k].Type==='Path'){w1=a[i].Value.Apply.Parameters[k].Value;if(n[w1]&&n[w1]['http://www.sap.com/Protocols/SAPData']&&n[w1]['http://www.sap.com/Protocols/SAPData'].sortable){if(n[w1]['http://www.sap.com/Protocols/SAPData'].sortable==='false'){H1=false;I1='';break;}}if(I1){I1+=';';}I1+=w1;}}w1=I1;if(H1===false){m1.data('IsSortable','false');}else{m1.data('IsSortable','true');G1=true;}m1.data('IsFilterable','false');}if(a[i].EdmType){m1.data('EdmType',a[i].EdmType);}m1.data('ColumnName',w1);k1.push(m1);l1.push(o1);if(h1==='High'){if(f1>0){n1=true;f1-=1;}else{n1=false;}}else if(h1==='Medium'){if(g1>0){n1=true;g1-=1;}else{n1=false;}}else{n1=false;}j1.push(new sap.m.Column({header:m1,hAlign:G(a[i]),visible:n1}));i1.push(o1);}p1=new sap.m.ColumnListItem({type:sap.m.ListType.Navigation,unread:false,cells:i1});if(l){q1=l.Label.String;}p1.attachPress({aColumns:a,aLabels:k1,aControls:l1,sTitle:q1},function(j,p){var J1,K1,m1,i,L1,M1,N1;J1=j.getSource().getCells()[0].getText().substr(j.getSource().getCells()[0].getText().lastIndexOf('/'));K1=new sap.m.Table({backgroundDesign:sap.m.BackgroundDesign.Transparent,showSeparators:sap.m.ListSeparators.None,columns:[new sap.m.Column({hAlign:sap.ui.core.TextAlign.End}),new sap.m.Column()]});K1.addStyleClass('sapFactsheetUtiPanel');K1.addStyleClass('sapFactsheetUtiTilePadding');K1.addStyleClass('sapFactsheetUtiTableNoTopBorder');K1.bindElement(J1);for(i=0;i<a.length;i+=1){m1=k1[i].clone();m1.setText(m1.getText()+':');N1=l1[i].clone();m1.setLabelFor(N1);K1.addItem(new sap.m.ColumnListItem({cells:[m1,N1]}));}L1=new sap.suite.ui.commons.UnifiedThingGroup({content:K1,title:q1,description:V()});M1=new sap.m.Page({title:t.getTitle(),showNavButton:true,content:[L1]});t.navigateToPage(M1,true);t.attachAfterNavigate(K1,function(j){if(j.getParameters().getParameters().toId.indexOf('__page')>=0){var O1;O1=K1.getItems();if(O1.length>0&&A.indexOf(c1)>=0){A[A.indexOf(c1)].bLoaded=true;A[A.indexOf(c1)].bProcessed=false;A[A.indexOf(c1)].bIsTable=true;A[A.indexOf(c1)].oTableItems=O1;c(A.indexOf(c1));}}});});r1=new sap.m.Table({growing:true,columns:j1});r1.setModel(m);r1.bindItems({path:b,template:p1});z1=new sap.m.VBox({items:[new sap.m.Input({placeholder:F1.getText('USHELL_FACTSHEET_ENTER_YOUR_FILTER'),change:function(j){var p,J1,K1,L1,i;p=j.getSource().getParent().getParent().getId();J1=sap.ui.getCore().byId(p.substr(0,p.indexOf('-')));K1=J1.getFilterItems();for(i=0;i<K1.length;i+=1){if(K1[i]instanceof sap.m.ViewSettingsCustomItem&&K1[i].getKey()===this.oParent.data('ColumnName')){L1=K1[i];break;}}if(L1){if((j.getParameter('newValue')===undefined)||(j.getParameter('newValue')==='')){L1.setSelected(false);L1.setFilterCount(0);}else{L1.setSelected(true);L1.setFilterCount(1);}}}}).addStyleClass('sapFactsheetUtiFilterInput')]});A1=new sap.m.VBox({items:[new sap.m.List({mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:true,items:[new sap.m.StandardListItem({title:F1.getText('USHELL_FACTSHEET_GREATER_THEN')}).data('FilterOperator',sap.ui.model.FilterOperator.GT),new sap.m.StandardListItem({title:F1.getText('USHELL_FACTSHEET_EQUALS')}).data('FilterOperator',sap.ui.model.FilterOperator.EQ),new sap.m.StandardListItem({title:F1.getText('USHELL_FACTSHEET_LESS_THEN')}).data('FilterOperator',sap.ui.model.FilterOperator.LT)]}),new sap.m.Input({placeholder:F1.getText('USHELL_FACTSHEET_ENTER_YOUR_FILTER'),change:function(j){var p,J1,K1,L1,i;p=j.getSource().getParent().getParent().getId();J1=sap.ui.getCore().byId(p.substr(0,p.indexOf('-')));K1=J1.getFilterItems();for(i=0;i<K1.length;i+=1){if((K1[i]instanceof sap.m.ViewSettingsCustomItem)&&(K1[i].getKey()===this.oParent.data('ColumnName'))){L1=K1[i];break;}}if(L1){if((j.getParameter('newValue')===undefined)||(j.getParameter('newValue')==='')){L1.setSelected(false);L1.setFilterCount(0);}else{L1.setSelected(true);L1.setFilterCount(1);}}}}).addStyleClass('sapFactsheetUtiFilterInput')]});new sap.m.VBox({items:[new sap.m.List({mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:true,items:[new sap.m.StandardListItem({title:F1.getText('USHELL_FACTSHEET_AFTER')}).data('FilterOperator',sap.ui.model.FilterOperator.GT),new sap.m.StandardListItem({title:F1.getText('USHELL_FACTSHEET_AT')}).data('FilterOperator',sap.ui.model.FilterOperator.EQ),new sap.m.StandardListItem({title:F1.getText('USHELL_FACTSHEET_BEFORE')}).data('FilterOperator',sap.ui.model.FilterOperator.LT)]}),new sap.m.DateTimeInput({type:sap.m.DateTimeInputType.Date,valueFormat:new sap.ui.model.type.DateTime({pattern:'yyyy/MM/dd HH:mm:ss UTC+00:00'}).getOutputPattern(),placeholder:F1.getText('USHELL_FACTSHEET_ENTER_YOUR_FILTER'),change:function(j){var p,J1,K1,L1,i;p=j.getSource().getParent().getParent().getId();J1=sap.ui.getCore().byId(p.substr(0,p.indexOf('-')));K1=J1.getFilterItems();for(i=0;i<K1.length;i+=1){if((K1[i]instanceof sap.m.ViewSettingsCustomItem)&&(K1[i].getKey()===this.oParent.data('ColumnName'))){L1=K1[i];break;}}if((j.getParameter('newValue')===undefined)||(j.getParameter('newValue')==='')){L1.setSelected(false);L1.setFilterCount(0);}else{L1.setSelected(true);L1.setFilterCount(1);}}}).addStyleClass('sapFactsheetUtiFilterInput')]});B1=function(o1){var j=[],i,p,J1=o1.getItems(),K1;if(J1[0].getParent().data('EdmType')==='Edm.String'&&J1[0].getValue()){j.push(new sap.ui.model.Filter(J1[0].getParent().data('ColumnName'),sap.ui.model.FilterOperator.Contains,J1[0].getValue()));}else if(J1[0].getParent().data('EdmType')==='Edm.Decimal'&&J1[1].getValue()){for(i=0;i<J1[0].getItems().length;i+=1){if(J1[0].getItems()[i].getSelected()===true){p=J1[0].getItems()[i].data('FilterOperator');break;}}K1=J1[1].getValue();for(i=K1.length-1;i>0;i-=1){if(K1[i]===','){K1=K1.replace(K1[i],'.');break;}}j.push(new sap.ui.model.Filter(J1[1].getParent().data('ColumnName'),p,K1));}else if(J1[0].getParent().data('EdmType')==='Edm.Date'&&J1[1].getValue()){for(i=0;i<J1[0].getItems().length;i+=1){if(J1[0].getItems()[i].getSelected()===true){p=J1[0].getItems()[i].data('FilterOperator');break;}}j.push(new sap.ui.model.Filter(J1[1].getParent().data('ColumnName'),p,J1[1].getValue()));}else{j.push(new sap.ui.model.Filter(J1[0].getParent().data('ColumnName'),sap.ui.model.FilterOperator.EQ,J1[0].getValue()));}return j;};C1=function(p){var J1=p.getSource(),K1=J1.getFilterItems(),L1,i,j;for(i=0;i<K1.length;i+=1){if(K1[i]&&K1[i]instanceof sap.m.ViewSettingsCustomItem){K1[i].setSelected(false);K1[i].setFilterCount(0);L1=K1[i].getCustomControl().getItems();for(j=0;j<L1.length;j+=1){if((L1[j]instanceof sap.m.Input)||(L1[j]instanceof sap.m.DateTimeInput)){L1[j].setValue('');}if((L1[j]instanceof sap.m.List)&&(L1[j].getSelectedItem()!==null)){L1[j].removeSelections();}}}}};D1=C1;for(i=0;i<j1.length;i+=1){if(j1[i+1]){m1=k1[i].clone();if(m1.getText()&&(m1.data('IsSortable')==='true')&&j1[i+1].getVisible()){u1=new sap.m.ViewSettingsItem({text:m1.getText(),key:m1.data('ColumnName')});if(i===0){u1.setSelected(true);}u1.Sort=m1.Sort;t1.push(u1);}if(m1.getText()&&(m1.data('IsFilterable')==='true')){if(m1.data('EdmType')==='Edm.String'){E1=z1.clone().data('ColumnName',m1.data('ColumnName')).data('EdmType',m1.data('EdmType'));}else if(m1.data('EdmType')==='Edm.Decimal'){E1=A1.clone().data('ColumnName',m1.data('ColumnName')).data('EdmType',m1.data('EdmType'));}if((m1.data('EdmType')==='Edm.String')||(m1.data('EdmType')==='Edm.Decimal')){y1=new sap.m.ViewSettingsCustomItem({key:m1.data('ColumnName'),text:m1.getText(),customControl:E1,customData:new sap.ui.core.CustomData({key:'callback',value:B1})});x1.push(y1);}}}}v1=new sap.m.ViewSettingsDialog({sortItems:t1,filterItems:x1,cancel:D1,resetFilters:C1,confirm:function(j){var J1,K1,L1=[],M1,N1=[],O1,P1=[],Q1=[],p,i,R1;J1=j.getParameters();K1=r1.getBinding('items');if(J1.sortItem){M1=J1.sortItem.getKey();O1=J1.sortDescending;if(M1.indexOf(';')>0){N1=M1.split(';');for(i=0;i<N1.length;i+=1){L1.push(new sap.ui.model.Sorter(N1[i],O1));}}else if(M1){L1.push(new sap.ui.model.Sorter(M1,O1));}K1.sort(L1);}p=J1;for(i=0;i<p.filterItems.length;i+=1){if(p.filterItems[i]instanceof sap.m.ViewSettingsCustomItem){R1=p.filterItems[i].getCustomData()[0].getValue();P1=R1.apply(this,[p.filterItems[i].getCustomControl()]);if(P1){if(!Array.isArray(P1)){P1=[P1];}Q1=Q1.concat(P1);}}else if(p.filterItems[i]instanceof sap.m.ViewSettingsItem){P1=p.filterItems[i].getCustomData()[0].getValue();if(P1){if(!Array.isArray(P1)){P1=[P1];}Q1=Q1.concat(P1);}}}K1.filter(Q1);}});if(G1===true&&(t1.length>0||x1.length>0)){r1.setHeaderToolbar(new sap.m.Toolbar({content:[new sap.m.Label(),new sap.m.ToolbarSpacer(),new sap.m.Button({icon:'sap-icon://drop-down-list',press:function(j){v1.open();},tooltip:sap.ui.getCore().getLibraryResourceBundle('sap.m').getText('P13NDIALOG_VIEW_SETTINGS')})]}));}r1.setNoDataText(sap.ui.getCore().getLibraryResourceBundle('sap.m').getText('PULL2REFRESH_LOADING_LONG'));s1=(function(c1){return function(j){var p=this.getItems();if(p.length===0){this.setNoDataText(F1.getText('FACETOVERVIEW_NO_CONTENT_TEXT'));}else{this.setNoDataText(sap.ui.getCore().getLibraryResourceBundle('sap.m').getText('PULL2REFRESH_LOADING_LONG'));}if(p.length>0&&A.indexOf(c1)>=0){A[A.indexOf(c1)].bLoaded=true;A[A.indexOf(c1)].bProcessed=false;A[A.indexOf(c1)].bIsTable=true;A[A.indexOf(c1)].oTableItems=p;}c(A.indexOf(c1));};}(c1));r1.attachUpdateFinished(s1);return r1;};R=function(a,o,b,e){var i;switch(a){case'com.sap.vocabularies.UI.v1.ChartType/Area':i=new sap.viz.ui5.Area({});break;case'com.sap.vocabularies.UI.v1.ChartType/Bar':i=new sap.viz.ui5.Bar({});break;case'com.sap.vocabularies.UI.v1.ChartType/Bubble':i=new sap.viz.ui5.Bubble({});break;case'com.sap.vocabularies.UI.v1.ChartType/Column':i=new sap.viz.ui5.Column({});break;case'com.sap.vocabularies.UI.v1.ChartType/ColumnStacked':i=new sap.viz.ui5.StackedColumn({});break;case'com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100':i=new sap.viz.ui5.StackedColumn100({});break;case'com.sap.vocabularies.UI.v1.ChartType/Donut':i=new sap.viz.ui5.Donut({});break;case'com.sap.vocabularies.UI.v1.ChartType/HeatMap':i=new sap.viz.ui5.Heatmap({});break;case'com.sap.vocabularies.UI.v1.ChartType/HorizontalArea':i=new sap.viz.ui5.HorizontalArea({});break;case'com.sap.vocabularies.UI.v1.ChartType/Line':i=new sap.viz.ui5.Line({});break;case'com.sap.vocabularies.UI.v1.ChartType/Pie':i=new sap.viz.ui5.Pie({});break;case'com.sap.vocabularies.UI.v1.ChartType/Scatter':i=new sap.viz.ui5.Scatter({});break;case'com.sap.vocabularies.UI.v1.ChartType/TreeMap':i=new sap.viz.ui5.Treemap({});break;case'com.sap.vocabularies.UI.v1.ChartType/AreaStacked':case'com.sap.vocabularies.UI.v1.ChartType/AreaStacked100':case'com.sap.vocabularies.UI.v1.ChartType/BarStacked':case'com.sap.vocabularies.UI.v1.ChartType/BarStacked100':case'com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked':case'com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked100':case'com.sap.vocabularies.UI.v1.ChartType/Radar':case'com.sap.vocabularies.UI.v1.ChartType/Waterfall':break;}if(i){if(o&&o.String){i.setTitle(new sap.viz.ui5.types.Title({visible:true,text:o.String}));}if(b&&b.String){i.setTooltip(b.String);}i.setWidth('100%');i.setHeight('17rem');i.setDataset(e);}else{i=new sap.m.Text({});}return i;};S=function(i){var a;i=i||1;if(jQuery.device.is.phone){a=(7*i)+'rem';}else{a=(11*i-1)+'rem';}return a;};T=function(a){var i,b=0,e=0,j=0,o;for(i=0;i<a.length;i+=1){o=W(a[i]);if(o){switch(o){case'High':b+=1;break;case'Medium':e+=1;break;case'Low':j+=1;break;}}}return{High:b,Medium:e,Low:j};};W=function(o){var e='';if(o.Importance){e=o.Importance.EnumMember;}else if(o['com.sap.vocabularies.UI.v1.Importance']){e=o['com.sap.vocabularies.UI.v1.Importance'].EnumMember;}return e.substr(e.indexOf('/')+1);};U=function(m,a,e,b){var i=false,o,j,k,l;o=new sap.suite.ui.commons.KpiTile({doubleFontSize:false});if(a.ValueFormat){j=a.ValueFormat.NumberOfFractionalDigits.Int;}if(a.Title&&a.Title.String){o.setDescription(a.Title.String);}else{if(a.Title&&a.Title.Path){o.bindProperty('description',{path:a.Title.Path});}}if(a.Value&&a.Value.String){o.setValue(a.Value.String);}else{if(a.Value&&a.Value.Path){k=K(a.Value,a.Value.EdmType,e);if(k.fnChange){o.setModel(m);o.bindElement(b);o.getElementBinding().attachChange(k.fnChange,o);}if(k.String){if($.isNumeric(k.String)){i=true;o.setValue(a1(k.String,j));}else{o.setValue(k.String);}}else if(k.BindingInfo){l=k.BindingInfo;if(l.parts&&l.parts.length===2){o.bindProperty('valueUnit',l.parts[0]);l.parts[1].type=undefined;l.parts[1].formatter=(function(){return function(n){return a1(n,j);};}(j));o.bindProperty('value',l.parts[1]);}else if(l.parts&&l.parts.length===1){l.parts[0].type=undefined;l.parts[0].formatter=(function(){return function(n){return a1(n,j);};}(j));o.bindProperty('value',l);}else{o.bindProperty('value',l);}}}}if(a.Value.EdmType==='Edm.Decimal'||a.Value.EdmType==='Edm.Double'||a.Value.EdmType==='Edm.Single'||a.Value.EdmType==='Edm.Int16'||a.Value.EdmType==='Edm.Int32'||a.Value.EdmType==='Edm.Int64'||i===true){o.setDoubleFontSize(true);}return o;};g=function(m){var a=[],b=[],e,j,k,i,l;j=function(o){if(k(o)===false){if(o.constructor===Array){for(i=0;i<o.length;i+=1){k(o[i]);}}if(o.constructor===Object){for(l in o){if(o.hasOwnProperty(l)){if(o[l].constructor!==String){j(o[l]);}}}}}};k=function(o){if(o.RecordType&&o.RecordType==='com.sap.vocabularies.UI.v1.DataFieldWithUrl'){if(o.Url&&o.Url.Apply){e=o.Url.Apply.Parameters[0].Value.slice(o.Url.Apply.Parameters[0].Value.indexOf('#')+1,o.Url.Apply.Parameters[0].Value.indexOf('-'));if(a.indexOf(e)<0){a.push(e);}return true;}}else{return false;}};for(l in M){if(M.hasOwnProperty(l)){if(l.indexOf(m.dataServices.schema[0].namespace)>=0){j(M[l]);}}}for(i=0;i<a.length;i+=1){if(!L.hasOwnProperty(a[i])){b.push(a[i]);}}return b;};d=function(a){var i,o,l,b;if(a.length>0){o=new sap.ui.model.json.JSONModel();l='/sap/opu/odata/UI2/INTEROP/SemanticObjects?$expand=Links&$format=json';b='&$filter=id%20eq%20%27';for(i=0;i<a.length;i+=1){if(b.length>22){b+='%20or%20id%20eq%20%27'+a[i]+'%27';}else{b+=a[i]+'%27';}}l+=l+b;o.loadData(l);o.attachRequestCompleted(function(){var i,j,e,k=[];if(this.getData().d&&this.getData().d.results){e=this.getData().d.results;for(i=0;i<e.length;i+=1){L[e[i].id]='';k=e[i].Links.results;for(j=0;j<k.length;j+=1){L[k[j].id.slice(0,k[j].id.indexOf('~'))]='';}}}L.InteropCompleted=true;c();});}else{L.InteropCompleted=true;}};c=function(a){var i,j,k,n,b,e,l;if(L.InteropCompleted===true){for(i=0;i<A.length;i+=1){if(A[i].bLoaded&&!A[i].bProcessed&&A[i].Links){l=A[i].Links;for(j=0;j<l.length;j+=1){if(L.hasOwnProperty(l[j].sIntend)===true){if(A[i].bIsTable===true){if(A[i].oTableItems){b=A[i].oTableItems;for(k=0;k<b.length;k+=1){e=b[k].getCells();for(n=0;n<e.length;n+=1){if(e[n]instanceof sap.ui.layout.VerticalLayout&&e[n].getContent()[0].getBindingInfo('href').parts===l[j].oVL.getContent()[0].getBindingInfo('href').parts&&e[n].getContent()[1].getBindingInfo('text').parts===l[j].oVL.getContent()[1].getBindingInfo('text').parts){e[n].getContent()[0].setVisible(true);e[n].getContent()[1].setVisible(false);}}}}}else{l[j].oVL.getContent()[0].setVisible(true);l[j].oVL.getContent()[1].setVisible(false);}}else if(A[i].bIsTable===false){l[j].oVL.getContent()[1].setText(l[j].oVL.getContent()[0].getText());}A[i].bProcessed=true;}}}}if(a>=0){if(A[a].bLoaded&&!A[a].bProcessed&&A[a].Links){l=A[a].Links;for(j=0;j<l.length;j+=1){if(A[a].bIsTable===false){l[j].oVL.getContent()[1].setText(l[j].oVL.getContent()[0].getText());}}}}};I=function(e,l,t){var m,n,p,c1,d1,e1,f1,g1,i,h1={},i1,j1,k1,l1,j,m1,n1,o1,p1,q1,r1,s1,t1,u1,v1=0,w1=0,x1,y1,z1,A1,B1,C1,D1,E1=[],F1,G1,H1,I1,J1,K1,L1,M1,N1,O1,P1,Q1,R1,S1,T1,U1,V1,W1=0,X1,Y1,Z1,$1,_1,a2,b2,c2;m=f(e);r1=l.substring(0,l.substring(0,l.lastIndexOf('/')).lastIndexOf('/'));s1=l.substring(l.substring(0,l.lastIndexOf('/')).lastIndexOf('/'));if(window.location.search.indexOf('cbn_keep_anno_case%3Dtrue')===-1){s1=s1.toLowerCase();}n=new sap.ui.model.odata.ODataModel(m,{annotationURI:r1+s1,loadAnnotationsJoined:true,loadMetadataAsync:false,json:true});n.setCountSupported(false);t.setModel(n);p=h(e,n);c1='/'+e.slice(m.length);d1=n.getServiceMetadata();M=n.getServiceAnnotations();e1=r(p,d1);f1=M[e1]['com.sap.vocabularies.UI.v1.HeaderInfo'];g1=M[e1]['com.sap.vocabularies.UI.v1.Facets'];t.bindElement(c1,w(p,d1));t1=sap.ui.getCore().getLibraryResourceBundle('sap.suite.ui.commons');L.InteropCompleted=false;d(g(d1));t.addStyleClass('sapFactsheetUtiThingType'+p.replace(/\\s/g,''));if(f1.TypeName.String){t.setTitle(f1.TypeName.String);}else{if(f1.TypeName.Path){t.bindProperty('title',{path:f1.TypeName.Path});}}if(f1.ImageUrl&&f1.ImageUrl.String){t.setIcon(f1.ImageUrl.String);}else if(f1.ImageUrl&&f1.ImageUrl.Path){t.bindProperty('icon',{path:f1.ImageUrl.Path});}else if(f1.TypeImageUrl&&f1.TypeImageUrl.String){t.setIcon(f1.TypeImageUrl.String);}else if(f1.TypeImageUrl&&f1.TypeImageUrl.Path){t.bindProperty('icon',{path:f1.TypeImageUrl.Path});}if(f1.Title.Value.String){t.setName(f1.Title.Value.String);}else{t.bindProperty('name',K(f1.Title.Value,f1.Title.EdmType,e1).BindingInfo);}if(f1.Description&&f1.Description.Value){if(f1.Description.Value.String){t.setDescription(f1.Description.Value.String);}else{t.bindProperty('description',K(f1.Description.Value,f1.Description.EdmType,e1).BindingInfo);}}for(X1 in M[e1]){if(M[e1].hasOwnProperty(X1)){if(X1.search('com.sap.vocabularies.UI.v1.DataPoint')!==-1){Y1=M[e1][X1];if(Y1){t.addKpi(U(n,Y1,e1,c1));W1+=1;}}if(W1>=3){break;}}}for(i=0;i<g1.length;i+=1){if(g1[i]['com.sap.vocabularies.UI.v1.IsSummary']){n1=g1[i];break;}}if(n1){u1=15;for(j=0;j<n1.Facets.length;j+=1){x1=n1.Facets[j].Target.AnnotationPath.substring(n1.Facets[j].Target.AnnotationPath.lastIndexOf('@')+1);i1=n1.Facets[j].Target.AnnotationPath;i1=i1.substring(0,i1.lastIndexOf('@')-1);n1.Facets[j].NavPath=i1;y1=u(p,i1,d1);n1.Facets[j].NavEntitySet=y1;if(y1){z1=y1;}else{z1=p;}n1.Facets[j].EntitySet=z1;A1=r(y1,d1);if(A1){B1=A1;}else{B1=e1;}n1.Facets[j].EntityType=B1;C1=[];if(M[B1][x1].length){C1=M[B1][x1];}else if(M[B1][x1].Data.length){C1=M[B1][x1].Data;}n1.Facets[j].Content=C1;for(i=0;i<C1.length;i+=1){D1=W(C1[i]);if(D1==='High'){v1+=1;}else if(D1==='Medium'){w1+=1;}}}if(v1>=u1){v1=u1;w1=0;}else if((v1+w1)>u1){w1=u1-v1;if(w1<0){w1=0;}}if(jQuery.device.is.phone){w1=0;}H1=u1-v1-w1;P1=new sap.suite.ui.commons.FacetOverview({title:t1.getText('UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT')});A=[];A.push(P1);A[0].bLoaded=false;A[0].bProcessed=false;A[0].bIsTable=false;I1=[];K1=w1+v1;for(j=0;j<n1.Facets.length;j+=1){L1=N(n,n1.Facets[j].EntitySet,n1.Facets[j].Content,{High:v1,Medium:w1,Low:0},null,P1).addStyleClass('sapFactsheetUtiTilePadding');if(j>0){L1.addStyleClass('sapFactsheetUtiPaddingTop');}if(n1.Facets[j].NavPath){L1.bindElement(c1+'/'+n1.Facets[j].NavPath);}J1=T(n1.Facets[j].Content);v1-=J1.High;w1-=J1.Medium;if(((J1.High>0)&&((v1+J1.High)>0))||((J1.Medium>0)&&((w1+J1.Medium)>0))){I1.push(L1);if(j>0){if(H1>0){H1-=1;}else if(w1>0){w1-=1;}else if(v1>0){v1-=1;}}}if((v1<1)&&(w1<1)){break;}}if(v1<0){v1=0;}if(w1<0){w1=0;}h1=new sap.ui.layout.VerticalLayout({content:I1,width:'100%'});M1=S();O1=1;if((K1>3)&&(K1<=9)){M1=S(2);O1=2;}else if(K1>9){M1=S(3);O1=3;}P1.setContent(h1);P1.setRowSpan(O1);if(jQuery.device.is.phone){P1.setHeightType(sap.suite.ui.commons.FacetOverviewHeight.Auto);}else{P1.setHeight(M1);}P1.addStyleClass('sapFactsheetUtiGeneralInformationOverviewFacet');P1.attachPress({facets:n1},function(o,a){var b,k,d2,e2,h1;t.removeAllFacetContent();d2=new sap.suite.ui.commons.UnifiedThingGroup();d2.setDescription(V());d2.setTitle(t1.getText('UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT'));d2.addStyleClass('sapFactsheetUtiGeneralInformationUtg');if(a.facets.Facets.length>1){b='L6 M12 S12';}else{b='L12 M12 S12';}A[0].Links=[];e2=new sap.ui.layout.VerticalLayout({width:'100%'});for(i=0;i<a.facets.Facets.length;i+=1){if(i%2===0){k=new sap.ui.layout.Grid({hSpacing:1,vSpacing:1,defaultSpan:b});}h1=O(n,p,a.facets.Facets[i],c1,this);h1.addStyleClass('sapFactsheetUtiGeneralInformationUtgContent');if((i===0)&&(a.facets.Facets.length>1)&&(h1.getTitle().trim()==='')){h1.setTitle(t1.getText('UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT'));}k.addContent(h1);if(i%2!==0){e2.addContent(k);}}A[0].bLoaded=true;A[0].bProcessed=false;A[0].bIsTable=false;c(0);if(i%2!==0){e2.addContent(k);}d2.setContent(e2);t.addFacetContent(d2);t.navigateToDetail();});t.addFacet(P1);}k1=function(l1){return function(a){var o,b,k,d2,e2,f2,g2,h2,i2,j2,c1,k2,l2,m2,n2,o2,p2,q2,r2,i;if((l1.cardinality==='*'&&a.results&&a.results.length&&a.results.length!==0)||(l1.cardinality==='1'&&a)){j2=new sap.ui.model.json.JSONModel();if(l1.cardinality==='*'){if(a.results&&a.results.length){j2.setData(a);}}else{j2.setData({result:a});c1='/result';}o=new sap.ui.model.odata.ODataModel('/sap/opu/odata/sap/VBI_APPL_DEF_SRV',false);b=M[l1.navigationType]['com.sap.vocabularies.UI.v1.GeoLocation'];l2=M[l1.navigationType]['com.sap.vocabularies.UI.v1.HeaderInfo'];m2=M[l1.navigationType]['com.sap.vocabularies.UI.v1.Identification'];if(b.Longitude&&b.Latitude){d2={'Data':{'Set':{'N':[{'name':'Spots','E':[]}]}}};if(l1.cardinality==='1'){if(b.Longitude.Path&&b.Latitude.Path){k=a[b.Longitude.Path]+';'+a[b.Latitude.Path]+';0';}d2.Data.Set.N[0].E.push({'A':k,'I':'pin_blue.png'});}else{for(i=0;i<a.results.length;i+=1){if(b.Longitude.Path&&b.Latitude.Path){k=a.results[i][b.Longitude.Path]+';'+a.results[i][b.Latitude.Path]+';0';}d2.Data.Set.N[0].E.push({'A':k,'I':'pin_blue.png'});}if(a.results.length!==0){k=a.results[0][b.Longitude.Path]+';'+a.results[0][b.Latitude.Path]+';0';}}}r2=parseInt(a.__count,10);if(Number(r2)){l1.facet.setQuantity(r2);}g2=function(s2){var t2,u2,v2,w2,x2;t2=$.parseJSON(s2.getParameters().data);if(t2.Action.name==='DETAIL_REQUEST'&&t2.Action.instance){u2=t2.Action.instance;if(j2.oData.results){c1='/results/'+u2.split('.')[1];}q2=l2.TypeName.String.substring(0,17);w2=parseFloat(S(0.7))*16;x2=parseFloat(S(1.5))*16;v2={'SAPVB':{'version':'2.0','xmlns:VB':'VB','Windows':{'Remove':{'name':'Detail1'},'Set':{'name':'Detail1','Window':{'id':'Detail1','type':'callout','refParent':'Main','refScene':'','offsetX':'16','offsetY':'-27','modal':'false','width':x2,'height':w2,'caption':q2,'pos.bind':u2+'.GeoPosition'}}},'Scenes':{'Set':{'name':'Details','Scene':{'id':'Details','navControlVisible':'false'}}}}};this.load(v2);}};h2=function(s2){var X1,t2,y1,u2;if(!n2){n2=B(l2.Title,l1.navigationType,d1,l1.facet);n2.setModel(j2);n2.bindElement(c1);o2=B(l2.Description,l1.navigationType,d1,l1.facet);o2.setModel(j2);o2.bindElement(c1);for(X1 in b.Address){if(X1==='label'){k2=B({Value:b.Address[X1]},l1.navigationType,d1,l1.facet);k2.setModel(j2);k2.bindElement(c1);break;}}u2=7;if(jQuery.device.is.tablet&&jQuery.device.is.landscape){u2=4;}else if(jQuery.device.is.tablet&&jQuery.device.is.portrait){u2=5;}else if(jQuery.device.is.phone&&jQuery.device.is.landscape){u2=2;}else if(jQuery.device.is.phone&&jQuery.device.is.portrait){u2=3;}p2=new sap.ui.layout.VerticalLayout({width:'100%'}).setModel(n);if(l1.navigationPath){y1=u(l1.entitySet,l1.navigationPath,d1);p2.addContent(N(n,y1,m2,{High:u2},null,l1.facet));p2.setModel(j2).bindElement(c1);}else{p2.addContent(N(n,l1.entitySet,m2,{High:u2},null,l1.facet)).setModel(j2).bindElement(c1);}}else{n2.bindElement(c1);if(o2){o2.bindElement(c1);}if(k2){k2.bindElement(c1);}if(p2){p2.bindElement(c1);}}t2=parseFloat(S(1.5))*16*0.95+'px';if(n2){n2.placeAt(s2.getParameter('contentarea').id);n2.addStyleClass('sapFactsheetUtiGeoPopupHead');if(jQuery.device.is.phone){n2.addStyleClass('sapFactsheetUtiGeoPopupHeadFontPhone');}n2.setWidth(t2);}if(o2){o2.placeAt(s2.getParameter('contentarea').id);o2.addStyleClass('sapFactsheetUtiGeoPopupDescr');if(jQuery.device.is.phone){o2.addStyleClass('sapFactsheetUtiGeoPopupDescrFontPhone');}o2.setWidth(t2);}if(k2){k2.placeAt(s2.getParameter('contentarea').id);k2.addStyleClass('sapFactsheetUtiGeoPopupText');k2.setWidth(t2);}if(p2&&p2.getContent()[0]&&p2.getContent()[0].getContent&&p2.getContent()[0].getContent().length>0){p2.placeAt(s2.getParameter('contentarea').id);p2.addStyleClass('sapFactsheetUtiGeoPopupText');p2.setWidth(t2);}if(A.indexOf(l1.facet)>=0){A[A.indexOf(l1.facet)].bLoaded=true;A[A.indexOf(l1.facet)].bProcessed=false;A[A.indexOf(l1.facet)].bIsTable=false;}c(A.indexOf(l1.facet));};i2=function(s2){if(n2){n2.destroy();n2=undefined;}if(o2){o2.destroy();o2=undefined;}if(k2){k2.destroy();k2=undefined;}if(p2){p2.destroy();p2=undefined;}$(s2.getParameter('contentarea').id).empty();};e2=function(l1){return function(a){var s2,t2,u2,v2,i;v2=a.ProjectJSON;v2=v2.indexOf('{')?v2.substr(v2.indexOf('{')):v2;s2=$.parseJSON(v2);s2.SAPVB.Scenes.Set.SceneGeo.initialStartPosition=k;s2.SAPVB.Scenes.Set.SceneGeo.initialZoom=12;s2.SAPVB.Actions.Set.Action.push({id:'200',name:'TAP_ON_MAP',refEvent:'Click',refScene:'MainScene',refVO:'Map'});if(d2){s2.SAPVB.Data=d2.Data;}for(i=0;i<s2.SAPVB.Scenes.Set.SceneGeo.VO.length;i+=1){if(s2.SAPVB.Scenes.Set.SceneGeo.VO[i].datasource==='Spots'){if(s2.SAPVB.Scenes.Set.SceneGeo.VO[i].scale&&s2.SAPVB.Scenes.Set.SceneGeo.VO[i].scale.split(';').length!==3){s2.SAPVB.Scenes.Set.SceneGeo.VO[i].scale='1.0;1.0;1.0';break;}}}l1.facet.getContent().attachSubmit(function(w2){if(jQuery.device.is.tablet||jQuery.device.is.phone){l1.facet.firePress();}});l1.facet.getContent().load(s2);l1.facet.attachPress('',function(w2,x2){var y2=[],z2=[],i,A2;if(!t2){t2=new sap.ui.vbm.VBI({width:'100%',height:'100%',plugin:false,config:null});t2.addStyleClass('sapFactsheetUtiGeoPopup');}s2.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.move='false';s2.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.zoom='false';s2.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.pitch='false';s2.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.yaw='false';s2.SAPVB.Scenes.Set.SceneGeo.SuppressedNavControlVisibility='false';t2.load(s2);if(l1.cardinality==='*'){for(i=0;i<j2.oData.results.length;i+=1){y2.push(j2.oData.results[i][b.Longitude.Path]);z2.push(j2.oData.results[i][b.Latitude.Path]);}}t2.attachSubmit(g2);t2.attachOpenWindow(h2);t2.attachCloseWindow(i2);u2=new sap.suite.ui.commons.UnifiedThingGroup({content:t2,title:l1.facetContent.Label.String,description:V()});t.removeAllFacetContent();t.addFacetContent(u2);t.navigateToDetail();t.attachAfterNavigate(y2,function(w2){if(w2.getParameters().getParameters().toId.indexOf('-detail-page')!==-1){if(jQuery.device.is.phone){A2='300px';}else{A2=Math.floor($('#'+w2.getParameters().getParameters().toId+'-cont').height()-128)+'px';}t2.setHeight(A2);if(y2.length>1){t2.zoomToGeoPosition(y2,z2);}}});});};};f2=function(s2){return function(t2){t.removeFacet(s2);};};o.read(\"VBIApplicationSet('ZFACTSHEETS')\",'','',false,e2(l1),f2(l1.facet));}else{l1.facet.setQuantity(undefined);l1.facet.addStyleClass('sapFactsheetUtiEmptyTile');l1.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S);l1.facet.setContent(undefined);l1.facet.setTitle(undefined);}};};b2=function(o){var a,b;a=o.srcControl.getParent().getParent().getDomRef().clientWidth;b=a;if(o.srcControl.getParent().getContent()[0]){b-=o.srcControl.getParent().getContent()[0].getDomRef().clientWidth;if(a<o.srcControl.getParent().getContent()[0].getDomRef().clientWidth){o.srcControl.getParent().getContent()[0].getDomRef().setAttribute('style','width:'+a+'px');return;}}if(o.srcControl.getParent().getContent()[1]){b-=o.srcControl.getParent().getContent()[1].getDomRef().clientWidth;}if(b<10){b=0;}if(o.srcControl.getParent().getContent()[2]){o.srcControl.getParent().getContent()[2].getDomRef().setAttribute('style','width:'+b+'px');}};j1=function(l1){return function(a){var o,b,k,d2,e2,f2,i,j,h1,g2,h2,i2,j2,k2,l2,m2,n2,o2,p2,q2,r2,s2,t2,u2,v2,w2='',x2,y2,z2,A2,B2,C2;o=new sap.ui.model.json.JSONModel();if(l1.facetContent.Target&&l1.facetContent.Target.AnnotationPath&&l1.facetContent.Target.AnnotationPath.split('#')[1]&&M[l1.navigationType]['com.sap.vocabularies.UI.v1.Badge#'+l1.facetContent.Target.AnnotationPath.split('#')[1]]){b=M[l1.navigationType]['com.sap.vocabularies.UI.v1.Badge#'+l1.facetContent.Target.AnnotationPath.split('#')[1]];}else{b=M[l1.navigationType]['com.sap.vocabularies.UI.v1.Badge'];}if(l1.cardinality==='*'){if(a.results&&a.results.length){x2=l1.facetContent.Target.AnnotationPath;Z1=x2.substring(x2.lastIndexOf('@')+1);if(Z1==='com.sap.vocabularies.UI.v1.Chart'){jQuery.sap.require('sap.viz.ui5.data.FlattenedDataset');y2=M[l1.navigationType]['com.sap.vocabularies.UI.v1.Chart'];z2=M.propertyExtensions[l1.navigationType];A2=[];for(i=0;i<y2.Dimensions.length;i+=1){A2.push({axis:1,name:z2[y2.Dimensions[i].PropertyPath]['http://www.sap.com/Protocols/SAPData'].label,value:'{'+y2.Dimensions[i].PropertyPath+'}'});}B2=[];for(i=0;i<y2.Measures.length;i+=1){B2.push({name:z2[y2.Measures[i].PropertyPath]['http://www.sap.com/Protocols/SAPData'].label,value:'{'+y2.Measures[i].PropertyPath+'}'});}C2=new sap.viz.ui5.data.FlattenedDataset({dimensions:A2,measures:B2,data:{path:'/results'}});h1=R(y2.ChartType.EnumMember,y2.Title,y2.Description,C2);h1.setModel(o);l1.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.XL);}else{h1=new sap.ui.layout.VerticalLayout({width:'100%'}).addStyleClass('sapFactsheetUtiVLayoutPadding');for(i=0;i<a.results.length;i+=1){e2=new sap.ui.layout.HorizontalLayout().addStyleClass('sapFactsheetUtiHLayoutPadding');k=B(b.Title,l1.navigationType,d1,l1.facet);if(k.setWrapping){k.setWrapping(false);}k.addDelegate({onAfterRendering:b2});o=new sap.ui.model.json.JSONModel();o.setData({result:a.results[i]});k.setModel(o);k.bindElement('/result');f2=false;if(a.results[i][b.Title.Value.Path]){f2=true;}if(b.Title.Value.Apply){for(j=0;j<b.Title.Value.Apply.Parameters.length;j+=1){if(b.Title.Value.Apply.Parameters[j].Type==='Path'){if(a.results[i][b.Title.Value.Apply.Parameters[j].Value]){f2=true;break;}}}}w2='';if(f2){e2.addContent(k);if(b.MainInfo&&((b.MainInfo.EdmType&&b.MainInfo.EdmType==='Edm.Decimal')||(b.MainInfo.Value&&b.MainInfo.Value.Apply&&b.MainInfo.Value.Apply.Parameters[0]&&b.MainInfo.Value.Apply.Parameters[0].EdmType&&b.MainInfo.Value.Apply.Parameters[0].EdmType==='Edm.Decimal'))){w2='comma';}else if(b.MainInfo&&b.MainInfo.Value.Path&&a.results[i][b.MainInfo.Value.Path]){w2='dash';}else if(b.MainInfo&&b.MainInfo.Value.Apply){for(j=0;j<b.MainInfo.Value.Apply.Parameters.length;j+=1){if(b.MainInfo.Value.Apply.Parameters[j].Type==='Path'){if(a.results[i][b.MainInfo.Value.Apply.Parameters[j].Value]){w2='dash';break;}}}}if(w2==='dash'){e2.addContent(new sap.ui.core.HTML({content:\"<span class=\\\"sapFactsheetUtiSeparatorPadding sapMText\\\"> &ndash; </span>\"}));}if(w2==='comma'){e2.addContent(new sap.m.Text({text:', '}).addStyleClass('sapFactsheetUtiSeparatorPaddingForDecimal'));}}if(b.MainInfo){d2=B(b.MainInfo,l1.navigationType,d1,l1.facet);if(d2.setWrapping){d2.setWrapping(false);}d2.addDelegate({onAfterRendering:b2});d2.setModel(o);d2.bindElement('/result');e2.addContent(d2);}h1.addContent(e2);}}g2=parseInt(a.__count,10);if(Number(g2)){l1.facet.setQuantity(g2);}l1.facet.setContent(h1);l1.facet.attachPress({facet:l1.facetContent},function(D2,E2){var h1;t.removeAllFacetContent();A[A.indexOf(l1.facet)].Links=[];h1=O(n,l1.entitySet,E2.facet,l1.bindingPath,this);h1.setDescription(V());t.addFacetContent(h1);if(A.indexOf(l1.facet)>=0){A[A.indexOf(l1.facet)].bLoaded=false;A[A.indexOf(l1.facet)].bProcessed=false;A[A.indexOf(l1.facet)].bIsTable=true;}c(A.indexOf(l1.facet));t.navigateToDetail();});}else{l1.facet.setQuantity(0);l1.facet.addStyleClass('sapFactsheetUtiEmptyTile');l1.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S);}if(A.indexOf(l1.facet)>=0){A[A.indexOf(l1.facet)].bLoaded=true;A[A.indexOf(l1.facet)].bProcessed=false;A[A.indexOf(l1.facet)].bIsTable=false;}c(A.indexOf(l1.facet));}else{o.setData({result:a});for(u2 in a){if(a.hasOwnProperty(u2)){if(u2!=='__metadata'){if(typeof a[u2]==='string'&&a[u2]){if(parseInt(a[u2],10)!==0){v2=true;break;}}else if(typeof a[u2]==='number'&&parseInt(a[u2],10)!==0){v2=true;break;}}}}if(v2){h2=new sap.ui.layout.VerticalLayout();i2=(M.propertyExtensions)?M.propertyExtensions[l1.navigationType]:[];j2=new sap.ui.layout.HorizontalLayout().addStyleClass('sapFactsheetUtiHLayoutLabelValue');k2=C(b.Title,{},i2,true).addStyleClass('sapFactsheetUtiLabelMargin');k=B(b.Title,l1.navigationType,d1,l1.facet);k.setModel(o);k.bindElement('/result');j2.addContent(k2);j2.addContent(k);h2.addContent(j2);if(b.MainInfo){l2=new sap.ui.layout.HorizontalLayout().addStyleClass('sapFactsheetUtiHLayoutLabelValue');m2=C(b.MainInfo,{},i2,true).addStyleClass('sapFactsheetUtiLabelMargin');d2=B(b.MainInfo,l1.navigationType,d1,l1.facet);d2.setModel(o);d2.bindElement('/result');l2.addContent(m2);l2.addContent(d2);h2.addContent(l2);}if(b.SecondaryInfo){n2=new sap.ui.layout.HorizontalLayout().addStyleClass('sapFactsheetUtiHLayoutLabelValue');o2=C(b.SecondaryInfo,{},i2,true).addStyleClass('sapFactsheetUtiLabelMargin');p2=B(b.SecondaryInfo,l1.navigationType,d1,l1.facet);p2.setModel(o);p2.bindElement('/result');n2.addContent(o2);n2.addContent(p2);h2.addContent(n2);}if(b.TypeImageUrl||b.ImageUrl){if(b.ImageUrl){q2=b.ImageUrl;}else{q2=b.TypeImageUrl;}r2=new sap.ui.layout.HorizontalLayout();s2='64px';if(jQuery.device.is.phone){s2='48px';}if(q2.String&&(q2.String.substr(0,11)==='sap-icon://')){t2=new sap.ui.core.Icon({size:s2,width:s2});}else{t2=new sap.m.Image({width:s2});}t2.addStyleClass('sapFactsheetUtiRelIcon');if(q2&&q2.String){t2.setSrc(q2.String);}else{if(q2&&q2.Path){t2.bindProperty('src',q2.Path);}}r2.addContent(t2);r2.addContent(h2);l1.facet.setContent(r2);}else{l1.facet.setContent(h2);}l1.facet.attachPress({facet:l1.facetContent},function(D2,E2){var h1;t.removeAllFacetContent();A[A.indexOf(l1.facet)].Links=[];h1=O(n,l1.entitySet,E2.facet,l1.bindingPath,this);h1.setDescription(V());t.addFacetContent(h1);if(A.indexOf(l1.facet)>=0){A[A.indexOf(l1.facet)].bLoaded=true;A[A.indexOf(l1.facet)].bProcessed=false;A[A.indexOf(l1.facet)].bIsTable=false;}c(A.indexOf(l1.facet));t.navigateToDetail();});}else{l1.facet.addStyleClass('sapFactsheetUtiEmptyTile');l1.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S);}if(A.indexOf(l1.facet)>=0){A[A.indexOf(l1.facet)].bLoaded=true;A[A.indexOf(l1.facet)].bProcessed=false;A[A.indexOf(l1.facet)].bIsTable=false;}c(A.indexOf(l1.facet));}};};a2=function(l1){return function(a){t.removeFacet(l1.facet);};};$1=function(l1){return function(a){var o,b,i,k,d2;b=M[l1.navigationType]['com.sap.vocabularies.UI.v1.MediaResource'];if(l1.cardinality==='*'){if(a.results&&a.results.length){o=new sap.ui.layout.HorizontalLayout().addStyleClass('sapFactsheetUtiPictureViewerOverview');for(i=0;i<a.results.length;i+=1){o.addContent(new sap.m.Image({src:a.results[i][b.Thumbnail.Url.Path],height:'85px'}));if(i===3){break;}}k=parseInt(a.__count,10);if(Number(k)){l1.facet.setQuantity(k);}l1.facet.setContent(o);l1.facet.attachPress({facet:l1.facetContent,data:a},function(e2,f2){var g2,_1,h2;t.removeAllFacetContent();d2=new sap.suite.ui.commons.UnifiedThingGroup();if(f2.facet.Label&&f2.facet.Label.String){d2.setTitle(f2.facet.Label.String);}d2.setDescription(V());if(jQuery.device.is.phone){_1='350px';}else{_1='550px';}g2=new sap.m.Carousel({height:_1});for(i=0;i<f2.data.results.length;i+=1){h2=new sap.m.Image({src:f2.data.results[i][b.Url.Path]});if(jQuery.device.is.phone){h2.addStyleClass('sapFactsheetUtiCarouselMaxImageHeightPhone');}else{h2.addStyleClass('sapFactsheetUtiCarouselMaxImageHeight');}g2.addPage(h2);}d2.setContent(g2);t.addFacetContent(d2);t.navigateToDetail();});}else{l1.facet.setQuantity(0);l1.facet.addStyleClass('sapFactsheetUtiEmptyTile');l1.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S);}}};};c2=function(o,d2){var k,i,j,e2=[],f2={},g2,h2,i2,j2,k2,l2,m2,n2;h2=function(d1,a){var i,b='';if(d1){if(d1.Path){return a[d1.Path];}else if(d1.String){return d1.String;}else if(d1.Apply.Name==='odata.concat'){for(i=0;i<d1.Apply.Parameters.length;i+=1){if(d1.Apply.Parameters[i].Type==='Path'){b=b+a[d1.Apply.Parameters[i].Value];}else if(d1.Apply.Parameters[i].Type==='String'){b=b+d1.Apply.Parameters[i].Value;}}return b;}}};f2.iCount=0;f2.aContacts=[];for(i=0;i<o.__batchResponses.length;i+=1){if(!o.__batchResponses[i].data){continue;}e2=o.__batchResponses[i].data.results;if(!e2){e2=[];e2.push(o.__batchResponses[i].data);}if(e2.length>0){g2=M[e2[0].__metadata.type]['com.sap.vocabularies.Communication.v1.Contact'];if(g2){for(j=0;j<e2.length;j+=1){i2=j2=k2='';if(g2.tel){for(k=0;k<g2.tel.length;k+=1){if(g2.tel[k].type&&g2.tel[k].type.EnumMember){l2=h2(g2.tel[k].uri,e2[j]);switch(g2.tel[k].type.EnumMember){case'com.sap.vocabularies.Communication.v1.PhoneType/voice':i2=l2?l2.replace('tel:',''):'';i2=i2?i2.replace(';ext=',''):'';break;case'com.sap.vocabularies.Communication.v1.PhoneType/cell':j2=l2?l2.replace('tel:',''):'';j2=j2?j2.replace(';ext=',''):'';break;case'com.sap.vocabularies.Communication.v1.PhoneType/fax':k2=l2?l2.replace('tel:',''):'';k2=k2?k2.replace(';ext=',''):'';break;}}}}n2=g2.email&&g2.email.address?g2.email.address:'';m2=h2(g2.photo,e2[j]);f2.iCount+=1;f2.aContacts.push({fn:h2(g2.fn,e2[j]),title:h2(g2.title,e2[j]),org:h2(g2.org,e2[j]),phone:i2,mobile:j2,fax:k2,photo:m2,email:h2(n2,e2[j]),sEntity:e2[0].__metadata.type,bExistsPhoto:m2?true:false,bUseIcon:m2?false:true,sOrder:f2.iCount});}}}}if(d2){f2.aContacts.sort(function(a,b){return a[d2]>b[d2]?1:-1;});}return f2;};G1=function(l1){return function(o){var i,a,b,k,d2,e2,f2,g2;a=c2(o,'sOrder');b=new sap.ui.layout.Grid({defaultSpan:'L6 M6 S12',hSpacing:0,vSpacing:0}).addStyleClass('sapFactsheetUtiContactsGrid');for(i=0;i<a.aContacts.length&&i<4;i+=1){e2=new sap.ui.layout.VerticalLayout();if(a.aContacts[i].photo){f2=new sap.m.Image({height:'55px',src:a.aContacts[i].photo});}else{f2=new sap.ui.core.Icon({size:'50px',src:sap.ui.core.IconPool.getIconURI('person-placeholder')}).addStyleClass('sapFactsheetUtiRelIcon');}e2.addContent(f2);e2.addStyleClass('sapFactsheetUtiContactsImage');d2=new sap.ui.layout.VerticalLayout({content:[new sap.m.Text({text:a.aContacts[i].fn}).addStyleClass('sapFactsheetUtiTextName'),new sap.m.Text({text:a.aContacts[i].title}).addStyleClass('sapFactsheetUtiTextValue')]});k=new sap.ui.layout.HorizontalLayout({content:[e2,d2]}).addStyleClass('sapFactsheetUtiContactsBox');b.addContent(k);}P1=sap.ui.getCore().byId(t.data('contactFacetId'));P1.setQuantity(a.iCount);if(i>0){P1.setContent(b);if(i<=2){g2=sap.suite.ui.commons.FacetOverviewHeight.M;}else{g2=sap.suite.ui.commons.FacetOverviewHeight.L;}P1.attachPress(function(){var i,E1=[],F1;n.clearBatch();for(i=0;i<M[e1]['com.sap.vocabularies.UI.v1.Contacts'].length;i+=1){i1=M[e1]['com.sap.vocabularies.UI.v1.Contacts'][i].AnnotationPath;i1=i1.substring(0,i1.lastIndexOf('@')-1);if(i1!==''){F1=c1+'/'+i1;}else{F1=c1;}E1.push(n.createBatchOperation(F1,'GET'));}n.addBatchReadOperations(E1);n.submitBatch(function(o){var a,h2,i2,j2,k2,l2,m2;m2=jQuery.sap.resources({url:jQuery.sap.getModulePath('sap.ushell.components.container.')+'/resources/resources.properties',language:sap.ui.getCore().getConfiguration().getLanguage()});a=c2(o,'sEntity');h2=new sap.ui.model.json.JSONModel();h2.setData(a);i2=new sap.m.ColumnListItem({type:sap.m.Inactive,unread:false,cells:[new sap.ui.layout.VerticalLayout({content:[new sap.m.Image({src:'{photo}',width:'74px',visible:'{bExistsPhoto}'}),new sap.ui.core.Icon({size:'76px',src:sap.ui.core.IconPool.getIconURI('person-placeholder'),visible:'{bUseIcon}'}).addStyleClass('sapFactsheetUtiRelIcon')]}),new sap.ui.layout.VerticalLayout({content:[new sap.m.Text({text:'{fn}'}).addStyleClass('sapFactsheetUtiContactsName'),new sap.m.Label({text:'{title}'}),new sap.m.Label({text:'{org}'})]}),new sap.m.Link({text:'{phone}',href:'tel:{phone}'}),new sap.m.Link({text:'{mobile}',href:'tel:{mobile}'}),new sap.m.Link({text:'{fax}',href:'tel:{fax}'}),new sap.m.Link({text:'{email}',href:'mailto:{email}'})]});j2=new sap.m.Table({threshold:2,inset:false,showUnread:true,scrollToLoad:true,columns:[new sap.m.Column({hAlign:sap.ui.core.TextAlign.Center,width:'12%',header:new sap.m.Text({text:''})}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,header:new sap.m.Text({text:m2.getText('USHELL_FACTSHEET_NAME')})}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:'12%',header:new sap.m.Text({text:m2.getText('USHELL_FACTSHEET_PHONE')}),minScreenWidth:'Tablet',demandPopin:true}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:'12%',header:new sap.m.Text({text:sap.ushell.resources.i18n.getText('mobile')}),minScreenWidth:'Tablet',demandPopin:true}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:'12%',header:new sap.m.Text({text:sap.ushell.resources.i18n.getText('fax')}),minScreenWidth:'Tablet',demandPopin:true}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:'26%',header:new sap.m.Text({text:m2.getText('USHELL_FACTSHEET_EMAIL')}),minScreenWidth:'Tablet',demandPopin:true})],items:{path:'/aContacts',template:i2}});k2=new sap.m.ViewSettingsDialog({sortItems:[new sap.m.ViewSettingsItem({key:'fn',text:m2.getText('USHELL_FACTSHEET_NAME')}),new sap.m.ViewSettingsItem({key:'phone',text:m2.getText('USHELL_FACTSHEET_PHONE')}),new sap.m.ViewSettingsItem({key:'mobile',text:sap.ushell.resources.i18n.getText('mobile')}),new sap.m.ViewSettingsItem({key:'fax',text:sap.ushell.resources.i18n.getText('fax')}),new sap.m.ViewSettingsItem({key:'email',text:m2.getText('USHELL_FACTSHEET_EMAIL')})],confirm:function(n2){var o2,p2,q2=[];o2=n2.getParameters();p2=j2.getBinding('items');if(o2.sortItem){q2.push(new sap.ui.model.Sorter(o2.sortItem.getKey(),o2.sortDescending));p2.sort(q2);}}});j2.setHeaderToolbar(new sap.m.Toolbar({content:[new sap.m.Label(),new sap.m.ToolbarSpacer(),new sap.m.Button({icon:'sap-icon://drop-down-list',press:function(n2){k2.open();}})]}));j2.setModel(h2);l2=new sap.suite.ui.commons.UnifiedThingGroup({title:P1.getTitle(),description:V(),content:j2});t.removeAllFacetContent();t.addFacetContent(l2);t.navigateToDetail();});});}else{g2=sap.suite.ui.commons.FacetOverviewHeight.S;P1.addStyleClass('sapFactsheetUtiEmptyTile');P1.setQuantity(0);}P1.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:g2);};};for(i=0;i<g1.length;i+=1){if(g1[i]['com.sap.vocabularies.UI.v1.Map']){i1=g1[i].Target.AnnotationPath;i1=i1.substring(0,i1.lastIndexOf('@')-1);S1='1';R1=e1;if(i1){R1=X(i1,e1,d1);S1=v(p,i1,d1);}_1='100%';if(jQuery.device.is.phone){_1='150px';}Q1=new sap.ui.vbm.VBI({width:'100%',height:_1,plugin:false,config:null});P1=new sap.suite.ui.commons.FacetOverview({title:g1[i].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.L,content:Q1});A.push(P1);A[A.length-1].bLoaded=false;A[A.length-1].bProcessed=false;A[A.length-1].bIsTable=false;l1={cardinality:S1,navigationPath:i1,facet:P1,facetContent:g1[i],navigationType:R1,metadata:d1,bindingPath:c1,entitySet:p};if(S1==='*'){T1=['$inlinecount=allpages','$top=1000'];}else{T1=[];}n.read(c1+'/'+i1,'',T1,true,k1(l1));t.addFacet(P1);}else{if(g1[i].Target){i1=g1[i].Target.AnnotationPath;i1=i1.substring(0,i1.lastIndexOf('@')-1);Z1=g1[i].Target.AnnotationPath.substring(g1[i].Target.AnnotationPath.lastIndexOf('@')+1);if(i1){R1=X(i1,e1,d1);P1=new sap.suite.ui.commons.FacetOverview({title:g1[i].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.M});S1=v(p,i1,d1);if(S1!==0){l1={cardinality:S1,navigationPath:i1,facet:P1,facetContent:g1[i],navigationType:R1,metadata:d1,bindingPath:c1,entitySet:p};if(g1[i]['com.sap.vocabularies.UI.v1.Gallery']){if(S1==='*'){T1=['$inlinecount=allpages'];}else{T1=[];}n.read(c1+'/'+i1,'',T1,true,$1(l1));}else{A.push(P1);A[A.length-1].bLoaded=false;A[A.length-1].bProcessed=false;A[A.length-1].bIsTable=false;if(S1==='*'){T1=['$inlinecount=allpages','$top=3'];}else{T1=[];}n.read(c1+'/'+i1,'',T1,true,j1(l1),a2(l1));}t.addFacet(P1);}}else{if(Z1==='com.sap.vocabularies.UI.v1.Contacts'){P1=new sap.suite.ui.commons.FacetOverview({title:g1[i].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.M});t.data('contactFacetId',P1.sId);l1={facet:P1};n.clearBatch();for(j=0;j<M[e1][Z1].length;j+=1){i1=M[e1][Z1][j].AnnotationPath;i1=i1.substring(0,i1.lastIndexOf('@')-1);if(i1!==''){S1=v(p,i1,d1);if(S1==='*'){F1=c1+'/'+i1+'?$top=4'+'&$inlinecount=allpages';}else{F1=c1+'/'+i1;}}else{F1=c1;}E1.push(n.createBatchOperation(F1,'GET'));}n.addBatchReadOperations(E1);n.submitBatch(G1(l1));t.addFacet(P1);}}}}}N1=new sap.ushell.ui.footerbar.AddBookmarkButton();V1=function(){var b,i,Z1,a,k,d2={},X1,e2,f2,g2,o,h2,i2,j2,k2;N1.setAppData({title:t.getTitle(),subtitle:t.getName()+' - '+t.getDescription()});N1.setEnabled(true);i2=sap.ushell.Container.getService('URLParsing');j2=i2.getShellHash(window.location.href);k2=i2.parseShellHash(j2);f2=k2.semanticObject;p1=new sap.suite.ui.commons.LinkActionSheet({showCancelButton:true,placement:sap.m.PlacementType.Top});m1=D(e,n);b=m1.split(',');for(i=0;i<b.length;i+=1){b[i]=b[i].replace(\"='\",'=','g');if(b[i].lastIndexOf(\"'\")===b[i].length-1){b[i]=b[i].slice(0,-1);}}for(Z1 in M[e1]){if(M[e1].hasOwnProperty(Z1)){if(Z1.indexOf('com.sap.vocabularies.Common.v1.SecondaryKey')===0){a=M[e1][Z1];for(i=0;i<a.length;i+=1){k=this.getBoundContext().getProperty(a[i].PropertyPath);if(k){b.push(a[i].PropertyPath+'='+k);}}}}}for(i=0;i<b.length;i+=1){X1=b[i].substr(0,b[i].indexOf('='));e2=b[i].substr(b[i].indexOf('=')+1,b[i].length);d2[decodeURIComponent(X1)]=decodeURIComponent(e2);}o1=sap.ushell.Container.getService('CrossApplicationNavigation').getSemanticObjectLinks(f2,d2);o1.done(jQuery.proxy(function(l2){var i,m2,n2;for(i=0;i<l2.length;i+=1){n2=l2[i].intent;if(n2.indexOf(Y)<0&&n2.indexOf('-analyzeKPIDetails~')<0&&n2.indexOf('-analyzeSBKPIDetails~')<0&&n2.indexOf('-NavigateToMaintainCusProj~')<0&&n2.indexOf('CostCenter-manageCostCenter~')<0&&n2.indexOf('AccountingDocument-analyzeDocumentJournal~')<0&&n2.indexOf('AccountingDocument-analyzeGLLineItem~')<0&&n2.indexOf('ControllingDocument-analyzeCostCenters~')<0&&n2.indexOf('ControllingDocument-analyzeInternalOrders~')<0&&n2.indexOf('ControllingDocument-analyzeMarketSegment~')<0&&n2.indexOf('ControllingDocument-analyzeProfitCentersActuals~')<0&&n2.indexOf('ControllingDocument-analyzeProfitLoss~')<0&&n2.indexOf('ControllingDocument-analyzeProjectsActuals~')<0&&n2.indexOf('PurchaseOrder-create~')<0){m2=sap.ushell.Container.getService('CrossApplicationNavigation').hrefForExternal({target:{shellHash:n2}});p1.addItem(new sap.m.Link({text:l2[i].text,href:m2}));t.setTransactionsVisible(true);}}}));t.attachTransactionsButtonPress(function(l2){p1.openBy(l2.getParameter('caller'));});this.detachChange(V1);sap.ushell.services.AppConfiguration.setWindowTitle(t.getTitle().trim()+': '+t.getName().trim()+' ('+t.getDescription().trim()+')');t.setActionsVisible(true);U1=new sap.m.Button({text:t1.getText('UNIFIEDTHINGINSPECTOR_FOOTER_BUTTON_EMAIL_LINK'),icon:'sap-icon://email',press:function(oE){sap.m.URLHelper.triggerEmail('',t.getName(),window.location.href);}});q1=new sap.m.ActionSheet({placement:sap.m.PlacementType.Top});g2=e.substr(0,e.lastIndexOf('/')+1);for(o in n.oData){if(n.oData.hasOwnProperty(o)){g2=g2+o;h2=o.substring(o.indexOf('(')+1,o.indexOf(')'));break;}}q1.addButton(new sap.ushell.ui.footerbar.JamDiscussButton({jamData:{businessObject:{appContext:'CB',odataServicePath:e.substr(0,e.lastIndexOf('/')+1),collection:p,key:h2,name:t.getTitle(),ui_url:window.location.href}}}));q1.addButton(new sap.ushell.ui.footerbar.JamShareButton({jamData:{object:{id:window.location.href,display:new sap.m.Text({text:t.getTitle()}),share:''},externalObject:{appContext:'CB',odataServicePath:e.substr(0,e.lastIndexOf('/')+1),collection:p,key:h2,name:t.getTitle()}}}));q1.addButton(N1);q1.addButton(U1);t.attachActionsButtonPress(function(l2){q1.openBy(l2.getParameter('caller'));});A[0].bLoaded=true;A[0].bProcessed=false;c(0);};t.getElementBinding().attachChange(V1);t.attachBackAction(function(o){history.back();});t.addDelegate({onAfterRendering:function(){t._adjustFacetLayout();}});return t;};return{ThingInspector:function(a,b){try{t=I(a,b,new sap.suite.ui.commons.UnifiedThingInspector({configurationVisible:false}));}catch(e){throw e;}return t;}};}());}());\n",
	"sap/ushell/components/factsheet/tools/ODataUrlTemplating.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';function P(p,t,u){this.parameter=p;this.template=t;this.semiConvertedUrl=u;this.message=' is a missing key parameter for constructing the entity url';this.toString=function(){return this.parameter+this.message;};}jQuery.sap.declare('sap.ushell.components.factsheet.tools.ODataUrlTemplating');sap.ushell.components.factsheet.tools.ODataUrlTemplating={ParameterException:P,resolve:function(t,d){var e,v,p,i,b=t.match(/{\\s*[\\w\\.]+\\s*}/g);e=t;for(i=b.length-1;i>=0;i-=1){p=b[i];v=d[p.replace(/[{}]/g,'')];if(v!==undefined){if(typeof v!=='string'){v=v[0];}v=encodeURIComponent(decodeURIComponent(v));e=e.replace(p,v);}}p=e.match(/{\\s*[\\w\\.]+\\s*}/g);if(p){jQuery.sap.log.error(' '+e);throw new this.ParameterException(p,t,e);}return e;}};})();\n",
	"sap/ushell/components/factsheet/views/ThingViewer.controller.js":"sap.ui.controller('sap.ushell.components.factsheet.views.ThingViewer',{setService:function(u){this.getView().setModel(new sap.ui.model.odata.ODataModel(u));}});\n",
	"sap/ushell/components/factsheet/views/ThingViewer.view.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.components.factsheet.tools.ODataUrlTemplating');sap.ui.jsview('sap.ushell.components.factsheet.views.ThingViewer',{getControllerName:function(){return'sap.ushell.components.factsheet.views.ThingViewer';},createContent:function(c){var e,a,E,t,v,s;v=this.getViewData();jQuery.sap.require('sap.ushell.components.factsheet.factory.ThingInspector');e=v.entity||v.service;if(!e){E=v.entityTemplateURI||v.template;if(E){if(typeof E!=='string'){E=E[0];}E=E.replace(/%25/g,'%');E=E.replace(/%28/g,'(');E=E.replace(/%29/g,')');E=E.replace(/%27/g,\"'\");E=E.replace(/%3D/g,'=');E=E.replace(/%7B/g,'{');E=E.replace(/%7D/g,'}');e=sap.ushell.components.factsheet.tools.ODataUrlTemplating.resolve(E,v);}}a=v.annotationURI||v.annotation;if(typeof e!=='string'){e=e[0];}if(typeof a!=='string'){a=a[0];}s=e.substr(0,e.lastIndexOf('/'));jQuery.sap.require('sap.ui.model.odata.ODataUtils');function b(C,s){var S;if(sap.ui.model.odata&&sap.ui.model.odata.ODataUtils&&typeof sap.ui.model.odata.ODataUtils.setOrigin==='function'){if(!(C&&C.getComponentData())){throw new Error('no component passed');}if(C&&C.getComponentData()&&C.getComponentData().startupParameters&&C.getComponentData().startupParameters['sap-system']){S=C.getComponentData().startupParameters['sap-system'][0];s=sap.ui.model.odata.ODataUtils.setOrigin(s,{alias:S});}}return s;}s=b(sap.ui.core.Component.getOwnerComponentFor(this),s);s=s+e.substr(e.lastIndexOf('/'));t=sap.ushell.components.factsheet.factory.ThingInspector(s,a);t.addStyleClass('ThingInspector');return t;}});}());\n",
	"sap/ushell/components/flp/ActionMode.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.components.flp.ActionMode');var A=function(){this.oEventBus=sap.ui.getCore().getEventBus();this.oEventBus.subscribe('launchpad','actionModeInactive',this.scrollToViewPoint,this);this.oEventBus.subscribe('launchpad','actionModeActive',this.scrollToViewPoint,this);this.viewPoint=undefined;this.init=function(m){this.oModel=m;};};A.prototype.activate=function(){var f,t;jQuery.sap.require('sap.m.MessageToast');sap.m.MessageToast.show(sap.ushell.resources.i18n.getText('actionModeActivated'),{duration:4000});this.oModel.setProperty('/tileActionModeActive',true);this.aOrigHiddenGroupsIds=sap.ushell.utils.getCurrentHiddenGroupIds(this.oModel);f=sap.ui.getCore().byId('floatingActionBtn');if(f){f.addStyleClass('sapUshellActive');f.setTooltip(sap.ushell.resources.i18n.getText('deactivateActionMode'));}t=sap.ui.getCore().byId('ActionModeBtn');if(t){t.setText(sap.ushell.resources.i18n.getText('exitPersonalizationMode'));}this.oEventBus.publish('launchpad','actionModeActive');};A.prototype.scrollToViewPoint=function(){window.setTimeout(jQuery.proxy(this.oEventBus.publish,this.oEventBus,'launchpad','scrollToFirstVisibleGroup',this.viewPoint),0);};A.prototype.deactivate=function(){var t=sap.ui.getCore().byId('TileActions'),T,f;this.oModel.setProperty('/tileActionModeActive',false);this.oEventBus.publish('launchpad','actionModeInactive',this.aOrigHiddenGroupsIds);if(t!==undefined){t.destroy();}f=sap.ui.getCore().byId('floatingActionBtn');if(f){f.removeStyleClass('sapUshellActive');f.setTooltip(sap.ushell.resources.i18n.getText('activateActionMode'));}T=sap.ui.getCore().byId('ActionModeBtn');if(T){T.setTooltip(sap.ushell.resources.i18n.getText('activateActionMode'));T.setText(sap.ushell.resources.i18n.getText('activateActionMode'));}};A.prototype.toggleActionMode=function(m,s,d){var t=m.getProperty('/tileActionModeActive');var c=m.getProperty('/topGroupInViewPortIndex');if(!d){d=[];}var v=d.filter(function(b){return b.getVisible();});var a=v[c];if(a){var e=t?-49:49;var g=document.getElementById('sapUshellDashboardPage-cont').scrollTop-a.getDomRef().offsetTop;this.viewPoint={group:v[c],fromTop:g+e};}else{this.viewPoint={fromTop:0};}if(t){this.deactivate();}else{this.activate();}};A.prototype.activateGroupEditMode=function(g){var j=jQuery(g.getDomRef()).find('.sapUshellTileContainerContent');j.addClass('sapUshellTileContainerEditMode');};A.prototype._openActionsMenu=function(e,t){var a=this,T=t||e.getSource(),l=sap.ushell.Container.getService('LaunchPage'),b=[],o=sap.ui.getCore().byId('TileActions'),i,n,B,c,d,h,f,g;if(T){d=T.getBindingContext().getObject().object;b=l.getTileActions(d);}a.oTileControl=T;jQuery('.sapUshellTileActionLayerDivSelected').removeClass('sapUshellTileActionLayerDivSelected');f=jQuery(e.getSource().getDomRef()).find('.sapUshellTileActionLayerDiv');f.addClass('sapUshellTileActionLayerDivSelected');if(o===undefined){o=new sap.m.ActionSheet('TileActions',{placement:sap.m.PlacementType.Auto,afterClose:function(){$('.sapUshellTileActionLayerDivSelected').removeClass('sapUshellTileActionLayerDivSelected');var E=sap.ui.getCore().getEventBus();E.publish('dashboard','actionSheetClose',a.oTileControl);}});}else{o.destroyButtons();}if(b.length===0||T.oParent.getProperty('isGroupLocked')){n=new sap.m.Button({text:sap.ushell.resources.i18n.getText('tileHasNoActions'),enabled:false});o.addButton(n);}else{for(i=0;i<b.length;i++){c=b[i];h=function(c){return function(){a._handleActionPress(c);};}(c);B=new sap.m.Button({text:c.text,icon:c.icon,press:h});o.addButton(B);}}g=e.getSource().getActionSheetIcon();if(g){o.openBy(g);}else{o.openBy(e.getSource());}};A.prototype._handleActionPress=function(a){if(a.press){a.press.call();}else if(a.targetURL){if(a.targetURL.indexOf('#')===0){hasher.setHash(a.targetURL);}else{window.open(a.targetURL,'_blank');}}else{sap.m.MessageToast.show('No Action');}};sap.ushell.components.flp.ActionMode=new A();}());\n",
	"sap/ushell/components/flp/Component.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\njQuery.sap.declare('sap.ushell.components.flp.Component');if(!window['sap-ui-debug']){try{jQuery.sap.require('sap.fiori.flp-controls');}catch(e){jQuery.sap.log.warning('flp-controls failed to load: '+e.message);}}jQuery.sap.require('sap.ui.core.UIComponent');jQuery.sap.require('sap.ushell.components.flp.CustomRouter');jQuery.sap.require('sap.ushell.components.flp.ComponentKeysHandler');sap.ui.core.UIComponent.extend('sap.ushell.components.flp.Component',{metadata:{routing:{config:{viewType:'JS',controlAggregation:'pages',controlId:'navContainerFlp',clearAggregation:false,routerClass:sap.ushell.components.flp.CustomRouter},targets:{appFinder:{viewName:'sap.ushell.components.flp.launchpad.appfinder.AppFinder'},home:{viewName:'sap.ushell.components.flp.launchpad.dashboard.DashboardContent'}},routes:[{name:'home',target:'home',pattern:'home'}]},version:'1.38.26',library:'sap.ushell.components.flp',dependencies:{libs:['sap.m']},config:{semanticObject:'Shell',action:'home',title:sap.ushell.resources.i18n.getText('homeBtn_tooltip'),fullWidth:true,hideLightBackground:true,compactContentDensity:true,cozyContentDensity:true}},parseOldCatalogParams:function(u){'use strict';var p=jQuery.sap.getUriParameters(u).mParams,v;for(var k in p){if(p.hasOwnProperty(k)){v=p[k][0];p[k]=v.indexOf('/')!==-1?encodeURIComponent(v):v;}}return p;},handleNavigationFilter:function(n){'use strict';var s=sap.ushell.Container.getService('URLParsing').parseShellHash(n);if(s&&s.semanticObject==='shell'&&s.action==='catalog'){var p=this.parseOldCatalogParams(n);setTimeout(function(){this.getRouter().navTo('appFinder',{'menu':'catalog',filters:JSON.stringify(p)});}.bind(this),0);return this.oShellNavigation.NavigationFilterStatus.Abandon;}return this.oShellNavigation.NavigationFilterStatus.Continue;},createContent:function(){'use strict';this.oRouter=this.getRouter();this.oModel=new sap.ui.model.json.JSONModel({groups:[],animationRendered:false,tagFiltering:true,catalogSelection:true,tileActionModeEnabled:false,tileActionModeActive:false,isInDrag:false,rtl:sap.ui.getCore().getConfiguration().getRTL(),personalization:true,editTitle:false,tagList:[],selectedTags:[],userPreferences:{entries:[]},enableNotificationsPreview:false,previewNotificationItems:[]});this.oModel.setSizeLimit(10000);this.setModel(this.oModel);this.oConfig=this.getComponentData().config;this.oShellConfig=sap.ushell.renderers.fiori2.RendererExtensions.getConfiguration();var p=(this.oConfig&&(this.oConfig.enablePersonalization||this.oConfig.enablePersonalization===undefined))&&(this.oShellConfig&&this.oShellConfig.enablePersonalization||this.oShellConfig.enablePersonalization===undefined);if(p){this.oRouter.addRoute({name:'catalog',target:'appFinder',pattern:'catalog/:filters:'});this.oRouter.addRoute({name:'appFinder',target:'appFinder',pattern:'appFinder/{menu}/:filters:'});}this.oRouter.addRoute({name:'all',target:'home',pattern:':all*:'});this._setConfigurationToModel(this.oConfig);jQuery.sap.require('sap.ushell.components.flp.launchpad.DashboardManager');this.oDashboardManager=new sap.ushell.components.flp.launchpad.DashboardManager('dashboardMgr',{model:this.oModel,config:this.oConfig,router:this.oRouter});jQuery.sap.require('sap.ushell.resources');this.setModel(sap.ushell.resources.i18nModel,'i18n');var n,m=window.matchMedia('(min-width: 800px)'),h=function(a){this.oModel.setProperty('/isPhoneWidth',!a.matches);}.bind(this);if(m.addListener){m.addListener(h);h(m);}sap.ui.getCore().getEventBus().subscribe('launchpad','togglePane',this._createAndAddGroupList,this);sap.ui.getCore().getEventBus().subscribe('sap.ushell.services.UsageAnalytics','usageAnalyticsStarted',function(){jQuery.sap.require('sap.ushell.components.flp.FLPAnalytics');});this.bContactSupportEnabled=sap.ushell.Container.getService('SupportTicket').isEnabled();if(this.bContactSupportEnabled){jQuery.sap.require('sap.ushell.UserActivityLog');sap.ushell.UserActivityLog.activate();}n=this.initNavContainer();this.setInitialConfiguration();this.oShellNavigation=sap.ushell.Container.getService('ShellNavigation');this.oShellNavigation.registerNavigationFilter(jQuery.proxy(this.handleNavigationFilter,this));var H=hasher.getHash();var s=sap.ushell.Container.getService('URLParsing').parseShellHash(H);if(s&&s.semanticObject==='shell'&&s.action==='catalog'){var P=this.parseOldCatalogParams(H);var c=this.getMetadata().getConfig();this.oShellNavigation.toExternal({target:{semanticObject:c.semanticObject,action:c.action}});this.getRouter().navTo('appFinder',{'menu':'catalog',filters:JSON.stringify(P)});}return n;},_createAndAddGroupList:function(c,e,d){'use strict';if(d.currentContent&&(d.currentContent.indexOf('groupList')!==-1||!d.currentContent.length)){var C=this.oConfig,g=this.runAsOwner(function(){return this.oDashboardManager.getGroupListView(C);}.bind(this));if(!g.alreadyCreated){g.groupList.setModel(this.oModel);g.groupList.setModel(sap.ushell.resources.i18nModel,'i18n');sap.ushell.renderers.fiori2.RendererExtensions.setLeftPaneContent(g.groupList,'home');}}},_setConfigurationToModel:function(c){'use strict';var m=this.oModel,t,r=sap.ushell.Container.getRenderer('fiori2').getModelConfiguration(),e=r.enableNotificationsUI,n=sap.ushell.Container.getService('Notifications').isEnabled(),d=sap.ui.Device,E=d.system.desktop||sap.ui.Device.system.tablet||sap.ui.Device.system.combi;if(c){if(c.enableNotificationsPreview!==undefined){this.oModel.setProperty('/configEnableNotificationsPreview',c.enableNotificationsPreview);}if(c.enableNotificationsPreview&&e&&n&&E){this.oModel.setProperty('/enableNotificationsPreview',true);}if(c.enablePersonalization!==undefined&&this.oShellConfig.enablePersonalization!==undefined){m.setProperty('/personalization',c.enablePersonalization&&this.oShellConfig.enablePersonalization);}else if(c.enablePersonalization!==undefined){m.setProperty('/personalization',c.enablePersonalization);}else if(this.oShellConfig.enablePersonalization!==undefined){m.setProperty('/personalization',this.oShellConfig.enablePersonalization);}if(c.enableTagFiltering!==undefined){m.setProperty('/tagFiltering',c.enableTagFiltering);}if(c.enableLockedGroupsCompactLayout!==undefined){m.setProperty('/enableLockedGroupsCompactLayout',c.enableLockedGroupsCompactLayout);}if(c.enableCatalogSelection!==undefined){m.setProperty('/catalogSelection',c.enableCatalogSelection);}if(c.enableSearchFiltering!==undefined){m.setProperty('/searchFiltering',c.enableSearchFiltering);}if(c.enableTilesOpacity!==undefined){m.setProperty('/tilesOpacity',c.enableTilesOpacity);}if(c.enableDragIndicator!==undefined){m.setProperty('/enableDragIndicator',c.enableDragIndicator);}t=false;if(c.enableActionModeMenuButton!==undefined){m.setProperty('/actionModeMenuButtonEnabled',c.enableActionModeMenuButton);t=c.enableActionModeMenuButton;}else{m.setProperty('/actionModeMenuButtonEnabled',true);}if(c.enableRenameLockedGroup!==undefined){m.setProperty('/enableRenameLockedGroup',c.enableRenameLockedGroup);}else{m.setProperty('/enableRenameLockedGroup',false);}if(c.enableActionModeFloatingButton!==undefined){m.setProperty('/actionModeFloatingButtonEnabled',c.enableActionModeFloatingButton);t=t||c.enableActionModeFloatingButton;}else{m.setProperty('/actionModeFloatingButtonEnabled',true);}m.setProperty('/tileActionModeEnabled',t);if(c.enableTileActionsIcon!==undefined){m.setProperty('/tileActionsIconEnabled',sap.ui.Device.system.desktop?c.enableTileActionsIcon:false);}if(c.enableHideGroups!==undefined){m.setProperty('/enableHideGroups',c.enableHideGroups);}if(c.title){m.setProperty('/title',c.title);}if(c.enableEasyAccess!==undefined){m.setProperty('/enableEasyAccess',c.enableEasyAccess)}if(c.sapMenuServiceUrl!==undefined){m.setProperty('/sapMenuServiceUrl',c.sapMenuServiceUrl)}if(c.userMenuServiceUrl!==undefined){m.setProperty('/userMenuServiceUrl',c.userMenuServiceUrl)}if(c.easyAccessNumbersOfLevels!==undefined){m.setProperty('/easyAccessNumbersOfLevels',c.easyAccessNumbersOfLevels)}m.setProperty('/enableHelp',!!this.oShellConfig.enableHelp);m.setProperty('/disableSortedLockedGroups',!!c.disableSortedLockedGroups);}},initNavContainer:function(c){'use strict';var n=new sap.m.NavContainer({id:'navContainerFlp',defaultTransitionName:'show'});return n;},setInitialConfiguration:function(){'use strict';this.oRouter.initialize();sap.ushell.components.flp.ComponentKeysHandler.init(this.oModel,this.oRouter);sap.ushell.renderers.fiori2.AccessKeysHandler.registerAppKeysHandler(sap.ushell.components.flp.ComponentKeysHandler.handleFocusOnMe);var t=sap.ushell.resources.i18n,s=[];s.push({text:'Alt+H',description:t.getText('actionHomePage')});if(this.oModel.getProperty('/personalization')){s.push({text:'Alt+C',description:t.getText('actionAppFinder')});}sap.ushell.renderers.fiori2.AccessKeysHandler.registerAppShortcuts(sap.ushell.components.flp.ComponentKeysHandler.handleShortcuts,s);sap.ui.getCore().getEventBus().publish('launchpad','initialConfigurationSet');},exit:function(){'use strict';this.oDashboardManager.destroy();}});\n",
	"sap/ushell/components/flp/ComponentKeysHandler.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.components.flp.ComponentKeysHandler');var c=function(){this.aTileWrapperClasses=['.sapUshellTile','.sapUshellLinkTile'];};c.prototype={keyCodes:jQuery.sap.KeyCodes,handleCatalogKey:function(){this.oRouter.navTo('appFinder',{'menu':'catalog'});},handleHomepageKey:function(){this.oRouter.navTo('home');},getNumberOfTileInRow:function(p,i){var j=jQuery(i?'.sapUshellLinkTile:first':'.sapUshellTile:first');if(!j.length){return false;}var a;if(p==='catalog'){a=jQuery('#catalogTiles .sapUshellTileContainerContent').width();}else{a=jQuery('#dashboardGroups').width();}var n=Math.floor(a/j.outerWidth(true));return n;},goToTileContainer:function(k,g){var i=this.oModel.getProperty('/tileActionModeActive');if(i){sap.ushell.components.flp.ComponentKeysHandler.goToFirstVisibleTileContainer();}else{sap.ushell.components.flp.ComponentKeysHandler.goToEdgeTile('first',g);}return true;},goToEdgeTile:function(s,g){var j=jQuery('#dashboardGroups').find('.sapUshellTileContainer:visible'),t=this.oModel.getProperty('/topGroupInViewPortIndex'),a=j.get(t),b=jQuery(a).find('.sapUshellTile:visible')[s](),l=jQuery(\"div.sapUshellTile:visible[tabindex='0']\"),d=jQuery(\"div.sapUshellLinkTile:visible[tabindex='0']\");if(!b.length&&!l.length&&!d.length){return false;}if(l.length&&!g){this.setTileFocus(l);return true;}if(d.length&&!g){this.setTileFocus(d);return true;}this.setTileFocus(b);return true;},goToFirstVisibleTileContainer:function(){var j=jQuery('#dashboardGroups').find('.sapUshellTileContainer:visible'),t=this.oModel.getProperty('/topGroupInViewPortIndex'),a=jQuery(j.get(t));if(!a[0]){return false;}this.setTileContainerSelectiveFocus(a);return true;},goToFirstTileOfSiblingGroup:function(s,e){e.preventDefault();var a=jQuery(document.activeElement).closest('.sapUshellDashboardGroupsContainerItem');if(!a.length){return;}var n=a[s+'All']('.sapUshellDashboardGroupsContainerItem:has(.sapUshellTile:visible):not(.sapUshellCloneArea)');var t='first';if(!n.length){n=a;t=(s==='next')?'last':'first';}else{n=n.first();}var j=n.find('.sapUshellTile:visible')[t]();this.moveScrollDashboard(j);return false;},goToFirstTileOfSiblingGroupInCatalog:function(s,e){e.preventDefault();var j=this.getFocusOnTile(jQuery(document.activeElement));if(!j){return;}var a;if(s=='next'){var i=j.nextAll('h3').length?false:true;if(!i){a=j.nextAll('h3').first().nextAll().filter(':visible').first();}else{a=j.nextAll('.sapUshellTile').last();}}else{var b=j.prevAll('h3').length===1?true:false;if(!b){a=jQuery(j.prevAll('h3')[1]).next();}else{a=j.prevAll('h3').last().next();}}this.setTileFocus(a);this.moveScrollCatalog(a);return false;},moveTileInGroup:function(g,f,s){if(this.oModel.getProperty('/personalization')){var a=g.getBindingContext().getObject();var b=a.tiles.indexOf(f.getBindingContext().getObject());var d=a.tiles.indexOf(s.getBindingContext().getObject());var e=a.tiles.splice(b,1);a.tiles.splice(d,0,e[0]);var h=g.getBindingContext().getPath();g.getModel().setProperty(h,a);}},moveTileToDifferentGroup:function(s,d,a,b){if(this.oModel.getProperty('/personalization')){if(s.getIsGroupLocked()||d.getIsGroupLocked()){return;}var e=s.getBindingContext().getObject();var f=d.getBindingContext().getObject();var t=e.tiles.indexOf(a.getBindingContext().getObject());if(b==='left'||b==='up'||b==='down'){f.tiles.push(e.tiles[t]);}if(b==='right'){f.tiles.splice(0,0,e.tiles[t]);}e.tiles.splice(t,1);var g=d.getBindingContext().getPath();d.getModel().setProperty(g,f);var h=s.getBindingContext().getPath();s.getModel().setProperty(h,e);var i=d.getTiles();if(b==='left'||b==='up'||b==='down'){return i[i.length-1];}else{return i[0];}}},moveTile:function(d){var j=jQuery('.sapUshellDashboardView'),a=sap.ui.getCore().byId(j.attr('id'));a.getModel().setProperty('/isInDrag',true);setTimeout(function(){a.getModel().setProperty('/isInDrag',false);},300);if(this.oModel.getProperty('/personalization')){var i=this.getGroupAndTilesInfo();if(!i||i.group.getProperty('isGroupLocked')){return;}var m=true,I,n=this.getNextTile(d,i,I,m);if(!n){return;}else{var b=n.getParent();}if(b===i.group){this.moveTileInGroup(i.group,i.curTile,n);}else{n=this.moveTileToDifferentGroup(i.group,b,i.curTile,d);}setTimeout(function(){if(n){this.setTileFocus(jQuery(n.getDomRef()));}}.bind(this),100);}},getNextUpDownTileWithLayout:function(d,i,m){var n,a;var b=d==='down'?1:-1;var e=!i.tiles.length&&!i.links.length;var I=i.group.getIsGroupLocked();var f=jQuery(i.curTile.getDomRef()).hasClass('sapUshellPlusTile');var l=i.group.getLinks();var g=sap.ushell.Layout.organizeGroup(i.curTile.isLink?i.links:i.tiles,i.curTile.isLink);var t=sap.ushell.Layout.getTilePositionInMatrix(i.curTile,g);var h=this.isLastLineFull(g);var j=this.oModel.getProperty('/tileActionModeActive');if(!t&&!e&&!f){return;}if(!g[t.row+b]){if(j&&!I&&!f&&h&&d==='down'){return i.group.oPlusTile;}if(!i.curTile.isLink&&l.length&&d==='down'){if(!m){return l[0];}}if(i.curTile.isLink&&i.tiles.length&&d==='up'){return i.tiles[0];}t=e||f?{row:0,col:0}:t;a=this.getNextGroup(d,i);if(!a){return;}e=!a.getTiles().length&&!a.getLinks().length;if(!e){var F=this._getAggregationToFocusInNextGroup(a,d);var N=this._isNextTileLink(F);g=sap.ushell.Layout.organizeGroup(F,N);b=0;t.row=d==='down'?0:g.length-1;}}if(e&&I){return undefined;}if(e){return a.oPlusTile;}if(typeof g[t.row+b][t.col]==='object'&&!e){n=g[t.row+b][t.col];}else{n=this.getNextUpDownTile(g,t.row+b,t.col,d);}return n;},_isNextTileLink:function(t){if(t&&t.length){var j=jQuery(t[0].getDomRef());return j.hasClass('sapUshellLinkTile');}return false;},_getAggregationToFocusInNextGroup:function(n,d){if(d==='down'||d==='right'){if(n.getTiles().length){return n.getShowPlaceholder()?[].concat(n.getTiles(),n.oPlusTile):n.getTiles();}if(n.getLinks().length){return n.getLinks();}}else if(d==='up'||d==='left'){if(n.getLinks().length){return n.getLinks();}if(n.getTiles().length){return n.getShowPlaceholder()?[].concat(n.getTiles(),n.oPlusTile):n.getTiles();}}},isLastLineFull:function(l){var m=this.getNumberOfTileInRow(),a=l[l.length-1].filter(Boolean);return a.length===m;},getNextUpDownTile:function(l,r,a,d){var n=r,b=l.length,e,f=d==='up'?-1:1;while((n>=0&&n<b)&&!e){if(typeof l[n][a]!=='object'){e=l[n][a];}n=n+f;}if(e){return;}n=r;while((typeof l[n][a]!=='object')&&a>=0){a--;}return l[n][a];},getNextTile:function(d,a,I,m){var n,b,e,s,t,l,w,f,o,g=sap.ui.getCore().getConfiguration().getRTL()?-1:1,h=!a.tiles.length,j=d==='right'?1:-1;if(a.pageName==='catalog'){if(d=='right'||d=='left'){n=!h?a.tiles[a.curTileIndex+(g*j)]:undefined;return n;}if(a.curTileIndex==='0'&&d==='up'){return undefined;}b=this.whichTileRow(a.curTileIndex,a);o=parseFloat(a.curTile.getDomRef().offsetLeft);if(d=='down'){e=a.tiles.slice(a.curTileIndex+1,a.curTileIndex+(a.sizeOfLine*2));}else{s=(s>0)?s:0;e=a.tiles.slice(s,a.curTileIndex).reverse();}for(var i=0,k=e.length;i<k;i++){t=e[i].getDomRef();l=parseFloat(t.offsetLeft);w=parseFloat(t.offsetWidth);f=l+w;if(l<=o&&f>=o){n=e[i];return n;}}if(this.nextRowIsShorter(d,b,a)){n=this.getNextTileInShorterRow(d,b,a);return n;}}else{if(d==='left'||d==='right'){var p=a.curTileIndex+(g*j);var F=a.curTile.isLink?a.links:a.tiles;if(F[p]&&!(m&&F[p].getDomRef().className.indexOf('sapUshellPlusTile')>0)){n=F.length?F[p]:undefined;}if(n){return n;}if(d==='right'&&!a.curTile.isLink&&a.links.length&&!m){return a.links[0];}if(d==='left'&&a.curTile.isLink&&a.tiles.length){return a.group.getShowPlaceholder()?a.group.oPlusTile:a.tiles[a.tiles.length-1];}var q=this.getNextGroup(d,a);if(!q){return;}else{var r=this._getAggregationToFocusInNextGroup(q,d);if(r&&r.length){var u=r.length-1;if(d==='right'){n=r[g===1?0:u];}else{n=r[g===1?u:0];}}else{n=q.oPlusTile;}}}if(d==='down'||d==='up'){n=this.getNextUpDownTileWithLayout(d,a,m);}}return n;},getNextTileInShorterRow:function(d,a,i){var l=d==='down'?this.getLastTileIdInRow(i,a+1):this.getLastTileIdInRow(i,a-1);return i.tiles[l];},getLastTileIdInRow:function(a,l){var b=0;for(var i=0;i<a.rowsData.length;i++){b+=a.rowsData[i];if(i===l){break;}}return b-1;},nextRowIsShorter:function(d,a,i){if(d==='down'&&a!=i.rowsData.length-1){return i.rowsData[a]>i.rowsData[a+1];}if(d==='up'&&a!=0){return i.rowsData[a]>i.rowsData[a-1];}else{return false;}},getNextGroup:function(d,i){var n,g=i.group.getParent().getGroups(),a=sap.ui.getCore().getConfiguration().getRTL(),b=g.indexOf(i.group);if(d==='right'||d==='left'){if(a){d=(d==='right')?'up':'down';}else{d=(d==='right')?'down':'up';}}if(d==='down'||d==='up'){var e=d==='up'?-1:1;n=g[b+e];if(!n){return;}while(!n.getVisible()&&(b>=0&&b<g.length)){b=b+e;n=g[b];if(!n){return;}}}if(!n.getVisible()){return;}return n;},getGroupAndTilesInfo:function(j,p){if(!j){j=this.getFocusOnTile(jQuery(document.activeElement));}if(!j.length){return;}var a=sap.ui.getCore().byId(j.attr('id'));var g=a.getParent();var r;var t;var l;if(!g.getTiles){g=g.getParent();}a.isLink=j.hasClass('sapUshellLinkTile');if(p=='catalog'){r=this.getCatalogLayoutData();t=[];var b=jQuery('#catalogTiles').find('.sapUshellTile:visible');for(var i=0;i<b.length;i++){t.push(sap.ui.getCore().byId(b[i].id));}}else{if(g.getTiles){t=g.getTiles();l=g.getLinks();if(g.getShowPlaceholder()&&!a.isLink){t.push(g.oPlusTile);}}}var s=this.getNumberOfTileInRow(p,a.isLink);return{pageName:p,curTile:a,curTileIndex:a.isLink?l.indexOf(a):t.indexOf(a),tiles:t,links:l,sizeOfLine:s,group:g,rowsData:r};},getCatalogLayoutData:function(){var j=jQuery('#catalogTiles .sapUshellInner').children(':visible'),m=this.getNumberOfTileInRow('catalog'),r=[],a=0;for(var i=1;i<j.length;i++){if(jQuery(j[i]).hasClass('sapUshellTile')){a++;}if(jQuery(j[i]).hasClass('sapUshellHeaderTile')){r.push(a);a=0;}if(a>=m){r.push(a);a=0;}}if(a>0){r.push(a);}return r;},whichTileRow:function(a,b){var t=0,i;for(i=0;i<b.rowsData.length;i++){t+=b.rowsData[i];if(a<t){return i;}}},goToSiblingElementInTileContainer:function(d,j,p){var a=j.closest('.sapUshellTileContainer'),b,e,f;if(b=this.getFocusTileContainerBeforeContent(j)){if(d==='up'||d==='left'){this._goToNextTileContainer(b,d);}else{f=a.find('.sapUshellTileContainerHeader:first');this.setTabIndexOnTileContainerHeader(f);f.focus();}return;}if(b=this.getFocusTileContainerHeader(j)){if(d==='up'){this.setTabIndexOnTileContainerHeader(f);if(!this._goToTileContainerBeforeContent(a)){this._goToNextTileContainer(b,d);}}else if(d==='down'){e=a.find('.sapUshellTile:first');if(e.length){var t=jQuery(e);this.scrollToTileAndSetFocus(t,p);}else{this._goToNextTileContainer(b,d);}}else if(d==='left'){if(j.hasClass('sapUshellTileContainerHeader')){if(!this._goToTileContainerBeforeContent(a)){this._goToNextTileContainer(b,'left');}}else{f=j.closest('.sapUshellTileContainerHeader');f.focus();}}else if(d==='right'){var g=j.hasClass('sapMInputBaseInner');if(!g){e=a.find('.sapUshellTile:first');if(e.length){this.setTileFocus(e);}else{this._goToNextTileContainer(b,'down');}}}return;}if(b=this.getFocusOnTile(j)){this.goFromFocusedTile(d,b,p,true);return;}if(b=this.getFocusOnTileContainerAfterContent(j)){if(d==='up'||d==='left'){this._goToFirstTileInTileContainer(b);}else{this._goToNextTileContainer(b,d);}}},_goToNextTileContainer:function(j,d){var a=j.closest('.sapUshellTileContainer'),A=jQuery('.sapUshellTileContainer:visible'),n=(d==='down')?1:-1,b,e;b=jQuery(A[A.index(a)+n]);if(b){e=b.find('.sapUshellTileContainerHeader');if(d==='down'){if(!this._goToTileContainerBeforeContent(b)){this.setTabIndexOnTileContainerHeader(e);this.setTileContainerSelectiveFocus(b);}}else{if(this._goToTileContainerAfterContent(b)){return;}if(d==='up'){if(!this._goToFirstTileInTileContainer(b)){this.setTabIndexOnTileContainerHeader(e);e.focus();}}else if(d==='left'){if(!this._goToLastTileInTileContainer(b)){this.setTabIndexOnTileContainerHeader(e);e.focus();}}}}},_goToLastTileInTileContainer:function(j){var a=j.hasClass('sapUshellTileContainer')?j:j.closest('.sapUshellTileContainer'),b=a.find('.sapUshellTile:last'),d=a.find('.sapUshellLinkTile:last');if(!d.length&&!b.length){return false;}this.setTileFocus(d.length?d:b);return true;},_goToFirstTileInTileContainer:function(j){var a=j.hasClass('sapUshellTileContainer')?j:j.closest('.sapUshellTileContainer'),b=jQuery(a.find('.sapUshellTile').get(0));if(b.length){this.setTileFocus(b);return true;}else{return false;}},_goToTileContainerBeforeContent:function(j){var a=j.hasClass('sapUshellTileContainer')?j:j.closest('.sapUshellTileContainer'),b=a.find('.sapUshellTileContainerBeforeContent button:visible');if(b.length){b.focus();return true;}else{return false;}},_goToTileContainerAfterContent:function(j){var a=j.hasClass('sapUshellTileContainer')?j:j.closest('.sapUshellTileContainer'),b=a.find('.sapUshellTileContainerAfterContent button:visible');if(b.length){b.focus();return true;}else{return false;}},goFromFocusedTile:function(d,j,p,i){var a=this.getGroupAndTilesInfo(j,p),n,b,e,f,g,I;if(!a){return;}n=this.getNextTile(d,a,i);if(i){b=jQuery(j).closest('.sapUshellTileContainer');if(!n){if(d==='down'||d==='right'){g=jQuery(b).find('.sapUshellTileContainerAfterContent button:visible');g.focus();return;}if(d==='up'){this.setTabIndexOnTileContainerHeader(b.find('.sapUshellTileContainerHeader'));this.setTileContainerSelectiveFocus(b);return;}if(d==='left'){f=b.find('.sapUshellTileContainerHeader');f.focus();}}else{e=jQuery(n.getDomRef()).closest('.sapUshellTileContainer');I=b.length&&e.length&&(b.attr('id')===e.attr('id'));if(I){var t=jQuery(n.getDomRef());this.scrollToTileAndSetFocus(t,p);}else{if(d==='down'||d==='right'){if(!this._goToTileContainerAfterContent(b)){this.setTabIndexOnTileContainerHeader(e.find('.sapUshellTileContainerHeader'));this.setTileContainerSelectiveFocus(e);}}else if(d==='up'||'left'){f=b.find('.sapUshellTileContainerHeader');this.setTabIndexOnTileContainerHeader(f);f.focus();}}}}else if(n){var t=jQuery(n.getDomRef());this.scrollToTileAndSetFocus(t,p);}},scrollToTileAndSetFocus:function(t,p){var a=t.offset().top+t.height();if(p==='catalog'){var o=(a-jQuery('body').height())-jQuery('#catalogTilesPage').offset().top+200;jQuery('#catalogTilesPage section').animate({scrollTop:o},0,function(){this.setTileFocus(t);}.bind(this));}else{this.moveScrollDashboard(t);}},deleteTile:function(j){var t=j.attr('id');if(!t){return;}var T=sap.ui.getCore().byId(t);var a=this.getGroupAndTilesInfo(j);var n=this.getNextTile('right',a);if(!n||(n&&n.getParent()!=a.group)){n=this.getNextTile('left',a);}if(!n||(n&&n.getParent()!=a.group)){n=a.group.oPlusTile;}if(n){this.setTileFocus(jQuery(n.getDomRef()));setTimeout(function(g,b){var d=g.getTiles();if(!d.length){if(a.group.getProperty('defaultGroup')){var f=this.getNextGroup('right',a);n=f.getTiles()[0]||f.oPlusTile;this.setTileFocus(jQuery(n.getDomRef()));}this.setTileFocus(jQuery(g.oPlusTile.getDomRef()));return;}var n;for(var i=0;i<d.length;i++){if(d[i].getProperty('uuid')==b){n=d[i];break;}}if(n){this.setTileFocus(jQuery(n.getDomRef()));}}.bind(this,a.group,n.getProperty('uuid')),100);}var e=sap.ui.getCore().getEventBus();e.publish('launchpad','deleteTile',{tileId:T.getUuid()});},setTabIndexOnTileContainerHeader:function(j){jQuery('.sapUshellTileContainerHeader').attr('tabindex',-1);jQuery('.sapUshellTileContainerHeader .sapUshellContainerTitle').attr('tabindex',-1);jQuery('.sapUshellTileContainerHeader .sapUshellContainerHeaderActions button').attr('tabindex',-1);if(j){var a=j.find('.sapUshellContainerTitle:first'),b=j.find('.sapUshellContainerHeaderActions:first');j.attr('tabindex',0);a.attr('tabindex',0);b.find('button').attr('tabindex',0);}},setTileContainerSelectiveFocus:function(j){var a=j.find('.sapUshellTileContainerBeforeContent button'),b=j.find('.sapUshellTileContainerHeader:first'),B=a.length&&a.is(':visible');if(B){a.focus();}else if(b.length){this.setTabIndexOnTileContainerHeader(b);b.focus();}},setTileFocus:function(j){if(!j.hasClass('sapUshellPlusTile')){var n=sap.ui.getCore().byId('navContainerFlp'),C=n.getCurrentPage(),o=n?n.getCurrentPage().getViewName():undefined,a;var i=!!((o==='sap.ushell.components.flp.launchpad.appfinder.AppFinder')&&(C.getController().getCurrentMenuName()==='catalog'));a=j.find('[tabindex]');if(i){var h=sap.ushell.components.flp.ComponentKeysHandler;h.setFocusOnCatalogTile(a.eq(0));}}jQuery('.sapUshellTile').attr('tabindex',-1);jQuery('.sapUshellLinkTile').attr('tabindex',-1);j.attr('tabindex',0);var b=jQuery('#loadingDialog')[0];if(!b||b.style.visibility==='hidden'){j.focus();}},setFocusOnCatalogTile:function(j){var p=jQuery('.sapUshellTile[tabindex=0]'),a,v,b;if(p.length){jQuery('.sapUshellTileContainerContent').find('[tabindex*=0]').attr('tabindex',-1);a=p.find('[tabindex], a').andSelf().filter('[tabindex], a');a.attr('tabindex',-1);}if(!j){v=jQuery('.sapUshellTile:visible');if(v.length){b=jQuery(v[0]);j=b.find('[tabindex], a').eq(0);}else{return;}}j.closest('.sapUshellTile').attr('tabindex',0);j.attr('tabindex',0);j.closest('.sapUshellTile').find('button').attr('tabindex',0);},moveScrollDashboard:function(j){var a=j.closest('.sapUshellTileContainer')[0].id,y=-1*(document.getElementById('dashboardGroups').getBoundingClientRect().top)+document.getElementById(a).getBoundingClientRect().top;y+=49;jQuery('#sapUshellDashboardPage section').stop().animate({scrollTop:y},0,function(){this.setTileFocus(j);}.bind(this));},moveScrollCatalog:function(j){var a=jQuery('#catalogTilesPage-cont');var t=jQuery('#shell-hdr').height()+jQuery('.sapMPageHeader').height()+(parseInt(jQuery('.sapMPanelHdr').css('margin-top'),10)*2);var y=j.offset().top+a.scrollTop()-t;sap.ui.getCore().byId('catalogTilesPage').scrollTo(y,200);},moveGroupFromDashboard:function(d,j){var a,t=jQuery('.sapUshellDashboardGroupsContainerItem'),i,b;a=j.closest('.sapUshellDashboardGroupsContainerItem');i=t.index(a);b=d=='up'||d=='left'?i-1:i+1;this.moveGroup(i,b);},moveGroup:function(f,t){var g=jQuery('.sapUshellDashboardGroupsContainerItem'),n=jQuery('.sapUshellDisableDragAndDrop').length;if(t<0||t>=g.length||t<n){return;}var a=sap.ui.getCore();var d={fromIndex:f,toIndex:t};var b=a.getEventBus();b.publish('launchpad','moveGroup',d);setTimeout(function(){var e=jQuery('.sapUshellTileContainerHeader')[t];this.setTabIndexOnTileContainerHeader(jQuery(e));jQuery(e).focus();}.bind(this),100);},getFocusGroupFromDashboard:function(j){var i=j.closest('.sapUshellTileContainerHeader').length&&j[0].tagName==='H2';return i?j:false;},getFocusTileContainerBeforeContent:function(j){var a=j.closest('.sapUshellTileContainerBeforeContent');return a.length?a:false;},getFocusTileContainerHeader:function(j){var a=j.closest('.sapUshellTileContainerHeader');return a.length?a:false;},getFocusOnTileContainerAfterContent:function(j){var a=j.closest('.sapUshellTileContainerAfterContent');return a.length?a:false;},getFocusOnTile:function(j){var a;jQuery.each(this.aTileWrapperClasses,function(i,t){var b=j.closest(t);a=b.length?b:false;return!(a);});return a;},renameGroup:function(){var j=jQuery(document.activeElement);var a=this.getFocusGroupFromDashboard(j);if(a){a.click();}},upDownButtonsHandler:function(d,p){var j=jQuery(document.activeElement);this.goFromFocusedTile(d,j,p);},arrowsButtonsHandler:function(d,e){var j=jQuery(document.activeElement),i=this.oModel.getProperty('/tileActionModeActive');if(j.hasClass('sapUshellAnchorItem')){e.preventDefault();this.handleAnchorNavigationItemsArrowKeys(d);}else{if(i){if(!j.hasClass('sapMInputBaseInner')){e.preventDefault();this.goToSiblingElementInTileContainer(d,j);}}else{e.preventDefault();this.goFromFocusedTile(d,j);}}},handleAnchorNavigationItemsArrowKeys:function(d){var a=jQuery('.sapUshellAnchorItem:visible'),j=jQuery(document.activeElement),i=a.index(j),n=j,I=sap.ui.getCore().getConfiguration().getRTL();if(I){d=d==='left'?'right':'left';}if(d==='left'||d==='down'){if(i>0){n=a.get(i-1);}}else if(d==='right'||d==='up'){if(i<a.length-1){n=a.get(i+1);}}jQuery(n).focus();},homeEndButtonsHandler:function(s,e){var j=jQuery(document.activeElement),t;if(j.hasClass('sapUshellAnchorItem')){e.preventDefault();var a=jQuery('.sapUshellAnchorItem:visible:'+s);a.focus();return;}if(j.hasClass('sapUshellTile')&&(j.closest('#dashboardGroups').length||j.closest('#catalogTiles').length)){e.preventDefault();if(e.ctrlKey===true){t=jQuery(\".sapUshellTile:visible:not('.sapUshellPlusTile')\")[s]();}else{t=j.parent().find(\".sapUshellTile:visible:not('.sapUshellPlusTile')\")[s]();}this.setTileFocus(t);return;}},deleteButtonHandler:function(){if(this.oModel.getProperty('/personalization')&&this.oModel.getProperty('/tileActionModeActive')){var j,a=jQuery(document.activeElement);if(j=this.getFocusOnTile(a)){if(!j.hasClass('sapUshellLockedTile')&&!j.hasClass('sapUshellPlusTile')){this.deleteTile(j);}return;}}},ctrlPlusArrowKeyButtonsHandler:function(s){var j,a=jQuery(document.activeElement),f=jQuery(a).hasClass('sapUshellLinkTile');if(!f&&(j=this.getFocusOnTile(a))){this.moveTile(s);return;}if(j=this.getFocusTileContainerHeader(a)){var b=j.closest('.sapUshellTileContainerContent');if(b.hasClass('sapUshellTileContainerDefault')||b.hasClass('sapUshellTileContainerLocked')){return;}else{this.moveGroupFromDashboard(s,j);}}},spaceButtonHandler:function(e){var j=jQuery(document.activeElement);if(j.hasClass('sapUshellTile')){e.preventDefault();var g=j.find('[role=\"button\"]');if(g){var a=g.attr('id');var b=sap.ui.getCore().byId(a),i=this.oModel.getProperty('/tileActionModeActive');if(b&&!i){b.firePress();return false;}}j.click();return false;}},goToFirstCatalogTile:function(){var h=sap.ushell.components.flp.ComponentKeysHandler;var f=jQuery('#catalogTiles .sapUshellTile:visible:first');h.setTileFocus(f);},goToFirstCatalogHeaderItem:function(){var n=jQuery('#catalogTilesPage header button')[0];n.focus();},goToFirstAnchorNavigationItem:function(){var j=jQuery('.sapUshellAnchorItem:visible:first');j.focus();},handleFocusOnMe:function(k,f){var h=sap.ushell.components.flp.ComponentKeysHandler,n=sap.ui.getCore().byId('navContainerFlp'),C=n.getCurrentPage(),o=C.getViewName();if(o=='sap.ushell.components.flp.launchpad.dashboard.DashboardContent'){if(f){if(k.shiftKey){h.goToTileContainer(k);}else{h.goToFirstAnchorNavigationItem();}}else{h.mainKeydownHandler(k);h.dashboardKeydownHandler(k);}}if(o=='sap.ushell.components.flp.launchpad.appfinder.AppFinder'){if(h.appFinderKeydownHandler(k,f)){return;}var m=C.getController().getCurrentMenuName();if(m==='catalog'){if(f){if(k.shiftKey){h.goToFirstCatalogTile();}else{h.goToFirstCatalogHeaderItem();}}else{h.mainKeydownHandler(k);h.catalogKeydownHandler(k);}}else{h.easyAccessKeydownHandler(k);}}},groupHeaderNavigation:function(){var j=jQuery(document.activeElement),a;if(j.hasClass('sapUshellTileContainerHeader')){a=j.find('.sapUshellContainerTitle');a.focus();}else if(a=j.closest('.sapUshellTileContainerHeader')){a.focus();}},handleShortcuts:function(e){var h=sap.ushell.components.flp.ComponentKeysHandler;if(e.altKey){switch(String.fromCharCode(e.keyCode)){case'C':if(h.oModel.getProperty('/personalization')){h.handleCatalogKey();}break;case'H':h.handleHomepageKey();break;}}},mainKeydownHandler:function(e){e=e||window.event;switch(e.keyCode){case this.keyCodes.SPACE:this.spaceButtonHandler(e);break;case this.keyCodes.HOME:this.homeEndButtonsHandler('first',e);break;case this.keyCodes.END:this.homeEndButtonsHandler('last',e);break;}},catalogKeydownHandler:function(k){var h=sap.ushell.components.flp.ComponentKeysHandler;var p='catalog';switch(k.keyCode){case h.keyCodes.ARROW_UP:h.upDownButtonsHandler('up',p);break;case h.keyCodes.ARROW_DOWN:h.upDownButtonsHandler('down',p);break;case h.keyCodes.ARROW_RIGHT:h.goFromFocusedTile('right','',p);break;case h.keyCodes.ARROW_LEFT:h.goFromFocusedTile('left','',p);break;case h.keyCodes.PAGE_UP:h.goToFirstTileOfSiblingGroupInCatalog('prev',k);break;case h.keyCodes.PAGE_DOWN:h.goToFirstTileOfSiblingGroupInCatalog('next',k);break;}},appFinderFocusAppBox:function(j,a){j.attr('tabindex','-1').find('.sapUshellPinButton').attr('tabindex','-1');a.find('.sapUshellPinButton').attr('tabindex','0');a.attr('tabindex','0').focus();},appFinderKeydownHandler:function(k,f){if(!f){return;}var b=jQuery('#catalog, #userMenu, #sapMenu').filter('[tabindex=0]');if(b.length){b.eq(0).focus();return true;}},easyAccessRightLeftHandler:function(d,k){k.preventDefault();var h=sap.ushell.components.flp.ComponentKeysHandler;var s=d=='right'?'next':'prev';var j=jQuery(document.activeElement);if(!j.hasClass('sapUshellAppBox')){return;}var n=j.parent()[s]();if(n.length){h.appFinderFocusAppBox(j,n.children());}},easyAccessUpDownHandler:function(d,k){var h=sap.ushell.components.flp.ComponentKeysHandler;k.preventDefault();var f=document.activeElement;var j=jQuery(document.activeElement);if(!j.hasClass('sapUshellAppBox')){return;}var a=f.getBoundingClientRect();var b=[].slice.call(document.querySelectorAll('.sapUshellAppBox'));if(d=='up'){b.reverse();}b.splice(0,b.indexOf(f)+1);var n;for(var i=0;i<b.length;i++){var r=b[i].getBoundingClientRect();var e=(r.left<a.right&&r.right>a.left);if(e){n=b[i];break;}}if(n){h.appFinderFocusAppBox(j,jQuery(n));}},easyAccessHomeEndHandler:function(d,k){k.preventDefault();var h=sap.ushell.components.flp.ComponentKeysHandler;var s=d=='home'?'first':'last';var j=jQuery(document.activeElement);if(!j.hasClass('sapUshellAppBox')){return;}var n=j.parent().parent().children()[s]().children();if(j==n){return;}h.appFinderFocusAppBox(j,jQuery(n));},easyAccessKeydownHandler:function(k){var h=sap.ushell.components.flp.ComponentKeysHandler;switch(k.keyCode){case h.keyCodes.ARROW_UP:h.easyAccessUpDownHandler('up',k);break;case h.keyCodes.ARROW_DOWN:h.easyAccessUpDownHandler('down',k);break;case h.keyCodes.ARROW_RIGHT:h.easyAccessRightLeftHandler('right',k);break;case h.keyCodes.ARROW_LEFT:h.easyAccessRightLeftHandler('left',k);break;case h.keyCodes.HOME:case h.keyCodes.PAGE_UP:h.easyAccessHomeEndHandler('home',k);break;case h.keyCodes.END:case h.keyCodes.PAGE_DOWN:h.easyAccessHomeEndHandler('end',k);break;}},dashboardKeydownHandler:function(k){var h=sap.ushell.components.flp.ComponentKeysHandler;switch(k.keyCode){case h.keyCodes.F2:h.renameGroup();break;case h.keyCodes.F7:h.groupHeaderNavigation();break;case h.keyCodes.DELETE:h.deleteButtonHandler();break;case h.keyCodes.BACKSPACE:h.deleteButtonHandler();break;case h.keyCodes.ARROW_UP:if(k.ctrlKey===true){h.ctrlPlusArrowKeyButtonsHandler('up');}else{h.arrowsButtonsHandler('up',k);}break;case h.keyCodes.ARROW_DOWN:if(k.ctrlKey===true){h.ctrlPlusArrowKeyButtonsHandler('down');}else{h.arrowsButtonsHandler('down',k);}break;case h.keyCodes.ARROW_RIGHT:if(k.ctrlKey===true){h.ctrlPlusArrowKeyButtonsHandler('right');}else{h.arrowsButtonsHandler('right',k);}break;case h.keyCodes.ARROW_LEFT:if(k.ctrlKey===true){h.ctrlPlusArrowKeyButtonsHandler('left');}else{h.arrowsButtonsHandler('left',k);}break;case h.keyCodes.PAGE_UP:h.goToFirstTileOfSiblingGroup('prev',k);break;case h.keyCodes.PAGE_DOWN:h.goToFirstTileOfSiblingGroup('next',k);break;}return true;},init:function(m,r){this.oModel=m;this.oRouter=r;}};sap.ushell.components.flp.ComponentKeysHandler=new c();}());\n",
	"sap/ushell/components/flp/CustomRouter.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.components.flp.CustomRouter');sap.ui.core.routing.Router.extend('sap.ushell.components.flp.CustomRouter',{constructor:function(){sap.ui.core.routing.Router.apply(this,arguments);this.attachRouteMatched(this._onHandleRouteMatched,this);},navTo:function(){if(!this._bIsInitialized){this.initialize();}sap.ui.core.routing.Router.prototype.navTo.apply(this,arguments);},destroy:function(){sap.ui.core.routing.Router.prototype.destroy.apply(this,arguments);},_onHandleRouteMatched:function(e){var p=e.getParameters(),t=sap.ui.getCore().byId(p.config.controlId);var r=this.getTarget(p.config.target).display();t.to(r.oTargetParent);}});})();\n",
	"sap/ushell/components/flp/FLPAnalytics.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.components.flp.FLPAnalytics');var o=['appOpened','deleteTile','createGroup','actionModeActive','catalogTileClick','dashboardTileClick','dashboardTileLinkClick'],E=sap.ui.getCore().getEventBus(),t=this,l={};function s(c){var m=sap.ushell.services.AppConfiguration.getMetadata();l[c]={};l[c].startTime=new Date();l[c].title=m.title;}function a(c){var d=0;try{d=(new Date()-l[c].startTime)/1000;sap.ushell.Container.getService('UsageAnalytics').logCustomEvent('FLP: Time in Application (sec)',d,[l[c].title]);}catch(e){jQuery.sap.log.warning('Duration in application '+c+' could not be calculated',null,'sap.ushell.components.flp.FLPAnalytics');}}function h(c,d,D){var A=hasher.getHash(),f;window.swa.custom1={ref:A};switch(d){case'appOpened':s(A);sap.ushell.Container.getService('UsageAnalytics').logCustomEvent('FLP: Application Opened','Direct Launch',[l[A].title]);E.unsubscribe('launchpad','appOpened',h);break;case'bookmarkTileAdded':f=window.document.title;sap.ushell.Container.getService('UsageAnalytics').logCustomEvent('FLP: Personalization','Save as Tile',[f,D&&D.group&&D.group.title?D.group.title:'',D&&D.group&&D.group.id?D.group.id:'',D&&D.tile&&D.tile.title?D.tile.title:f]);break;case'actionModeActive':sap.ushell.Container.getService('UsageAnalytics').logCustomEvent('FLP: Personalization','Enter Action Mode',[D.source]);break;case'catalogTileClick':sap.ushell.Container.getService('UsageAnalytics').logCustomEvent('FLP: Application Launch point','Catalog',[]);break;case'dashboardTileClick':sap.ushell.Container.getService('UsageAnalytics').logCustomEvent('FLP: Application Launch point','Homepage',[]);break;case'dashboardTileLinkClick':window.swa.custom1={ref:D.targetHash.substr(1)};sap.ushell.Container.getService('UsageAnalytics').logCustomEvent('FLP: Application Launch point','Tile Group Link',[]);break;default:break;}}function b(c){var f,T,d;if(c.getParameter('from')&&c.getParameter('to')){f=c.getParameter('from').getId().replace('application-','').replace('applicationShellPage-','');window.swa.custom1={ref:f};a(f);d=c.getParameter('to');T=d.getId().replace('application-','').replace('applicationShellPage-','');s(T);window.swa.custom1={ref:T};sap.ushell.Container.getService('UsageAnalytics').logCustomEvent('FLP: Application Opened','Fiori Navigation',[l[T].title]);}}jQuery(window).unload(function(c){var d=window.location.hash.substr(1);a(d);});try{sap.ui.getCore().byId('viewPortContainer').attachAfterNavigate(b,t);}catch(e){jQuery.sap.log.warning(\"Failure when subscribing to viewPortContainer 'AfterNavigate' event\",null,'sap.ushell.components.flp.FLPAnalytics');}E.subscribe('sap.ushell.services.Bookmark','bookmarkTileAdded',h,t);o.forEach(function(c,i,d){E.subscribe('launchpad',c,h,t);});})();\n",
	"sap/ushell/components/flp/launchpad/DashboardManager.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.components.flp.launchpad.DashboardManager');jQuery.sap.require('sap.ushell.services.Message');var g=function(m,p){return p?sap.ushell.resources.i18n.getText(m,p):sap.ushell.resources.i18n.getText(m);},c=function(C){var a=this.oModel.getProperty('/catalogTiles'),b=a.filter(function(t){return t.catalog===C.title&&t.isTileIntentSupported===true;});return b.length;};sap.ui.base.EventProvider.extend('sap.ushell.components.flp.launchpad.DashboardManager',{metadata:{publicMethods:['getModel','getDashboardView','loadPersonalizedGroups','attachEvent','detachEvent','attachEventOnce','createTile','deleteCatalogTileFromGroup','resetGroupsOnFailure','createGroupAndSaveTile']},analyticsConstants:{PERSONALIZATION:'FLP: Personalization',RENAME_GROUP:'FLP: Rename Group',MOVE_GROUP:'FLP: Move Group',DELETE_GROUP:'FLP: Delete Group',RESET_GROUP:'FLP: Reset Group',DELETE_TILE:'FLP: Delete Tile',ADD_TILE:'FLP: Add Tile',MOVE_TILE:'FLP: Move Tile'},constructor:function(i,s){if(sap.ushell.components.flp.launchpad.getDashboardManager&&sap.ushell.components.flp.launchpad.getDashboardManager()){return sap.ushell.components.flp.launchpad.getDashboardManager();}sap.ushell.components.flp.launchpad.getDashboardManager=jQuery.sap.getter(this.getInterface());this.oPageBuilderService=sap.ushell.Container.getService('LaunchPage');this.oModel=s.model;this.oConfig=s.config;this.oRouter=s.router;this.oSortableDeferred=$.Deferred();this.oSortableDeferred.resolve();this.aRequestQueue=[];this.bRequestRunning=false;this.tagsPool=[];this.registerEvents();this.oTileCatalogToGroupsMap={};this.tileViewUpdateQueue=[];this.tileViewUpdateTimeoutID=0;this.oPopover=null;this.tileUuid=null;this.oGroupCreatedDeferred=undefined;this.aMoveTileCallsData=undefined;this.segmentsStore=[];this.oGroupNotLockedFilter=new sap.ui.model.Filter('isGroupLocked',sap.ui.model.FilterOperator.EQ,false);if(this.oRouter){var t=this.oRouter.getTarget('home');t.attachDisplay(function(e){this.oDashboardView=e.getParameter('view');}.bind(this));}},createMoveActionDialog:function(){var G=this.oGroupNotLockedFilter;this.moveDialog=new sap.m.SelectDialog('moveDialog',{title:sap.ushell.resources.i18n.getText('moveTileDialog_title'),rememberSelections:false,search:function(e){var v=e.getParameter('value'),f=new sap.ui.model.Filter('title',sap.ui.model.FilterOperator.Contains,v),b=e.getSource().getBinding('items');b.filter([f,G]);},contentWidth:'400px',confirm:function(e){var C=e.getParameter('selectedContexts'),E=sap.ui.getCore().getEventBus();if(C.length){E.publish('launchpad','moveTile',{sTileId:this.tileUuid,toGroupId:C[0].getObject().groupId,toIndex:C[0].getObject().tiles.length,source:this.moveDialog.getId()});E.publish('launchpad','scrollToGroup',{groupId:C[0].getObject().groupId,groupChanged:false,focus:false});}}.bind(this),cancel:function(){var C=jQuery('.sapUshellTile[tabindex=\"0\"]')[0];if(C){C.focus();}},items:{path:'/groups',filters:[G],template:new sap.m.StandardListItem({title:'{title}'})}});this.moveDialog.setModel(this.oModel);},registerEvents:function(){var e=sap.ui.getCore().getEventBus(),t=this;e.subscribe('launchpad','addBookmarkTile',this._createBookmark,this);e.subscribe('sap.ushell.services.Bookmark','bookmarkTileAdded',this._addBookmarkToModel,this);e.subscribe('sap.ushell.services.Bookmark','catalogTileAdded',this._refreshGroupInModel,this);e.subscribe('sap.ushell.services.Bookmark','bookmarkTileDeleted',this.loadPersonalizedGroups,this);e.subscribe('launchpad','loadDashboardGroups',this.loadPersonalizedGroups,this);e.subscribe('launchpad','createGroupAt',this._createGroupAt,this);e.subscribe('launchpad','createGroup',this._createGroup,this);e.subscribe('launchpad','deleteGroup',this._deleteGroup,this);e.subscribe('launchpad','resetGroup',this._resetGroup,this);e.subscribe('launchpad','changeGroupTitle',this._changeGroupTitle,this);e.subscribe('launchpad','moveGroup',this._moveGroup,this);e.subscribe('launchpad','deleteTile',this._deleteTile,this);e.subscribe('launchpad','moveTile',this._moveTile,this);e.subscribe('launchpad','sortableStart',this._sortableStart,this);e.subscribe('launchpad','sortableStop',this._sortableStop,this);e.subscribe('renderCatalog',this.loadAllCatalogs,this);e.subscribe('showCatalog',this.updateTilesAssociation,this);e.subscribe('launchpad','dashboardModelContentLoaded',this._modelLoaded,this);this.oPageBuilderService.registerTileActionsProvider(function(T){jQuery.sap.require('sap.m.MessageBox');return[{text:sap.ushell.resources.i18n.getText('moveTileDialog_action'),press:function(E){t.tileUuid=t.getModelTileById(t.oPageBuilderService.getTileId(T)).uuid;if(!t.moveDialog){t.createMoveActionDialog();}t.moveDialog.getBinding('items').filter([t.oGroupNotLockedFilter]);t.moveDialog.open();}}];});},destroy:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe('launchpad','addBookmarkTile',this._createBookmark,this);e.unsubscribe('launchpad','loadDashboardGroups',this.loadPersonalizedGroups,this);e.unsubscribe('launchpad','createGroupAt',this._createGroupAt,this);e.unsubscribe('launchpad','createGroup',this._createGroup,this);e.unsubscribe('launchpad','deleteGroup',this._deleteGroup,this);e.unsubscribe('launchpad','resetGroup',this._resetGroup,this);e.unsubscribe('launchpad','changeGroupTitle',this._changeGroupTitle,this);e.unsubscribe('launchpad','moveGroup',this._moveGroup,this);e.unsubscribe('launchpad','deleteTile',this._deleteTile,this);e.unsubscribe('launchpad','moveTile',this._moveTile,this);e.unsubscribe('launchpad','sortableStart',this._sortableStart,this);e.unsubscribe('launchpad','sortableStop',this._sortableStop,this);e.unsubscribe('renderCatalog',this.loadAllCatalogs,this);e.unsubscribe('showCatalog',this.updateTilesAssociation,this);e.unsubscribe('launchpad','dashboardModelContentLoaded',this._modelLoaded,this);sap.ushell.components.flp.launchpad.getDashboardManager=undefined;},_refreshTiles:function(){var t=this,G=this.oModel.getProperty('/groups');jQuery.each(G,function(n,o){jQuery.each(o.tiles,function(n,T){t.oPageBuilderService.refreshTile(T.object);});});},_sortableStart:function(){this.oSortableDeferred=$.Deferred();},_createBookmark:function(C,e,d){var t=d.group?d.group.object:'';delete d.group;this._addRequest($.proxy(function(){var r=sap.ushell.Container.getService('Bookmark').addBookmark(d,t),R=sap.ushell.resources.i18n;r.always($.proxy(this._checkRequestQueue,this));r.done(function(){if(sap.ushell.Container){sap.ushell.Container.getService('Message').info(R.getText('tile_created_msg'));}});r.fail(function(m){jQuery.sap.log.error('Failed to add bookmark',m,'sap.ushell.ui.footerbar.AddBookmarkButton');if(sap.ushell.Container){sap.ushell.Container.getService('Message').error(R.getText('fail_to_add_tile_msg'));}});},this));},_addBookmarkToModel:function(C,e,d){var t=d.tile,G,o=d.group,s,T,n,i,a,N,I;if(!d||!t){this.bIsGroupsModelDirty=true;if(!this.bGroupsModelLoadingInProcess){this._handleBookmarkModelUpdate();}return;}if(!o){G=this.getModel().getProperty('/groups');for(I=0;I<G.length;I++){if(G[I].isDefaultGroup===true){o=G[I].object;break;}}}s=this.oPageBuilderService;T=s.getTileType(t);n=this._getTileModel(t,s.isGroupLocked(o),T,this._addModelToTileViewUpdateQueue);i=this._getIndexOfGroupByObject(o);a=this.oModel.getProperty('/groups/'+i);a.tiles.push(n);a.visibilityModes=sap.ushell.utils.calcVisibilityModes(a,true);N=a.tiles.length;this._updateModelWithTileView(i,N);this.oModel.setProperty('/groups/'+i,a);},_refreshGroupInModel:function(C,e,G){var l=sap.ushell.Container.getService('LaunchPage'),E='Failed to refresh group with id:'+G+' in the model',t=this;l.getGroups().fail(jQuery.sap.log.error(E,null,'sap.ushell.components.flp.launchpad.DashboardManager')).done(function(a){a.some(function(o){if(l.getGroupId(o)===G){l.getDefaultGroup().done(function(d){var i=G===d.getId()?true:false,b=t._getGroupModel(o,i),f=t._getIndexOfGroupByObject(b.object);t.oModel.setProperty('/groups/'+f,b);});return true;}});});},_sortableStop:function(){this.oSortableDeferred.resolve();},_handleAfterSortable:function(f){return $.proxy(function(){var o=Array.prototype.slice.call(arguments);this.oSortableDeferred.done(function(){f.apply(null,o);});},this);},_addRequest:function(r){this.aRequestQueue.push(r);if(!this.bRequestRunning){this.bRequestRunning=true;this.aRequestQueue.shift()();}},_checkRequestQueue:function(){if(this.aRequestQueue.length===0){this.bRequestRunning=false;}else{this.aRequestQueue.shift()();}},_requestFailed:function(){this.aRequestQueue=[];this.bRequestRunning=false;},_createGroup:function(C,e,d){var G=this._getGroupModel(null),a=this.oModel.getProperty('/groups'),m=this.oModel;m.setProperty('/groupList-skipScrollToGroup',true);window.setTimeout(function(){m.setProperty('/groups/'+a.length,G);},500);window.setTimeout(function(){m.setProperty('/groupList-skipScrollToGroup',false);},1000);},_createGroupAt:function(C,e,d){var n=parseInt(d.location,10),G=this.oModel.getProperty('/groups'),o=this._getGroupModel(null,false,n===G.length,d),m=this.oModel,i;o.index=n;G.splice(n,0,o);for(i=0;i<G.length-1;i++){G[i].isLastGroup=false;}for(i=n+1;i<G.length;i++){G[i].index++;}m.setProperty('/groups',G);},_getIndexOfGroup:function(G){var n=null,a=this.oModel.getProperty('/groups');jQuery.each(a,function(b,o){if(o.groupId===G){n=b;return false;}});return n;},_getIndexOfGroupByObject:function(G){var n=null,a=this.oModel.getProperty('/groups'),s=this.oPageBuilderService.getGroupId(G);a.forEach(function(m,b){var C=this.oPageBuilderService.getGroupId(m.object);if(C===s){n=b;return false;}}.bind(this));return n;},_getPathOfGroup:function(G){return'/groups/'+this._getIndexOfGroup(G);},_getPathOfTile:function(t){var G=this.oModel.getProperty('/groups'),n=null,a=null;jQuery.each(G,function(b,o){jQuery.each(o.tiles,function(d,T){if(T.uuid===t){n=b;a=d;return false;}});if(n!==null){return false;}});return n!==null?'/groups/'+n+'/tiles/'+a:null;},_moveInArray:function(a,n,b){if(b>=a.length){var k=b-a.length;while((k--)+1){a.push(undefined);}}a.splice(b,0,a.splice(n,1)[0]);},_updateGroupIndices:function(a){var k;for(k=0;k<a.length;k++){a[k].index=k;}},_deleteGroup:function(C,e,d){var t=this,G=d.groupId,s,a=this.oModel.getProperty('/groups'),n=this._getIndexOfGroup(G),i=a.length-1===n,o=null,r,m,b,B;b=i?n-1:n;this._destroyGroupModel('/groups/'+n);o=a.splice(n,1)[0].object;if(i){this.oModel.setProperty('/groups/'+b+'/isLastGroup',i);}s=sap.ushell.Container.getService('LaunchPage').getGroupId(o);m=this.oModel;m.setProperty('/groupList-skipScrollToGroup',true);m.setProperty('/groups',a);this._updateGroupIndices(a);if(b>=0){B=sap.ui.getCore().getEventBus();window.setTimeout($.proxy(B.publish,B,'launchpad','scrollToGroup',{groupId:this.oModel.getProperty('/groups')[b].groupId}),200);}window.setTimeout(function(){m.setProperty('/groupList-skipScrollToGroup',false);},1000);this._addRequest($.proxy(function(){var f=sap.ushell.Container.getService('LaunchPage').getGroupTitle(o);try{r=this.oPageBuilderService.removeGroup(o);}catch(h){this._resetGroupsOnFailure('fail_to_delete_group_msg');return;}r.done(function(){sap.ushell.Container.getService('UsageAnalytics').logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.DELETE_GROUP,[f,s]);this._showLocalizedMessage('group_deleted_msg',[f]);}.bind(this));r.fail(this._handleAfterSortable(t._resetGroupsOnFailureHelper('fail_to_delete_group_msg')));r.always($.proxy(this._checkRequestQueue,this));},this));},_resetGroup:function(C,e,d){var t=this,G=d.groupId,n=this._getIndexOfGroup(G),o=this.oModel.getProperty('/groups/'+n),s,a,r,b;this.oModel.setProperty('/groups/'+n+'/sortable',false);a=sap.ushell.Container.getService('LaunchPage').getGroupId(o.object);s=sap.ushell.Container.getService('LaunchPage').getGroupTitle(o.object);this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.resetGroup(o.object);}catch(f){this._resetGroupsOnFailure('fail_to_reset_group_msg');return;}r.done(this._handleAfterSortable($.proxy(function(G,o,R){sap.ushell.Container.getService('UsageAnalytics').logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.RESET_GROUP,[s,a]);var n=t._getIndexOfGroup(G);this._loadGroup(n,R||o.object,this._addAndUpdateModelWithTileView);this._showLocalizedMessage('group_reset_msg',[o.title]);this.oModel.setProperty('/groups/'+n+'/sortable',true);b=sap.ui.getCore().byId('dashboardGroups').getGroupControlByGroupId(G);if(b){b.rerender();}},this,G,o)));r.fail(this._handleAfterSortable(t._resetGroupsOnFailureHelper('fail_to_reset_group_msg')));r.always($.proxy(this._checkRequestQueue,this));},this));},_moveGroup:function(C,e,d){var f=d.fromIndex,t=d.toIndex,G=this.oModel.getProperty('/groups'),m=this.oModel,a=this.oModel.getProperty('/tileActionModeActive'),r,o,s,b=this,i,D;if(!a){f=this._adjustFromGroupIndex(f,G);}o=G[f];s=o.groupId;if(!a){t=this._adjustToGroupIndex(t,G,s);}D=G[t].object;this._moveInArray(G,f,t);this._updateGroupIndices(G);m.setProperty('/groupList-skipScrollToGroup',true);for(i=0;i<G.length-1;i++){G[i].isLastGroup=false;}G[G.length-1].isLastGroup=true;m.setProperty('/groups',G);window.setTimeout(function(){m.setProperty('/groupList-skipScrollToGroup',false);},1000);this._addRequest($.proxy(function(){var o=this.oModel.getProperty(this._getPathOfGroup(s));try{this._getOriginalGroupIndex(D).done(function(n){r=this.oPageBuilderService.moveGroup(o.object,n);r.done(function(){sap.ushell.Container.getService('UsageAnalytics').logCustomEvent(b.analyticsConstants.PERSONALIZATION,b.analyticsConstants.MOVE_GROUP,[o.title,f,t,s]);});r.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper('fail_to_move_group_msg')));r.always($.proxy(this._checkRequestQueue,this));}.bind(this));}catch(h){this._resetGroupsOnFailure('fail_to_move_group_msg');return;}},this));},_adjustToGroupIndex:function(t,a,b){var v=0,I=false,i=0;for(i=0;i<a.length&&v<t;i++){if(a[i].isGroupVisible){if(a[i].groupId===b){I=true;}else{v++;}}}if(I){return i-1;}return i;},_adjustFromGroupIndex:function(a,b){var v=0,i;for(i=0;i<b.length;i++){if(b[i].isGroupVisible){v++;}if(v===a+1){return i;}}return a;},_getOriginalGroupIndexByIndex:function(n){var G=this.oModel.getProperty('/groups'),s=G[n].object;return this._getOriginalGroupIndex(s);},_getOriginalGroupIndex:function(s){var a=this.oPageBuilderService,t=this,G=this.oPageBuilderService.getGroups(),d=new jQuery.Deferred();G.done(function(b){var n=null;jQuery.each(b,function(e,o){if(a.getGroupId(o)===a.getGroupId(s)){n=e;return false;}});d.resolve(n);});G.fail(function(){t._showLocalizedErrorHelper('fail_to_load_groups_msg')();d.reject();});return d;},_changeGroupTitle:function(C,e,d){var n=d.newTitle,G=this.oModel.getProperty('/groups'),s=d.groupId,a=d.groupId,b=this._getIndexOfGroup(s),o=this.oModel.getProperty('/groups/'+b),O=o.title,r,t=this;this.oModel.setProperty('/groups/'+b+'/title',n);if(!o.object){this._addRequest($.proxy(function(){try{this.oGroupCreatedDeferred=new jQuery.Deferred();if(b===G.length-1){r=this.oPageBuilderService.addGroup(n,b);r.done(this._handleAfterSortable($.proxy(function(s,N){b=this._getIndexOfGroup(s);this._createGroupUpdate(s,b,N);sap.ushell.Container.getService('UsageAnalytics').logCustomEvent(t.analyticsConstants.PERSONALIZATION,t.analyticsConstants.RENAME_GROUP,[O,n,s]);},this,s)));r.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper('fail_to_create_group_msg')));r.always($.proxy(this._checkRequestQueue,this));}else{this._getOriginalGroupIndexByIndex(b+1).done(function(h){r=this.oPageBuilderService.addGroupAt(n,h);r.done(this._handleAfterSortable($.proxy(function(s,N){b=this._getIndexOfGroup(s);this._createGroupUpdate(s,b,N);sap.ushell.Container.getService('UsageAnalytics').logCustomEvent(t.analyticsConstants.PERSONALIZATION,t.analyticsConstants.RENAME_GROUP,[O,n,s]);},this,s)));r.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper('fail_to_create_group_msg')));r.always($.proxy(this._checkRequestQueue,this));}.bind(this));}}catch(f){this._resetGroupsOnFailure('fail_to_create_group_msg');return;}},this));}else{this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.setGroupTitle(o.object,n);}catch(f){this._resetGroupsOnFailure('fail_to_rename_group_msg');return;}r.done(function(){a=sap.ushell.Container.getService('LaunchPage').getGroupId(o.object);sap.ushell.Container.getService('UsageAnalytics').logCustomEvent(t.analyticsConstants.PERSONALIZATION,t.analyticsConstants.RENAME_GROUP,[O,n,a]);});r.fail(this._handleAfterSortable($.proxy(function(s,O){var h=this._getPathOfGroup(s);this._showLocalizedError('fail_to__msg');this.oModel.setProperty(h+'/title',O);this._requestFailed();},this,s)));},this));if(r){r.always($.proxy(this._checkRequestQueue,this));}}},_createGroupUpdate:function(G,n,N){n=this._getIndexOfGroup(G);this._loadGroup(n,N);this.oGroupCreatedDeferred.resolve();},createTile:function(d){var C=d.catalogTileContext,o=d.groupContext,G=this.oModel.getProperty(o.getPath()),s=G.groupId,r,a=jQuery.Deferred(),R={},b;b=sap.ui.getCore().getEventBus();b=sap.ui.getCore().getEventBus();$.proxy(b.publish,b,'launchpad','addTile',{catalogTileContext:C,groupContext:o});if(!C){jQuery.sap.log.warning('DashboardManager: Did not receive catalog tile object. Abort.',this);return;}this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.addTile(C.getProperty('src'),o.getProperty('object'));}catch(e){this._resetGroupsOnFailure('fail_to_add_tile_msg');return;}var t=this;r.done(function(T){var f=t._getPathOfGroup(s),h=sap.ushell.Container.getService('LaunchPage').getTileTitle(T);t._addTileToGroup(f,T);R={group:G,status:1,action:'add'};sap.ushell.Container.getService('UsageAnalytics').logCustomEvent(t.analyticsConstants.PERSONALIZATION,t.analyticsConstants.ADD_TILE,[G.title,h]);a.resolve(R);}).fail(function(){R={group:G,status:0,action:'add'};a.resolve(R);}).always(function(){t._checkRequestQueue();});},this));return a.promise();},createGroup:function(t){var d=jQuery.Deferred(),G,a,s,i,r,n,C,R;if(!sap.ushell.utils.validHash(t)){return d.reject({status:0,action:'createNewGroup'});}G=this._getGroupModel(null,false,true);a=this.oModel.getProperty('/groups');s=G.groupId;i=a.length;if(i>0){a[i-1].isLastGroup=false;}G.title=t;G.index=i;G.editMode=false;a.push(G);this.oModel.setProperty('/groups/',a);this._addRequest(function(t){try{r=this.oPageBuilderService.addGroup(t);}catch(e){this._resetGroupsOnFailure('fail_to_create_group_msg');return;}r.done(this._handleAfterSortable(function(s,N){n=this._getIndexOfGroup(s);this._loadGroup(n,N);C=new sap.ui.model.Context(this.oModel,'/groups/'+n);d.resolve(C);}.bind(this,s)));r.fail(function(b){this._handleAfterSortable(this._resetGroupsOnFailureHelper('fail_to_create_group_msg'));R={group:b.group,status:0,action:'createNewGroup'};d.resolve(R);}.bind(this));r.always($.proxy(this._checkRequestQueue,this));}.bind(this,t));return d.promise();},createGroupAndSaveTile:function(d){var C=d.catalogTileContext,n=d.newGroupName,a=jQuery.Deferred(),r={};if(sap.ushell.utils.validHash(n)&&C){this.createGroup(n).then(function(o){var p=this.createTile({catalogTileContext:C,groupContext:o});p.done(function(b){r={group:b.group,status:1,action:'addTileToNewGroup'};a.resolve(r);}).fail(function(b){r={group:b.group,status:0,action:'addTileToNewGroup'};a.resolve(r);});}.bind(this));}return a.promise();},_deleteTile:function(C,e,d){var t=this,T=d.tileId||d.originalTileId,G=this.oModel.getProperty('/groups');jQuery.each(G,function(n,o){var f=false;jQuery.each(o.tiles,function(a,b){if(b.uuid===T||b.originalTileId===T){t._destroyTileModel('/groups/'+n+'/tiles/'+a);var h=o.tiles.splice(a,1)[0],r,s=sap.ushell.Container.getService('LaunchPage').getTileTitle(h.object),i=sap.ushell.Container.getService('LaunchPage').getCatalogTileId(h.object),j=sap.ushell.Container.getService('LaunchPage').getCatalogTileTitle(h.object),k=sap.ushell.Container.getService('LaunchPage').getTileId(h.object),p=t.oModel.getProperty('/personalization');o.visibilityModes=sap.ushell.utils.calcVisibilityModes(o,p);t.oModel.setProperty('/groups/'+n,o);t._addRequest(function(){try{r=t.oPageBuilderService.removeTile(o.object,h.object);}catch(l){this._resetGroupsOnFailure('fail_to_remove_tile_msg');return;}r.done(t._handleAfterSortable(function(){if(s){t._showLocalizedMessage('tile_deleted_msg',[s,o.title]);}else{t._showLocalizedMessage('tile_deleted_msg',[s,o.title]);}sap.ushell.Container.getService('UsageAnalytics').logCustomEvent(t.analyticsConstants.PERSONALIZATION,t.analyticsConstants.DELETE_TILE,[s||k,i,j,o.title]);}));r.fail(t._handleAfterSortable(t._resetGroupsOnFailureHelper('fail_to_remove_tile_msg')));r.always($.proxy(t._checkRequestQueue,t));});sap.ushell.utils.handleTilesVisibility();f=true;return false;}});if(f){return false;}});},_sendDeleteTileRequest:function(G,t){var r,a=sap.ushell.Container.getService('LaunchPage');try{r=a.removeTile(G,t.object);}catch(e){jQuery.sap.log.error('deleteCatalogTileFromGroup ; removeTile ; Exception occurred: '+e);}return r;},deleteCatalogTileFromGroup:function(d){var t=this,D=decodeURIComponent(d.tileId),G=d.groupIndex,o=this.oModel.getProperty('/groups/'+G),s=sap.ushell.Container.getService('LaunchPage'),a=jQuery.Deferred(),b=[],f,p,e;f=o.tiles.filter(function(T){var h=s.getCatalogTileId(T.object);if(h!==D){return true;}else{p=jQuery.Deferred();e=t._sendDeleteTileRequest(o.object,T);e.done((function(a){return function(){a.resolve({status:true});};})(p));e.fail((function(a){return function(){a.resolve({status:false});};})(p));b.push(p);return false;}});o.tiles=f;o.visibilityModes=sap.ushell.utils.calcVisibilityModes(o,true);jQuery.when.apply(jQuery,b).done(function(r){var S=true,i=0,h=b.length;for(i;i<h;i++){if(!r.status){S=false;break;}}if(S){t.oModel.setProperty('/groups/'+G,o);}a.resolve({group:o,status:S,action:'remove'});});return a.promise();},_moveTile:function(C,e,d){var n=d.toIndex,N=d.toGroupId,t=d.sTileId,s=d.source,T,a,o,b,f,h,G=this.oModel.getProperty('/groups'),S,i,p,j,m;jQuery.each(G,function(k,l){var F=false;jQuery.each(l.tiles,function(q,r){if(r.uuid===t){T=r;a=q;o=l;b=k;F=true;return false;}});if(F){return false;}});jQuery.each(G,function(k,l){if(l.groupId===N){f=l;h=k;}});if(o.groupId==f.groupId&&(s==='moveDialog'||n===null)){return;}if(n&&n>f.tiles.length){n=f.tiles.length;}if(o.groupId===N){if(n===null||n===undefined){o.tiles.splice(a,1);n=o.tiles.length;o.tiles.push(T);}else{n=this._adjustTileIndex(n,T,o);this._moveInArray(o.tiles,a,n);}this.oModel.setProperty('/groups/'+b+'/tiles',o.tiles);}else{p=this.oModel.getProperty('/personalization');o.tiles.splice(a,1);o.visibilityModes=sap.ushell.utils.calcVisibilityModes(o,p);this.oModel.setProperty('/groups/'+b+'/tiles',o.tiles);if(n===null||n===undefined){n=f.tiles.length;f.tiles.push(T);}else{n=this._adjustTileIndex(n,T,f);f.tiles.splice(n,0,T);}f.visibilityModes=sap.ushell.utils.calcVisibilityModes(f,p);this.oModel.setProperty('/groups/'+h+'/tiles',f.tiles);}sap.ushell.utils.handleTilesVisibility();S=this.oModel.getProperty('/groups/'+b).object;i=this.oModel.getProperty('/groups/'+h).object;if(!i&&this.oGroupCreatedDeferred&&this.oGroupCreatedDeferred.state()==='pending'){if(this.aMoveTileCallsData===undefined){this.aMoveTileCallsData=[];}this.aMoveTileCallsData.push({sTileId:t,oTile:T,nTileIndex:a,nNNewIndex:n,oSourceGroup:S,nNewGroupIndex:h});if(this.aMoveTileCallsData.length>1){return;}this.oGroupCreatedDeferred.promise().done(function(){if(this.aMoveTileCallsData!==undefined&&this.aMoveTileCallsData.length>0){i=this.oModel.getProperty('/groups/'+h).object;for(j=0;j<this.aMoveTileCallsData.length;j++){m=this.aMoveTileCallsData[j];this._moveTileRequest(m.sTileId,m.oTile,m.nTileIndex,m.nNewIndex,m.oSourceGroup,m.nNewGroupIndex,i,true);}this.aMoveTileCallsData=undefined;this.oGroupCreatedDeferred=undefined;}}.bind(this));}else{this._moveTileRequest(t,T,a,n,S,h,i,false);}},_moveTileRequest:function(t,T,n,a,s,b,o,i){var r,d,e,f=sap.ushell.Container.getService('LaunchPage'),u;this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.moveTile(T.object,n,a,s,o);}catch(h){this._resetGroupsOnFailure('fail_to_move_tile_msg');return;}T.tileIsBeingMoved=true;r.done(this._handleAfterSortable($.proxy(function(t,j){u=[f.getTileTitle(T.object),f.getGroupTitle(s),f.getGroupTitle(o),t];sap.ushell.Container.getService('UsageAnalytics').logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.MOVE_TILE,u);d=this._getPathOfTile(t);if(d){this.oModel.setProperty(d+'/object',j);this.oModel.setProperty(d+'/originalTileId',this.oPageBuilderService.getTileId(j));this.oPageBuilderService.getTileView(j).done(function(v){e=this.oModel.getProperty(d+'/content');this.oModel.setProperty(d+'/content',[v]);if(e&&e[0]){e[0].destroy();}this.oModel.setProperty(d+'/tileIsBeingMoved',false);}.bind(this));}if(i){this._loadGroup(b,o);}this.updateTilesAssociation();},this,t)));r.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper('fail_to_move_tile_msg')));r.always($.proxy(this._checkRequestQueue,this));},this));},_adjustTileIndex:function(n,t,a){var v=0,I=false,i=0;for(i=0;i<a.tiles.length&&v<n;i++){if(a.tiles[i].isTileIntentSupported){if(a.tiles[i]===t){I=true;}else{v++;}}}if(I){return i-1;}return i;},getModel:function(){return this.oModel;},getDashboardView:function(){return this.oDashboardView;},updateTilesAssociation:function(){this.mapCatalogTilesToGroups();this.updateCatalogTilesToGroupsMap();},loadAllCatalogs:function(C,e,d){var G=new jQuery.Deferred(),t=this,s;G.resolve();s=function(){G.done(function(){var a=t.getModel().getProperty('/groups');if(a&&a.length!==0){t.updateTilesAssociation();}});};if(!this.oModel.getProperty('/catalogs')){if(!this.oModel.getProperty('/groups')||this.oModel.getProperty('/groups').length===0){G=this.loadPersonalizedGroups();}this._destroyAllGroupModels('/catalogs');this._destroyAllTileModels('/catalogTiles');this.oModel.setProperty('/catalogs',[]);this.oModel.setProperty('/catalogTiles',[]);this.aPromises=[];sap.ushell.Container.getService('LaunchPage').getCatalogs().done(function(a){jQuery.when.apply(jQuery,this.aPromises).then(this.onDoneLoadingCatalogs(a));s();}.bind(this)).fail(t._showLocalizedErrorHelper('fail_to_load_catalog_msg')).progress(this.addCatalogToModel.bind(this));}else{s();}},updateCatalogTilesToGroupsMap:function(){var a=this.getModel().getProperty('/catalogTiles'),t,i,b,d,G,s=sap.ushell.Container.getService('LaunchPage');if(a){for(i=0;i<a.length;i++){t=a[i];b=encodeURIComponent(s.getCatalogTileId(t.src));d=this.getModel().getProperty('/catalogTiles/'+i+'/associatedGroups');G=this.oTileCatalogToGroupsMap[b];d=G?G:[];a[i].associatedGroups=d;}}this.getModel().setProperty('/catalogTiles',a);},addCatalogToModel:function(C){var a=this.oModel.getProperty('/catalogs'),s=sap.ushell.Container.getService('LaunchPage'),b=s.getCatalogId(C),d=false,o,p;a.forEach(function(e){if(e.id===b){d=true;}});if(!d){o={title:s.getCatalogTitle(C),id:s.getCatalogId(C),'static':false,tiles:[],numberOfTiles:0};p=s.getCatalogTiles(C);this.aPromises.push(p);p.done(function(t){if(!t.length){return;}var e={catalog:o.title,id:o.id,index:a.length,numberOfExistingTiles:0},u;u=function(){if(!this.oModel.getProperty('/isCatalogInUpdate')){this.oModel.setProperty('/isCatalogInUpdate',true);var E=this.searchModelCatalogByTitle(o.title),f;if(E.result){e.index=E.indexOfPreviousInstanceInModel;e.numberOfExistingTiles=E.numOfTilesInCatalog;this.setCatalogTiles('/catalogTiles',true,e,t);f=this.oModel.getProperty('/catalogs');C=f[E.indexOfPreviousInstanceInModel];C.numIntentSupportedTiles=c.call(this,o);C.numberOfTiles=E.numOfTilesInCatalog+t.length;a[E.indexOfPreviousInstanceInModel]=C;}else{this.setCatalogTiles('/catalogTiles',true,e,t);o.numIntentSupportedTiles=c.call(this,o);o.numberOfTiles=t.length;a.push(o);}this.oModel.setProperty('/catalogs',a);this.oModel.setProperty('/isCatalogInUpdate',false);return;}setTimeout(u,50);}.bind(this);u();}.bind(this)).fail(this._showLocalizedErrorHelper('fail_to_load_catalog_tiles_msg'));}},searchModelCatalogByTitle:function(a){var b=this.oModel.getProperty('/catalogs'),d=false,i,n=0,G=false;$.each(b,function(e,t){if(t.title===sap.ushell.resources.i18n.getText('catalogsLoading')){G=true;}else if(a==t.title){i=e;n=t.numberOfTiles;d=true;return false;}});return{result:d,indexOfPreviousInstanceInModel:i,indexOfPreviousInstanceInPage:G?i-1:i,numOfTilesInCatalog:n};},getTagList:function(m){var i={},d=0,t=[],e,T,s;for(d=0;d<this.tagsPool.length;d++){T=this.tagsPool[d];if(i[T]){i[T]++;}else{i[T]=1;}}for(e in i){t.push({tag:e,occ:i[e]});}s=t.sort(function(a,b){return b.occ-a.occ;});if(s.length===0){this.oModel.setProperty('/tagFiltering',false);}if(m){this.oModel.setProperty('/tagList',s.slice(0,m));}else{this.oModel.setProperty('/tagList',s);}},onDoneLoadingCatalogs:function(C){if(!C.length){this.oModel.setProperty('/catalogsNoDataText',sap.ushell.resources.i18n.getText('noCatalogs'));}var s=sap.ushell.Container.getService('LaunchPage'),l=C.filter(function(o){return!s.getCatalogError(o);}),a;if(l.length!==C.length){this._showLocalizedError('partialCatalogFail');}if(this.oModel.getProperty('/tagFiltering')===true){this.getTagList();}a=this.oModel.getProperty('/catalogs');if(a[0]&&a[0].title===sap.ushell.resources.i18n.getText('catalogsLoading')){a.splice(0,1);}a.splice(0,0,{title:g('catalogSelect_initial_selection'),'static':true,tiles:[],numIntentSupportedTiles:-1});this.oModel.setProperty('/catalogs',a);sap.ushell.utils.handleTilesVisibility();},setCatalogTiles:function(p,a,d,C){var s=sap.ushell.Container.getService('LaunchPage'),u=$.map(C,function(o,t){var b,e=encodeURIComponent(s.getCatalogTileId(o)),f=this.oTileCatalogToGroupsMap[e]||[],h=s.getCatalogTileTags(o)||[];if(h.length>0){this.tagsPool=this.tagsPool.concat(h);}b=s.getCatalogTileView(o);return{associatedGroups:f,src:o,catalog:d.catalog,catalogIndex:this.calculateCatalogTileIndex(d.index,d.numberOfExistingTiles,t),catalogId:d.id,title:s.getCatalogTileTitle(o),tags:h,keywords:(s.getCatalogTileKeywords(o)||[]).join(','),id:e,size:s.getCatalogTileSize(o),content:[b],isTileIntentSupported:s.isTileIntentSupported(o)};}.bind(this));this.oModel.setProperty(p,$.merge((a&&this.oModel.getProperty(p))||[],u));},calculateCatalogTileIndex:function(a,n,t){var r=parseInt(a*100000,10);r+=(n!==undefined?n:0)+t;return r;},mapCatalogTilesToGroups:function(){this.oTileCatalogToGroupsMap={};var G=this.oModel.getProperty('/groups'),s=sap.ushell.Container.getService('LaunchPage'),i=0,o,t,T,a,b,d;for(i=0;i<G.length;i++){o=G[i];T=o.tiles;if(T){for(t=0;t<T.length;++t){a=encodeURIComponent(s.getCatalogTileId(T[t].object));b=this.oTileCatalogToGroupsMap[a]||[];d=s.getGroupId(o.object);if(b.indexOf(d)===-1&&(typeof(o.isGroupVisible)==='undefined'||o.isGroupVisible)&&!o.isGroupLocked){b.push(d);}this.oTileCatalogToGroupsMap[a]=b;}}}},_showLocalizedMessage:function(m,p,t){sap.ushell.Container.getService('Message').show(t||sap.ushell.services.Message.Type.INFO,g(m,p),p);},_showLocalizedError:function(m,p){this._showLocalizedMessage(m,p,sap.ushell.services.Message.Type.ERROR);},_showLocalizedErrorHelper:function(m,p){var t=this;return function(){t._showLocalizedError(m,p);};},_resetGroupsOnFailureHelper:function(m){var t=this;return function(G){t._showLocalizedError(m);t._requestFailed();setTimeout(function(){t.loadGroupsFromArray(G);});};},_resetGroupsOnFailure:function(m,p){this._requestFailed();this._showLocalizedError(m,p);this.loadPersonalizedGroups();this.oModel.updateBindings(true);},resetGroupsOnFailure:function(){this._resetGroupsOnFailure.apply(this,arguments);},_bindSegment:function(G,s){var a,o,S,b;for(a=0;a<s.length;a++){S=s[a];b=S.index;o=G[b];o.isRendered=true;o.tiles=o.tiles.concat(S.tiles);o.links=o.links.concat(S.links);}return G;},createGroupsModelFrame:function(G,p){var a,C=[],o,f;f=function(b){var d=jQuery.extend({},b);d.tiles=[];d.links=[];return d;};for(a=0;a<G.length;a++){o=G[a];C[a]=f(o);C[a].isRendered=false;C[a].visibilityModes=sap.ushell.utils.calcVisibilityModes(o,p);}return C;},_splitGroups:function(s,G,f){var a,t,b=s,p=f,d=[],e,h,i,j=['tiles','links'],o=1,C,k;C=function(l){var m=jQuery.extend({},l);m.tiles=[];m.links=[];return m;};for(a=0;a<G.length;a++){k=G[a];e=C(k);d.push(e);for(h=0;h<j.length;h++){i=j[h];o=this.PagingManager.getSizeofSupportedElementInUnits(i==='links'?'link':'tile');for(t=0;t<k[i].length;t++){if(p<=0){p=b;if(d){this.segmentsStore.push(d);}e=C(k);d=[];d.push(e);}e[i].push(k[i][t]);p-=o;}}}if(d){this.segmentsStore.push(d);}},_processSegment:function(m){var e=sap.ui.getCore().getEventBus(),a,b,t;if(this.segmentsStore.length>0){a=this.segmentsStore.shift();b=a[0].index;t=m[b].tiles.length+m[b].links.length;m=this._bindSegment(m,a);this.oModel.setProperty('/groups',m);this._updateModelWithTileView(b,t);this._handleSegment();}else{this._updateModelWithTileView(0,0);sap.ushell.utils.handleTilesVisibility();e.publish('launchpad','dashboardModelContentLoaded');}},_handleBookmarkModelUpdate:function(){this.bIsGroupsModelDirty=false;this.bGroupsModelLoadingInProcess=true;this.loadPersonalizedGroups();},_modelLoaded:function(){this.bGroupsModelLoadingInProcess=false;if(this.bIsGroupsModelDirty){this._handleBookmarkModelUpdate();}},_handleSegment:function(){clearTimeout(this.oSegmentTimer);this.oSegmentTimer=setTimeout(function(){this._processSegment(this.oModel.getProperty('/groups'));}.bind(this),100);},loadGroupsFromArray:function(G){var t=this;this.oPageBuilderService.getDefaultGroup().done(function(d){if(G.length==0&&d==undefined){return;}var i=0,l=[],b,a=G.indexOf(d),n,N,e=[],o,f,h,m,s,j,k,p={desktop:5,tablet:10,phone:15},q=0,r=0,u,v=0;G.splice(a,1);while(i<G.length){o=G[i];f=t.oPageBuilderService.isGroupLocked(o);if(f){l.push(o);G.splice(i,1);}else{i++;}}n=l.length;if(!t.oModel.getProperty('/disableSortedLockedGroups')){l.sort(function(x,y){var w=t.oPageBuilderService.getGroupTitle(x).toLowerCase(),z=t.oPageBuilderService.getGroupTitle(y).toLowerCase();return w<z?-1:1;});}b=l;b.push(d);b.push.apply(b,G);G=b;h=G.length;m=t.oModel.getProperty('/groups/length');t.oModel.setProperty('/groups/indexOfDefaultGroup',n);for(i=h;i<m;++i){t._destroyGroupModel('/groups/'+i);}if(!t.PagingManager){jQuery.sap.require('sap.ushell.components.flp.launchpad.PagingManager');t.PagingManager=new sap.ushell.components.flp.launchpad.PagingManager('dashboardPaging',{supportedElements:{tile:{className:'sapUshellTile'},link:{className:'sapUshellLinkTile'}},containerHeight:window.innerHeight,containerWidth:window.innerWidth});if(t.PagingManager.currentPageIndex===0){t.PagingManager.moveToNextPage();q=t.PagingManager._calcElementsPerPage();}}j=t.PagingManager.getSizeofSupportedElementInUnits('link');k=t.PagingManager.getSizeofSupportedElementInUnits('tile');for(i=0;i<h;++i){N=t._getGroupModel(G[i],i===n,i===h-1);N.index=i;v+=N.tiles.length*k+N.links.length*j;e.push(N);}if(sap.ui.Device.system.desktop){r=p.desktop;}else if(sap.ui.Device.system.tablet){r=p.tablet;}else{r=p.phone;}s=(v-q)/r;if(s<14){s=14;}u=t.createGroupsModelFrame(e,t.oModel.getProperty('/personalization'));t._splitGroups(s,e,q);t._processSegment(u);t.oModel.setProperty('/groups/length',u.length);if(t.oModel.getProperty('/currentState/stateName')==='catalog'){t.mapCatalogTilesToGroups();t.updateCatalogTilesToGroupsMap();}}).fail(t._resetGroupsOnFailureHelper('fail_to_get_default_group_msg'));},_loadGroup:function(n,G,h){var t=this,s='/groups/'+n,d=t.oModel.getProperty('/groups/indexOfDefaultGroup'),i=t.oModel.getProperty(s).isLastGroup,o,N;this._destroyGroupModel(s);o=this.oModel.getProperty(s+'/groupId');N=this._getGroupModel(G,n===d,i,undefined,h);if(o){N.groupId=o;}N.index=n;N.isRendered=true;this.oModel.setProperty(s,N);},_getGroupModel:function(G,d,l,D,h){var s=this.oPageBuilderService,a=(G&&s.getGroupTiles(G))||[],m=[],M=[],i,b,o=this.getModel();b=o.getProperty('/personalization');var e=G&&s.isGroupLocked(G)?true:false;for(i=0;i<a.length;++i){var t=a[i],T=s.getTileType(t).toLowerCase();if(T==='tile'){m.push(this._getTileModel(a[i],e,T,h));}else if(T==='link'){M.push(this._getTileModel(a[i],e,T,h));}else{jQuery.sap.log.error(\"Unknown tile type: '\"+T+\"'\",undefined,'sap.ushell.components.flp.launchpad.DashboardManager');}}return{title:(d&&g('my_group'))||(G&&s.getGroupTitle(G))||(D&&D.title)||'',object:G,groupId:jQuery.sap.uid(),links:M,tiles:m,isDefaultGroup:d||false,editMode:!G,isGroupLocked:e,visibilityModes:[true,true],removable:!G||s.isGroupRemovable(G),sortable:b,isGroupVisible:!G||s.isGroupVisible(G),isEnabled:!d,isLastGroup:l||false,isRendered:D?!!D.isRendered:false};},_addTileToGroup:function(G,t){var T=G+'/tiles',o=this.oModel.getProperty(G),n=this.oModel.getProperty(T).length,s=this.oPageBuilderService,a=s.getTileType(t);var i=this.oModel.getProperty(G+'/isGroupLocked'),p=this.oModel.getProperty('/personalization');o.tiles[n]=this._getTileModel(t,i,a,this._addModelToTileViewUpdateQueue);o.visibilityModes=sap.ushell.utils.calcVisibilityModes(o,p);this._updateModelWithTileView(o.index,n);this.oModel.setProperty(G,o);},_addAndUpdateModelWithTileView:function(t,T){this._addModelToTileViewUpdateQueue(t,T);this._updateModelWithTileView(0,0);},_addModelToTileViewUpdateQueue:function(t,T){this.tileViewUpdateQueue.push({uuid:t,view:T});},_updateModelWithTileView:function(s,a){var t=this;if(this.tileViewUpdateTimeoutID){clearTimeout(this.tileViewUpdateTimeoutID);}this.tileViewUpdateTimeoutID=setTimeout(function(){t.tileViewUpdateTimeoutID=undefined;t.oSortableDeferred.done(function(){t._updateModelWithTilesViews(s,a);});},50);},_updateModelWithTilesViews:function(s,a){var G=this.oModel.getProperty('/groups'),t,l,T,u,S,L,b=s||0,d=a||0,h=[];if(!G||this.tileViewUpdateQueue.length===0){return;}for(var i=b;i<G.length;i=i+1){t=G[i].tiles;l=G[i].links;t=t.concat(l);for(var j=d;j<t.length;j=j+1){T=t[j];for(var q=0;q<this.tileViewUpdateQueue.length;q++){u=this.tileViewUpdateQueue[q];if(T.uuid==u.uuid){h.push(q);if(u.view){T.content[0].destroy();T.content=[u.view];S=this.oPageBuilderService.getTileSize(T.object);L=((S!==null)&&(S==='1x2'))||false;if(T['long']!==L){T['long']=L;}}else{T.content[0].setState('Failed');}break;}}}}var e=[],f;for(f=0;f<this.tileViewUpdateQueue.length;f++){if(h.indexOf(f)===-1){e.push(this.tileViewUpdateQueue[f]);}}this.tileViewUpdateQueue=e;this.oModel.setProperty('/groups',G);},getModelTileById:function(i){var G=this.oModel.getProperty('/groups'),m;G.forEach(function(o){o.tiles.forEach(function(t){if(t.uuid===i||t.originalTileId===i){m=t;return;}});});return m;},_getTileModel:function(t,i,T,u){var s=this.oPageBuilderService,a=jQuery.sap.uid(),o,b=this,d,e,U;this.sTileType=T;s.setTileVisible(t,false);d=s.getTileView(t);d.done(function(v){o=v;if(U){U.apply(b,[a,o]);b._handleSegment();}});d.fail(function(){if(U){U.apply(b,[a]);b._handleSegment();}else{jQuery.sap.require('sap.ushell.ui.launchpad.TileState');if(b.sTileType==='link'){o=new sap.m.Link({text:sap.ushell.resources.i18n.getText('cannotLoadTile')});}else{o=new sap.ushell.ui.launchpad.TileState({state:'Failed'});}}});if(!o){U=u?u:this._addModelToTileViewUpdateQueue;jQuery.sap.require('sap.ushell.ui.launchpad.TileState');o=new sap.ushell.ui.launchpad.TileState({state:'Loading'});}if(T==='link'){e={'object':t,'originalTileId':s.getTileId(t),'uuid':a,'tileCatalogId':encodeURIComponent(s.getCatalogTileId(t)),'content':[o],'target':s.getTileTarget(t)||'','debugInfo':s.getTileDebugInfo(t),'isTileIntentSupported':s.isTileIntentSupported(t),'isLocked':i};}else if(T==='tile'){var S=s.getTileSize(t);e={'object':t,'originalTileId':s.getTileId(t),'uuid':a,'tileCatalogId':encodeURIComponent(s.getCatalogTileId(t)),'content':[o],'long':((S!==null)&&(S==='1x2'))||false,'target':s.getTileTarget(t)||'','debugInfo':s.getTileDebugInfo(t),'isTileIntentSupported':s.isTileIntentSupported(t),'rgba':'','isLocked':i,'showActionsIcon':this.oModel.getProperty('/tileActionsIconEnabled')||false};}return e;},_destroyAllGroupModels:function(t){var G=(typeof t==='string')?this.oModel.getProperty(t):t,i;if(G){for(i=0;i<G.length;i=i+1){this._destroyGroupModel(G[i]);}}},_destroyGroupModel:function(t){var G=(typeof t==='string')?this.oModel.getProperty(t):t;if(G){this._destroyAllTileModels(G.tiles);}},_destroyAllTileModels:function(t){var T=(typeof t==='string')?this.oModel.getProperty(t):t,i;if(T){for(i=0;i<T.length;i=i+1){this._destroyTileModel(T[i]);}}},_destroyTileModel:function(t){var T=(typeof t==='string')?this.oModel.getProperty(t):t,i;if(T&&T.content){for(i=0;i<T.content.length;i=i+1){T.content[i].destroy();}}},loadPersonalizedGroups:function(){var t=this,G=this.oPageBuilderService.getGroups(),d=new jQuery.Deferred();G.done(function(a){t.loadGroupsFromArray(a);d.resolve();});G.fail(function(){t._showLocalizedErrorHelper('fail_to_load_groups_msg')();d.reject();});return d;}});}());\n",
	"sap/ushell/components/flp/launchpad/PagingManager.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.components.flp.launchpad.PagingManager');sap.ui.base.EventProvider.extend('sap.ushell.components.flp.launchpad.PagingManager',{metadata:{publicMethods:['setElementClass','setContainerSize','getNumberOfAllocatedElements','moveToNextPage','getTileHeight']},constructor:function(i,s){sap.ushell.components.flp.launchpad.getPagingManager=jQuery.sap.getter(this.getInterface());this.currentPageIndex=0;this.containerHeight=s.containerHeight||0;this.containerWidth=s.containerWidth||0;this.supportedElements=s.supportedElements||'';this.tileHeight=0;},getTileHeight:function(){return this.tileHeight;},setElementClass:function(c){this.supportedElements=c;},setContainerSize:function(n,a){var t=this.getNumberOfAllocatedElements();this.containerHeight=n;this.containerWidth=a;this._changePageSize(t);},getNumberOfAllocatedElements:function(){return this._calcElementsPerPage()*this.currentPageIndex;},_changePageSize:function(t){this.currentPageIndex=Math.ceil(t/this._calcElementsPerPage());},moveToNextPage:function(){this.currentPageIndex++;},getSizeofSupportedElementInUnits:function(t){return this.supportedElements[t].sizeInBaseUnits;},_calcElementMatrix:function(c){var e=jQuery('<div>').addClass(c);jQuery('body').append(e);var a=e.height();var b=e.width();if(a<20||b<40){b=40;a=20;}e.remove();return{width:b,height:a};},_calcElementsPerPage:function(){var s,b,a,m,a,c,e,d;for(s in this.supportedElements){a=this.supportedElements[s];m=this._calcElementMatrix(a.className);a.matrix=m;if(b){b.width=b.width>m.width?m.width:b.width;b.height=b.height>m.height?m.height:b.height;}else{b={width:m.width,height:m.height};}}for(s in this.supportedElements){a=this.supportedElements[s];c=a.matrix;a.sizeInBaseUnits=Math.round(c.width/b.width*c.height/b.height);}e=Math.round(this.containerWidth/b.width);d=Math.round(this.containerHeight/b.height);if(!d||!e||e===Infinity||d===Infinity||e===0||d===0){return 10;}return d*e;}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/AppFinder.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.ui.launchpad.AccessibilityCustomData');sap.ui.controller('sap.ushell.components.flp.launchpad.appfinder.AppFinder',{onInit:function(){sap.ushell.Container.getRenderer('fiori2').createExtendedShellState('appFinderExtendedShellState',function(){sap.ushell.Container.getRenderer('fiori2').showHeaderItem('homeBtn',true);var i=sap.ui.Device.system.phone;sap.ushell.Container.getRenderer('fiori2').setHeaderHiding(i);});var t=this;var v=this.getView();var m=v.getModel();if(!m.getProperty('/groups')||m.getProperty('/groups').length===0){var d=sap.ushell.components.flp.launchpad.getDashboardManager();d.loadPersonalizedGroups();}var e=v.enableEasyAccess;this.oRouter=this.getView().parentComponent.getRouter();this.catalogView=sap.ui.view('catalogView',{type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.components.flp.launchpad.appfinder.Catalog',height:'100%',viewData:{parentComponent:v.parentComponent}});this.catalogView.addStyleClass('sapUiGlobalBackgroundColor sapUiGlobalBackgroundColorForce');this._addViewCustomData(this.catalogView,'appFinderCatalogTitle');this.oRouter.getRoute('catalog').attachPatternMatched(function(E){t._navigateTo.apply(t,['appFinder','catalog']);});this.oRouter.getRoute('appFinder').attachPatternMatched(function(E){t._applyExtendedShellstate();t._getPathAndHandleGroupContext(E);if(t.oView.isFiori2){t._updateShellHeader(t.oView.oPage.getTitle());}if(e){t.onShow(E);}sap.ui.getCore().getEventBus().publish('showCatalog');});if(!e){this.currentMenu='catalog';v.oPage.addContent(this.catalogView);}},_applyExtendedShellstate:function(){setTimeout(function(){if(sap.ushell.Container){sap.ushell.Container.getRenderer('fiori2').applyExtendedShellState('appFinderExtendedShellState');}},0);},getCurrentMenuName:function(){return this.currentMenu;},_navigateTo:function(n,m){var g=this.oView.getModel().getProperty('/groupContext');var G=g?g.path:null;if(G){this.oRouter.navTo(n,{'menu':m,filters:JSON.stringify({targetGroup:encodeURIComponent(G)})},true);}else{this.oRouter.navTo(n,{'menu':m},true);}},getSystemsModel:function(){if(this.getSystemsPromise){return this.getSystemsPromise;}var e=new sap.ui.model.json.JSONModel();e.setProperty('/systemSelected',null);e.setProperty('/systemsList',[]);this.getSystemsPromise=this.getSystems().then(function(r){e.setProperty('/systemsList',r);return e;});return this.getSystemsPromise;},onSegmentButtonClick:function(e){switch(e.getParameters().id){case'catalog':this._navigateTo('appFinder','catalog');break;case'userMenu':this._navigateTo('appFinder','userMenu');break;case'sapMenu':this._navigateTo('appFinder','sapMenu');break;}},onShow:function(e){var p=e.getParameter('arguments');var m=p.menu;if(m===this.getCurrentMenuName()){return;}this.currentMenu=m;var v=this.getView();v.segmentedButton.setSelectedButton(m);if(m==='catalog'){v.oPage.removeAllContent();v.oPage.addContent(this.catalogView);}else{this.getSystemsModel().then(function(m,s){if(m==='userMenu'){if(!this.userMenuView){this.userMenuView=new sap.ui.view('userMenuView',{type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.components.flp.launchpad.appfinder.EasyAccess',height:'100%',viewData:{menuName:'USER_MENU',easyAccessSystemsModel:s,parentComponent:v.parentComponent}});this._addViewCustomData(this.userMenuView,'appFinderUserMenuTitle');}v.oPage.removeAllContent();v.oPage.addContent(this.userMenuView);}else if(m==='sapMenu'){if(!this.sapMenuView){this.sapMenuView=new sap.ui.view('sapMenuView',{type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.components.flp.launchpad.appfinder.EasyAccess',height:'100%',viewData:{menuName:'SAP_MENU',easyAccessSystemsModel:s,parentComponent:v.parentComponent}});this._addViewCustomData(this.sapMenuView,'appFinderSapMenuTitle');}v.oPage.removeAllContent();v.oPage.addContent(this.sapMenuView);}}.bind(this,this.currentMenu));}},_getPathAndHandleGroupContext:function(e){var p=e.getParameter('arguments');var d=p.filters;var D=d?JSON.parse(d):d;var P=(D&&decodeURIComponent(D.targetGroup))||'';P=P==='undefined'?undefined:P;this._updateModelWithGroupContext(P);},_updateModelWithGroupContext:function(p){var l=sap.ushell.Container.getService('LaunchPage'),m=this.oView.getModel(),g,G={path:p,id:'',title:''};if(p&&p!==''){var t=function(){var M=m.getProperty('/groups');if(M.length){g=m.getProperty(p);G.id=l.getGroupId(g.object);G.title=g.title||l.getGroupTitle(g.object);return;}setTimeout(t,100);};t();}m.setProperty('/groupContext',G);},getSystems:function(){var d=new jQuery.Deferred();var s=[];var c=sap.ushell.Container.getService('ClientSideTargetResolution');if(!c){d.reject('cannot get ClientSideTargetResolution service');}else{c.getEasyAccessSystems().done(function(S){var a=Object.keys(S);for(var i=0;i<a.length;i++){var C=a[i];s[i]={'systemName':S[C].text,'systemId':C};}d.resolve(s);}).fail(function(e){d.reject('An error occurred while retrieving the systems: '+e);});}return d.promise();},_addViewCustomData:function(v,t){var r=sap.ushell.resources.i18n;v.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'role',value:'main',writeToDom:true}));v.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'aria-label',value:r.getText(t),writeToDom:true}));},_initializeShellUIService:function(){jQuery.sap.require('sap.ushell.ui5service.ShellUIService');this.oShellUIService=new sap.ushell.ui5service.ShellUIService({scopeObject:this.getOwnerComponent(),scopeType:'component'});},_updateShellHeader:function(t){if(!this.oShellUIService){this._initializeShellUIService()}this.oShellUIService.setTitle(t);}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/AppFinder.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.jsview('sap.ushell.components.flp.launchpad.appfinder.AppFinder',{createContent:function(c){var t=this;this.addEventDelegate({onAfterShow:function(){var h=sap.ui.getCore().byId('homeBtn');if(h&&h.setEnabled&&h.getTarget()){h.setEnabled(true);}},onAfterHide:function(){var h=sap.ui.getCore().byId('homeBtn');if(h&&h.setEnabled&&h.getTarget()){h.setEnabled(false);}if(t.isFiori2){t.oController._updateShellHeader(undefined);}}});this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this);this.setModel(this.parentComponent.getModel());this.enableEasyAccess=this.getModel().getProperty('/enableEasyAccess');if(this.enableEasyAccess){if(sap.ui.Device.system.phone||sap.ui.Device.system.tablet&&(!sap.ui.Device.system.combi)){this.enableEasyAccess=false;}}var r=sap.ushell.resources.i18n;if(this.enableEasyAccess){this.segmentedButton=new sap.m.SegmentedButton({buttons:[new sap.m.Button('catalog',{text:r.getText('appFinderCatalogTitle'),press:function(e){c.onSegmentButtonClick(e);}}),new sap.m.Button('userMenu',{text:r.getText('appFinderUserMenuTitle'),press:function(e){c.onSegmentButtonClick(e);}}),new sap.m.Button('sapMenu',{text:r.getText('appFinderSapMenuTitle'),press:function(e){c.onSegmentButtonClick(e);}})]});var b=this.segmentedButton.getButtons();for(var i=0;i<b.length;i++){var a=b[i];a.addAriaLabelledBy(a.getId()+'View');a.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'aria-controls',value:a.getId()+'View',writeToDom:true}));}}var R=sap.ushell.Container.getRenderer('fiori2');this.isFiori2=R.isFiori2();this.oPage=new sap.m.Page('appFinderPage',{showHeader:this.isFiori2?false:true,showSubHeader:this.enableEasyAccess?true:false,showFooter:false,showNavButton:false,enableScrolling:false,title:{parts:['/groupContext/title'],formatter:function(d){return!d?r.getText('appFinderTitle'):r.getText('appFinder_group_context_title',d);}},subHeader:this.enableEasyAccess?new sap.m.Toolbar({justifyContent:sap.m.FlexJustifyContent.Center,content:this.segmentedButton}):undefined});return this.oPage;},getControllerName:function(){return'sap.ushell.components.flp.launchpad.appfinder.AppFinder';}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/Catalog.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.controller('sap.ushell.components.flp.launchpad.appfinder.Catalog',{oPopoverView:undefined,onInit:function(){var t=this;sap.ui.getCore().byId('catalogSelect').addEventDelegate({onBeforeRendering:this.onBeforeSelectRendering},this);var r=this.getView().parentComponent.getRouter();r.getRoute('catalog').attachPatternMatched(function(e){t.onShow(e);});r.getRoute('appFinder').attachPatternMatched(function(e){t.onShow(e);});this.timeoutId=0;},onBeforeRendering:function(){sap.ui.getCore().getEventBus().publish('renderCatalog');setTimeout(function(){jQuery('#catalogSelect').focus();},0);},onAfterRendering:function(){var m=this.getView().getModel(),c=m.getProperty('/catalogs'),t=this;if(!c.length){m.setProperty('/catalogs',[{title:sap.ushell.resources.i18n.getText('catalogsLoading'),'static':true,tiles:[],numIntentSupportedTiles:-1}]);m.setProperty('/catalogsNoDataText',sap.ushell.resources.i18n.getText('loadingTiles'));}else if(c[0].title!=sap.ushell.resources.i18n.getText('catalogsLoading')){m.setProperty('/catalogsNoDataText',sap.ushell.resources.i18n.getText('noFilteredItems'));}if(!this.PagingManager){this.lastCatalogId=0;jQuery.sap.require('sap.ushell.components.flp.launchpad.PagingManager');this.PagingManager=new sap.ushell.components.flp.launchpad.PagingManager('catalogPaging',{supportedElements:{tile:{className:'sapUshellTile'}},containerHeight:window.innerHeight,containerWidth:window.innerWidth});}if(this.PagingManager.currentPageIndex===0){t.allocateNextPage();}jQuery('#catalogTilesPage-cont').scroll(function(){var p=sap.ui.getCore().byId('catalogTilesPage'),s=p.getScrollDelegate(),a=s.getScrollTop(),b=s.getMaxScrollTop();if(b-a<=30+t.PagingManager.getTileHeight()){t.allocateNextPage();}});jQuery(window).resize(function(){var w=$(window).width(),a=$(window).height();t.PagingManager.setContainerSize(w,a);t.resetPageFilter();t.applyTileFilters();});},onShow:function(E){var v,h,m=this.getView().getModel(),c=m.getProperty('/catalogTiles')||[],d=E.getParameter('arguments').filters,D=d?JSON.parse(d):d,i;v=sap.ui.getCore().byId('viewPortContainer');if(v){v.shiftCenterTransition(false);}$.extend(this.getView().getViewData(),E);if(this.PagingManager){this.resetPageFilter();}this.categoryFilter=(D&&D.catalogSelector&&D.catalogSelector)||null;if(this.categoryFilter){this.categoryFilter=window.decodeURIComponent(this.categoryFilter);}this.searchFilter=(D&&D.tileFilter&&D.tileFilter)||null;if(this.searchFilter){this.searchFilter=window.decodeURIComponent(this.searchFilter);}h=(D&&D.tagFilter&&D.tagFilter)||'';if(h){try{this.tagFilter=JSON.parse(h);}catch(e){this.tagFilter=[];}}else{this.tagFilter=[];}if(this.tagFilter){m.setProperty('/selectedTags',this.tagFilter);}m.setProperty('/showCatalogHeaders',true);m.setProperty('/catalogSearchFilter',this.searchFilter);for(i=0;i<c.length;i=i+1){c[i].active=false;}if(this.categoryFilter||this.searchFilter){sap.ui.getCore().byId('catalogSelect').rerender();}else{if(sap.ui.getCore().byId('catalogSelect')){sap.ui.getCore().byId('catalogSelect').setSelectedItemId('');}}this.oRenderingFilter=new sap.ui.model.Filter('','EQ','a');this.oRenderingFilter.fnTest=function(a){if(a.catalogIndex<=this.lastCatalogId){return true;}if(this.allocateTiles>0){this.lastCatalogId=a.catalogIndex;this.allocateTiles--;return true;}return false;}.bind(this);if(this.PagingManager){this.applyTileFilters();}},resetPageFilter:function(){this.lastCatalogId=0;this.allocateTiles=this.PagingManager.getNumberOfAllocatedElements();},allocateNextPage:function(){if(!this.allocateTiles||this.allocateTiles===0){this.PagingManager.moveToNextPage();this.allocateTiles=this.PagingManager._calcElementsPerPage();this.applyTileFilters();}},onBeforeSelectRendering:function(){var s=sap.ui.getCore().byId('catalogSelect'),i=jQuery.grep(s.getItems(),jQuery.proxy(function(I){return I.getBindingContext().getObject().title===this.categoryFilter;},this));if(!i.length){i.push(s.getItemAt(0));}if(i[0]&&s.getSelectedItemId()!==i[0].getId()){window.setTimeout($.proxy(s.setSelectedItem,s,i[0].getId()),500);}},setTagsFilter:function(f){var p={catalogSelector:this.categoryFilter,tileFilter:this.searchFilter?encodeURIComponent(this.searchFilter):'',tagFilter:f,targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo('appFinder',{'menu':'catalog',filters:JSON.stringify(p)},true);},setCategoryFilter:function(f){var p={catalogSelector:f,tileFilter:this.searchFilter?encodeURIComponent(this.searchFilter):'',tagFilter:JSON.stringify(this.tagFilter),targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo('appFinder',{'menu':'catalog',filters:JSON.stringify(p)},true);},setSearchFilter:function(f){var p={catalogSelector:this.categoryFilter,tileFilter:f?encodeURIComponent(f):'',tagFilter:JSON.stringify(this.tagFilter),targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo('appFinder',{'menu':'catalog','filters':JSON.stringify(p)});},getGroupContext:function(){var m=this.getView().getModel(),g=m.getProperty('/groupContext/path');return g?g:'';},applyTileFilters:function(){var f=[],o,s,c,C;if(this.tagFilter){o=new sap.ui.model.Filter('tags','EQ','v');o.fnTest=function(t){var i,a;if(this.tagFilter.length===0){return true;}for(i=0;i<this.tagFilter.length;i++){a=this.tagFilter[i];if(t.indexOf(a)===-1){return false;}}return true;}.bind(this);f.push(o);}this.searchFilter=this.searchFilter?this.searchFilter.replace(/\\*/g,''):this.searchFilter;if(this.searchFilter){s=new sap.ui.model.Filter($.map(this.searchFilter.split(/[\\s,]+/),function(v){return(v&&new sap.ui.model.Filter('keywords',sap.ui.model.FilterOperator.Contains,v))||(v&&new sap.ui.model.Filter('title',sap.ui.model.FilterOperator.Contains,v))||undefined;}),true);f.push(s);}if(this.categoryFilter){C=this.categoryFilter;c=new sap.ui.model.Filter('catalog',sap.ui.model.FilterOperator.EQ,C);f.push(c);}f.push(new sap.ui.model.Filter('isTileIntentSupported',sap.ui.model.FilterOperator.EQ,true));if(this.oRenderingFilter){f.push(this.oRenderingFilter);}sap.ui.getCore().byId('catalogTiles').getBinding('tiles').filter(f);},onLiveFilter:function(e){clearTimeout(this.timeoutId);var t=this,q=e.getParameter('newValue'),n=300;this.timeoutId=setTimeout(r,n,q);function r(q){if(q){t.setSearchFilter(q);}else{t.setSearchFilter();}}},onTagsFilter:function(e){var s=e.getParameters('selectedItem').changedItem,a=e.getParameter('selected'),b=[],c=s.getText();if(this.tagFilter){b=this.tagFilter;}if(a){b.push(c);}else{b=b.filter(function(d){return d!==c;});}this.setTagsFilter(b.length>0?JSON.stringify(b):'');},onCategoryFilter:function(e){var s=e.getParameter('selectedItem'),S=s.getBindingContext(),m=S.getModel();if(m.getProperty('static',S)){m.setProperty('/showCatalogHeaders',true);this.setCategoryFilter();this.selectedCategory=undefined;}else{m.setProperty('/showCatalogHeaders',false);this.setCategoryFilter(window.encodeURIComponent(s.getBindingContext().getObject().title));this.selectedCategory=s.getId();}},onTileAfterRendering:function(e){var f=e.getSource().getFootItems()[0];if(f!==undefined){f.addStyleClass('sapUshellCatalogPlusIcon');}},catalogTilePress:function(c){sap.ui.getCore().getEventBus().publish('launchpad','catalogTileClick');},onTileFooterClick:function(e){var c=e.getSource(),s=c.getBindingContext(),m=this.getView().getModel(),g=m.getProperty('/groupContext/path');if(g){this._handleTileFooterClickInGroupContext(s,g);}else{if((this.oPopoverView)&&(this.oPopoverView.getVisible()===true)){this.oPopoverView.setVisible(false);}var a=m.getProperty('/groups'),l=sap.ushell.Container.getService('LaunchPage'),b=this.getCatalogTileDataFromModel(s),t=b.tileData.associatedGroups,G=a.map(function(d){var r=l.getGroupId(d.object),f=!($.inArray(r,t)==-1);return{selected:f,initiallySelected:f,oGroup:d};});if(this.oPopoverView===undefined){this.oPopoverView=sap.ui.getCore().byId('groupListPopoverView');if(this.oPopoverView===undefined){this.oPopoverView=new sap.ui.view({id:'groupListPopoverView',type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.components.flp.launchpad.appfinder.GroupListPopover',viewData:{enableHideGroups:m.getProperty('/enableHideGroups'),enableHelp:m.getProperty('/enableHelp')}});this.oPopoverView.setVisible(false);}}if(this.oPopoverView.getVisible()===false){this.oPopoverView.setGroupListSingleSelection(sap.m.ListMode.MultiSelect);this.oPopoverView.setGroupsData(G);this.oPopoverView.setVisible(true);this.oPopoverView.open(c).then(this._handlePopoverResponse.bind(this,s,b));}}},_handlePopoverResponse:function(s,c,r){var m=this.getView().getModel(),g=m.getProperty('/groups');var p=[];r.addToGroups.forEach(function(a){var i=g.indexOf(a);var G=new sap.ui.model.Context(m,'/groups/'+i);var b=this._addTile(s,G);p.push(b);}.bind(this));r.removeFromGroups.forEach(function(a){var t=s.getModel().getProperty(s.getPath()).id;var i=g.indexOf(a);var b=this._removeTile(t,i);p.push(b);}.bind(this));r.newGroups.forEach(function(a){var n=(a.length>0)?a:sap.ushell.resources.i18n.getText('new_group_name');var b=this._createGroupAndSaveTile(s,n);p.push(b);}.bind(this));jQuery.when.apply(jQuery,p).then(function(){var a=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(c,r,a);}.bind(this));},_handlePopoverGroupsActionPromises:function(c,p,r){var e=r.filter(function(g,i,r){return!g.status;});if(e.length){var E=this.prepareErrorMessage(e,c.tileData.title);var d=sap.ushell.components.flp.launchpad.DashboardManager();d.resetGroupsOnFailure(E.messageId,E.parameters);return;}var t=[];var l=sap.ushell.Container.getService('LaunchPage');p.allGroups.forEach(function(g){if(g.selected){var h=l.getGroupId(g.oGroup.object);t.push(h);}});var m=this.getView().getModel();if(p.newGroups.length){var a=m.getProperty('/groups');var n=a.slice(a.length-p.newGroups.length);n.forEach(function(g){var h=l.getGroupId(g.object);t.push(h);});}m.setProperty('/catalogTiles/'+c.tileIndex+'/associatedGroups',t);var f=(!!p.addToGroups[0])?p.addToGroups[0].title:'';if(!f.length&&p.newGroups.length){f=p.newGroups[0];}var b=(!!p.removeFromGroups[0])?p.removeFromGroups[0].title:'';var D=this.prepareDetailedMessage(c.tileData.title,p.addToGroups.length+p.newGroups.length,p.removeFromGroups.length,f,b);sap.m.MessageToast.show(D,{duration:3000,width:'15em',my:'center bottom',at:'center bottom',of:window,offset:'0 -50',collision:'fit fit'});},_getCatalogTileIndexInModel:function(s){var t=s.sPath,a=t.split('/'),b=a[a.length-1];return b;},_handleTileFooterClickInGroupContext:function(s,g){var l=sap.ushell.Container.getService('LaunchPage'),m=this.getView().getModel(),c=this.getCatalogTileDataFromModel(s),a=c.tileData.associatedGroups,G=m.getProperty(g),b=l.getGroupId(G.object),C=$.inArray(b,a),t=this._getCatalogTileIndexInModel(s),o,A,r,T,d,e=this;if(c.isBeingProcessed){return;}m.setProperty('/catalogTiles/'+t+'/isBeingProcessed',true);if(C==-1){o=new sap.ui.model.Context(s.getModel(),g);A=this._addTile(s,o);A.done(function(f){if(f.status==1){e._groupContextOperationSucceeded(s,c,G,true);}else{e._groupContextOperationFailed(c,G,true);}});A.always(function(){m.setProperty('/catalogTiles/'+t+'/isBeingProcessed',false);});}else{T=s.getModel().getProperty(s.getPath()).id;d=g.split('/')[2];r=this._removeTile(T,d);r.done(function(f){if(f.status==1){e._groupContextOperationSucceeded(s,c,G,false);}else{e._groupContextOperationFailed(c,G,false);}});r.always(function(){m.setProperty('/catalogTiles/'+t+'/isBeingProcessed',false);});}},_groupContextOperationSucceeded:function(s,c,g,t){var l=sap.ushell.Container.getService('LaunchPage'),G=l.getGroupId(g.object),a=c.tileData.associatedGroups,d,i;if(t){a.push(G);s.getModel().setProperty('/catalogTiles/'+c.tileIndex+'/associatedGroups',a);d=this.prepareDetailedMessage(c.tileData.title,1,0,g.title,'');}else{for(i in a){if(a[i]==G){a.splice(i,1);break;}}s.getModel().setProperty('/catalogTiles/'+c.tileIndex+'/associatedGroups',a);d=this.prepareDetailedMessage(c.tileData.title,0,1,'',g.title);}sap.m.MessageToast.show(d,{duration:3000,width:'15em',my:'center bottom',at:'center bottom',of:window,offset:'0 -50',collision:'fit fit'});},_groupContextOperationFailed:function(c,g,t){var d=sap.ushell.components.flp.launchpad.getDashboardManager(),e;if(t){e=sap.ushell.resources.i18n.getText({messageId:'fail_tile_operation_add_to_group',parameters:[c.tileData.title,g.title]});}else{e=sap.ushell.resources.i18n.getText({messageId:'fail_tile_operation_remove_from_group',parameters:[c.tileData.title,g.title]});}d.resetGroupsOnFailure(e.messageId,e.parameters);},prepareErrorMessage:function(e,t){var g,a,f,F,n=0,N=0,c=false,m;for(var i in e){g=e[i].group;a=e[i].action;if(a=='add'){n++;if(n==1){f=g.title;}}else if(a=='remove'){N++;if(N==1){F=g.title;}}else if(a=='addTileToNewGroup'){n++;if(n==1){f=g.title;}}else{c=true;}}if(c){if(e.length==1){m=sap.ushell.resources.i18n.getText({messageId:'fail_tile_operation_create_new_group'});}else{m=sap.ushell.resources.i18n.getText({messageId:'fail_tile_operation_some_actions'});}}else if(e.length==1){if(n){m=sap.ushell.resources.i18n.getText({messageId:'fail_tile_operation_add_to_group',parameters:[t,f]});}else{m=sap.ushell.resources.i18n.getText({messageId:'fail_tile_operation_remove_from_group',parameters:[t,F]});}}else{if(N==0){m=sap.ushell.resources.i18n.getText({messageId:'fail_tile_operation_add_to_several_groups',parameters:[t]});}else if(n==0){m=sap.ushell.resources.i18n.getText({messageId:'fail_tile_operation_remove_from_several_groups',parameters:[t]});}else{m=sap.ushell.resources.i18n.getText({messageId:'fail_tile_operation_some_actions'});}}return m;},prepareDetailedMessage:function(t,n,a,f,b){var m;if(n==0){if(a==1){m=sap.ushell.resources.i18n.getText('tileRemovedFromSingleGroup',[t,b]);}else if(a>1){m=sap.ushell.resources.i18n.getText('tileRemovedFromSeveralGroups',[t,a]);}}else if(n==1){if(a==0){m=sap.ushell.resources.i18n.getText('tileAddedToSingleGroup',[t,f]);}else if(a==1){m=sap.ushell.resources.i18n.getText('tileAddedToSingleGroupAndRemovedFromSingleGroup',[t,f,b]);}else if(a>1){m=sap.ushell.resources.i18n.getText('tileAddedToSingleGroupAndRemovedFromSeveralGroups',[t,f,a]);}}else if(n>1){if(a==0){m=sap.ushell.resources.i18n.getText('tileAddedToSeveralGroups',[t,n]);}else if(a==1){m=sap.ushell.resources.i18n.getText('tileAddedToSeveralGroupsAndRemovedFromSingleGroup',[t,n,b]);}else if(a>1){m=sap.ushell.resources.i18n.getText('tileAddedToSeveralGroupsAndRemovedFromSeveralGroups',[t,n,a]);}}return m;},getCatalogTileDataFromModel:function(s){var t=this._getCatalogTileIndexInModel(s),m=s.getModel(),T=m.getProperty('/catalogTiles/'+t);return{tileData:T,tileIndex:t,isBeingProcessed:T.isBeingProcessed?true:false};},_addTile:function(t,g){var d=sap.ushell.components.flp.launchpad.getDashboardManager(),a=jQuery.Deferred(),p=d.createTile({catalogTileContext:t,groupContext:g});p.done(function(b){a.resolve(b);});return a;},_removeTile:function(t,i){var d=sap.ushell.components.flp.launchpad.getDashboardManager(),a=jQuery.Deferred(),p=d.deleteCatalogTileFromGroup({tileId:t,groupIndex:i});p.done(function(b){a.resolve(b);});return a;},_createGroupAndSaveTile:function(t,n){var d=sap.ushell.components.flp.launchpad.getDashboardManager(),a=jQuery.Deferred(),p=d.createGroupAndSaveTile({catalogTileContext:t,newGroupName:n});p.done(function(b){a.resolve(b);});return a;}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/Catalog.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.ushell.ui.launchpad.Tile');jQuery.sap.require('sap.ushell.ui.launchpad.CatalogTileContainer');jQuery.sap.require('sap.ushell.ui.launchpad.Panel');sap.ui.jsview('sap.ushell.components.flp.launchpad.appfinder.Catalog',{oController:null,createContent:function(c){this.parentComponent=this.getViewData().parentComponent;var m=this.parentComponent.getModel();this.setModel(m);this.oController=c;function a(L){return((L!==null)&&(L==='1x2'||L==='2x2'))||false;}function t(v){return parseInt(v,10)||0;}function g(G,s,e){var i;if(s){var n=$.inArray(e,G);i=n!==-1?'accept':'add';}else{i=(G&&G.length>0)?'accept':'add';}return sap.ui.core.IconPool.getIconURI(i);}function b(A,s,G,e,i,n){var p;if(e){var r=sap.ushell.resources.i18n,q=$.inArray(i,G);p=r.getText(q!==-1?'removeAssociatedTileFromContextGroup':'addAssociatedTileToContextGroup',n);}else{p=G&&G.length?s:A;}return p;}var B=new sap.m.Button({icon:{parts:['associatedGroups','associatedGroups/length','/groupContext/path','/groupContext/id'],formatter:function(A,e,G,s){return g(A,G,s);}},tooltip:{parts:['i18n>addTileToGroup','i18n>addAssociatedTileToGroup','associatedGroups','associatedGroups/length','/groupContext/path','/groupContext/id','/groupContext/title'],formatter:function(A,s,G,e,i,n,p){return b(A,s,G,i,n,p);}},press:[c.onTileFooterClick,c]}),T=new sap.ushell.ui.launchpad.Tile({afterRendering:[c.onTileAfterRendering,c],tileViews:{path:'content',factory:function(i,e){return e.getObject();}},footItems:[B],'long':{path:'size',formatter:a},index:{path:'id',formatter:t},tileCatalogId:'{id}',press:[c.catalogTilePress,c]}),d=new sap.ushell.ui.launchpad.CatalogTileContainer('catalogTiles',{showHeader:false,showPlaceholder:false,showGroupHeader:'{/showCatalogHeaders}',noDataText:'{/catalogsNoDataText}',groupHeaderLevel:sap.m.HeaderLevel.H3,showNoData:true,tiles:{path:'/catalogTiles',template:T,sorter:new sap.ui.model.Sorter('catalogIndex',false,function(e){return(e&&e.getProperty('catalog'))||'';})},afterRendering:function(e){var m=this.getModel(),n,i;if(this.getTiles().length||m.getProperty('/catalogTiles/length')){setTimeout(function(){sap.ui.getCore().byId('catalogSearch').setEnabled(true);});m.setProperty('/catalogsNoDataText',sap.ushell.resources.i18n.getText('noFilteredItems'));sap.ui.getCore().getEventBus().publish('launchpad','contentRendered');if(!sap.ui.Device.os.ios){sap.ui.getCore().getEventBus().publish('launchpad','contentRefresh');}}jQuery.sap.byId('catalogTiles').removeAttr('tabindex',0);jQuery.sap.byId('catalogTilesPage-intHeader-BarPH').removeAttr('tabindex',0);n=jQuery('.sapUshellTile button');for(i=0;i<n.length;i++){n[i].setAttribute('tabindex',-1);}}});d.addStyleClass('sapUshellCatalogTileContainer');d.addEventDelegate({onsapskipback:function(E){try{E.preventDefault();var n=jQuery('#catalogSelect');n.focus();}catch(e){}}});B.constructor.prototype.setIcon=function(v){this.setProperty('icon',v,true);if(v&&this._image&&this._image.setSrc){this._image.setSrc(v);}return this;};var f=new sap.ui.model.Filter('numIntentSupportedTiles',sap.ui.model.FilterOperator.NE,0),C=new sap.m.Select('catalogSelect',{visible:'{/catalogSelection}',name:'Browse',tooltip:'{i18n>catalogSelect_tooltip}',width:'17rem',items:{path:'/catalogs',template:new sap.ui.core.ListItem({text:'{title}'}),filters:[f]},change:[c.onCategoryFilter,c]}),o=C.onAfterRendering;C.addEventDelegate({onsapskipforward:function(E){try{E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile();var i=jQuery('#catalogTiles .sapUshellTile:visible:first');i.focus();}catch(e){}},onsaptabprevious:function(E){try{E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);var n=jQuery('#catalogTilesPage header button')[0];n.focus();}catch(e){}},onsapskipback:function(E){try{E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);var n=jQuery('#catalogTilesPage header button')[0];n.focus();}catch(e){}}});if(m.getProperty('/enableHelp')){C.addStyleClass('help-id-catalogCategorySelect');}C.onAfterRendering=function(){if(o){o.apply(this,arguments);}jQuery.sap.byId('catalogSelect').attr('tabindex',0);};var h=C._onAfterRenderingPopover;C._onAfterRenderingPopover=function(){if(this._oPopover){this._oPopover.setFollowOf(false);}if(h){h.apply(this,arguments);}};var j=new sap.m.SearchField('catalogSearch',{visible:'{/searchFiltering}',tooltip:'{i18n>catalogSearch_tooltip}',width:'17rem',enabled:false,value:{path:'/catalogSearchFilter'},placeholder:'{i18n>search_catalog}',liveChange:[c.onLiveFilter,c]}).addStyleClass('sapUshellCatalogSearch'),k=j.onAfterRendering;if(m.getProperty('/enableHelp')){j.addStyleClass('help-id-catalogSearch');}j.onAfterRendering=function(){k.apply(this,arguments);jQuery.sap.byId('catalogSearch').find('input').attr('tabindex',0);this.data('sap-ui-fastnavgroup','true',true);};j.addEventDelegate({onsapskipback:function(E){try{E.preventDefault();var n=jQuery('#catalogTilesPage header button')[0];n.focus();}catch(e){}},onsapskipforward:function(E){try{E.preventDefault();var i=jQuery('#catalogTiles .sapUshellTile:visible:first');sap.ushell.components.flp.ComponentKeysHandler.setTileFocus(i);}catch(e){}},onsaptabnext:function(E){try{if(!l.getVisible()){E.preventDefault();var v=jQuery('.sapUshellTile:visible'),i=jQuery(v[0]);sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile();i.focus();}}catch(e){}}});var l=new sap.m.MultiComboBox('catalogTagFilter',{visible:'{/tagFiltering}',selectedKeys:{path:'/selectedTags',mode:sap.ui.model.BindingMode.TwoWay},tooltip:'{i18n>catalogTilesTagfilter_tooltip}',width:'17rem',placeholder:'{i18n>catalogTilesTagfilter_HintText}',items:{path:'/tagList',sorter:new sap.ui.model.Sorter('tag',false,false),template:new sap.ui.core.ListItem({text:'{tag}',key:'{tag}'})},selectionChange:[c.onTagsFilter,c]});if(m.getProperty('/enableHelp')){l.addStyleClass('help-id-catalogTagFilter');}l.addEventDelegate({onsaptabnext:function(E){try{E.preventDefault();var v=jQuery('.sapUshellTile:visible'),i=jQuery(v[0]);sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile();i.focus();}catch(e){}},onsapskipback:function(E){try{E.preventDefault();jQuery('#catalogSelect').focus();}catch(e){}},onsapskipforward:function(E){try{E.preventDefault();var i=jQuery('#catalogTiles .sapUshellTile:visible:first');sap.ushell.components.flp.ComponentKeysHandler.setTileFocus(i);}catch(e){}}});var D=new sap.m.Page('catalogTilesPage',{showHeader:false,showFooter:false,showNavButton:false,content:[new sap.ushell.ui.launchpad.Panel({translucent:true,headerText:'',headerLevel:sap.m.HeaderLevel.H2,headerBar:new sap.m.Bar('catalogHeader',{translucent:true,tooltip:'{i18n>tile_catalog_header_tooltip}',contentLeft:[C,j,l]}).addStyleClass('sapUshellCatalogHeaderBar'),content:[d]}).addStyleClass('sapUshellCatalogPage')]});D.addDelegate({onAfterRendering:function(){jQuery('#catalogTilesPage header button').attr('tabindex',-1);}});return D;},getControllerName:function(){return'sap.ushell.components.flp.launchpad.appfinder.Catalog';}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/EasyAccess.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.controller('sap.ushell.components.flp.launchpad.appfinder.EasyAccess',{DEFAULT_URL:'/sap/opu/odata/UI2',DEFAULT_NUMBER_OF_LEVELS:3,onInit:function(){var t=this;this.translationBundle=sap.ushell.resources.i18n;this.oView=this.getView();var e=this.oView.getModel('easyAccessSystemsModel');var b=new sap.ui.model.Binding(e,'/systemSelected',e.getContext('/systemSelected'));b.attachChange(t.adjustUiOnSystemChange.bind(this));this.menuName=this.oView.getViewData().menuName;this.systemId=null;this.easyAccessCache={};this.easyAccessModel=new sap.ui.model.json.JSONModel();this.oView.hierarchyFolders.setModel(this.easyAccessModel,'easyAccess');this.oView.hierarchyApps.setModel(this.easyAccessModel,'easyAccess');this.checkIfSystemSelectedAndLoadData();},onAfterRendering:function(){this.oView.hierarchyApps.getController()._updateAppBoxedWithPinStatuses();},checkIfSystemSelectedAndLoadData:function(){var s=this.oView.getModel('easyAccessSystemsModel').getProperty('/systemSelected');if(s){this.systemId=s.systemId;this.loadMenuItemsFirstTime(this.oView.getViewData().menuName,s);}},navigateHierarchy:function(p,f){this.oView.hierarchyFolders.setBusy(false);var e=this.easyAccessModel.getProperty(p?p:'/');if(typeof e.folders!='undefined'){this.oView.hierarchyFolders.updatePageBindings(p,f);this.oView.hierarchyApps.getController().updatePageBindings(p);return;}this.oView.hierarchyFolders.setBusy(true);this.getMenuItems(this.menuName,this.systemId,e.id,e.level).then(function(p,r){this.easyAccessModel.setProperty(p+'/folders',r.folders);this.easyAccessModel.setProperty(p+'/apps',r.apps);this.oView.hierarchyFolders.updatePageBindings(p,f);this.oView.hierarchyApps.getController().updatePageBindings(p);this.oView.hierarchyFolders.setBusy(false);}.bind(this,p),function(a){this.handleGetMenuItemsError(a);}.bind(this));},adjustUiOnSystemChange:function(){if(this.systemId&&this.easyAccessModel.getData()){this.easyAccessCache[this.systemId]=this.easyAccessModel.getData();}var s=this.oView.getModel('easyAccessSystemsModel').getProperty('/systemSelected');if(s){this.systemId=s.systemId;var n=this.easyAccessCache[this.systemId];if(n){this.easyAccessModel.setData(n);this.navigateHierarchy('',false);}else{this.oView.hierarchyFolders.setBusy(true);this.loadMenuItemsFirstTime(this.menuName,s);}}},loadMenuItemsFirstTime:function(m,s){return this.getMenuItems(m,s.systemId,'',0).then(function(r){r.text=s.systemName||s.systemId;this.easyAccessModel.setData(r);this.oView.hierarchyFolders.setBusy(false);this.navigateHierarchy('',false);}.bind(this),function(e){this.handleGetMenuItemsError(e);this.oView.hierarchyFolders.updatePageBindings('/',false);this.oView.hierarchyApps.getController().updatePageBindings('/');}.bind(this));},handleGetMenuItemsError:function(e){jQuery.sap.require('sap.m.MessageBox');var E=this.getErrorMessage(e);sap.m.MessageBox.error(E);this.easyAccessModel.setData('');this.oView.hierarchyFolders.setBusy(false);},getErrorMessage:function(e){var m='';if(this.menuName=='SAP_MENU'){m=this.translationBundle.getText('easyAccessSapMenuNameParameter');}else if(this.menuName=='USER_MENU'){m=this.translationBundle.getText('easyAccessUserMenuNameParameter');}if(e){if(e.message){return this.translationBundle.getText('easyAccessErrorGetDataErrorMsg',[m,e.message]);}else{return this.translationBundle.getText('easyAccessErrorGetDataErrorMsg',[m,e]);}}else{return this.translationBundle.getText('easyAccessErrorGetDataErrorMsgNoReason',m);}},getMenuItems:function(m,s,e,a,n){var d=new jQuery.Deferred();if(m!='SAP_MENU'&&m!='USER_MENU'){d.reject('Invalid menuType parameter');}if(typeof s!=='string'||s===''){d.reject('Invalid systemId parameter');}if(typeof e!=='string'){d.reject('Invalid entityId parameter');}if(typeof a!=='number'){d.reject('Invalid entityLevel parameter');}if(n&&typeof n!=='number'){d.reject('Invalid numberOfNextLevels parameter');}if(e==''){a=0;}var N;var M=this.getView().getModel();var c=M.getProperty('/easyAccessNumbersOfLevels');if(c){N=c;}else if(n){N=n;}else{N=this.DEFAULT_NUMBER_OF_LEVELS;}var l=a+N+1;var S=this._getODataRequestUrl(m,s,e,l);var r={requestUri:S};var C=this._callODataService(r,s,e,l);C.done(function(b){d.resolve(b);});C.fail(function(b){d.reject(b);});return d.promise();},_callODataService:function(r,s,e,l){jQuery.sap.require('sap.ui.thirdparty.datajs');var t=this;var d=new jQuery.Deferred();OData.read(r,function(R,o){if(R&&R.results&&o&&o.statusCode===200){var a=t._oDataResultFormatter(R.results,s,e,l);d.resolve(a);}},function(m){d.reject(m);});return d.promise();},_appendSystemToUrl:function(d,s){if(d.url){return d.url+(d.url.indexOf('?')>0?'&':'?')+'sap-system='+s;}},_oDataResultFormatter:function(r,s,e,l){var f={};var R={};if(e==''){R={id:'root',text:'root',level:0,folders:[],apps:[]};f.root=R;}else{R={id:e,folders:[],apps:[]};f[e]=R;}var o;for(var i=0;i<r.length;i++){o=r[i];var p;if(o.parentId==''&&o.level=='01'){p=f['root']}else{p=f[o.parentId];}var m={id:o.Id,text:o.text,level:parseInt(o.level,10)};if(o.type=='FL'){m.folders=[];m.apps=[];if(o.level==l-1){m.folders=undefined;m.apps=undefined;}if(p&&p.folders){p.folders.push(m);}f[o.Id]=m;}else{m.url=this._appendSystemToUrl(o,s);if(p&&p.apps){p.apps.push(m);}}}return R;},_getODataRequestUrl:function(m,s,e,l){var S;var M=this.getView().getModel();if(m=='SAP_MENU'){var o=M.getProperty('/sapMenuServiceUrl');if(o){S=o;}else{S=this.DEFAULT_URL+'/EASY_ACCESS_MENU';}}else if(m=='USER_MENU'){var u=M.getProperty('/userMenuServiceUrl');if(u){S=u;}else{S=this.DEFAULT_URL+'/USER_MENU';}}var L;if(l<10){L='0'+l;}else{L=l.toString();}var a='';if(e){if(decodeURIComponent(e)===e){e=encodeURIComponent(e);}a=\"('\"+e+\"')/AllChildren\";}return S=S+';o='+s+'/MenuItems'+a+\"?$filter=level lt '\"+L+\"'&$orderby=level,text\";}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/EasyAccess.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.jsview('sap.ushell.components.flp.launchpad.appfinder.EasyAccess',{createContent:function(c){this.setModel(this.getViewData().easyAccessSystemsModel,'easyAccessSystemsModel');this.setModel(this.getViewData().parentComponent.getModel());this.hierarchyFolders=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders',height:'100%',viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(c),easyAccessSystemsModel:this.getModel('easyAccessSystemsModel')}});this.hierarchyFolders.addStyleClass('sapUshellHierarchyFolders');this.hierarchyApps=new sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.components.flp.launchpad.appfinder.HierarchyApps',height:'100%',viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(c)}});this.hierarchyApps.addStyleClass(' sapUshellAppsView sapMShellGlobalInnerBackground');var s=new sap.m.SplitApp({masterPages:this.hierarchyFolders,detailPages:this.hierarchyApps});s.setInitialMaster(this.hierarchyFolders);s.setInitialDetail(this.hierarchyApps);return s;},getControllerName:function(){return'sap.ushell.components.flp.launchpad.appfinder.EasyAccess';}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/GroupListPopover.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.controller('sap.ushell.components.flp.launchpad.appfinder.GroupListPopover',{onInit:function(){var v=this.getView();this.oPopoverModel=new sap.ui.model.json.JSONModel();v.oPopover.setModel(this.oPopoverModel);},okButtonHandler:function(e){var v=this.getView(),u=this.oPopoverModel.getProperty('/userGroupList'),r;if((this._isListModeMultiSelect())&&(e.sId==='select')){return;}e.preventDefault();e._bIsStopHandlers=true;u=this.oPopoverModel.getProperty('/userGroupList');r={addToGroups:[],removeFromGroups:[],newGroups:[],allGroups:u};u.forEach(function(g){if(g.selected===g.initiallySelected){return;}if(g.selected){r.addToGroups.push(g.oGroup);}else{r.removeFromGroups.push(g.oGroup);}});if(v.newGroupInput&&v.newGroupInput.getValue().length){r.newGroups.push(v.newGroupInput.getValue());}v.oPopover.close();v.deferred.resolve(r);},_isListModeMultiSelect:function(){var v=this.getView();return(v.oGroupList.getMode()===sap.m.ListMode.MultiSelect);},_isListModeSingleSelectMaster:function(){var v=this.getView();return(v.oGroupList.getMode()===sap.m.ListMode.SingleSelectMaster);},_cancelButtonHandler:function(e){e.preventDefault();e._bIsStopHandlers=true;var v=this.getView();v.oPopover.close();v.deferred.reject();},_navigateToCreateNewGroupPane:function(){var v=this.getView();if(!v.headBarForNewGroup){v.headBarForNewGroup=v._createHeadBarForNewGroup();}if(!v.newGroupInput){v.newGroupInput=v._createNewGroupInput();}v.oPopover.removeAllContent();v.oPopover.addContent(v.newGroupInput);v.oPopover.setCustomHeader(v.headBarForNewGroup);v.oPopover.setContentHeight('');if(this._isListModeSingleSelectMaster()){this._setFooterVisibility(true);}setTimeout(function(){v.newGroupInput.focus();},0);},_afterCloseHandler:function(){var v=this.getView();v.oPopover.removeAllContent();v.oPopover.addContent(v.oGroupsContainer);v.oPopover.setTitle(sap.ushell.resources.i18n.getText('addTileToGroups_popoverTitle'));v.oPopover.setCustomHeader();v.setVisible(false);},_backButtonHandler:function(){var v=this.getView();v.oPopover.removeAllContent();if(this._isListModeSingleSelectMaster()){this._setFooterVisibility(false);}if(!sap.ui.Device.system.phone){v.oPopover.setContentHeight(v.iPopoverDataSectionHeight+'px');}else{v.oPopover.setContentHeight('100%');}v.oPopover.setVerticalScrolling(true);v.oPopover.setHorizontalScrolling(false);v.oPopover.addContent(v.oGroupsContainer);v.oPopover.setTitle(sap.ushell.resources.i18n.getText('addTileToGroups_popoverTitle'));v.oPopover.setCustomHeader();v.newGroupInput.setValue('');},_setFooterVisibility:function(v){var f=sap.ui.getCore().byId('groupsPopover-footer');if(f){f.setVisible(v);}}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/GroupListPopover.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.jsview('sap.ushell.components.flp.launchpad.appfinder.GroupListPopover',{bPopoverCreated:false,oPopover:undefined,oGroupList:undefined,createContent:function(c){this.iPopoverDataSectionHeight=192;this.oGroupsContainer=this._createPopoverContainer(this.iPopoverDataSectionHeight);if(!this.bPopoverCreated){this.oPopover=new sap.m.ResponsivePopover({id:'groupsPopover',placement:sap.m.PlacementType.Auto,enableScrolling:true,title:sap.ushell.resources.i18n.getText('addTileToGroups_popoverTitle'),contentWidth:'20rem',beginButton:this._createOkButton(),endButton:this._createCancelButton(),content:this.oGroupsContainer,afterClose:this.getController()._afterCloseHandler.bind(this.getController())});this.bPopoverCreated=true;this.oPopover.setInitialFocus('newGroupItem');}},setGroupsData:function(g){this.getController().oPopoverModel.setData({userGroupList:g});},setGroupListSingleSelection:function(g){this.oGroupList.setMode(g);if(g===sap.m.ListMode.SingleSelectMaster){this.oGroupList.attachSelect(this.getController().okButtonHandler.bind(this.getController()));}else{this.oGroupList.detachSelect(this.getController().okButtonHandler,this.getController());}},open:function(o){if(document.body.clientHeight-o.getDomRef().getBoundingClientRect().bottom>=310){this.oPopover.setPlacement(sap.m.PlacementType.Bottom);}else{this.oPopover.setPlacement(sap.m.PlacementType.Auto);}this.oPopover.openBy(o);if(this.newGroupInput!==undefined){this.newGroupInput.setValue('');}if(this.oGroupList.getMode()===sap.m.ListMode.SingleSelectMaster){this.getController()._setFooterVisibility(false);}else{this.getController()._setFooterVisibility(true);}this.deferred=jQuery.Deferred();return this.deferred.promise();},_createPopoverContainer:function(p){var P,t,n=this._createNewGroupUiElements();t=this._createPopoverGroupList();P=new sap.m.ScrollContainer({horizontal:false,vertical:true,content:[n,t]});if(!sap.ui.Device.system.phone){P.setHeight((p-2)+'px');}else{P.setHeight('100%');}return P;},_createNewGroupUiElements:function(){var n=new sap.m.StandardListItem({id:'newGroupItem',title:sap.ushell.resources.i18n.getText('newGroup_listItemText'),type:'Navigation',press:this.getController()._navigateToCreateNewGroupPane.bind(this.getController())}),N=new sap.m.List({});if(this.getViewData().enableHelp){n.addStyleClass('help-id-newGroupItem');}N.addItem(n);return N;},_createNewGroupInput:function(){var n=new sap.m.Input({id:'newGroupNameInput',type:'Text',placeholder:sap.ushell.resources.i18n.getText('new_group_name')});n.setValueState(sap.ui.core.ValueState.None);n.setPlaceholder(sap.ushell.resources.i18n.getText('new_group_name'));n.enabled=true;n.addStyleClass('sapUshellCatalogNewGroupInput');return n;},_createHeadBarForNewGroup:function(){var b=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI('nav-back'),press:this.getController()._backButtonHandler.bind(this.getController()),tooltip:sap.ushell.resources.i18n.getText('newGroupGoBackBtn_tooltip')}),h;b.addStyleClass('sapUshellCatalogNewGroupBackButton');h=new sap.m.Bar({contentLeft:[b],contentMiddle:[new sap.m.Label({text:sap.ushell.resources.i18n.getText('newGroup_popoverTitle')})]});return h;},getControllerName:function(){return'sap.ushell.components.flp.launchpad.appfinder.GroupListPopover';},_createPopoverGroupList:function(){var l=new sap.m.DisplayListItem({label:'{oGroup/title}',selected:'{selected}',tooltip:'{oGroup/title}',type:sap.m.ListType.Active}),t=this,u=[];u.push(new sap.ui.model.Filter('oGroup/isGroupLocked',sap.ui.model.FilterOperator.EQ,false));if(this.getViewData().enableHideGroups){u.push(new sap.ui.model.Filter('oGroup/isGroupVisible',sap.ui.model.FilterOperator.EQ,true));}this.oGroupList=new sap.m.List('groupListId',{includeItemInSelection:true,items:{path:'/userGroupList',template:l,filters:u}});this.oGroupList.addEventDelegate({onsapup:function(E){try{E.preventDefault();if(t.getView().getModel().getProperty('/groups/length')){var j,c=jQuery(':focus');if(c.index()===0){j=jQuery('#newGroupItem');j.focus();E._bIsStopHandlers=true;}}}catch(e){jQuery.sap.log.error('Groups popup Accessibility `up` key failed');}}});return this.oGroupList;},_createOkButton:function(){var o=new sap.m.Button({id:'okButton',press:this.getController().okButtonHandler.bind(this.getController()),text:sap.ushell.resources.i18n.getText('okBtn')});o.addEventDelegate({onsaptabprevious:function(E){try{E.preventDefault();E._bIsStopHandlers=true;var j=jQuery('#newGroupItem');if(!j.length){j=jQuery('#newGroupNameInput input');}j.focus();}catch(e){jQuery.sap.log.error('Groups popup Accessibility `shift-tab` key failed');}}});return o;},_createCancelButton:function(){return new sap.m.Button({id:'cancelButton',press:this.getController()._cancelButtonHandler.bind(this.getController()),text:sap.ushell.resources.i18n.getText('cancelBtn')});}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/HierarchyApps.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.controller('sap.ushell.components.flp.launchpad.appfinder.HierarchyApps',{onInit:function(){},oPopoverView:undefined,getCrumbsData:function(p,m){var a=p.split('/'),n=[],P=a.join('/'),t;a.splice(a.length-2,2);while(a.length){P=a.join('/');t=m.getProperty(P+'/text');n.unshift({text:t,path:P});a.splice(a.length-2,2);}return n;},_updateAppBoxedWithPinStatuses:function(p){var v=this.getView();if(!p){p=v.layout.getBinding('items').getPath();}var e=v.getModel('easyAccess'),a=e.getProperty(p),b=sap.ushell.Container.getService('Bookmark'),c=a.map(function(d){return b.countBookmarks(d.url).then(function(f){d.bookmarkCount=f;return d;});});jQuery.when.apply(jQuery,c).then(function(){var a=Array.prototype.slice.call(arguments);e.setProperty(p,a);});},updatePageBindings:function(p){this.getView().layout.bindAggregation('items','easyAccess>'+p+'/apps',this.getView().oItemTemplate);this._updateAppBoxedWithPinStatuses(p+'/apps');this.getView().breadcrumbs.bindProperty('currentLocationText','easyAccess>'+p+'/text');var c=this.getCrumbsData(p,this.getView().getModel('easyAccess'));this.getView().crumbsModel.setProperty('/crumbs',c);},onAppBoxPressed:function(e){if(e.mParameters.srcControl.$().closest('.sapUshellPinButton').length){return;}var u=e.getSource().getProperty('url');if(u&&u.indexOf('#')===0){hasher.setHash(u);}},_handleSuccessMessage:function(a,p){var m;var n=p.addToGroups?p.addToGroups.length:0;var b=p.newGroups?p.newGroups.length:0;var t=n+b,g;if(t===1){if(n===1){g=p.addToGroups[0].title;}else{g=p.newGroups[0];}m=sap.ushell.resources.i18n.getText('appAddedToSingleGroup',[a.text,g]);}else{m=sap.ushell.resources.i18n.getText('appAddedToSeveralGroups',[a.text,t]);}sap.m.MessageToast.show(m,{duration:3000,width:'15em',my:'center bottom',at:'center bottom',of:window,offset:'0 -50',collision:'fit fit'});return m;},_prepareErrorMessage:function(e,a){var g,A,f,n=0,c=false,m,i;for(i in e){g=e[i].group;A=e[i].action;if(A=='addBookmark_ToExistingGroup'){n++;if(n===1){f=g.title;}}else if(A=='addBookmark_ToNewGroup'){n++;if(n===1){f=g;}}else{c=true;}}if(c){if(e.length==1){m=sap.ushell.resources.i18n.getText({messageId:'fail_tile_operation_create_new_group'});}else{m=sap.ushell.resources.i18n.getText({messageId:'fail_tile_operation_some_actions'});}}else if(e.length==1){m=sap.ushell.resources.i18n.getText({messageId:'fail_app_operation_add_to_group',parameters:[a,f]});}else{m=sap.ushell.resources.i18n.getText({messageId:'fail_app_operation_add_to_several_groups',parameters:[a]});}return m;},_handleBookmarkAppPopoverResponse:function(a,p){var b=[];p.newGroups.forEach(function(g){b.push(this._createGroupAndAddBookmark(g,a));}.bind(this));p.addToGroups.forEach(function(g){b.push(this._addBookmark(g,a));}.bind(this));jQuery.when.apply(jQuery,b).then(function(){var r=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(a,p,r);}.bind(this));},_handlePopoverGroupsActionPromises:function(a,p,r){var e=r.filter(function(b,i,r){return!b.status;});if(e.length){var E=this._prepareErrorMessage(e,a.text);var d=sap.ushell.components.flp.launchpad.getDashboardManager();d.resetGroupsOnFailure(E.messageId,E.parameters);return;}this._updateAppBoxedWithPinStatuses();this._handleSuccessMessage(a,p);},_createGroupAndAddBookmark:function(n,a){var d=sap.ushell.components.flp.launchpad.getDashboardManager();var b=jQuery.Deferred(),r={};var c=d.createGroup(n);c.done(function(e){var f=this._addBookmark(e.getObject(),a,true);f.done(function(g){b.resolve(g);}).fail(function(){r={group:n,status:0,action:'addBookmark_ToNewGroup'};b.resolve(r);});}.bind(this)).fail(function(){r={group:n,status:0,action:'addBookmark_NewGroupCreation'};b.resolve(r);});return b.promise();},_addBookmark:function(g,a,i){var b=sap.ushell.Container.getService('Bookmark');var d=jQuery.Deferred(),r={};var c=b.addBookmark({url:a.url,title:a.text},g.object);var e=i?'addBookmark_ToNewGroup':'addBookmark_ToExistingGroup';c.done(function(){r={group:g,status:1,action:e};d.resolve(r);}).fail(function(){r={group:g,status:0,action:e};d.resolve(r);});return d.promise();},showSaveAppPopover:function(e){var m=this.getView().getModel(),a=e.oSource.getParent().getBinding('title').getContext().getObject(),p,g;if(!!m.getProperty('/groupContext').path){var b=m.getProperty('/groupContext').path;var G=m.getProperty(b);var c={newGroups:[],addToGroups:[G]};this._handleBookmarkAppPopoverResponse(a,c);return;}g=m.getProperty('/groups').map(function(d){return{selected:false,initiallySelected:false,oGroup:d};});if(this.oPopoverView===undefined){this.oPopoverView=sap.ui.getCore().byId('groupListPopoverView');if(this.oPopoverView===undefined){this.oPopoverView=new sap.ui.view({id:'groupListPopoverView',type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.components.flp.launchpad.appfinder.GroupListPopover',viewData:{enableHideGroups:m.getProperty('/enableHideGroups'),enableHelp:m.getProperty('/enableHelp')}});}}this.oPopoverView.setGroupListSingleSelection(sap.m.ListMode.SingleSelectMaster);this.oPopoverView.setGroupsData(g);p=this.oPopoverView.open(e.oSource);p.then(this._handleBookmarkAppPopoverResponse.bind(this,a));}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/HierarchyApps.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.ui.appfinder.AppBox');sap.ui.jsview('sap.ushell.components.flp.launchpad.appfinder.HierarchyApps',{createContent:function(c){this.oController=c;var p=new sap.m.Button({icon:{path:'easyAccess>bookmarkCount',formatter:function(b){return(!!b)?'sap-icon://accept':'sap-icon://add';}},press:c.showSaveAppPopover.bind(c)});p.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'tabindex',value:'-1',writeToDom:true}));p.addStyleClass('sapUshellPinButton');this.oItemTemplate=new sap.ushell.ui.appfinder.AppBox({title:'{easyAccess>text}',url:'{easyAccess>url}',pinButton:p,tabindex:{path:'easyAccess>text'},press:[c.onAppBoxPressed,c]});this.oItemTemplate.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'tabindex',value:'-1',writeToDom:true}));this.layout=new sap.m.FlexBox({items:{path:'easyAccess>/apps',template:this.oItemTemplate},wrap:sap.m.FlexWrap.Wrap});this.layout.addDelegate({onAfterRendering:function(){var i=this.getItems();var u=function(a){if(a.getKey()==='tabindex'){a.setValue('0');}};if(i.length){i[0].getCustomData().forEach(u);i[0].getPinButton().getCustomData().forEach(u);}}.bind(this.layout)});this.crumbsModel=new sap.ui.model.json.JSONModel({crumbs:[]});this.linkTemplate=new sap.m.Link({text:'{crumbs>text}',press:function(e){var a=e.oSource.getBinding('text').getContext().getObject();this.getViewData().navigateHierarchy(a.path,false);}.bind(this)});this.breadcrumbs=new sap.m.Breadcrumbs({links:{path:'crumbs>/crumbs',template:this.linkTemplate},currentLocationText:'{/text}'});this.breadcrumbs.setModel(this.crumbsModel,'crumbs');return[this.breadcrumbs,this.layout];},getControllerName:function(){return'sap.ushell.components.flp.launchpad.appfinder.HierarchyApps';}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/HierarchyFolders.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.controller('sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders',{onInit:function(){this.oDialog=null;this.getView().setModel(this.getView().getViewData().easyAccessSystemsModel,'easyAccessSystems');this.getSelectedSystem().then(function(s){if(s){this.setSystemSelected(s);}else{this.setSystemSelected(undefined);this.onSystemSelectionPress();}}.bind(this),function(){this.setSystemSelected(undefined);this.onSystemSelectionPress();});},onExit:function(){if(this.oDialog){this.destroyDialog();}},getPersonalizer:function(){if(this.oPersonalizer){return this.oPersonalizer;}var p=sap.ushell.Container.getService('Personalization');var c=sap.ui.core.Component.getOwnerComponentFor(this);var s={keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true};var P={container:'flp.launchpad.appfinder.HierarchyFolders',item:'lastSelectedSystem'};this.oPersonalizer=p.getPersonalizer(P,s,c);return this.oPersonalizer;},getSelectedSystem:function(){var d=new jQuery.Deferred();var s=this.getView().getModel('easyAccessSystems').getProperty('/systemsList');if(s&&s.length&&s.length===1){var e=s[0];this.setSystemSelectedInPersonalization(e);d.resolve(e);}else{this.getSelectedSystemInPersonalization().then(function(p){if(p){var S=false;for(var i=0;i<s.length;i++){if((s[i].systemName&&s[i].systemName===p.systemName)||(s[i].systemId===p.systemId)){S=true;d.resolve(p);}}if(!S){d.resolve();this.setSystemSelectedInPersonalization();}}else{d.resolve();}}.bind(this));}return d.promise();},setSystemSelected:function(s){this.getView().getModel('easyAccessSystems').setProperty('/systemSelected',s);this.setSystemSelectedInPersonalization(s);},getSelectedSystemInPersonalization:function(){var d=new jQuery.Deferred();this.getPersonalizer().getPersData().then(function(p){if(p){d.resolve(p);}else{d.resolve();}},function(e){jQuery.sap.log.error('Failed to get selected system from the personalization',e,'sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders');d.reject();});return d.promise();},setSystemSelectedInPersonalization:function(s){this.getPersonalizer().setPersData(s).fail(function(e){jQuery.sap.log.error('Failed to save selected system in the personalization',e,'sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders');});},onSystemSelectionPress:function(){var s=this.getView().getModel('easyAccessSystems').getProperty('/systemsList');if(s&&s.length&&s.length<=1){return;}var d=this.createDialog();d.open();},createDialog:function(){var t=this;if(!this.oDialog){this.oDialog=new sap.m.SelectDialog({id:'systemSelectionDialog',title:t.getView().translationBundle.getText('easyAccessSelectSystemDialogTitle'),multiSelect:false,contentHeight:'20rem',items:{path:'/systemsList',template:new sap.m.StandardListItem({adaptTitleSize:false,title:{parts:['systemName','systemId'],formatter:t.titleFormatter},description:{parts:['systemName','systemId'],formatter:t.descriptionFormatter},selected:{parts:['systemName','systemId'],formatter:t.selectedFormatter.bind(this)}})},confirm:t.systemConfirmHandler.bind(t),search:t.systemSearchHandler.bind(t),cancel:t.destroyDialog.bind(t)});this.oDialog.setModel(this.getView().getModel('easyAccessSystems'));}return this.oDialog;},destroyDialog:function(){this.oDialog.destroyItems();this.oDialog.destroy();this.oDialog=null;},systemConfirmHandler:function(e){var i=e.getParameters().selectedItem;var s=i.getBindingContext().getObject();this.setSystemSelected(s);this.destroyDialog();},systemSearchHandler:function(e){var v=e.getParameter('value');var f=new sap.ui.model.Filter('systemName',sap.ui.model.FilterOperator.Contains,v);var F=new sap.ui.model.Filter('systemId',sap.ui.model.FilterOperator.Contains,v);var s=new sap.ui.model.Filter({filters:[F,f],and:false});var b=e.getSource().getBinding('items');b.filter(s);},titleFormatter:function(s,a){return s||a;},descriptionFormatter:function(s,a){if(s){return a;}return null;},selectedFormatter:function(s,a){var u=this.getView().getModel('easyAccessSystems').getProperty('/systemSelected');if(!u){return false;}if(s){return(u.systemName===s);}else{return(u.systemId===a);}},systemSelectorTextFormatter:function(s){if(s){if(s.systemName){return this.getView().translationBundle.getText('easyAccessSelectSystemTextWithSystem',s.systemName);}else{return this.getView().translationBundle.getText('easyAccessSelectSystemTextWithSystem',s.systemId);}}else{return this.getView().translationBundle.getText('easyAccessSelectSystemTextWithoutSystem');}}});}());\n",
	"sap/ushell/components/flp/launchpad/appfinder/HierarchyFolders.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.jsview('sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders',{createContent:function(c){var t=this;this.translationBundle=sap.ushell.resources.i18n;this.treePath='';this.systemSelectorText=new sap.m.Text({text:{path:'easyAccessSystemsModel>/systemSelected',formatter:c.systemSelectorTextFormatter.bind(c)}});this.oItemTemplate=new sap.m.StandardListItem({title:'{easyAccess>text}',type:'Navigation',press:function(){var p=this.getBindingContextPath();t.getViewData().navigateHierarchy(p,true);}});this.oList=new sap.m.List({items:{path:'easyAccess>'+this.treePath+'/folders',template:this.oItemTemplate},updateFinished:function(){t.finishEasyAccessAnimation(true);},noDataText:{path:'easyAccessSystemsModel>/systemSelected',formatter:function(s){if(s){return t.translationBundle.getText('easyAccessFolderWithNoItems');}}}});this.pageMenu=new sap.m.Page({title:'{easyAccess>/text}',showNavButton:false,enableScrolling:true,subHeader:new sap.m.Toolbar({design:'Info',height:'2rem',active:{path:'easyAccessSystemsModel>/systemsList',formatter:function(s){return s.length>1;}},content:[this.systemSelectorText,new sap.m.ToolbarSpacer(),new sap.ui.core.Icon({width:'2rem',src:'sap-icon://edit'})],press:[c.onSystemSelectionPress,c]}),content:this.oList});this.pageMenu.attachNavButtonPress(function(){var p=this.treePath.split('/');var n=p.slice(0,p.length-2);this.getViewData().navigateHierarchy(n.join('/'),false);}.bind(this));return this.pageMenu;},getControllerName:function(){return'sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders';},finishEasyAccessAnimation:function(){if(!this.jqFolderClone){return;}if(this.forwardAnimation){this.pageMenu.$().addClass('forwardToViewAnimation');this.jqFolderClone.addClass('forwardOutOfViewAnimation');}else{this.pageMenu.$().addClass('backToViewAnimation');this.jqFolderClone.addClass('backOutOfViewAnimation');}this.jqFolderClone.on('animationend',function(){this.pageMenu.$().removeClass('forwardToViewAnimation backToViewAnimation');var b=this.pageMenu.$().find('.sapMBarLeft button');if(b.length){b.focus();}else{setTimeout(function(){this.pageMenu.$().find('header + header').focus();}.bind(this));}if(this.jqFolderClone){this.jqFolderClone.remove();}}.bind(this));},prepareEasyAccessAnimation:function(f){this.forwardAnimation=f;this.jqFolderClone=this.pageMenu.$().clone().removeAttr('data-sap-ui').css('z-index','1');this.jqFolderClone.find('*').removeAttr('id');this.pageMenu.$().parent().append(this.jqFolderClone);},updatePageBindings:function(p,f){var s=p.split('/').length>2;this.treePath=p;this.pageMenu.setShowNavButton(s);this.pageMenu.setShowSubHeader(!s);this.prepareEasyAccessAnimation(f);this.pageMenu.bindProperty('title','easyAccess>'+p+'/text');this.oList.bindItems('easyAccess>'+p+'/folders',this.oItemTemplate);}});}());\n",
	"sap/ushell/components/flp/launchpad/dashboard/DashboardContent.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions');jQuery.sap.require('sap.ushell.ui.launchpad.TileContainer');sap.ui.controller('sap.ushell.components.flp.launchpad.dashboard.DashboardContent',{onInit:function(){var e=sap.ui.getCore().getEventBus();this.handleDashboardScroll=this._handleDashboardScroll.bind(this);e.subscribe('launchpad','appClosed',this._resizeHandler,this);e.subscribe('launchpad','appOpened',this._appOpenedHandler,this);e.subscribe('launchpad','dashboardModelContentLoaded',this._modelLoaded,this);e.subscribe('launchpad','actionModeInactive',this._handleGroupVisibilityChanges,this);window.document.addEventListener('visibilitychange',sap.ushell.utils.handleTilesVisibility,false);this.sViewId='#'+this.oView.getId();if(sap.ui.Device.browser.mobile){e.subscribe('launchpad','contentRefresh',this._webkitMobileRenderFix,this);}this.isDesktop=(sap.ui.Device.system.desktop&&(navigator.userAgent.toLowerCase().indexOf('tablet')<0));this.isNotificationPreviewLoaded=false;this._setCenterViewPortShift();},onExit:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe('launchpad','contentRefresh',this._webkitMobileRenderFix,this);e.unsubscribe('launchpad','appClosed',this._resizeHandler,this);e.unsubscribe('launchpad','appOpened',this._appOpenedHandler,this);e.unsubscribe('launchpad','dashboardModelContentLoaded',this._modelLoaded,this);window.document.removeEventListener('visibilitychange',sap.ushell.utils.handleTilesVisibility,false);},onAfterRendering:function(){var e=sap.ui.getCore().getEventBus(),v=this.getView(),d=v.getDomRef(),s=d.getElementsByTagName('section'),m,t,g,i,a;jQuery(s[0]).off('scrollstop',this.handleDashboardScroll);jQuery(s[0]).on('scrollstop',this.handleDashboardScroll);e.unsubscribe('launchpad','scrollToGroup',this._scrollToGroup,this);e.subscribe('launchpad','scrollToGroup',this._scrollToGroup,this);e.unsubscribe('launchpad','scrollToFirstVisibleGroup',this._scrollToFirstVisibleGroup,this);e.subscribe('launchpad','scrollToFirstVisibleGroup',this._scrollToFirstVisibleGroup,this);sap.ui.Device.orientation.attachHandler(function(){var j=jQuery('#dashboardGroups').find('.sapUshellTileContainer:visible');if(j.length){m=this.getView().getModel();t=m.getProperty('/topGroupInViewPortIndex');if(j.get(t)){g=sap.ui.getCore().byId(j.get(t).id);i=m.getProperty('/editTitle');this._publishAsync('launchpad','scrollToGroup',{group:g,isInEditTitle:i});}}},this);jQuery(window).bind('resize',function(){clearTimeout(a);a=setTimeout(this._resizeHandler.bind(this),300);}.bind(this));if(this.getView().getModel().getProperty('/personalization')&&!sap.ushell.components.flp.ActionMode){jQuery.sap.require('sap.ushell.components.flp.ActionMode');sap.ushell.components.flp.ActionMode.init(this.getView().getModel());}this._updateTopGroupInModel();},_setCenterViewPortShift:function(){var v=sap.ui.getCore().byId('viewPortContainer');if(v){v.shiftCenterTransition(true);}},_dashboardDeleteTileHandler:function(e){var t=e.getSource(),T=t.getBindingContext().getObject().object,d={originalTileId:sap.ushell.Container.getService('LaunchPage').getTileId(T)};sap.ui.getCore().getEventBus().publish('launchpad','deleteTile',d,this);},dashboardTilePress:function(){sap.ui.getCore().getEventBus().publish('launchpad','dashboardTileClick');},_updateTopGroupInModel:function(){var m=this.getView().getModel(),t=this._getIndexOfTopGroupInViewPort();m.setProperty('/topGroupInViewPortIndex',t);},_getIndexOfTopGroupInViewPort:function(){var v=this.getView(),d=v.getDomRef(),s=d.getElementsByTagName('section'),j=$(s).find('.sapUshellTileContainer'),o=j.not('.sapUshellHidden').first().offset(),f=(o&&o.top)||0,t=[],n=s[0].scrollTop,a,b=0;if(!j||!o){return b;}j.each(function(){if(!jQuery(this).hasClass('sapUshellHidden')){var c=jQuery(this).parent().offset().top;t.push([c,c+jQuery(this).parent().height()]);}});a=n+f;jQuery.each(t,function(i,c){var e=c[0],g=c[1];if(e-24<=a&&a<=g){b=i;return false;}});return b;},_handleDashboardScroll:function(){var v=this.getView();this._updateTopGroupInModel();sap.ushell.utils.handleTilesVisibility();v.oAnchorNavigationBar.closeOverflowPopup();v.oAnchorNavigationBar.reArrangeNavigationBarElements();},_handleGroupDeletion:function(g){jQuery.sap.require('sap.m.MessageBox');var e=sap.ui.getCore().getEventBus(),G=g.getObject(),i=G.removable,s=G.title,a=G.groupId,r=sap.ushell.resources.i18n,m=sap.ushell.Container.getService('Message'),A=sap.m.MessageBox.Action,c=(i?A.DELETE:r.getText('ResetGroupBtn'));m.confirm(r.getText(i?'delete_group_msg':'reset_group_msg',s),function(o){if(o===c){e.publish('launchpad',i?'deleteGroup':'resetGroup',{groupId:a});}},r.getText(i?'delete_group':'reset_group'),[c,A.CANCEL]);},_modelLoaded:function(){this.bModelInitialized=true;sap.ushell.Layout.getInitPromise().then(function(){this._initializeUIActions();}.bind(this));},_initializeUIActions:function(){var d=new sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions();d.initializeUIActions(this);},_forceBrowserRerenderElement:function(e){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame;if(a){a(function(){var d=e.style.display;e.style.display='none';e.style.display=d;});}else{jQuery.sap.log.info('unsupported browser for animation frame');}},_webkitMobileRenderFix:function(){if(sap.ui.Device.browser.chrome||sap.ui.Device.os.android){this._forceBrowserRerenderElement(document.body);}},_resizeHandler:function(){this._addBottomSpace();sap.ushell.utils.handleTilesVisibility();var i=jQuery.find('#dashboardGroups:visible').length;if(sap.ushell.Layout&&i){sap.ushell.Layout.reRenderGroupsLayout(null);this._initializeUIActions();}},_appOpenedHandler:function(c,e,d){var v,p,P,m=this.getView().getModel();p=this.getOwnerComponent();P=p.getMetadata().getComponentName();if(d.additionalInformation.indexOf(P)===-1){sap.ushell.utils.setTilesNoVisibility();v=sap.ui.getCore().byId('viewPortContainer');if(v){v.shiftCenterTransition(false);}}if(sap.ushell.components.flp.ActionMode&&sap.ushell.components.flp.ActionMode.oModel&&sap.ushell.components.flp.ActionMode.oModel.getProperty('/tileActionModeActive')){sap.ushell.components.flp.ActionMode.toggleActionMode(m,'Menu Item');}},_addBottomSpace:function(){sap.ushell.utils.addBottomSpace();},_scrollToFirstVisibleGroup:function(c,e,d){var g,v=this.oView.oDashboardGroupsBox.getGroups(),f=d.fromTop>0?d.fromTop:0;if(d.group){g=d.group.getGroupId();}else{g=d.groupId;}if(v){jQuery.each(v,function(n,G){if(G.getGroupId()===g){var y=document.getElementById(G.sId).offsetTop;jQuery('.sapUshellDashboardView section').stop().animate({scrollTop:y+f},0);if(d.group&&d.focus){jQuery.sap.byId(G.sId).focus();}return false;}});sap.ushell.utils.addBottomSpace();}},_scrollToGroup:function(c,e,d){var g,t=this,v=this.oView.oDashboardGroupsBox.getGroups();if(d.group){g=d.group.getGroupId();}else{g=d.groupId;}if(v){jQuery.each(this.oView.oDashboardGroupsBox.getGroups(),function(n,G){if(G.getGroupId()===g){var y;setTimeout(function(){y=-1*(document.getElementById('dashboardGroups').getBoundingClientRect().top)+document.getElementById(G.sId).getBoundingClientRect().top;y+=49;jQuery('.sapUshellDashboardView section').stop().animate({scrollTop:y},500);if(d.isInEditTitle){G.setEditMode(true);}},300);if(d.groupId||d.groupChanged){t._addBottomSpace();}sap.ushell.utils.handleTilesVisibility();return false;}});}},_handleDrop:function(e,u){var t=sap.ushell.Layout.getLayoutEngine().layoutEndCallback(),E=sap.ui.getCore().getEventBus(),n,a;if(!t.tileMovedFlag){return;}n=true;a=true;if((t.srcGroup!==t.dstGroup)){n=a=false;}else if(t.tile!==t.dstGroup.getTiles()[t.dstTileIndex]){a=false;}t.srcGroup.removeAggregation('tiles',t.tile,n);t.dstGroup.insertAggregation('tiles',t.tile,t.dstTileIndex,a);E.publish('launchpad','moveTile',{sTileId:t.tile.getUuid(),toGroupId:t.dstGroup.getGroupId(),toIndex:t.dstTileIndex});E.publish('launchpad','sortableStop');},_handleAnchorItemPress:function(e){this._scrollToGroup('launchpad','scrollToGroup',{group:e.getParameter('group'),groupChanged:false,focus:(e.getParameter('action')==='sapenter')});},_addGroupHandler:function(d){var i,p=d.getSource().getBindingContext().getPath(),a=p.split('/');i=window.parseInt(a[a.length-1],10);if(d.getSource().sParentAggregationName==='afterContent'){i=i+1;}sap.ui.getCore().getEventBus().publish('launchpad','createGroupAt',{title:sap.ushell.resources.i18n.getText('new_group_name'),location:i,isRendered:true});},_notificationsUpdateCallback:function(){var t=this,r=5,T=0,R=this.getView().getModel().getProperty('/previewNotificationItems'),n=[],N=[],a,b,c,d,e,i,o,f=false,m=r-R.length-1;sap.ushell.Container.getService('Notifications').getNotifications().done(function(g){if(!g){return;}var h=sap.ui.getCore().byId('notifications-preview-container'),v;if(!this.isNotificationPreviewLoaded){h.setEnableBounceAnimations(true);}if(R&&R.length){for(e=0;e<R.length;e++){var O=R[e].originalItemId,j=false;for(i=0;i<g.length;i++){if(g[i].Id===O){j=true;break;}if(R[e].originalTimestamp>g[i].CreatedAt){break;}}if(!j){R.splice(e,1);f=true;e--;}}}if(R&&R.length>0){a=R[0].originalTimestamp;b=sap.ushell.Container.getService('Notifications')._formatAsDate(a);}for(e=0;(e<g.length)&&(T<r);e++){c=g[e].CreatedAt;d=sap.ushell.Container.getService('Notifications')._formatAsDate(c);if((b?d>b:true)){n[T]=g[e];T++;}}var k=n.length;if(R&&R.length>0&&R.length<r&&g.length>R.length){a=R[R.length-1].originalTimestamp;b=sap.ushell.Container.getService('Notifications')._formatAsDate(a);T=0;for(e=0;(e<g.length)&&(T<=m);e++){c=g[e].CreatedAt;d=sap.ushell.Container.getService('Notifications')._formatAsDate(c);if(d<b){n[k+T]=g[e];T++;}}}if(n.length===0&&!f){this._disableNotificationPreviewBouncingAnimation(h);return;}for(i=0;i<n.length;i++){o=new sap.m.NotificationListItem({hideShowMoreButton:true,description:n[i].SensitiveText,title:n[i].Text,datetime:sap.ushell.utils.formatDate(n[i].CreatedAt),priority:sap.ui.core.Priority[n[i].Priority.charAt(0)+n[i].Priority.substr(1).toLowerCase()],press:function(E){var s=this.getBindingContext().getPath(),p=s.split('/'),P='/'+p[1]+'/'+p[2],l=this.getModel().getProperty(P),S=l.NavigationTargetObject,A=l.NavigationTargetAction,q=l.NavigationTargetParams,u=l.originalItemId,w=sap.ushell.Container.getService('Notifications');sap.ushell.utils.toExternalWithParameters(S,A,q);var x=w.markRead(u);x.fail(function(){sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedMarkRead'));});},close:function(E){var s=this.getBindingContext().getPath(),p=s.split('/'),P='/'+p[1]+'/'+p[2],l=this.getModel().getProperty(P),q=l.originalItemId,R=t.getView().getModel().getProperty('/previewNotificationItems'),u=sap.ushell.Container.getService('Notifications'),w=u.dismissNotification(q);w.done(function(){var i;for(i=0;i<R.length;i++){if(R[i].originalItemId===q){break;}}R.splice(i,1);t.getView().getModel().setProperty('/previewNotificationItems',R);});w.fail(function(){sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedDismiss'));t.getView().getModel().setProperty('/previewNotificationItems',R);});}});if(sap.ui.Device.system.desktop){o.removeStyleClass('sapUiSizeCozy');o.addStyleClass('sapUiSizeCompact');}N.push({previewItemId:o.getId(),originalItemId:n[i].Id,originalTimestamp:n[i].CreatedAt,NavigationTargetObject:n[i].NavigationTargetObject,NavigationTargetAction:n[i].NavigationTargetAction,NavigationTargetParams:n[i].NavigationTargetParams});v=sap.ui.getCore().byId('viewPortContainer');if(v.getCurrentState()==='RightCenter'){o.addStyleClass('sapUshellRightFloatingContainerItemBounceOut');}}if(R.length===0){t.getView().getModel().setProperty('/previewNotificationItems',N);this._disableNotificationPreviewBouncingAnimation(h);return;}for(e=N.length-1;e>-1;e--){if(R.length===r){setTimeout(function(){R.pop();t.getView().getModel().setProperty('/previewNotificationItems',R);},1000);}if(N[e].originalTimestamp>R[0].originalTimestamp){R.unshift(N[e]);}else{R.push(N[e]);}}t.getView().getModel().setProperty('/previewNotificationItems',R);this._disableNotificationPreviewBouncingAnimation(h);}.bind(this)).fail(function(){});},_disableNotificationPreviewBouncingAnimation:function(n){if(!this.isNotificationPreviewLoaded){this.isNotificationPreviewLoaded=true;n.setEnableBounceAnimations(false);}},_publishAsync:function(c,e,d){var b=sap.ui.getCore().getEventBus();window.setTimeout(jQuery.proxy(b.publish,b,c,e,d),1);},_changeGroupVisibility:function(g){var b=g.getPath(),m=g.getModel(),G=m.getProperty(b+'/isGroupVisible');m.setProperty(b+'/isGroupVisible',!G);},_handleGroupVisibilityChanges:function(c,e,o){var l=sap.ushell.Container.getService('LaunchPage'),m=this.getView().getModel(),C=sap.ushell.utils.getCurrentHiddenGroupIds(m),s=C.length===o.length,i=s,p;C.some(function(h,I){if(!i){return true;}i=jQuery.inArray(h,o)!==-1;return!i;});if(!i){p=l.hideGroups(C);p.done(function(){m.updateBindings('groups');this._handleToastMessage(C.length);}.bind(this));p.fail(function(){var a=sap.ushell.Container.getService('Message');a.error(sap.ushell.resources.i18n.getText('hideGroups_error'));});}},_handleToastMessage:function(n){var m='';if(typeof n===undefined){return;}if(n===0){m=sap.ushell.resources.i18n.getText('hideGroups_none');}else if(n===1){m=sap.ushell.resources.i18n.getText('hideGroups_single');}else{m=sap.ushell.resources.i18n.getText('hideGroups_multiple',n);}sap.ushell.Container.getService('Message').show(sap.ushell.services.Message.Type.INFO,m);}});}());\n",
	"sap/ushell/components/flp/launchpad/dashboard/DashboardContent.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox');jQuery.sap.require('sap.ushell.ui.launchpad.TileContainer');jQuery.sap.require('sap.ushell.ui.launchpad.Tile');jQuery.sap.require('sap.ushell.override');jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ushell.Layout');jQuery.sap.require('sap.ushell.ui.launchpad.AnchorItem');jQuery.sap.require('sap.ushell.ui.shell.RightFloatingContainer');sap.ui.jsview('sap.ushell.components.flp.launchpad.dashboard.DashboardContent',{createContent:function(c){var d,t=this,V=sap.ui.getCore().byId('viewPortContainer'),C;this.isTouch=sap.ui.Device.system.combi?false:(sap.ui.Device.system.phone||sap.ui.Device.system.tablet);this.isCombi=sap.ui.Device.system.combi;this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this);this.oModel=this.parentComponent.getModel();this.addStyleClass('sapUshellDashboardView');this.ieHtml5DnD=!!(this.oModel.getProperty('/personalization')&&(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge)&&sap.ui.Device.browser.version>=11&&(sap.ui.Device.system.combi||sap.ui.Device.system.tablet));sap.ui.getCore().getEventBus().subscribe('launchpad','contentRendered',this._onAfterDashboardShow,this);sap.ui.getCore().getEventBus().subscribe('launchpad','initialConfigurationSet',this._onAfterDashboardShow,this);sap.ui.getCore().byId('navContainerFlp').attachAfterNavigate(this.onAfterNavigate,this);this.addEventDelegate({onBeforeFirstShow:function(){var D=sap.ushell.components.flp.launchpad.getDashboardManager();D.loadPersonalizedGroups();t.onAfterNavigate();},onAfterShow:function(){t.getController()._addBottomSpace();var r=sap.ushell.Container.getRenderer('fiori2');r.showRightFloatingContainer(false);},onAfterHide:function(e){}});this.oAnchorNavigationBar=this._getAnchorNavigationBar(c);d=new sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox();this.oDashboardGroupsBox=d.createGroupsBox(c,this.oModel);C=this.oModel.getProperty('/configEnableNotificationsPreview');if(V){V.shiftCenterTransitionEnabled(C);}var u=function(n){var b=this.mBindingInfos[n],a=this.getMetadata().getJSONKeys()[n],o;jQuery.each(this[a._sGetter](),jQuery.proxy(function(i,v){this[a._sRemoveMutator](v);},this));jQuery.each(b.binding.getContexts(),jQuery.proxy(function(i,v){o=b.factory(this.getId()+'-'+i,v)?b.factory(this.getId()+'-'+i,v).setBindingContext(v,b.model):'';this[a._sMutator](o);},this));};this.oPreviewNotificationsContainerPlaceholder=new sap.ushell.ui.shell.RightFloatingContainer({id:'notifications-preview-container-placeholder',visible:{path:'/enableNotificationsPreview',formatter:this._handleNotificationsPreviewVisibility.bind(this)}}).addStyleClass('sapUshellPreviewNotificationsConainer');this.oPreviewNotificationsContainer=new sap.ushell.ui.shell.RightFloatingContainer({id:'notifications-preview-container',top:5.5,right:'1rem',floatingContainerItems:{path:'/previewNotificationItems',factory:function(f,o){return sap.ui.getCore().byId(o.getObject().previewItemId);}},visible:{path:'/enableNotificationsPreview',formatter:this._handleNotificationsPreviewVisibility.bind(this)}}).addStyleClass('sapContrastPlus').addStyleClass('sapContrast');this.oPreviewNotificationsContainer.updateAggregation=u;this.oPage=new sap.m.Page('sapUshellDashboardPage',{customHeader:this.oAnchorNavigationBar,content:[this.oDashboardGroupsBox,this.oPreviewNotificationsContainerPlaceholder,this.oPreviewNotificationsContainer]});return[this.oPage];},_handleNotificationsPreviewVisibility:function(e){var r=sap.ushell.Container.getRenderer('fiori2'),c=r.getCurrentViewportState(),i=c==='Center',n=sap.ushell.Container.getService('Notifications');this.oDashboardGroupsBox.toggleStyleClass('sapUshellDashboardGroupsContainerSqueezed',e);this.oAnchorNavigationBar.toggleStyleClass('sapUshellAnchorNavigationBarSqueezed',e);e=e&&i;if(e){if(!this.bNotificationsRegistered){n.registerNotificationsUpdateCallback(this.oController._notificationsUpdateCallback.bind(this.oController));this.bNotificationsRegistered=true;}if(n.isFirstDataLoaded()){setTimeout(function(){if(this.oController&&this.oController._notificationsUpdateCallback){this.oController._notificationsUpdateCallback();}}.bind(this),300);}if(!this.bSubscribedToViewportStateSwitch){this.bHeadsupNotificationsInitialyVisible=r.getRightFloatingContainerVisibility();sap.ui.getCore().getEventBus().subscribe('launchpad','afterSwitchState',this._handleViewportStateSwitch,this);this.bSubscribedToViewportStateSwitch=true;}}return e;},_fOnAfterAnchorBarRenderingHandler:function(e){var x=this.getModel()&&this.getModel().getProperty('/enableHelp');if(this.getDefaultGroup()){if(x){this.addStyleClass('help-id-homeAnchorNavigationBarItem');}}else{if(x){this.addStyleClass('help-id-anchorNavigationBarItem');}}},_getAnchorItemTemplate:function(){var a=new sap.ushell.ui.launchpad.AnchorItem({index:'{index}',title:'{title}',groupId:'{groupId}',defaultGroup:'{isDefaultGroup}',selected:false,isGroupRendered:'{isRendered}',visible:{parts:['/tileActionModeActive','isGroupVisible','visibilityModes'],formatter:function(t,i,v){if(!v[t?1:0]){return false;}return i||t;}},afterRendering:this._fOnAfterAnchorBarRenderingHandler});return a;},_getAnchorNavigationBar:function(c){var a=this._getAnchorItemTemplate(),A=new sap.ushell.ui.launchpad.AnchorNavigationBar('anchorNavigationBar',{selectedItemIndex:'{/topGroupInViewPortIndex}',itemPress:[function(e){this._handleAnchorItemPress(e);},c],groups:{path:'/groups',template:a}});A=this._extendAnchorNavigationBar(A);A.addStyleClass('sapContrastPlus');return A;},_extendAnchorNavigationBar:function(a){var e=jQuery.extend(a,{onsapskipforward:function(E){E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(E,this.bGroupWasPressed);this.bGroupWasPressed=false;},onsaptabnext:function(E){E.preventDefault();var j=jQuery(':focus');if(!j.parent().parent().siblings().hasClass('sapUshellAnchorItemOverFlow')||(j.parent().parent().siblings().hasClass('sapUshellAnchorItemOverFlow')&&j.parent().parent().siblings().hasClass('sapUshellShellHidden'))){sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(E);this.bGroupWasPressed=false;}else{var b=jQuery('.sapUshellAnchorItemOverFlow button');b.focus();}},onsapskipback:function(E){E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(E);},onsaptabprevious:function(E){E.preventDefault();var j=jQuery(':focus');if(!j.parent().hasClass('sapUshellAnchorItemOverFlow')){sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(E);}else{var b=jQuery('.sapUshellAnchorItem:visible:first');if(!b.length){sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(E);}b.focus();}},onsapenter:function(E){E.srcControl.getDomRef().click();},onsapspace:function(E){E.srcControl.getDomRef().click();}});return e;},_addActionModeButtonsToDashboard:function(){if(sap.ushell.components.flp.ActionMode){sap.ushell.components.flp.ActionMode.init(this.getModel());}},_createActionModeMenuButton:function(){var t=sap.ushell.Container.getRenderer('fiori2').addActionButton('sap.ushell.ui.launchpad.ActionItem',{id:'ActionModeBtn',text:sap.ushell.resources.i18n.getText('activateActionMode'),icon:'sap-icon://edit',press:function(){var d=this.oDashboardGroupsBox.getGroups();sap.ushell.components.flp.ActionMode.toggleActionMode(this.oModel,'Menu Item',d);}.bind(this)},false,true);if(this.oModel.getProperty('/enableHelp')){t.addStyleClass('help-id-ActionModeBtn');}sap.ushell.Container.getRenderer('fiori2').showActionButton(t.getId(),true);},_createFloatingActionButton:function(){var f=sap.ushell.Container.getRenderer('fiori2').addFloatingActionButton('sap.ushell.ui.shell.ShellFloatingAction',{id:'floatingActionBtn',icon:'sap-icon://edit',press:function(e){var d=this.oDashboardGroupsBox.getGroups();sap.ushell.components.flp.ActionMode.toggleActionMode(this.oModel,'Floating Button',d);sap.ushell.Layout.reRenderGroupsLayout(null);}.bind(this),tooltip:sap.ushell.resources.i18n.getText('activateActionMode')},false,true);f.data('sap-ui-fastnavgroup','true',true);f.addEventDelegate({onsapskipback:function(e){e.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;},onsaptabprevious:function(e){e.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;}});if(this.oModel.getProperty('/enableHelp')){f.addStyleClass('help-id-floatingActionBtn');}sap.ushell.Container.getRenderer('fiori2').showFloatingActionButton(f.getId(),true);},_createActionButtons:function(){var e=this.oModel.getProperty('/personalization'),t=this;if(this.oModel.getProperty('/actionModeMenuButtonEnabled')&&e){this._createActionModeMenuButton();}var c=sap.ushell.Container.getRenderer('fiori2').getModelConfiguration(),m=c.enableMeArea;if(this.oModel.getProperty('/actionModeFloatingButtonEnabled')&&e&&!m){this._createFloatingActionButton();}if(e){this.oOpenCatalogItem=sap.ushell.Container.getRenderer('fiori2').addActionButton('sap.ushell.ui.launchpad.ActionItem',{id:'openCatalogBtn',text:sap.ushell.resources.i18n.getText('open_appFinder'),icon:'sap-icon://sys-find',actionType:m?'action':'default',press:function(){t.parentComponent.getRouter().navTo('appFinder',{'menu':'catalog'});var v=sap.ui.getCore().byId('viewPortContainer');v.switchState('Center');}},true,true);if(this.oModel.getProperty('/enableHelp')){this.oOpenCatalogItem.addStyleClass('help-id-openCatalogActionItem');}}},onAfterNavigate:function(e){var n=sap.ui.getCore().byId('navContainerFlp'),c=n?n.getCurrentPage().getViewName():undefined,i=c=='sap.ushell.components.flp.launchpad.dashboard.DashboardContent',r=sap.ushell.Container.getRenderer('fiori2'),t=this;i=i&&sap.ui.getCore().byId('shell')&&sap.ui.getCore().byId('shell').getModel()&&sap.ui.getCore().byId('shell').getModel().getProperty('/currentState/stateName')=='home';if(i){r.createExtendedShellState('dashboardExtendedShellState',function(){this._createActionButtons();r.setHeaderHiding(false);}.bind(this));this.getController()._setCenterViewPortShift();this._addActionModeButtonsToDashboard();var v=t.oAnchorNavigationBar.getVisibleGroups(),a=t.oAnchorNavigationBar.getSelectedItemIndex(),b=v[a];if(b){jQuery(b.getDomRef()).focus();}setTimeout(function(){if(sap.ushell.Container){r.applyExtendedShellState('dashboardExtendedShellState');}},0);if(this.oAnchorNavigationBar&&this.oAnchorNavigationBar.anchorItems){this.oAnchorNavigationBar.setNavigationBarItemsVisibility();this.oAnchorNavigationBar.adjustItemSelection(this.oAnchorNavigationBar.getSelectedItemIndex());}}},_handleViewportStateSwitch:function(c,e,d){var C=d.getParameter('to');if(C=='Center'){var n=sap.ui.getCore().byId('notifications-preview-container');if(n&&n.setFloatingContainerItemsVisiblity){n.setFloatingContainerItemsVisiblity(true);}}},_handleHeadsupNotificationsPresentation:function(c){var r=sap.ushell.Container.getRenderer('fiori2'),i=c==='Center',p=this.oPreviewNotificationsContainer.getDomRef(),h=p&&p.getBoundingClientRect(),P=h?h.bottom<0:false,s=i?P:this.bHeadsupNotificationsInitialyVisible;r.showRightFloatingContainer(s);},_onAfterDashboardShow:function(e){var j=jQuery('.sapUshellTileContainer:visible'),n=sap.ui.getCore().byId('navContainerFlp'),c=n?n.getCurrentPage().getViewName():undefined,i=c=='sap.ushell.components.flp.launchpad.dashboard.DashboardContent',t=this.oModel.getProperty('/tileActionModeActive'),v,p;if(i){if(!t){sap.ushell.utils.handleTilesVisibility();sap.ushell.utils.refreshTiles();var T=this.oModel.getProperty('/topGroupInViewPortIndex'),a=jQuery(j[T]),b=a.find('.sapUshellTile:first'),d=b.length?b:jQuery('#configBtn');p=this.oModel.getProperty('/enableNotificationsPreview');v=sap.ui.getCore().byId('viewPortContainer');if(v){v.shiftCenterTransition(p);}setTimeout(function(){d.focus();},1000);}this.onAfterNavigate();}},getControllerName:function(){return'sap.ushell.components.flp.launchpad.dashboard.DashboardContent';},_isInDeashboard:function(){var n=sap.ui.getCore().byId('viewPortContainer'),c=sap.ui.getCore().byId('dashboardGroups');return((n.getCurrentCenterPage()==='application-Shell-home')&&(c.getModel().getProperty('/currentViewName')==='home'));},exit:function(){sap.ui.core.mvc.View.prototype.exit.apply(this,arguments);sap.ui.getCore().getEventBus().unsubscribe('launchpad','contentRendered',this._onAfterDashboardShow,this);sap.ui.getCore().getEventBus().unsubscribe('launchpad','initialConfigurationSet',this._onAfterDashboardShow,this);if(this.bSubscribedToViewportStateSwitch){sap.ui.getCore().getEventBus().unsubscribe('launchpad','afterSwitchState',this._handleViewportStateSwitch,this);this.bSubscribedToViewportStateSwitch=false;}}});}());\n",
	"sap/ushell/components/flp/launchpad/dashboard/DashboardGroupsBox.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox');sap.ui.base.Object.extend('sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox',{metadata:{publicMethods:['createGroupsBox']},constructor:function(i,s){if(sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox&&sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox()){return sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox();}sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox=jQuery.sap.getter(this.getInterface());this.oController=undefined;this.oGroupsContainer=undefined;this.bTileContainersContentAdded=false;sap.ui.getCore().getEventBus().subscribe('launchpad','actionModeActive',this._addTileContainersContent,this);},destroy:function(){sap.ui.getCore().getEventBus().unsubscribe('launchpad','actionModeActive',this._addTileContainersContent,this);sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox=undefined;},createGroupsBox:function(c,m){this.oController=c;var t=this,a,g,l,T=this._getTileContainerTemplate(c,m),E=function(){return t.oModel.getProperty('/enableLockedGroupsCompactLayout')&&!t.oModel.getProperty('/tileActionModeActive');},b=function(G){var d,p;if(G&&(d=G.getDomRef())){p=d.querySelector('.sapUshellPlusTile');if(p){return p;}}return null;},r=function(d){var p=b(d.currentGroup),e=b(d.endGroup),i=(d.tiles[d.tiles.length-2]===d.item)||(d.endGroup.getTiles().length===0);if(i){t._hidePlusTile(e);}else{t._showPlusTile(e);}if(d.currentGroup!==d.endGroup){t._showPlusTile(p);}};a=function(){sap.ushell.Layout.getLayoutEngine().setExcludedControl(sap.ushell.ui.launchpad.PlusTile);sap.ushell.Layout.getLayoutEngine().setReorderTilesCallback.call(sap.ushell.Layout.layoutEngine,r);};g=function(){var j=document.querySelectorAll('.sapUshellTileContainer:not(.sapUshellHidden) .sapUshellInner')[0];if(!!j){var s=-1*(document.getElementById('dashboardGroups').getBoundingClientRect().top)+j.getBoundingClientRect().top;jQuery('.sapUshellDashboardView section').scrollTop(s-7);}if(!sap.ushell.Layout.isInited){sap.ushell.Layout.init({getGroups:this.getGroups.bind(this),isLockedGroupsCompactLayoutEnabled:E}).done(a);sap.ui.Device.media.attachHandler(function(){if(!this.bIsDestroyed){sap.ushell.Layout.reRenderGroupsLayout(null);}},this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);var d=this.getDomRef();c.getView().sDashboardGroupsWrapperId=!jQuery.isEmptyObject(d)&&d.parentNode?d.parentNode.id:'';}sap.ushell.Layout.reRenderGroupsLayout(null);if(this.getGroups().length){if(c.bModelInitialized){c._initializeUIActions();}sap.ui.getCore().getEventBus().publish('launchpad','contentRendered');sap.ui.getCore().getEventBus().publish('launchpad','contentRefresh');l=sap.ui.getCore().byId('loadingDialog');l.closeLoadingScreen();c._addBottomSpace();if(this.getModel().getProperty('/tilesOpacity')){sap.ushell.utils.handleTilesOpacity(this.getModel());}}try{sap.ushell.utils.handleTilesVisibility();}catch(e){}};jQuery.sap.require('sap.ushell.ui.launchpad.DashboardGroupsContainer');this.oGroupsContainer=new sap.ushell.ui.launchpad.DashboardGroupsContainer('dashboardGroups',{accessibilityLabel:sap.ushell.resources.i18n.getText('DashboardGroups_label'),groups:{path:'/groups',template:T},afterRendering:g});this.oGroupsContainer.addEventDelegate({onsapskipback:function(e){e.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);var j=jQuery('.sapUshellAnchorItem:visible:first');if(!j.length){sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e);}j.focus();},onsapskipforward:function(e){e.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e);},onsaptabnext:function(e){if(!t.oModel.getProperty('/tileActionModeActive')||!document.activeElement.closest('.sapUshellTileContainerHeader')){e.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e);}},onsaptabprevious:function(e){sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);var j=jQuery(':focus');if(!t.oModel.getProperty('/tileActionModeActive')||j.hasClass('sapUshellTileContainerHeader')){e.preventDefault();var d=jQuery('.sapUshellAnchorItem:visible:first'),f=jQuery('.sapUshellAnchorItemOverFlow');if(!f&&!d.length){sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e);}if(f.hasClass('sapUshellShellHidden')){d.focus();}else{f.find('button').focus();}}}});this.oModel=m;return this.oGroupsContainer;},_getTileContainerTemplate:function(c,m){var t=this,T=new sap.ushell.ui.launchpad.TileContainer({headerText:'{title}',tooltip:'{title}',tileActionModeActive:'{/tileActionModeActive}',ieHtml5DnD:c.getView().ieHtml5DnD,enableHelp:'{/enableHelp}',groupId:'{groupId}',defaultGroup:'{isDefaultGroup}',isLastGroup:'{isLastGroup}',isGroupLocked:'{isGroupLocked}',showHeader:true,editMode:'{editMode}',titleChange:function(e){sap.ui.getCore().getEventBus().publish('launchpad','changeGroupTitle',{groupId:e.getSource().getGroupId(),newTitle:e.getParameter('newTitle')});},showPlaceholder:{parts:['/tileActionModeActive','tiles/length'],formatter:function(a){return(a||!this.groupHasTiles())&&!this.getIsGroupLocked();}},visible:{parts:['/tileActionModeActive','isGroupVisible','visibilityModes'],formatter:function(a,i,v){if(!v[a?1:0]){return false;}return i||a;}},links:this._getLinkTemplate(),tiles:this._getTileTemplate(),add:function(e){t.oController.getView().parentComponent.getRouter().navTo('appFinder',{'menu':'catalog',filters:JSON.stringify({targetGroup:encodeURIComponent(e.getSource().getBindingContext().sPath)})});},afterRendering:jQuery.proxy(this._tileContainerAfterRenderingHandler,t)});return T;},_getLinkTemplate:function(){var f=new sap.ui.model.Filter('isTileIntentSupported',sap.ui.model.FilterOperator.EQ,true);return{path:'links',templateShareable:true,template:new sap.ushell.ui.launchpad.LinkTileWrapper({uuid:'{uuid}',tileCatalogId:'{tileCatalogId}',target:'{target}',isLocked:'{isLocked}',tileActionModeActive:'{/tileActionModeActive}',animationRendered:false,debugInfo:'{debugInfo}',ieHtml5DnD:this.oController.getView().ieHtml5DnD,tileViews:{path:'content',factory:function(i,c){return c.getObject();}},afterRendering:function(e){var j=jQuery(this.getDomRef().getElementsByTagName('a'));j.attr('tabindex',-1);}}),filters:[f]};},_getTileTemplate:function(){var f=new sap.ui.model.Filter('isTileIntentSupported',sap.ui.model.FilterOperator.EQ,true);return{path:'tiles',templateShareable:true,template:new sap.ushell.ui.launchpad.Tile({'long':'{long}',uuid:'{uuid}',tileCatalogId:'{tileCatalogId}',target:'{target}',isLocked:'{isLocked}',tileActionModeActive:'{/tileActionModeActive}',showActionsIcon:'{showActionsIcon}',rgba:'{rgba}',animationRendered:false,debugInfo:'{debugInfo}',ieHtml5DnD:this.oController.getView().ieHtml5DnD,afterRendering:function(e){var c=e.getSource().getBindingContext(),t;if(c){t=c.getObject();sap.ui.getCore().getEventBus().publish('launchpad','tileRendered',{tileId:t.originalTileId,tileDomElementId:e.getSource().getId()});}},tileViews:{path:'content',factory:function(i,c){return c.getObject();}},coverDivPress:function(e){if(!e.oSource.getBindingContext().getObject().tileIsBeingMoved){sap.ushell.components.flp.ActionMode._openActionsMenu(e);}},showActions:function(e){sap.ushell.components.flp.ActionMode._openActionsMenu(e);},deletePress:function(e){var t=e.getSource(),T=t.getBindingContext().getObject().object,d={originalTileId:sap.ushell.Container.getService('LaunchPage').getTileId(T)};sap.ui.getCore().getEventBus().publish('launchpad','deleteTile',d,this);},press:[this.oController.dashboardTilePress,this.oController]}),filters:[f]};},_tileContainerAfterRenderingHandler:function(e){e.oSource.bindProperty('showBackground','/tileActionModeActive');e.oSource.bindProperty('showDragIndicator',{parts:['/tileActionModeActive','/enableDragIndicator'],formatter:function(I,d){return I&&d&&!this.getIsGroupLocked()&&!this.getDefaultGroup();}});e.oSource.bindProperty('showMobileActions',{parts:['/tileActionModeActive'],formatter:function(I){return I&&!this.getDefaultGroup();}});e.oSource.bindProperty('showIcon',{parts:['/isInDrag','/tileActionModeActive'],formatter:function(I,b){return(this.getIsGroupLocked()&&(I||b));}});e.oSource.bindProperty('deluminate',{parts:['/isInDrag'],formatter:function(I){return this.getIsGroupLocked()&&I;}});if(this.bTileContainersContentAdded&&!e.oSource.getBeforeContent().length){var g=e.oSource.getModel().getProperty('/groups'),i;for(i=0;i<g.length;i++){if(g[i].groupId===e.oSource.getGroupId()){break;}}this._addTileContainerContent(i);}},_addTileContainersContent:function(){if(!this.bTileContainersContentAdded){var g=this.oGroupsContainer.getGroups();g.forEach(function(a,b){this._addTileContainerContent(b);}.bind(this));this.bTileContainersContentAdded=true;}},_addTileContainerContent:function(g){var G=this.oGroupsContainer.getGroups()[g],b;if(G){b=G.getBindingContext().getPath()+'/';G.addBeforeContent(this._getBeforeContent(this.oController,b));G.addAfterContent(this._getAfterContent(this.oController,b));G.addHeaderAction(this._getHeaderAction(this.oController,b));}},_getBeforeContent:function(c){var a=new sap.m.Button({icon:'sap-icon://add',text:sap.ushell.resources.i18n.getText('add_group_at'),visible:{parts:['/tileActionModeActive'],formatter:function(t){return(!this.getParent().getIsGroupLocked()&&!this.getParent().getDefaultGroup()&&t);}},enabled:{parts:['/editTitle'],formatter:function(i){return!i;}},type:sap.m.ButtonType.Transparent,press:[this.oController._addGroupHandler]}).addStyleClass('sapUshellAddGroupButton');a.addDelegate({onAfterRendering:function(){jQuery('.sapUshellAddGroupButton').attr('tabindex',-1);}});return a;},_getAfterContent:function(c){var a=new sap.m.Button({icon:'sap-icon://add',text:sap.ushell.resources.i18n.getText('add_group_at'),visible:{parts:['isLastGroup','/tileActionModeActive','/isInDrag'],formatter:function(i,t,b){return(i&&t);}},enabled:{parts:['/editTitle'],formatter:function(i){return!i;}},type:sap.m.ButtonType.Transparent,press:[this.oController._addGroupHandler]}).addStyleClass('sapUshellAddGroupButton');a.addDelegate({onAfterRendering:function(){jQuery('.sapUshellAddGroupButton').attr('tabindex',-1);}});return a;},_getHeaderActions:function(){var s=new sap.m.Button({text:{path:'isGroupVisible',formatter:function(i){if(sap.ui.Device.system.phone){this.setIcon('sap-icon://edit');}return sap.ushell.resources.i18n.getText(i?'HideGroupBtn':'ShowGroupBtn');}},type:sap.m.ButtonType.Transparent,visible:{parts:['/tileActionModeActive','/enableHideGroups','isGroupLocked','isDefaultGroup'],formatter:function(i,I,b,a){return i&&I&&!b&&!a;}},press:function(e){var S=e.getSource(),g=S.getBindingContext();this.oController._changeGroupVisibility(g);}.bind(this)}).addStyleClass('sapUshellHeaderActionButton');var d=new sap.m.Button({text:{path:'removable',formatter:function(i){if(sap.ui.Device.system.phone){if(i){this.setIcon('sap-icon://delete');}else{this.setIcon('sap-icon://refresh');}}return sap.ushell.resources.i18n.getText(i?'DeleteGroupBtn':'ResetGroupBtn');}},type:sap.m.ButtonType.Transparent,visible:{parts:['/tileActionModeActive','isDefaultGroup'],formatter:function(i,I){return i&&!I;}},enabled:{parts:['/editTitle'],formatter:function(i){return!i;}},press:function(e){var S=e.getSource(),g=S.getBindingContext();this.oController._handleGroupDeletion(g);}.bind(this)}).addStyleClass('sapUshellHeaderActionButton');return[s,d];},_getHeaderAction:function(c,b){jQuery.sap.require('sap.ushell.ui.launchpad.GroupHeaderActions');return new sap.ushell.ui.launchpad.GroupHeaderActions({content:this._getHeaderActions(),tileActionModeActive:{parts:['/tileActionModeActive',b+'isDefaultGroup'],formatter:function(i,I){return i&&!I;}},isOverflow:'{/isPhoneWidth}'}).addStyleClass('sapUshellOverlayGroupActionPanel');},_hidePlusTile:function(p){if(p){p.className+=' sapUshellHidePlusTile';}},_showPlusTile:function(p){if(p){p.className=p.className.split(' '+'sapUshellHidePlusTile').join('');}}});}());\n",
	"sap/ushell/components/flp/launchpad/dashboard/DashboardUIActions.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions');sap.ui.base.Object.extend('sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions',{metadata:{publicMethods:['initializeUIActions']},constructor:function(i,s){if(sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions&&sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions()){return sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions();}sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions=jQuery.sap.getter(this.getInterface());this.oTileUIActions=undefined;this.oGroupUIActions=undefined;this.oController=undefined;this.UIActionsInitialized=false;sap.ui.getCore().getEventBus().subscribe('launchpad','actionModeActive',this._enableGroupUIActions,this);sap.ui.getCore().getEventBus().subscribe('launchpad','actionModeInactive',this._disableGroupUIActions,this);},destroy:function(){sap.ui.getCore().getEventBus().unsubscribe('launchpad','actionModeActive',this._enableGroupUIActions,this);sap.ui.getCore().getEventBus().unsubscribe('launchpad','actionModeInactive',this._disableGroupUIActions,this);sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions=undefined;this.oGroupUIActions=null;this.oTileUIActions=null;},initializeUIActions:function(c){this.oController=c;var d=c.getView().sDashboardGroupsWrapperId,a,r=sap.ui.getCore().getConfiguration().getRTL(),C={containerSelector:'#dashboardGroups',wrapperSelector:d?'#'+d:undefined,rootSelector:'#dashboardGroups'},o=jQuery.extend(true,{},C,{switchModeDelay:1000,isTouch:c.getView().isTouch,isCombi:c.getView().isCombi,debug:false}),t={draggableSelector:'.sapUshellTile',draggableSelectorExclude:'.sapUshellPlusTile',placeHolderClass:'sapUshellTile-placeholder',cloneClass:'sapUshellTile-clone',deltaTop:-44,scrollContainerSelector:undefined,startCallback:this._handleTileUIStart.bind(this),endCallback:this._handleTileDrop.bind(this),dragCallback:this._handleStartDragTile.bind(this),dragAndScrollCallback:this._handleTileDragMove.bind(this),moveTolerance:c.getView().isTouch||c.getView().isCombi?10:3,isLayoutEngine:true,disabledDraggableSelector:'sapUshellLockedTile',onDragStartUIHandler:this._markDisableGroups.bind(this),onDragEndUIHandler:this._unmarkDisableGroups.bind(this),offsetLeft:r?jQuery('.sapUshellViewPortLeft').width():-jQuery('.sapUshellViewPortLeft').width()},g={draggableSelector:'.sapUshellDashboardGroupsContainerItem:not(.sapUshellDisableDragAndDrop)',draggableSelectorBlocker:'.sapUshellTilesContainer-sortable, .sapUshellTileContainerBeforeContent, .sapUshellTileContainerAfterContent',draggableSelectorExclude:'.sapUshellHeaderActionButton',placeHolderClass:'sapUshellDashboardGroupsContainerItem-placeholder',cloneClass:'sapUshellDashboardGroupsContainerItem-clone',startCallback:this._handleGroupsUIStart.bind(this),endCallback:this._handleGroupDrop.bind(this),dragCallback:this._handleGroupStartDrag.bind(this),moveTolerance:c.getView().isTouch||c.getView().isCombi?10:0.1,isLayoutEngine:false,isVerticalDragOnly:true,draggableElement:'.sapUshellTileContainerHeader'},w={draggableSelector:'.sapUshellTile',placeHolderClass:'sapUshellTile-placeholder',startCallback:this._handleTileUIStart.bind(this),endCallback:this._handleTileDrop.bind(this),dragCallback:this._handleStartDragTile.bind(this),dragAndScrollCallback:this._handleTileDragMove.bind(this),onDragStartUIHandler:this._markDisableGroups.bind(this),onDragEndUIHandler:this._unmarkDisableGroups.bind(this),offsetLeft:r?jQuery('.sapUshellViewPortLeft').width():-jQuery('.sapUshellViewPortLeft').width()},W={forGroups:true,draggableSelector:'.sapUshellTileContainerHeader',placeHolderClass:'sapUshellDashboardGroupsContainerItem-placeholder',_publishAsync:c._publishAsync};if(c.getView().oDashboardGroupsBox.getGroups().length){if(c.getView().getModel().getProperty('/personalization')){if(!c.getView().ieHtml5DnD){jQuery.sap.require('sap.ushell.UIActions');this._disableTileUIActions();this._disableGroupUIActions();this.oTileUIActions=new sap.ushell.UIActions(jQuery.extend(true,{},o,t)).enable();this.oGroupUIActions=new sap.ushell.UIActions(jQuery.extend(true,{},o,g));a=c.getView().getModel().getProperty('/tileActionModeActive');if(a){this.oGroupUIActions.enable();}}else{jQuery.sap.require('sap.ushell.UIActionsWin8');this._disableTileUIActions();this._disableGroupUIActions();this.oTileUIActions=sap.ushell.UIActionsWin8.getInstance(jQuery.extend(true,{},C,w)).enable();this.oGroupUIActions=sap.ushell.UIActionsWin8.getInstance(jQuery.extend(true,{},C,W)).enable();}}}},_enableGroupUIActions:function(){if(this.oGroupUIActions){this.oGroupUIActions.enable();}},_disableTileUIActions:function(){if(this.oTileUIActions){this.oTileUIActions.disable();}},_disableGroupUIActions:function(){if(this.oGroupUIActions){this.oGroupUIActions.disable();}},_handleTileDragMove:function(c){if(!c.isScrolling){sap.ushell.Layout.getLayoutEngine().moveDraggable(c.moveX,c.moveY);}},_handleTileUIStart:function(e,u){if((sap.ui.Device.browser.msie)&&((navigator.msMaxTouchPoints>0)||(navigator.maxTouchPoints>0))){this.titleElement=u.querySelector('[title]');this.titleElement.setAttribute('data-title',this.titleElement.getAttribute('title'));this.titleElement.removeAttribute('title');}},_changeTileDragAndDropAnimate:function(e,u){var d=this.dragNDropData.jqDashboard.scrollTop(),j,t,c,a,b,T,i,C;for(i=0;i<this.dragNDropData.jqDraggableElements.length;i++){j=this.dragNDropData.jqDraggableElements.eq(i);t=j[0];c=j.position();a=j.offset();if((a.left===t.offset.left)&&(a.top===t.offset.top)){continue;}t.position=c;t.offset=a;C=j.data('clone');if(!C){continue;}b=t.position.left+this.dragNDropData.containerLeftMargin;T=this._getTileTopOffset(j,t.position,d);C.stop(true,false).animate({left:b,top:T},{duration:250},{easing:'swing'});}},_handleStartDragTile:function(a,t){if(window.getSelection){var s=window.getSelection();try{s.removeAllRanges();}catch(e){}}sap.ushell.Layout.getLayoutEngine().layoutStartCallback(t);jQuery(t).find('a').removeAttr('href');this.placeHolderElement=jQuery('.sapUshellTile-placeholder');sap.ui.getCore().getEventBus().publish('launchpad','sortableStart');},_handleTileDrop:function(e,t){jQuery('#dashboardGroups .sapUshellHidePlusTile').removeClass('sapUshellHidePlusTile');if((sap.ui.Device.browser.msie)&&((navigator.msMaxTouchPoints>0)||(navigator.maxTouchPoints>0))){this.titleElement.setAttribute('title',this.titleElement.getAttribute('data-title'));}this.oController._handleDrop.call(this.oController,e,t);},_getTileTopOffset:function(t,p,d){var i=0,T=i+d;T+=t.closest('.sapUshellDashboardGroupsContainerItem').position().top;T+=p.top;return T;},_markDisableGroups:function(){if(this.oController.getView().getModel()){this.oController.getView().getModel().setProperty('/isInDrag',true);}},_unmarkDisableGroups:function(){if(this.oController.getView().getModel()){this.oController.getView().getModel().setProperty('/isInDrag',false);}},_handleGroupStartDrag:function(e,u){this.oTileUIActions.disable();var g=jQuery('.sapUshellDashboardGroupsContainerItem-clone'),a=g.find('.sapUshellContainerTitle'),t=a.height(),b=a.width(),c,d,f,s,r=sap.ui.getCore().getConfiguration().getRTL();if(!sap.ui.Device.system.phone){g.find('.sapUshellTileContainerEditMode').offset({top:this.oGroupUIActions.getMove().y-t,left:r?jQuery('.sapUshellViewPortCenter').width()+this.oGroupUIActions.getMove().x+b:this.oGroupUIActions.getMove().x-(b/2)});jQuery('.sapUshellTileContainerBeforeContent').addClass('sapUshellTileContainerHidden');}else{jQuery('.sapUshellTilesContainer-sortable').addClass('sapUshellTileContainerRemoveContent');jQuery('.sapUshellLinksContainer').addClass('sapUshellTileContainerRemoveContent');jQuery('.sapUshellTileContainerBeforeContent').addClass('sapUshellTileContainerRemoveContent');jQuery('.sapUshellContainerHeaderActions').addClass('sapUshellTileContainerHidden');}jQuery('.sapUshellTileContainerAfterContent').addClass('sapUshellTileContainerRemoveContent');jQuery(u).find('.sapUshellContainerHeaderActions').addClass('sapUshellTileContainerHidden');this.oController.getView().getModel().setProperty('/isInDrag',true);jQuery(u).attr('startPos',jQuery(u).index());jQuery.sap.log.info('startPos - '+jQuery(u).index());setTimeout(function(){sap.ui.getCore().getEventBus().publish('launchpad','sortableStart');},0);c=jQuery('#dashboardGroups').offset().top;d=jQuery('.sapUshellDashboardGroupsContainerItem-placeholder').offset().top;f=jQuery('.sapUshellDashboardGroupsContainerItem-clone').offset().top;s=d-c-f;jQuery('.sapUshellDashboardView section').animate({scrollTop:s},0);},_handleGroupsUIStart:function(e,u){jQuery(u).find('.sapUshellTileContainerContent').css('outline-color','transparent');},_handleGroupDrop:function(e,u){var b=sap.ui.getCore().getEventBus(),q=jQuery(u),f=jQuery(q.children()[0]).attr('id'),g=sap.ui.getCore().byId(f),d=sap.ui.getCore().byId('dashboardGroups'),D={group:g,groupChanged:false,focus:false},n=q.index();q.startPos=window.parseInt(q.attr('startPos'),10);d.removeAggregation('groups',g,true);d.insertAggregation('groups',g,n,true);this._handleGroupMoved(e,{item:q});q.removeAttr('startPos');sap.ui.getCore().getEventBus().publish('launchpad','sortableStop');setTimeout(function(){jQuery('.sapUshellContainerHeaderActions').removeClass('sapUshellTileContainerHidden');jQuery('.sapUshellTileContainerBeforeContent').removeClass('sapUshellTileContainerHidden');jQuery('.sapUshellTileContainerBeforeContent').removeClass('sapUshellTileContainerRemoveContent');jQuery('.sapUshellTileContainerAfterContent').removeClass('sapUshellTileContainerRemoveContent');jQuery('.sapUshellTilesContainer-sortable').removeClass('sapUshellTileContainerRemoveContent');jQuery('.sapUshellLinksContainer').removeClass('sapUshellTileContainerRemoveContent');},0);window.setTimeout(jQuery.proxy(b.publish,b,'launchpad','scrollToGroup',D),1);this.oTileUIActions.enable();},_handleGroupMoved:function(e,u){var f=u.item.startPos,t=u.item.index(),m=this.oController.getView().getModel();if(t!==-1){this.oController._publishAsync('launchpad','moveGroup',{fromIndex:f,toIndex:t});setTimeout(function(){m.setProperty('/isInDrag',false);},100);}},_setController:function(c){this.oController=c;}});}());\n",
	"sap/ushell/components/flp/launchpad/group_list/GroupList.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.controller('sap.ushell.components.flp.launchpad.group_list.GroupList',{onInit:function(){this.sViewId='#'+this.getView().getId();this.sGroupListId='#'+this.getView().oGroupList.getId();this.handleScroll=this._fHandleScroll.bind(this);},onAfterRendering:function(){this.jqView=jQuery(this.sViewId);this.jgGroupList=jQuery(this.sGroupListId);var e=sap.ui.getCore().getEventBus();e.unsubscribe('grouplist','ScrollAnimationEnd',this._handleScrollAnimationEnd,this);e.subscribe('grouplist','ScrollAnimationEnd',this._handleScrollAnimationEnd,this);e.unsubscribe('grouplist','DashboardRerender',this._addScroll,this);e.subscribe('grouplist','DashboardRerender',this._addScroll,this);e.unsubscribe('launchpad','dashboardScroll',this.handleScroll,this);e.subscribe('launchpad','dashboardScroll',this.handleScroll,this);this._addScroll();},_addScroll:function(){var t=this;setTimeout(function(){this.dashboardElement=document.querySelector('.sapUshellDashboardView section');if(this.dashboardElement){this.dashboardElement.removeEventListener('scroll',t.handleScroll);this.dashboardElement.addEventListener('scroll',t.handleScroll);}}.bind(this),0);},_fHandleScroll:function(){var m=this.getView().getModel(),t=m.getProperty('/topGroupInViewPortIndex');if(!m.getProperty('/scrollingToGroup')){if(!m.getProperty('/groupList-skipScrollToGroup')){var g=jQuery('#groupList li.sapUshellGroupLI');var s=g.removeClass('sapUshellSelected').eq(t);s.addClass('sapUshellSelected');var a=document.getElementById('groupListPage-cont');var b=a.scrollTop;var c=b+a.offsetHeight;var d=s[0]?s[0].offsetTop:undefined;if(d<b){jQuery('#groupListPage section').animate({scrollTop:g[t].offsetTop},0);}else if(d+s[0].offsetHeight>c){jQuery('#groupListPage section').animate({scrollTop:b+g[t].offsetHeight},0);}}sap.ushell.utils.handleTilesVisibility();}},_handleGroupListItemPress:function(e){var s=e.getSource(),f;f=e.getParameter('action')==='sapenter';this._handleScrollToGroup(s,false,f);},_handleScrollToGroup:function(g,a,f){if(!g){return;}var t=this;document.querySelector('.sapUshellDashboardView').removeEventListener('scroll',t.handleScroll);this._publishAsync('launchpad','scrollToGroup',{group:g,groupChanged:a,focus:f});},_handleScrollAnimationEnd:function(){var t=this;document.querySelector('.sapUshellDashboardView').addEventListener('scroll',t.handleScroll);this.getView().getModel().setProperty('/scrollingToGroup',false);},_publishAsync:function(c,e,d){var b=sap.ui.getCore().getEventBus();window.setTimeout($.proxy(b.publish,b,c,e,d),1);}});}());\n",
	"sap/ushell/components/flp/launchpad/group_list/GroupList.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.ui.launchpad.GroupListItem');jQuery.sap.require('sap.ui.core.IconPool');sap.ui.jsview('sap.ushell.components.flp.launchpad.group_list.GroupList',{createContent:function(c){this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this);this.oModel=this.parentComponent.getModel();var t=this,g=this._getGroupListItemTemplate(c);this.bAnimate=sap.ui.Device.system.desktop;this.isTouch=!sap.ui.Device.system.desktop;this.oGroupList=new sap.m.List('groupListItems',{items:{path:'/groups',template:g}}).addStyleClass('sapUshellGroupItemList');jQuery.extend(this.oGroupList,{onsapskipforward:function(e){e.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(e);},onsapskipback:function(e){e.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e);},onsaptabprevious:function(e){e.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e);}});this.oGroupList.onAfterRendering=function(){this.data('sap-ui-fastnavgroup','false',false);jQuery('#groupListFooter').attr('data-sap-ui-fastnavgroup','false');t.oController.handleScroll();};jQuery.sap.require('sap.ushell.override');this.oGroupList.updateItems=sap.ushell.override.updateAggregatesFactory('items');if(this.getViewData().enablePersonalization===undefined||this.getViewData().enablePersonalization!==false){this.oActionList=new sap.m.List({items:[]});var o=this.oActionList.onAfterRendering;this.oActionList.onAfterRendering=function(e){o.call(this,e);};var a=new sap.m.Bar({id:'groupListFooter',contentMiddle:[this.oActionList]});a.addStyleClass('sapUshellPersonalizationOn');this.groupListPage=new sap.m.Page({id:'groupListPage',showHeader:false,showFooter:true,content:[this.oGroupList]});this.groupListPage.addStyleClass('sapUshellPersonalizationOn');}else{this.groupListPage=new sap.m.Page({id:'groupListPage',showHeader:false,showFooter:false,content:[this.oGroupList]});}this.addStyleClass('sapUshellGroupList');return[this.groupListPage];},_getGroupListItemTemplate:function(c){var o=function(e){var x=this.getModel()&&this.getModel().getProperty('/enableHelp');if(this.getDefaultGroup()){this.addStyleClass('sapUshellDefaultGroupItem');if(x){this.addStyleClass('help-id-homeGroupListItem');}}else{this.addStyleClass('sapUshellGroupListItem');if(x){this.addStyleClass('help-id-groupListItem');}}jQuery(this.getDomRef()).attr('tabindex','0');};return new sap.ushell.ui.launchpad.GroupListItem({index:'{index}',title:'{title}',tooltip:'{title}',defaultGroup:'{isDefaultGroup}',groupId:'{groupId}',numberOfTiles:'{tiles/length}',afterRendering:o,isGroupVisible:'{isGroupVisible}',press:[function(e){this._handleGroupListItemPress(e);},c],visible:{parts:['/tileActionModeActive','isGroupVisible','visibilityModes'],formatter:function(t,i,v){if(!v[t?1:0]){return false;}return i||t;}}});},getControllerName:function(){return'sap.ushell.components.flp.launchpad.group_list.GroupList';}});}());\n",
	"sap/ushell/components/tiles/action/ActionTile.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.getCore().loadLibrary('sap.m');jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.ushell.components.tiles.utils');sap.ui.controller('sap.ushell.components.tiles.action.ActionTile',{onInit:function(){var v=this.getView();var V=v.getViewData();var r=sap.ushell.components.tiles.utils.getResourceBundleModel();var t=V.chip;var c=sap.ushell.components.tiles.utils.getActionConfiguration(t);var m;var a=this;function f(s,S){var b=r.getResourceBundle(),R=b.getText('configuration.semantic_object')+':\\n'+s+'\\n\\n'+b.getText('configuration.semantic_action')+':\\n'+S;return R;}v.setModel(r,'i18n');m=new sap.ui.model.json.JSONModel({config:c,displayText:f(c.semantic_object,c.semantic_action)});v.setModel(m);if(t.configurationUi.isEnabled()){t.configurationUi.setUiProvider(function(){var C=sap.ushell.components.tiles.utils.getConfigurationUi(a.getView(),'sap.ushell.components.tiles.action.Configuration');t.configurationUi.attachCancel(this.onCancelConfiguration.bind(null,C));t.configurationUi.attachSave(this.onSaveConfiguration.bind(this,C,f));return C;}.bind(this));v.byId('actionTile').setTooltip(r.getResourceBundle().getText('edit_configuration.tooltip'));}},onPress:function(e){var t=this.getView().getViewData().chip;if(t.configurationUi.isEnabled()){t.configurationUi.display();}},onSaveConfiguration:function(c,f){var d=jQuery.Deferred(),m=c.getModel(),t=m.getProperty('/tileModel'),T=c.getViewData().chip;function l(E){jQuery.sap.log.warning(E,null,'sap.ushell.components.tiles.action.ActionTile.controller');d.reject(E);}var r=sap.ushell.components.tiles.utils.checkTMInputOnSaveConfig(c);if(r){d.reject('mandatory_fields_missing');return d.promise();}if(sap.ushell.components.tiles.utils.tableHasDuplicateParameterNames(m.getProperty('/config/rows'))){var b=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();d.reject(b.getText('configuration.signature.uniqueParamMessage.text'));}else{var F=m.getProperty('/config/formFactorConfigDefault')?undefined:sap.ushell.components.tiles.utils.buildFormFactorsObject(m);var M=sap.ushell.components.tiles.utils.getMappingSignatureString(m.getProperty('/config/rows'),m.getProperty('/config/isUnknownAllowed'));var o=sap.ushell.components.tiles.utils.getMappingSignature(m.getProperty('/config/rows'),m.getProperty('/config/isUnknownAllowed'));var a={semantic_object:jQuery.trim(m.getProperty('/config/semantic_object'))||'',semantic_action:jQuery.trim(m.getProperty('/config/semantic_action'))||'',display_title_text:jQuery.trim(m.getProperty('/config/display_title_text'))||'',url:jQuery.trim(m.getProperty('/config/url'))||'',ui5_component:jQuery.trim(m.getProperty('/config/ui5_component'))||'',navigation_provider:jQuery.trim(m.getProperty('/config/navigation_provider')),navigation_provider_role:jQuery.trim(m.getProperty('/config/navigation_provider_role'))||'',navigation_provider_instance:jQuery.trim(m.getProperty('/config/navigation_provider_instance'))||'',target_application_id:jQuery.trim(m.getProperty('/config/target_application_id'))||'',target_application_alias:jQuery.trim(m.getProperty('/config/target_application_alias'))||'',transaction:{code:jQuery.trim(m.getProperty('/config/transaction/code'))},web_dynpro:{application:jQuery.trim(m.getProperty('/config/web_dynpro/application')),configuration:jQuery.trim(m.getProperty('/config/web_dynpro/configuration'))},target_system_alias:jQuery.trim(m.getProperty('/config/target_system_alias')),display_info_text:jQuery.trim(m.getProperty('/config/display_info_text')),form_factors:F,mapping_signature:M,signature:o};var e=T.bag.getBag('tileProperties');e.setText('display_title_text',a.display_title_text);T.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(a)},function(){var C=sap.ushell.components.tiles.utils.getActionConfiguration(T,false);var g=sap.ushell.components.tiles.utils.getActionConfiguration(T,true);m=new sap.ui.model.json.JSONModel({config:C,tileModel:t});c.setModel(m);t.setData({config:g,displayText:f(g.semantic_object,g.semantic_action)},false);e.save(function(){jQuery.sap.log.debug(\"property bag 'tileProperties' saved successfully\");d.resolve();},l);},l);}return d.promise();},onCancelConfiguration:function(c){var v=c.getViewData();var m=c.getModel();var t=m.getProperty('/tileModel');var T=v.chip;var C=sap.ushell.components.tiles.utils.getActionConfiguration(T,false);c.getModel().setData({config:C,tileModel:t},false);}});}());\n",
	"sap/ushell/components/tiles/action/ActionTile.view.xml":"<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!-- Copyright (c) 2009-2014 SAP SE, All Rights Reserved -->\r\n<View\r\n  controllerName=\"sap.ushell.components.tiles.action.ActionTile\"\r\n  height=\"100%\"\r\n  width=\"100%\"\r\n  xmlns=\"sap.ui.core\"\r\n  xmlns:ushell=\"sap.ushell.ui.tile\"\r\n>\r\n\r\n<ushell:TileBase\r\n    id=\"actionTile\"\r\n    title=\"{i18n>tile.display.action_chip}\"\r\n    subtitle=\"{/displayText}\"\r\n    icon=\"sap-icon://action\"\r\n    press=\"onPress\"\r\n  >\r\n</ushell:TileBase>\r\n\r\n</View>",
	"sap/ushell/components/tiles/action/Configuration.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.utils');sap.ui.controller('sap.ushell.components.tiles.action.Configuration',{sEnterValuePlaceHolder:'',sDuplicateErrorMsg:'',sDuplicateErrorTitle:'',sInvalidParmMsg:'',aDefaultObjects:[{obj:'',name:''},{obj:'*',name:'*'}],onConfigurationInputChange:function(c){sap.ushell.components.tiles.utils.checkTMInput(this.getView(),c);},onInit:function(){var v=this.getView();var s=v.byId('semantic_objectInput');var r=v.byId('navigation_provider_roleInput');var i=v.byId('navigation_provider_instanceInput');var a=v.byId('target_application_aliasInput');var A=v.byId('semantic_actionInput');var t=v.byId('targetTypeInput');var R=sap.ushell.components.tiles.utils.getResourceBundleModel();v.setModel(R,'i18n');v.setViewName('sap.ushell.components.tiles.action.Configuration');sap.ushell.components.tiles.utils.createSemanticObjectModel(this,s,this.aDefaultObjects);sap.ushell.components.tiles.utils.createRoleModel(this,r,i);sap.ushell.components.tiles.utils.createAliasModel(this,a);sap.ushell.components.tiles.utils.createActionModel(this,A);sap.ushell.components.tiles.utils.createNavigationProviderModel(this,t);s.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty('/config/semantic_object',V);});r.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty('/config/navigation_provider_role',V);sap.ushell.components.tiles.utils.updateAliasModel(v,a);});i.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty('/config/navigation_provider_instance',V);});a.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty('/config/target_application_alias',V);});var b=R.getResourceBundle();this.sEnterValuePlaceHolder=b.getText('configuration.signature.table.valueFieldLbl');this.sDuplicateErrorMsg=b.getText('configuration.signature.uniqueParamMessage.text');this.sDuplicateErrorTitle=b.getText('configuration.signature.uniqueParamMessage.title');this.sInvalidParmMsg=b.getText('configuration.signature.invalidParamMessage.text');},handleMandatoryChange:function(m){var i=m.getParameter('id');var p=sap.ui.getCore().byId(i).getParent().getCells();var I=m.getParameter('checked');if(I){p[2].setEnabled(true);p[2].setPlaceholder(this.sEnterValuePlaceHolder);p[4].setEnabled(false);p[4].setValue('');p[4].setPlaceholder('');p[3].setEnabled(true);}else{p[2].setEnabled(false);p[2].setValue('');p[2].setPlaceholder('');p[4].setEnabled(true);p[4].setPlaceholder(this.sEnterValuePlaceHolder);p[3].setEnabled(false);p[3].setChecked(false);}},addRow:function(){var v=this.getView();var m=v.getModel();var r=m.getProperty('/config/rows');var n=sap.ushell.components.tiles.utils.getEmptyRowObj();r.push(n);m.setProperty('/config/rows',r);},deleteRow:function(){var v=this.getView();var m=v.getModel();var r=m.getProperty('/config/rows');var t=v.byId('mappingSignatureTable');var s=t.getSelectedIndices();var S=s.sort(function(a,b){return b-a;}).slice();for(var i=0;i<S.length;i++){t.removeSelectionInterval(S[i],S[i]);r.splice(S[i],1);}m.setProperty('/config/rows',r);},checkDuplicateNames:function(c){var m=this.getView().getModel();var r=m.getProperty('/config/rows');var n=sap.ui.getCore().byId(c.getParameter('id'));var N=c.getParameter('newValue');if(N!=''&&!(/^[\\w-]+$/.test(N))){n.setValueState(sap.ui.core.ValueState.Error);sap.m.MessageBox.alert(this.sInvalidParmMsg,this.focusNameField.bind(n),this.sDuplicateErrorTitle);}if(sap.ushell.components.tiles.utils.tableHasDuplicateParameterNames(r)){n.setValueState(sap.ui.core.ValueState.Error);sap.m.MessageBox.alert(this.sDuplicateErrorMsg,this.focusNameField.bind(n),this.sDuplicateErrorTitle);}else{n.setValueState(sap.ui.core.ValueState.None);}},focusNameField:function(){this.focus();},onValueHelpRequest:function(e){sap.ushell.components.tiles.utils.objectSelectOnValueHelpRequest(this,e,false);},onActionValueHelpRequest:function(e){sap.ushell.components.tiles.utils.actionSelectOnValueHelpRequest(this,e);},onRoleValueHelpRequest:function(e){sap.ushell.components.tiles.utils.roleSelectOnValueHelpRequest(this,e);},onInstanceValueHelpRequest:function(e){sap.ushell.components.tiles.utils.instanceSelectOnValueHelpRequest(this,e);},instanceSuggest:function(e){sap.ushell.components.tiles.utils.instanceSuggest(this,e);},aliasSuggest:function(e){sap.ushell.components.tiles.utils.aliasSuggest(this,e);},onAliasValueHelpRequest:function(e){sap.ushell.components.tiles.utils.applicationAliasSelectOnValueHelpRequest(this,e);},onFormFactorChange:function(){var m=this.getView().getModel();m.setProperty('/config/formFactorConfigDefault',false);},onApplicationTypeChange:function(e){var p=e.getParameters();if(p.selectedItem){sap.ushell.components.tiles.utils.displayApplicationTypeFields(p.selectedItem.getKey(),this.getView());}}});}());\n",
	"sap/ushell/components/tiles/action/Configuration.view.xml":"<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!-- Copyright (c) 2009-2014 SAP SE, All Rights Reserved -->\r\n<core:View controllerName=\"sap.ushell.components.tiles.action.Configuration\"\r\n\txmlns:core=\"sap.ui.core\" xmlns:form=\"sap.ui.layout.form\" xmlns:layout=\"sap.ui.layout\"\r\n\txmlns:commonLayout=\"sap.ui.commons.layout\" xmlns=\"sap.m\" xmlns:table=\"sap.ui.table\"\r\n\txmlns:common=\"sap.ui.commons\">\r\n\t<form:Form id=\"configuration\" maxContainerCols=\"2\" minWidth=\"1024\"\r\n\t\teditable=\"true\">\r\n\t\t<form:layout>\r\n\t\t\t<form:ResponsiveGridLayout></form:ResponsiveGridLayout>\r\n\t\t</form:layout>\r\n\t\t<form:FormContainer id=\"categoryChipConfiguration\"\r\n\t\t\ttitle=\"{i18n>configuration.category.action_chip_configuration}\">\r\n\r\n\t\t\t<form:FormElement label=\"{i18n>configuration.semantic_object}\">\r\n\t\t\t\t<Input id=\"semantic_objectInput\" width=\"100%\"\r\n\t\t\t\t\ttooltip=\"{i18n>configuration.semantic_object.tooltip}\" maxLength=\"30\"\r\n\t\t\t\t\tliveChange=\"onConfigurationInputChange\" valueHelpRequest=\"onValueHelpRequest\"\r\n\t\t\t\t\tshowValueHelp=\"true\" showSuggestion=\"true\" value=\"{/value}\"\r\n\t\t\t\t\tenabled=\"{/config/editable}\" />\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t\t<form:FormElement label=\"{i18n>configuration.semantic_action}\">\r\n\t\t\t\t<Input id=\"semantic_actionInput\" value=\"{/config/semantic_action}\"\r\n\t\t\t\t\tmaxLength=\"50\" liveChange=\"onConfigurationInputChange\" enabled=\"{/config/editable}\"\r\n\t\t\t\t\tvalueHelpRequest=\"onActionValueHelpRequest\" showValueHelp=\"true\"\r\n\t\t\t\t\tshowSuggestion=\"true\" width=\"100%\"\r\n\t\t\t\t\ttooltip=\"{i18n>configuration.semantic_action.tooltip}\" />\r\n\t\t\t</form:FormElement>\r\n\t\t</form:FormContainer>\r\n\r\n\t\t<form:FormContainer id=\"categoryTargetApplication\"\r\n\t\t\ttitle=\"{i18n>configuration.category.target_application}\">\r\n\r\n\t\t\t<form:FormElement id=\"targetType\"\r\n\t\t\t\tlabel=\"{i18n>configuration.target_applicationType}\">\r\n\t\t\t\t<ComboBox id=\"targetTypeInput\" selectedKey=\"{/config/navigation_provider}\"\r\n\t\t\t\t\tenabled=\"{/config/editable}\" selectionChange=\"onApplicationTypeChange\"></ComboBox>\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t\t<form:FormElement id=\"application_description\"\r\n\t\t\t\tlabel=\"{i18n>configuration.target_application.description}\">\r\n\t\t\t\t<Input id=\"target_application_descriptionInput\" value=\"{/config/display_title_text}\"\r\n\t\t\t\t\tliveChange=\"onConfigurationInputChange\" width=\"100%\" enabled=\"{/config/editable}\"\r\n\t\t\t\t\ttooltip=\"{i18n>configuration.target_application.description.tooltip}\" />\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t\t<form:FormElement id=\"application_url\"\r\n\t\t\t\tlabel=\"{i18n>configuration.target_application.url}\">\r\n\t\t\t\t<Input id=\"target_application_urlInput\" value=\"{/config/url}\"\r\n\t\t\t\t\tenabled=\"{/config/editable}\" maxLength=\"512\" liveChange=\"onConfigurationInputChange\"\r\n\t\t\t\t\twidth=\"100%\" tooltip=\"{i18n>configuration.target_application.url.tooltip}\" />\r\n\t\t\t</form:FormElement>\r\n\r\n\r\n\t\t\t<form:FormElement id=\"application_component\"\r\n\t\t\t\tlabel=\"{i18n>configuration.target_application.component}\">\r\n\t\t\t\t<Input id=\"target_application_componentInput\" value=\"{/config/ui5_component}\"\r\n\t\t\t\t\tenabled=\"{/config/editable}\" liveChange=\"onConfigurationInputChange\"\r\n\t\t\t\t\twidth=\"100%\" tooltip=\"{i18n>configuration.target_application.component.tooltip}\" />\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t\t<form:FormElement id=\"navigation_provider_role\"\r\n\t\t\t\tlabel=\"{i18n>configuration.navigation_provider_role}\">\r\n\t\t\t\t<Input id=\"navigation_provider_roleInput\" valueHelpRequest=\"onRoleValueHelpRequest\"\r\n\t\t\t\t\tshowValueHelp=\"true\" showTableSuggestionValueHelp=\"true\"\r\n\t\t\t\t\tenabled=\"{/config/editable}\" showSuggestion=\"true\" value=\"{/value}\"\r\n\t\t\t\t\twidth=\"100%\" maxLength=\"10\" class=\"sapUshellTargetMappingToUpperCase\"\r\n\t\t\t\t\ttooltip=\"{i18n>configuration.navigation_provider_role.tooltip}\"\r\n\t\t\t\t\tliveChange=\"onConfigurationInputChange\">\r\n\t\t\t\t\t<suggestionColumns>\r\n\t\t\t\t\t\t<Column hAlign=\"Begin\" popinDisplay=\"Inline\" demandPopin=\"true\">\r\n\t\t\t\t\t\t\t<Label text=\"{i18n>configuration.navigation_provider_role}\" />\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Begin\" popinDisplay=\"Inline\" demandPopin=\"true\">\r\n\t\t\t\t\t\t\t<Label text=\"{i18n>configuration.navigation_provider_instance}\" />\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t</suggestionColumns>\r\n\t\t\t\t</Input>\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t\t<form:FormElement id=\"navigation_provider_instance\"\r\n\t\t\t\tlabel=\"{i18n>configuration.navigation_provider_instance}\">\r\n\t\t\t\t<Input id=\"navigation_provider_instanceInput\" value=\"{/value}\"\r\n\t\t\t\t\twidth=\"100%\" maxLength=\"32\" valueHelpRequest=\"onInstanceValueHelpRequest\"\r\n\t\t\t\t\tenabled=\"{/config/editable}\" showValueHelp=\"true\" showSuggestion=\"true\"\r\n\t\t\t\t\tsuggest=\"instanceSuggest\" tooltip=\"{i18n>configuration.navigation_provider_instance.tooltip}\"\r\n\t\t\t\t\tliveChange=\"onConfigurationInputChange\" class=\"sapUshellTargetMappingToUpperCase\"/>\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t\t<form:FormElement id=\"target_application_alias\"\r\n\t\t\t\tlabel=\"{i18n>configuration.target_application_alias}\">\r\n\t\t\t\t<Input id=\"target_application_aliasInput\" value=\"{/value}\"\r\n\t\t\t\t\twidth=\"100%\" valueHelpRequest=\"onAliasValueHelpRequest\" enabled=\"{/config/editable}\"\r\n\t\t\t\t\tshowValueHelp=\"true\" showSuggestion=\"true\" suggest=\"aliasSuggest\"\r\n\t\t\t\t\ttooltip=\"{i18n>configuration.target_application_alias.tooltip}\"\r\n\t\t\t\t\tliveChange=\"onConfigurationInputChange\" />\r\n\t\t\t</form:FormElement>\r\n\t\t\t<form:FormElement id=\"target_application_id\"\r\n\t\t\t\tlabel=\"{i18n>configuration.target_application_id}\">\r\n\t\t\t\t<Input id=\"target_application_idInput\" value=\"{/config/target_application_id}\"\r\n\t\t\t\t\twidth=\"100%\" maxLength=\"32\" enabled=\"{/config/editable}\"\r\n\t\t\t\t\ttooltip=\"{i18n>configuration.target_application_id.tooltip}\"\r\n\t\t\t\t\tliveChange=\"onConfigurationInputChange\" />\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t\t<form:FormElement id=\"target_transaction\"\r\n\t\t\t\tlabel=\"{i18n>configuration.target_transaction}\">\r\n\t\t\t\t<Input id=\"target_transactionInput\" value=\"{/config/transaction/code}\"\r\n\t\t\t\t\twidth=\"100%\" maxLength=\"20\" enabled=\"{/config/editable}\"\r\n\t\t\t\t\ttooltip=\"{i18n>configuration.target_transaction.tooltip}\"\r\n\t\t\t\t\tliveChange=\"onConfigurationInputChange\" />\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t\t<form:FormElement id=\"target_web_dynpro_application\"\r\n\t\t\t\tlabel=\"{i18n>configuration.target_web_dynpro.application}\">\r\n\t\t\t\t<Input id=\"target_web_dynpro_applicationInput\" value=\"{/config/web_dynpro/application}\"\r\n\t\t\t\t\twidth=\"100%\" maxLength=\"30\" enabled=\"{/config/editable}\"\r\n\t\t\t\t\ttooltip=\"{i18n>configuration.target_web_dynpro_application.tooltip}\"\r\n\t\t\t\t\tliveChange=\"onConfigurationInputChange\" />\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t\t<form:FormElement id=\"target_web_dynpro_configuration\"\r\n\t\t\t\tlabel=\"{i18n>configuration.target_web_dynpro.configuration}\">\r\n\t\t\t\t<Input id=\"target_web_dynpro_configurationInput\" value=\"{/config/web_dynpro/configuration}\"\r\n\t\t\t\t\twidth=\"100%\" maxLength=\"32\" enabled=\"{/config/editable}\"\r\n\t\t\t\t\ttooltip=\"{i18n>configuration.target_web_dynpro_application.tooltip}\"\r\n\t\t\t\t\tliveChange=\"onConfigurationInputChange\" />\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t\t<form:FormElement id=\"target_system_alias\"\r\n\t\t\t\tlabel=\"{i18n>configuration.target_system_alias}\">\r\n\t\t\t\t<Input id=\"target_system_aliasInput\" value=\"{/config/target_system_alias}\"\r\n\t\t\t\t\twidth=\"100%\" maxLength=\"30\" enabled=\"{/config/editable}\"\r\n\t\t\t\t\ttooltip=\"{i18n>configuration.target_system_alias.tooltip}\"\r\n\t\t\t\t\tliveChange=\"onConfigurationInputChange\" />\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t</form:FormContainer>\r\n\r\n\t\t<form:FormContainer id=\"categoryGeneral\"\r\n\t\t\ttitle=\"{i18n>configuration.category.general}\">\r\n\r\n\t\t\t<form:layoutData>\r\n\t\t\t\t<layout:GridData span=\"L12 M12 S12\"></layout:GridData>\r\n\t\t\t</form:layoutData>\r\n\r\n\t\t\t<form:FormElement label=\"{i18n>configuration.display_info_text}\">\r\n\t\t\t\t<Input id=\"additionalInfo\" value=\"{/config/display_info_text}\"\r\n\t\t\t\t\tenabled=\"{/config/editable}\" width=\"100%\" liveChange=\"onConfigurationInputChange\" />\r\n\t\t\t</form:FormElement>\r\n\r\n\t\t\t<form:FormElement label=\"{i18n>configuration.form_factor}\"\r\n\t\t\t\ttooltip=\"{i18n>configuration.form_factor.tooltip}\">\r\n\t\t\t\t<CheckBox id=\"desktopCB\" text=\"{i18n>configuration.form_factor_desktop}\"\r\n\t\t\t\t\tselect=\"onFormFactorChange\" selected=\"{/config/desktopChecked}\"\r\n\t\t\t\t\tenabled=\"{/config/manualFormFactor}\" />\r\n\t\t\t\t<CheckBox id=\"tabletCB\" text=\"{i18n>configuration.form_factor_tablet}\"\r\n\t\t\t\t\tselect=\"onFormFactorChange\" selected=\"{/config/tabletChecked}\"\r\n\t\t\t\t\tenabled=\"{/config/manualFormFactor}\" />\r\n\t\t\t\t<CheckBox id=\"phoneCB\" text=\"{i18n>configuration.form_factor_phone}\"\r\n\t\t\t\t\tselect=\"onFormFactorChange\" selected=\"{/config/phoneChecked}\"\r\n\t\t\t\t\tenabled=\"{/config/manualFormFactor}\" />\r\n\t\t\t</form:FormElement>\r\n\r\n\r\n\t\t\t<form:FormElement label=\"{i18n>configuration.signature.table.title}\">\r\n\t\t\t\t<!-- tooltip=\"{i18n>configuration.mapping_signature.tooltip}\"> -->\r\n\r\n\t\t\t\t<VBox>\r\n\t\t\t\t\t<table:Table id=\"mappingSignatureTable\" rows=\"{/config/rows}\"\r\n\t\t\t\t\t\tselectionBehavior=\"Row\" selectionMode=\"Multi\" visibleRowCount=\"5\"\r\n\t\t\t\t\t\tenableColumnReordering=\"false\" rowHeight=\"30px\">\r\n\r\n\t\t\t\t\t\t<table:Column id=\"nameCol\" width=\"82px\">\r\n\t\t\t\t\t\t\t<Label text=\"{i18n>configuration.signature.table.name}\" />\r\n\t\t\t\t\t\t\t<table:template>\r\n\t\t\t\t\t\t\t\t<common:TextField value=\"{name}\" editable=\"{editable}\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"{i18n>configuration.signature.table.nameFieldLbl}\"\r\n\t\t\t\t\t\t\t\t\tchange=\"checkDuplicateNames\"></common:TextField>\r\n\t\t\t\t\t\t\t</table:template>\r\n\t\t\t\t\t\t</table:Column>\r\n\r\n\t\t\t\t\t\t<table:Column id=\"mandatoryCol\" width=\"92px\" hAlign=\"Center\">\r\n\t\t\t\t\t\t\t<Label text=\"{i18n>configuration.signature.table.mandatory}\" />\r\n\t\t\t\t\t\t\t<table:template>\r\n\t\t\t\t\t\t\t\t<common:CheckBox checked=\"{mandatory}\" editable=\"{editable}\"\r\n\t\t\t\t\t\t\t\t\tchange=\"handleMandatoryChange\"></common:CheckBox>\r\n\t\t\t\t\t\t\t</table:template>\r\n\t\t\t\t\t\t</table:Column>\r\n\r\n\t\t\t\t\t\t<table:Column id=\"valueCol\" width=\"85px\">\r\n\t\t\t\t\t\t\t<Label text=\"{i18n>configuration.signature.table.value}\" />\r\n\t\t\t\t\t\t\t<table:template>\r\n\t\t\t\t\t\t\t\t<common:TextField value=\"{value}\" editable=\"{editable}\"\r\n\t\t\t\t\t\t\t\t\tenabled=\"{valEnabled}\"></common:TextField>\r\n\t\t\t\t\t\t\t</table:template>\r\n\t\t\t\t\t\t</table:Column>\r\n\r\n\t\t\t\t\t\t<table:Column id=\"isRegExCol\" width=\"162px\" hAlign=\"Center\">\r\n\t\t\t\t\t\t\t<Label text=\"{i18n>configuration.signature.table.isRegEx}\" />\r\n\t\t\t\t\t\t\t<table:template>\r\n\t\t\t\t\t\t\t\t<common:CheckBox checked=\"{isRegularExpression}\"\r\n\t\t\t\t\t\t\t\t\teditable=\"{editable}\" enabled=\"{valEnabled}\"></common:CheckBox>\r\n\t\t\t\t\t\t\t</table:template>\r\n\t\t\t\t\t\t</table:Column>\r\n\r\n\t\t\t\t\t\t<table:Column id=\"defValueCol\" width=\"110px\">\r\n\t\t\t\t\t\t\t<Label text=\"{i18n>configuration.signature.table.defaultValue}\" />\r\n\t\t\t\t\t\t\t<table:template>\r\n\t\t\t\t\t\t\t\t<common:TextField value=\"{defaultValue}\"\r\n\t\t\t\t\t\t\t\t\teditable=\"{editable}\" enabled=\"{defValEnabled}\"></common:TextField>\r\n\t\t\t\t\t\t\t</table:template>\r\n\t\t\t\t\t\t</table:Column>\r\n\r\n\t\t\t\t\t\t<table:Column id=\"renameToCol\" width=\"82px\" visible=\"{= ${/config/navigation_provider} !== 'LPD' }\">\r\n\t\t\t\t\t\t\t<Label text=\"{i18n>configuration.signature.table.renameTo}\"\r\n\t\t\t\t\t\t\t\ttooltip=\"{i18n>configuration.signature.table.renameTo.tooltip}\" />\r\n\t\t\t\t\t\t\t<table:template>\r\n\t\t\t\t\t\t\t\t<common:TextField value=\"{rename_to}\" editable=\"{editable}\"></common:TextField>\r\n\t\t\t\t\t\t\t</table:template>\r\n\t\t\t\t\t\t</table:Column>\r\n\t\t\t\t\t</table:Table>\r\n\r\n\t\t\t\t\t<commonLayout:MatrixLayout>\r\n\t\t\t\t\t\t<commonLayout:MatrixLayoutRow>\r\n\t\t\t\t\t\t\t<commonLayout:MatrixLayoutCell>\r\n\t\t\t\t\t\t\t\t<common:CheckBox id=\"isUnknownAllowed\" class=\"\"\r\n\t\t\t\t\t\t\t\t\tenabled=\"{/config/editable}\" text=\"{i18n>configuration.signature.table.allowUndefined}\"\r\n\t\t\t\t\t\t\t\t\tchecked=\"{/config/isUnknownAllowed}\" width=\"400px\" />\r\n\t\t\t\t\t\t\t</commonLayout:MatrixLayoutCell>\r\n\t\t\t\t\t\t</commonLayout:MatrixLayoutRow>\r\n\t\t\t\t\t\t<commonLayout:MatrixLayoutRow>\r\n\t\t\t\t\t\t\t<commonLayout:MatrixLayoutCell\r\n\t\t\t\t\t\t\t\thAlign=\"Right\">\r\n\t\t\t\t\t\t\t\t<common:Button id=\"addRow\" enabled=\"{/config/editable}\"\r\n\t\t\t\t\t\t\t\t\ttext=\"{i18n>configuration.signature.table.add}\" press=\"addRow\"\r\n\t\t\t\t\t\t\t\t\twidth=\"100px\" />\r\n\t\t\t\t\t\t\t\t<common:Button id=\"deleteRow\" enabled=\"{/config/editable}\"\r\n\t\t\t\t\t\t\t\t\ttext=\"{i18n>configuration.signature.table.delete}\" press=\"deleteRow\"\r\n\t\t\t\t\t\t\t\t\twidth=\"100px\" />\r\n\t\t\t\t\t\t\t</commonLayout:MatrixLayoutCell>\r\n\t\t\t\t\t\t</commonLayout:MatrixLayoutRow>\r\n\t\t\t\t\t</commonLayout:MatrixLayout>\r\n\t\t\t\t</VBox>\r\n\t\t\t</form:FormElement>\r\n\t\t</form:FormContainer>\r\n\t</form:Form>\r\n</core:View>",
	"sap/ushell/components/tiles/applauncher/Configuration.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.utils');sap.ui.controller('sap.ushell.components.tiles.applauncher.Configuration',{onConfigurationInputChange:function(c){sap.ushell.components.tiles.utils.checkInput(this.getView(),c);},aDefaultObjects:[{obj:'',name:''}],onInit:function(){var v=this.getView(),t=v.byId('targetUrl'),s=v.byId('navigation_semantic_objectInput'),a=v.byId('navigation_semantic_actionInput'),r=sap.ushell.components.tiles.utils.getResourceBundleModel();v.setModel(r,'i18n');var b=r.getResourceBundle();v.setViewName('sap.ushell.components.tiles.applauncher.Configuration');sap.ushell.components.tiles.utils.createSemanticObjectModel(this,s,this.aDefaultObjects);sap.ushell.components.tiles.utils.createActionModel(this,a);s.attachChange(function(C){var V=C.getSource().getValue();v.getModel().setProperty('/config/navigation_semantic_object',V);});function c(u){return!u;}t.bindProperty('enabled',{formatter:c,path:'/config/navigation_use_semantic_object'});var i=new sap.ui.core.ListItem({key:'URL',text:b.getText('configuration.tile_actions.table.target_type.url')});v.byId('targetTypeCB').addItem(i);i=new sap.ui.core.ListItem({key:'INT',text:b.getText('configuration.tile_actions.table.target_type.intent')});v.byId('targetTypeCB').addItem(i);},onAfterRendering:function(){sap.ushell.components.tiles.utils.updateMessageStripForOriginalLanguage(this.getView());},onValueHelpRequest:function(e){sap.ushell.components.tiles.utils.objectSelectOnValueHelpRequest(this,e,false);},onActionValueHelpRequest:function(e){sap.ushell.components.tiles.utils.actionSelectOnValueHelpRequest(this,e,false);},onCheckBoxChange:function(e){var v=this.getView(),s=v.byId('navigation_semantic_objectInput'),m=s.getModel(),a=e.getSource().getSelected();m.setProperty('/enabled',a);sap.ushell.components.tiles.utils.checkInput(this.getView(),e);},onIconValueHelpRequest:function(e){sap.ushell.components.tiles.utils.iconSelectOnValueHelpRequest(this,e,false);},onSelectIconClose:function(){sap.ushell.components.tiles.utils.onSelectIconClose(this.getView());},onSelectIconOk:function(){sap.ushell.components.tiles.utils.onSelectIconOk(this.getView());},handleTargetTypeChange:function(t){sap.ushell.components.tiles.utils.onTargetTypeChange(t);},onTileActionValueHelp:function(e){sap.ushell.components.tiles.utils.objectSelectOnValueHelpRequest(this,e,true);},onTileActionIconValueHelp:function(e){sap.ushell.components.tiles.utils.iconSelectOnValueHelpRequest(this,e,true);},addRow:function(){sap.ushell.components.tiles.utils.addTileActionsRow(this.getView());},deleteRow:function(){sap.ushell.components.tiles.utils.deleteTileActionsRow(this.getView());}});}());\n",
	"sap/ushell/components/tiles/applauncher/Configuration.view.xml":"<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!-- Copyright (c) 2009-2014 SAP SE, All Rights Reserved -->\r\n<core:View controllerName=\"sap.ushell.components.tiles.applauncher.Configuration\"\r\n    xmlns=\"sap.m\" \r\n    xmlns:core=\"sap.ui.core\"\r\n    xmlns:form=\"sap.ui.layout.form\"\r\n     xmlns:layout=\"sap.ui.layout\"\r\n     xmlns:table=\"sap.ui.table\"\r\n     xmlns:clayout=\"sap.ui.commons.layout\"\r\n     xmlns:common=\"sap.ui.commons\">\r\n<MessageStrip id=\"messageStrip\" showIcon=\"true\" showCloseButton=\"false\" visible=\"false\"/>\r\n<form:SimpleForm id=\"configuration\" maxContainerCols=\"2\"\r\n    minWidth=\"1024\" editable=\"true\">\r\n    <form:content>\r\n        <core:Title id=\"categoryCommon\" text=\"{i18n>configuration.category.general}\"></core:Title>\r\n        <Label text=\"{i18n>configuration.display_title_text}\"></Label>\r\n        <Input id=\"titleInput\" value=\"{/config/display_title_text}\" enabled=\"{/config/editable}\"\r\n            width=\"100%\" tooltip=\"{i18n>configuration.display_title_text.tooltip}\"\r\n            editable=\"{/config/isLocaleSuitable}\" />\r\n        <Label text=\"{i18n>configuration.display_subtitle_text}\"></Label>\r\n        <Input id=\"subtitleInput\" value=\"{/config/display_subtitle_text}\" enabled=\"{/config/editable}\"\r\n            width=\"100%\" tooltip=\"{i18n>configuration.display_subtitle_text.tooltip}\"\r\n            editable=\"{/config/isLocaleSuitable}\"/>\r\n        <Label text=\"{i18n>configuration.keywords}\"></Label>\r\n        <Input id=\"keywordsInput\" value=\"{/config/display_search_keywords}\" enabled=\"{/config/editable}\"\r\n            width=\"100%\" tooltip=\"{i18n>configuration.keywords.tooltip}\"\r\n            editable=\"{/config/isLocaleSuitable}\" />\r\n        <Label text=\"{i18n>configuration.display_icon_url}\"></Label>\r\n        <Input id=\"iconInput\" value=\"{/config/display_icon_url}\" enabled=\"{/config/editable}\"\r\n            placeholder=\"sap-icon://inbox\" tooltip=\"{i18n>configuration.display_icon_url.tooltip}\"\r\n            liveChange=\"onConfigurationInputChange\" valueHelpRequest=\"onIconValueHelpRequest\" showValueHelp=\"true\" />\r\n        <Label text=\"{i18n>configuration.display_info_text}\"></Label>\r\n        <Input id=\"infoInput\" value=\"{/config/display_info_text}\" enabled=\"{/config/editable}\"\r\n            width=\"100%\" tooltip=\"{i18n>configuration.display_info_text.tooltip}\"\r\n            editable=\"{/config/isLocaleSuitable}\" />\r\n        <core:Title id=\"categoryNavigation\" text=\"{i18n>configuration.category.navigation}\"></core:Title>\r\n        <Label text=\"{i18n>configuration.navigation_use_semantic_object}\"></Label>\r\n        <CheckBox id=\"useLpdCheckbox\" selected=\"{/config/navigation_use_semantic_object}\"\r\n            tooltip=\"{i18n>configuration.navigation_use_semantic_object.tooltip}\"\r\n            select=\"onCheckBoxChange\" enabled=\"{/config/editable}\" />\r\n        <Label text=\"{i18n>configuration.semantic_object}\"></Label>\r\n        <Input id=\"navigation_semantic_objectInput\" width=\"100%\" \r\n            tooltip=\"{i18n>configuration.semantic_object.tooltip}\" maxLength=\"30\"\r\n            liveChange=\"onConfigurationInputChange\" valueHelpRequest=\"onValueHelpRequest\"\r\n            showValueHelp=\"true\" showSuggestion=\"true\" enabled=\"{= ${/enabled} &amp;&amp; ${/config/editable}}\"\r\n            value=\"{/value}\" />\r\n        <Label text=\"{i18n>configuration.navigation_semantic_action}\"></Label>\r\n        <Input id=\"navigation_semantic_actionInput\" value=\"{/config/navigation_semantic_action}\"\r\n            width=\"100%\" enabled=\"{= ${/config/navigation_use_semantic_object} &amp;&amp; ${/config/editable}}\" maxLength=\"50\"\r\n            valueHelpRequest=\"onActionValueHelpRequest\" showValueHelp=\"true\" showSuggestion=\"true\"\r\n            tooltip=\"{i18n>configuration.navigation_semantic_action.tooltip}\"\r\n            liveChange=\"onConfigurationInputChange\" />\r\n        <Label text=\"{i18n>configuration.navigation_semantic_parameters}\"></Label>\r\n        <Input id=\"navigation_semantic_parametersInput\" value=\"{/config/navigation_semantic_parameters}\"\r\n            width=\"100%\" enabled=\"{= ${/config/navigation_use_semantic_object} &amp;&amp; ${/config/editable}}\"\r\n            tooltip=\"{i18n>configuration.navigation_semantic_parameters.tooltip}\"/>\r\n        <Label text=\"{i18n>configuration.navigation_target_url}\"></Label>\r\n        <Input id=\"targetUrl\" value=\"{/config/navigation_target_url}\"\r\n            type=\"Url\" width=\"100%\"\r\n            tooltip=\"{i18n>configuration.navigation_target_url.tooltip}\"/>\r\n        <Label />\r\n\r\n        <core:Title id=\"categoryTileActions\"\r\n          text=\"{i18n>configuration.category.tile_actions}\"></core:Title>\r\n        <table:Table id=\"tileActions\"\r\n          rows=\"{/config/tile_actions_rows}\"\r\n          selectionBehavior=\"Row\"\r\n          selectionMode=\"Multi\"\r\n          visibleRowCount=\"3\"\r\n          enableColumnReordering=\"false\"\r\n          rowHeight=\"30px\"\r\n        >\r\n        <table:Column id=\"menuItem\" width=\"80px\" tooltip=\"{i18n>configuration.tile_actions.table.menu_item_tooltip}\">\r\n          <Label text=\"{i18n>configuration.tile_actions.table.menu_item}\"/>\r\n          <table:template>\r\n            <common:TextField value=\"{menu_title}\" editable=\"{editable}\" valueState=\"{valueState}\"></common:TextField>\r\n          </table:template>\r\n        </table:Column>\r\n\r\n        <table:Column id=\"targetType\" width=\"85px\" tooltip=\"{i18n>configuration.tile_actions.table.target_type_tooltip}\">\r\n          <Label text=\"{i18n>configuration.tile_actions.table.target_type}\"/>\r\n          <table:template>\r\n            <common:ComboBox id=\"targetTypeCB\" value=\"{target_type}\" editable=\"{editable}\" change=\"handleTargetTypeChange\"></common:ComboBox>\r\n          </table:template>\r\n        </table:Column>\r\n\r\n        <table:Column id=\"navigationTarget\" width=\"162px\" tooltip=\"{i18n>configuration.tile_actions.table.navigation_target_tooltip}\">\r\n          <Label text=\"{i18n>configuration.tile_actions.table.navigation_target}\"/>\r\n          <table:template>\r\n            <Input liveChange=\"onConfigurationInputChange\" valueHelpRequest=\"onTileActionValueHelp\" showValueHelp=\"{isTargetTypeIntent}\"\r\n              showSuggestion=\"{isTargetTypeIntent}\" value=\"{navigation_target}\" editable=\"{editable}\"/>\r\n          </table:template>\r\n        </table:Column>\r\n\r\n        <table:Column id=\"action\" width=\"85px\" tooltip=\"{i18n>configuration.tile_actions.table.action_tooltip}\">\r\n          <Label text=\"{i18n>configuration.tile_actions.table.action}\"/>\r\n          <table:template>\r\n            <common:TextField value=\"{action}\" enabled=\"{isTargetTypeIntent}\" editable=\"{editable}\"></common:TextField>\r\n          </table:template>\r\n        </table:Column>\r\n\r\n        <table:Column id=\"icon\" width=\"110px\" tooltip=\"{i18n>configuration.tile_actions.table.icon_tooltip}\">\r\n          <Label text=\"{i18n>configuration.tile_actions.table.icon}\"/>\r\n          <table:template>\r\n            <Input value=\"{icon}\" placeholder=\"sap-icon://inbox\" editable=\"{editable}\" valueStateText=\"{iconValueStateText}\" valueState=\"{iconValueState}\"\r\n              liveChange=\"onConfigurationInputChange\" valueHelpRequest=\"onTileActionIconValueHelp\" showValueHelp=\"true\" />\r\n          </table:template>\r\n        </table:Column>\r\n        </table:Table>\r\n        <Label/>\r\n\r\n        <clayout:MatrixLayout>\r\n          <clayout:MatrixLayoutRow>\r\n            <clayout:MatrixLayoutCell hAlign=\"End\">\r\n              <common:Button id=\"addRow\" text=\"{i18n>configuration.tile_actions.table.add}\" enabled=\"{/config/editable}\" tooltip=\"{i18n>configuration.tile_actions.table.add_tooltip}\" press=\"addRow\" width=\"100px\"/>\r\n              <common:Button id=\"deleteRow\" text=\"{i18n>configuration.tile_actions.table.remove}\" enabled=\"{/config/editable}\" tooltip=\"{i18n>configuration.tile_actions.table.remove_tooltip}\" press=\"deleteRow\" width=\"100px\"/>\r\n            </clayout:MatrixLayoutCell>\r\n          </clayout:MatrixLayoutRow>\r\n        </clayout:MatrixLayout>\r\n\r\n    </form:content>\r\n</form:SimpleForm>\r\n\r\n<HBox visible=\"false\">\r\n    <Dialog id=\"selectIconDialog\" leftButton=\"ok\" rightButton=\"cancel\"\r\n        title=\"{i18n>configuration.select_icon}\">\r\n        <content>\r\n        <layout:ResponsiveFlowLayout id=\"icons\" />\r\n        <HBox visible=\"true\">\r\n            <Button id=\"ok\" enabled=\"{/config/ok.enabled}\" text=\"{i18n>configuration.ok}\" />\r\n            <Button id=\"cancel\" text=\"{i18n>configuration.cancel}\" press=\"onSelectIconClose\" />\r\n        </HBox>\r\n        </content>\r\n    </Dialog>\r\n</HBox>\r\n</core:View>",
	"sap/ushell/components/tiles/applauncher/StaticTile.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.getCore().loadLibrary('sap.m');jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.ushell.components.tiles.utils');jQuery.sap.require('sap.ushell.components.tiles.utilsRT');sap.ui.controller('sap.ushell.components.tiles.applauncher.StaticTile',{onInit:function(){var s=this.getView(),v=s.getViewData(),t=v.chip,c=sap.ushell.components.tiles.utilsRT.getConfiguration(t,t.configurationUi.isEnabled(),false),m,k,K,a=this,N=c.navigation_target_url,S;S=t.url.getApplicationSystem();if(S){N+=((N.indexOf('?')<0)?'?':'&')+'sap-system='+S;}this.navigationTargetUrl=N;m=new sap.ui.model.json.JSONModel({config:c,nav:{navigation_target_url:(t.configurationUi&&t.configurationUi.isEnabled()?'':N)},search:{display_highlight_terms:[]}});s.setModel(m);if(t.types){t.types.attachSetType(function(d){if(a.tileType!=d){if(d==='link'){a.getView().removeAllContent();var l=a.getView().getLinkControl();a.getView().addContent(l);}else{a.getView().removeAllContent();var T=a.getView().getTileControl();a.getView().addContent(T);}a.tileType=d;}});}if(!this.tileType){var T=this.getView().getTileControl();this.getView().addContent(T);this.tileType='tile';}if(t.search){k=s.getModel().getProperty('/config/display_search_keywords');K=jQuery.grep(k.split(/[, ]+/),function(n,i){return n&&n!=='';});if(c.display_title_text&&c.display_title_text!==''&&K.indexOf(c.display_title_text)===-1){K.push(c.display_title_text);}if(c.display_subtitle_text&&c.display_subtitle_text!==''&&K.indexOf(c.display_subtitle_text)===-1){K.push(c.display_subtitle_text);}if(c.display_info_text&&c.display_info_text!==''&&K.indexOf(c.display_info_text)===-1){K.push(c.display_info_text);}t.search.setKeywords(K);t.search.attachHighlight(function(h){s.getModel().setProperty('/search/display_highlight_terms',h);});}if(t.bag&&t.bag.attachBagsUpdated){t.bag.attachBagsUpdated(function(u){if(u.indexOf('tileProperties')>-1){sap.ushell.components.tiles.utils._updateTilePropertiesTexts(s,t.bag.getBag('tileProperties'));}});}if(t.configuration&&t.configuration.attachConfigurationUpdated){t.configuration.attachConfigurationUpdated(function(u){if(u.indexOf('tileConfiguration')>-1){sap.ushell.components.tiles.utils._updateTileConfiguration(s,t.configuration.getParameterValueAsString('tileConfiguration'));}});}if(t.preview){t.preview.setTargetUrl(N);t.preview.setPreviewIcon(c.display_icon_url);t.preview.setPreviewTitle(c.display_title_text);}if(t.configurationUi.isEnabled()){t.configurationUi.setUiProvider(function(){var C=sap.ushell.components.tiles.utils.getConfigurationUi(s,'sap.ushell.components.tiles.applauncher.Configuration');t.configurationUi.attachCancel(a.onCancelConfiguration.bind(null,C));t.configurationUi.attachSave(a.onSaveConfiguration.bind(null,C));return C;});this.getView().getContent()[0].setTooltip(sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText('edit_configuration.tooltip'));}if(t.actions){var A=c.actions,e;if(A){e=A.slice();}else{e=[];}var b=sap.ushell.components.tiles.utilsRT.getTileSettingsAction(m,this.onSaveRuntimeSettings.bind(this));e.push(b);t.actions.setActionsProvider(function(){return e;});}},onPress:function(e){var s=this.getView(),v=s.getViewData(),t=v.chip;if(t.configurationUi.isEnabled()){t.configurationUi.display();}else if(this.navigationTargetUrl){if(this.navigationTargetUrl[0]==='#'){hasher.setHash(this.navigationTargetUrl);}else{window.open(this.navigationTargetUrl,'_blank');}}},onSaveRuntimeSettings:function(s){var v=s.getModel(),t=this.getView().getViewData().chip,c=this.getView().getModel().getProperty('/config');c.display_title_text=v.getProperty('/title');c.display_subtitle_text=v.getProperty('/subtitle');c.display_info_text=v.getProperty('/info');c.display_search_keywords=v.getProperty('/keywords');var a=t.bag.getBag('tileProperties');a.setText('display_title_text',c.display_title_text);a.setText('display_subtitle_text',c.display_subtitle_text);a.setText('display_info_text',c.display_info_text);a.setText('display_search_keywords',c.display_search_keywords);function l(e){jQuery.sap.log.error(e,null,'sap.ushell.components.tiles.applauncher.StaticTile.controller');}a.save(function(){jQuery.sap.log.debug(\"property bag 'tileProperties' saved successfully\");this.getView().getModel().setProperty('/config/display_title_text',c.display_title_text);this.getView().getModel().setProperty('/config/display_subtitle_text',c.display_subtitle_text);this.getView().getModel().setProperty('/config/display_info_text',c.display_info_text);this.getView().getModel().setProperty('/config/display_search_keywords',c.display_search_keywords);this.getView().getModel().refresh();}.bind(this),l);},onSaveConfiguration:function(c){var d=jQuery.Deferred();var m=c.getModel();var t=m.getProperty('/tileModel');var T=c.getViewData().chip;var a=sap.ushell.components.tiles.utils.tileActionsRows2TileActionsArray(m.getProperty('/config/tile_actions_rows'));var b={display_icon_url:m.getProperty('/config/display_icon_url'),navigation_use_semantic_object:m.getProperty('/config/navigation_use_semantic_object'),navigation_target_url:m.getProperty('/config/navigation_target_url'),navigation_semantic_object:jQuery.trim(m.getProperty('/config/navigation_semantic_object'))||'',navigation_semantic_action:jQuery.trim(m.getProperty('/config/navigation_semantic_action'))||'',navigation_semantic_parameters:jQuery.trim(m.getProperty('/config/navigation_semantic_parameters')),display_search_keywords:m.getProperty('/config/display_search_keywords')};var r=sap.ushell.components.tiles.utils.checkInputOnSaveConfig(c);if(!r){r=sap.ushell.components.tiles.utils.checkTileActions(c);}if(r){d.reject('mandatory_fields_missing');return d.promise();}if(b.navigation_use_semantic_object){b.navigation_target_url=sap.ushell.components.tiles.utilsRT.getSemanticNavigationUrl(b);m.setProperty('/config/navigation_target_url',b.navigation_target_url);}var e=T.bag.getBag('tileProperties');e.setText('display_title_text',m.getProperty('/config/display_title_text'));e.setText('display_subtitle_text',m.getProperty('/config/display_subtitle_text'));e.setText('display_info_text',m.getProperty('/config/display_info_text'));e.setText('display_search_keywords',b.display_search_keywords);var f=T.bag.getBag('tileNavigationActions');sap.ushell.components.tiles.utils.populateTileNavigationActionsBag(f,a);function l(E,o){jQuery.sap.log.error(E,null,'sap.ushell.components.tiles.applauncher.StaticTile.controller');d.reject(E,o);}T.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(b)},function(){var C=sap.ushell.components.tiles.utilsRT.getConfiguration(T,false,false),o=sap.ushell.components.tiles.utilsRT.getConfiguration(T,true,false),m=new sap.ui.model.json.JSONModel({config:C,nav:{navigation_target_url:''},tileModel:t});c.setModel(m);t.setData({config:o,nav:{navigation_target_url:''}},false);if(T.preview){T.preview.setTargetUrl(C.navigation_target_url);T.preview.setPreviewIcon(C.display_icon_url);T.preview.setPreviewTitle(C.display_title_text);}e.save(function(){jQuery.sap.log.debug(\"property bag 'tileProperties' saved successfully\");if(T.title){T.title.setTitle(C.display_title_text,function(){d.resolve();},l);}else{d.resolve();}},l);f.save(function(){jQuery.sap.log.debug(\"property bag 'navigationProperties' saved successfully\");},l);},l);return d.promise();},onCancelConfiguration:function(c){var v=c.getViewData(),m=c.getModel(),t=m.getProperty('/tileModel'),T=v.chip,C=sap.ushell.components.tiles.utilsRT.getConfiguration(T,T.configurationUi.isEnabled(),false);c.getModel().setData({config:C,nav:{navigation_target_url:''},tileModel:t},false);}});}());\n",
	"sap/ushell/components/tiles/applauncher/StaticTile.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.jsview('sap.ushell.components.tiles.applauncher.StaticTile',{getControllerName:function(){return'sap.ushell.components.tiles.applauncher.StaticTile';},createContent:function(c){this.setHeight('100%');this.setWidth('100%');},getTileControl:function(){jQuery.sap.require('sap.m.GenericTile');jQuery.sap.require('sap.m.ImageContent');var c=this.getController();return new sap.m.GenericTile({header:'{/config/display_title_text}',subheader:'{/config/display_subtitle_text}',size:'Auto',tileContent:new sap.m.TileContent({size:'Auto',footer:'{/config/display_info_text}',content:new sap.m.ImageContent({src:'{/config/display_icon_url}',width:'100%'})}),press:[c.onPress,c]});},getLinkControl:function(){jQuery.sap.require('sap.m.Link');return new sap.m.Link({text:'{/config/display_title_text}',href:'{/nav/navigation_target_url}',target:{path:'/nav/navigation_target_url',formatter:function(u){if(u&&u[0]!=='#'){return'_blank';}}}});}});}());\n",
	"sap/ushell/components/tiles/applauncherdynamic/Configuration.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.utils');sap.ui.controller('sap.ushell.components.tiles.applauncherdynamic.Configuration',{onConfigurationInputChange:function(c){sap.ushell.components.tiles.utils.checkInput(this.getView(),c);},aDefaultObjects:[{obj:'',name:''}],onInit:function(){var v=this.getView(),s=v.byId('navigation_semantic_objectInput'),a=v.byId('navigation_semantic_actionInput'),r=sap.ushell.components.tiles.utils.getResourceBundleModel();v.setModel(r,'i18n');var b=r.getResourceBundle();v.setViewName('sap.ushell.components.tiles.applauncherdynamic.Configuration');sap.ushell.components.tiles.utils.createSemanticObjectModel(this,s,this.aDefaultObjects);sap.ushell.components.tiles.utils.createActionModel(this,a,this.aDefaultObjects);s.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty('/config/navigation_semantic_object',V);});a.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty('/config/navigation_semantic_action',V);});v.byId('targetUrl').bindProperty('enabled',{formatter:function(u){return!u;},path:'/config/navigation_use_semantic_object'});var i=new sap.ui.core.ListItem({key:'URL',text:b.getText('configuration.tile_actions.table.target_type.url')});v.byId('targetTypeCB').addItem(i);i=new sap.ui.core.ListItem({key:'INT',text:b.getText('configuration.tile_actions.table.target_type.intent')});v.byId('targetTypeCB').addItem(i);},onAfterRendering:function(){sap.ushell.components.tiles.utils.updateMessageStripForOriginalLanguage(this.getView());},onValueHelpRequest:function(e){sap.ushell.components.tiles.utils.objectSelectOnValueHelpRequest(this,e,false);},onActionValueHelpRequest:function(e){sap.ushell.components.tiles.utils.actionSelectOnValueHelpRequest(this,e,false);},onCheckBoxChange:function(e){var v=this.getView(),s=v.byId('navigation_semantic_objectInput'),m=s.getModel(),a=e.getSource().getSelected();m.setProperty('/enabled',a);sap.ushell.components.tiles.utils.checkInput(this.getView(),e);},onIconValueHelpRequest:function(e){sap.ushell.components.tiles.utils.iconSelectOnValueHelpRequest(this,e,false);},onSelectIconClose:function(){sap.ushell.components.tiles.utils.onSelectIconClose(this.getView());},onSelectIconOk:function(){sap.ushell.components.tiles.utils.onSelectIconOk(this.getView());},handleTargetTypeChange:function(t){sap.ushell.components.tiles.utils.onTargetTypeChange(t);},onTileActionValueHelp:function(e){sap.ushell.components.tiles.utils.objectSelectOnValueHelpRequest(this,e,true);},onTileActionIconValueHelp:function(e){sap.ushell.components.tiles.utils.iconSelectOnValueHelpRequest(this,e,true);},addRow:function(){sap.ushell.components.tiles.utils.addTileActionsRow(this.getView());},deleteRow:function(){sap.ushell.components.tiles.utils.deleteTileActionsRow(this.getView());}});}());\n",
	"sap/ushell/components/tiles/applauncherdynamic/Configuration.view.xml":"<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!-- Copyright (c) 2009-2014 SAP SE, All Rights Reserved -->\r\n<core:View\r\n  controllerName=\"sap.ushell.components.tiles.applauncherdynamic.Configuration\"\r\n  xmlns=\"sap.m\"\r\n  xmlns:core=\"sap.ui.core\"\r\n  xmlns:form=\"sap.ui.layout.form\"\r\n  xmlns:layout=\"sap.ui.layout\"\r\n  xmlns:table=\"sap.ui.table\"\r\n  xmlns:clayout=\"sap.ui.commons.layout\"\r\n  xmlns:common=\"sap.ui.commons\"\r\n>\r\n<MessageStrip id=\"messageStrip\" showIcon=\"true\" showCloseButton=\"false\" visible=\"false\"/>\r\n<form:SimpleForm id=\"configuration\" maxContainerCols=\"8\" minWidth=\"1024\" editable=\"true\">\r\n  <form:content>\r\n    <core:Title id=\"categoryCommon\"\r\n      text=\"{i18n>configuration.category.general}\"></core:Title>\r\n    <Label text=\"{i18n>configuration.display_title_text}\"></Label>\r\n    <Input id=\"titleInput\" value=\"{/config/display_title_text}\" width=\"100%\"\r\n      tooltip=\"{i18n>configuration.display_title_text.tooltip}\" enabled=\"{/config/editable}\"\r\n      editable=\"{/config/isLocaleSuitable}\" />\r\n    <Label text=\"{i18n>configuration.display_subtitle_text}\"></Label>\r\n    <Input id=\"subtitleInput\" value=\"{/config/display_subtitle_text}\" enabled=\"{/config/editable}\"\r\n      tooltip=\"{i18n>configuration.display_subtitle_text.tooltip}\"\r\n      editable=\"{/config/isLocaleSuitable}\" />\r\n    <Label text=\"{i18n>configuration.keywords}\"></Label>\r\n    <Input id=\"keywordsInput\" value=\"{/config/display_search_keywords}\" enabled=\"{/config/editable}\" width=\"100%\"\r\n      tooltip=\"{i18n>configuration.keywords.tooltip}\"\r\n      editable=\"{/config/isLocaleSuitable}\" />\r\n    <Label text=\"{i18n>configuration.display_icon_url}\"></Label>\r\n    <Input id=\"iconInput\" value=\"{/config/display_icon_url}\" enabled=\"{/config/editable}\" \r\n      placeholder=\"sap-icon://inbox\" tooltip=\"{i18n>configuration.display_icon_url.tooltip}\"\r\n      liveChange=\"onConfigurationInputChange\" valueHelpRequest=\"onIconValueHelpRequest\" showValueHelp=\"true\" />\r\n\r\n    <Label text=\"{i18n>configuration.display_info_text}\"></Label>\r\n    <Input id=\"infoInput\" value=\"{/config/display_info_text}\" width=\"100%\" enabled=\"{/config/editable}\"\r\n      tooltip=\"{i18n>configuration.display_info_text.tooltip}\"\r\n      editable=\"{/config/isLocaleSuitable}\" />\r\n    <Label text=\"{i18n>configuration.display_number_unit}\"></Label>\r\n    <Input id=\"number_unitInput\" value=\"{/config/display_number_unit}\" width=\"100%\" enabled=\"{/config/editable}\"\r\n      tooltip=\"{i18n>configuration.display_number_unit.tooltip}\"/>\r\n\r\n    <core:Title id=\"categoryDynamicData\"\r\n      text=\"{i18n>configuration.category.dynamic_data}\"></core:Title>\r\n    <Label text=\"{i18n>configuration.service_url}\"></Label>\r\n    <Input id=\"serviceUrlInput\" value=\"{/config/service_url}\" width=\"100%\" enabled=\"{/config/editable}\"\r\n       tooltip=\"{i18n>configuration.service_url.tooltip}\"/>\r\n    <Label text=\"{i18n>configuration.service_refresh_interval}\"></Label>\r\n    <Input id=\"refreshInput\" value=\"{/config/service_refresh_interval}\" type=\"Number\" enabled=\"{/config/editable}\"\r\n      width=\"6em\" placeholder=\"{i18n>configuration.seconds}\"\r\n      tooltip=\"{i18n>configuration.seconds.tooltip}\"\r\n      />\r\n\r\n    <core:Title id=\"categoryNavigation\"\r\n      text=\"{i18n>configuration.category.navigation}\"></core:Title>\r\n    <Label text=\"{i18n>configuration.navigation_use_semantic_object}\"></Label>\r\n    <CheckBox id=\"useLpdCheckbox\" selected=\"{/config/navigation_use_semantic_object}\" select=\"onCheckBoxChange\"\r\n      tooltip=\"{i18n>configuration.navigation_use_semantic_object.tooltip}\" enabled=\"{/config/editable}\"/> \r\n    <Label text=\"{i18n>configuration.semantic_object}\"></Label>\r\n    <Input id=\"navigation_semantic_objectInput\" width=\"100%\" tooltip=\"{i18n>configuration.semantic_object.tooltip}\" maxLength=\"30\"\r\n        liveChange=\"onConfigurationInputChange\" valueHelpRequest=\"onValueHelpRequest\" showValueHelp=\"true\" showSuggestion=\"true\"\r\n        enabled=\"{= ${/enabled} &amp;&amp; ${/config/editable}}\" value=\"{/value}\" />\r\n    <Label text=\"{i18n>configuration.navigation_semantic_action}\"></Label>\r\n    <Input id=\"navigation_semantic_actionInput\" value=\"{/config/navigation_semantic_action}\" width=\"100%\" maxLength=\"50\"\r\n      enabled=\"{= ${/config/navigation_use_semantic_object} &amp;&amp; ${/config/editable}}\" tooltip=\"{i18n>configuration.navigation_semantic_action.tooltip}\"\r\n      liveChange=\"onConfigurationInputChange\" valueHelpRequest=\"onActionValueHelpRequest\" showValueHelp=\"true\" showSuggestion=\"true\"/>\r\n    <Label text=\"{i18n>configuration.navigation_semantic_parameters}\"></Label>\r\n    <Input id=\"navigation_semantic_parametersInput\" value=\"{/config/navigation_semantic_parameters}\" width=\"100%\"\r\n      enabled=\"{= ${/config/navigation_use_semantic_object} &amp;&amp; ${/config/editable}}\" tooltip=\"{i18n>configuration.navigation_semantic_parameters.tooltip}\"/>\r\n    <Label text=\"{i18n>configuration.navigation_target_url}\"></Label>\r\n    <Input id=\"targetUrl\" value=\"{/config/navigation_target_url}\" type=\"Url\" width=\"100%\"\r\n       tooltip=\"{i18n>configuration.navigation_target_url.tooltip}\"/>\r\n\r\n    <core:Title id=\"categoryTileActions\"\r\n      text=\"{i18n>configuration.category.tile_actions}\"></core:Title>\r\n    <table:Table id=\"tileActions\"\r\n      rows=\"{/config/tile_actions_rows}\"\r\n      selectionBehavior=\"Row\"\r\n      selectionMode=\"Multi\"\r\n      visibleRowCount=\"3\"\r\n      enableColumnReordering=\"false\"\r\n      rowHeight=\"30px\"\r\n      >\r\n      <table:Column id=\"menuItem\" width=\"80px\" tooltip=\"{i18n>configuration.tile_actions.table.menu_item_tooltip}\">\r\n        <Label text=\"{i18n>configuration.tile_actions.table.menu_item}\"/>\r\n        <table:template>\r\n          <common:TextField value=\"{menu_title}\" enabled=\"{editable}\" valueState=\"{valueState}\"></common:TextField>\r\n        </table:template>\r\n      </table:Column>\r\n\r\n      <table:Column id=\"targetType\" width=\"85px\" tooltip=\"{i18n>configuration.tile_actions.table.target_type_tooltip}\">\r\n        <Label text=\"{i18n>configuration.tile_actions.table.target_type}\"/>\r\n        <table:template>\r\n          <common:ComboBox id=\"targetTypeCB\" value=\"{target_type}\" enabled=\"{editable}\" change=\"handleTargetTypeChange\"></common:ComboBox>\r\n        </table:template>\r\n      </table:Column>\r\n\r\n      <table:Column id=\"navigationTarget\" width=\"162px\" tooltip=\"{i18n>configuration.tile_actions.table.navigation_target_tooltip}\">\r\n        <Label text=\"{i18n>configuration.tile_actions.table.navigation_target}\"/>\r\n        <table:template>\r\n          <Input liveChange=\"onConfigurationInputChange\" valueHelpRequest=\"onTileActionValueHelp\" showValueHelp=\"{isTargetTypeIntent}\"\r\n            showSuggestion=\"{isTargetTypeIntent}\" value=\"{navigation_target}\" enabled=\"{editable}\"/>\r\n        </table:template>\r\n      </table:Column>\r\n\r\n      <table:Column id=\"action\" width=\"85px\" tooltip=\"{i18n>configuration.tile_actions.table.action_tooltip}\">\r\n        <Label text=\"{i18n>configuration.tile_actions.table.action}\"/>\r\n        <table:template>\r\n          <common:TextField value=\"{action}\" enabled=\"{isTargetTypeIntent}\"></common:TextField>\r\n        </table:template>\r\n      </table:Column>\r\n\r\n      <table:Column id=\"icon\" width=\"110px\" tooltip=\"{i18n>configuration.tile_actions.table.icon_tooltip}\">\r\n        <Label text=\"{i18n>configuration.tile_actions.table.icon}\"/>\r\n        <table:template>\r\n          <Input value=\"{icon}\" placeholder=\"sap-icon://inbox\" enabled=\"{/config/editable}\" valueState=\"{iconValueState}\" valueStateText=\"{iconValueStateText}\"\r\n            liveChange=\"onConfigurationInputChange\" valueHelpRequest=\"onTileActionIconValueHelp\" showValueHelp=\"true\" />\r\n        </table:template>\r\n      </table:Column>\r\n    </table:Table>\r\n    <Label/>\r\n\r\n    <clayout:MatrixLayout>\r\n      <clayout:MatrixLayoutRow>\r\n        <clayout:MatrixLayoutCell hAlign=\"End\">\r\n          <common:Button id=\"addRow\" text=\"{i18n>configuration.tile_actions.table.add}\" enabled=\"{/config/editable}\" tooltip=\"{i18n>configuration.tile_actions.table.add_tooltip}\" press=\"addRow\" width=\"100px\"/>\r\n          <common:Button id=\"deleteRow\" text=\"{i18n>configuration.tile_actions.table.remove}\" enabled=\"{/config/editable}\" tooltip=\"{i18n>configuration.tile_actions.table.remove_tooltip}\" press=\"deleteRow\" width=\"100px\"/>\r\n        </clayout:MatrixLayoutCell>\r\n      </clayout:MatrixLayoutRow>\r\n    </clayout:MatrixLayout>\r\n\r\n  </form:content>\r\n</form:SimpleForm>\r\n\r\n   <HBox visible=\"false\">\r\n    <Dialog id=\"selectIconDialog\" leftButton=\"ok\" rightButton=\"cancel\" title=\"{i18n>configuration.select_icon}\">\r\n      <content>\r\n        <layout:ResponsiveFlowLayout id=\"icons\" />\r\n        <HBox visible=\"true\">\r\n          <Button id=\"ok\" enabled=\"{/config/ok.enabled}\" text=\"{i18n>configuration.ok}\"/>\r\n          <Button id=\"cancel\" text=\"{i18n>configuration.cancel}\" press=\"onSelectIconClose\"/>\r\n        </HBox>\r\n      </content>\r\n    </Dialog>\r\n   </HBox>\r\n</core:View>",
	"sap/ushell/components/tiles/applauncherdynamic/DynamicTile.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.getCore().loadLibrary('sap.m');jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.ui.thirdparty.datajs');jQuery.sap.require('sap.ushell.components.tiles.utils');jQuery.sap.require('sap.ushell.components.tiles.utilsRT');sap.ui.controller('sap.ushell.components.tiles.applauncherdynamic.DynamicTile',{timer:null,oDataRequest:null,onInit:function(){var v=this.getView(),V=v.getViewData(),t=V.chip,c=sap.ushell.components.tiles.utilsRT.getConfiguration(t,t.configurationUi.isEnabled(),false),m,k,K,a=this,N=c.navigation_target_url,s;this.bIsRequestCompleted=false;s=t.url.getApplicationSystem();if(s){N+=((N.indexOf('?')<0)?'?':'&')+'sap-system='+s;}this.navigationTargetUrl=N;m=new sap.ui.model.json.JSONModel({config:c,data:sap.ushell.components.tiles.utilsRT.getDataToDisplay(c,{number:(t.configurationUi.isEnabled()?1234:'...')}),nav:{navigation_target_url:(t.configurationUi&&t.configurationUi.isEnabled()?'':N)},search:{display_highlight_terms:[]}});v.setModel(m);if(t.types){t.types.attachSetType(function(d){if(a.tileType!=d){if(d==='link'){a.getView().removeAllContent();var l=a.getView().getLinkControl();a.getView().addContent(l);}else{a.getView().removeAllContent();var T=a.getView().getTileControl();a.getView().addContent(T);}a.tileType=d;}});}if(!this.tileType){var T=this.getView().getTileControl();this.getView().addContent(T);this.tileType='tile';}if(t.search){k=v.getModel().getProperty('/config/display_search_keywords');K=jQuery.grep(k.split(/[, ]+/),function(n,i){return n&&n!=='';});if(c.display_title_text&&c.display_title_text!==''&&K.indexOf(c.display_title_text)===-1){K.push(c.display_title_text);}if(c.display_subtitle_text&&c.display_subtitle_text!==''&&K.indexOf(c.display_subtitle_text)===-1){K.push(c.display_subtitle_text);}if(c.display_info_text&&c.display_info_text!==''&&K.indexOf(c.display_info_text)===-1){K.push(c.display_info_text);}t.search.setKeywords(K);t.search.attachHighlight(function(h){v.getModel().setProperty('/search/display_highlight_terms',h);});}if(t.bag&&t.bag.attachBagsUpdated){t.bag.attachBagsUpdated(function(u){if(u.indexOf('tileProperties')>-1){sap.ushell.components.tiles.utils._updateTilePropertiesTexts(v,t.bag.getBag('tileProperties'));}});}if(t.configuration&&t.configuration.attachConfigurationUpdated){t.configuration.attachConfigurationUpdated(function(u){t.configuration.attachConfigurationUpdated(function(u){if(u.indexOf('tileConfiguration')>-1){sap.ushell.components.tiles.utils._updateTileConfiguration(v,t.configuration.getParameterValueAsString('tileConfiguration'));}});});}if(t.preview){t.preview.setTargetUrl(N);t.preview.setPreviewIcon(c.display_icon_url);t.preview.setPreviewTitle(c.display_title_text);}if(t.refresh){t.refresh.attachRefresh(this.refreshHandler.bind(null,this));}if(t.visible){t.visible.attachVisible(this.visibleHandler.bind(this));}if(t.configurationUi.isEnabled()){t.configurationUi.setUiProvider(function(){var C=sap.ushell.components.tiles.utils.getConfigurationUi(v,'sap.ushell.components.tiles.applauncherdynamic.Configuration');t.configurationUi.attachCancel(a.onCancelConfiguration.bind(null,C));t.configurationUi.attachSave(a.onSaveConfiguration.bind(null,C));return C;});this.getView().getContent()[0].setTooltip(sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText('edit_configuration.tooltip'));}else{if(!t.preview||!t.preview.isEnabled()){if(!s){sap.ushell.Container.addRemoteSystemForServiceUrl(c.service_url);}this.onUpdateDynamicData();}}if(t.actions){var A=c.actions,e;if(A){e=A.slice();}else{e=[];}var b=sap.ushell.components.tiles.utilsRT.getTileSettingsAction(m,this.onSaveRuntimeSettings.bind(this));e.push(b);t.actions.setActionsProvider(function(){return e;});}},stopRequests:function(){if(this.timer){clearTimeout(this.timer);}if(this.oDataRequest){try{this.bIsAbortRequestFlow=true;this.oDataRequest.abort();}catch(e){jQuery.sap.log.warning(e.name,e.message);}this.bIsAbortRequestFlow=undefined;}},onExit:function(){this.stopRequests();},onPress:function(){var v=this.getView(),V=v.getViewData(),m=v.getModel(),t=m.getProperty('/nav/navigation_target_url'),T=V.chip;if(T.configurationUi.isEnabled()){T.configurationUi.display();}else if(t){if(t[0]==='#'){hasher.setHash(t);}else{window.open(t,'_blank');}}},onUpdateDynamicData:function(){var v=this.getView(),c=v.getModel().getProperty('/config'),n=c.service_refresh_interval;if(!n){n=0;}else if(n<10){jQuery.sap.log.warning('Refresh Interval '+n+' seconds for service URL '+c.service_url+' is less than 10 seconds, which is not supported. '+'Increased to 10 seconds automatically.',null,'sap.ushell.components.tiles.applauncherdynamic.DynamicTile.controller');n=10;}if(c.service_url){this.loadData(n);}},extractData:function(d){var n,k=['results','icon','title','number','numberUnit','info','infoState','infoStatus','targetParams','subtitle','stateArrow','numberState','numberDigits','numberFactor'];if(typeof d==='object'&&Object.keys(d).length===1){n=Object.keys(d)[0];if(jQuery.inArray(n,k)===-1){return d[n];}}return d;},onSaveRuntimeSettings:function(s){var v=s.getModel(),t=this.getView().getViewData().chip,c=this.getView().getModel().getProperty('/config');c.display_title_text=v.getProperty('/title');c.display_subtitle_text=v.getProperty('/subtitle');c.display_info_text=v.getProperty('/info');c.display_search_keywords=v.getProperty('/keywords');var a=t.bag.getBag('tileProperties');a.setText('display_title_text',c.display_title_text);a.setText('display_subtitle_text',c.display_subtitle_text);a.setText('display_info_text',c.display_info_text);a.setText('display_search_keywords',c.display_search_keywords);function l(e){jQuery.sap.log.error(e,null,'sap.ushell.components.tiles.applauncherdynamic.DynamicTile.controller');}a.save(function(){jQuery.sap.log.debug(\"property bag 'tileProperties' saved successfully\");this.getView().getModel().setProperty('/config',c);this.getView().getModel().setProperty('/data/display_title_text',c.display_title_text);this.getView().getModel().setProperty('/data/display_subtitle_text',c.display_subtitle_text);this.getView().getModel().setProperty('/data/display_info_text',c.display_info_text);this.getView().getModel().refresh();}.bind(this),l);},onSaveConfiguration:function(c){var d=jQuery.Deferred(),m=c.getModel(),t=m.getProperty('/tileModel'),T=c.getViewData().chip,a=sap.ushell.components.tiles.utils.tileActionsRows2TileActionsArray(m.getProperty('/config/tile_actions_rows')),b={display_icon_url:m.getProperty('/config/display_icon_url'),display_number_unit:m.getProperty('/config/display_number_unit'),service_url:m.getProperty('/config/service_url'),service_refresh_interval:m.getProperty('/config/service_refresh_interval'),navigation_use_semantic_object:m.getProperty('/config/navigation_use_semantic_object'),navigation_target_url:m.getProperty('/config/navigation_target_url'),navigation_semantic_object:jQuery.trim(m.getProperty('/config/navigation_semantic_object'))||'',navigation_semantic_action:jQuery.trim(m.getProperty('/config/navigation_semantic_action'))||'',navigation_semantic_parameters:jQuery.trim(m.getProperty('/config/navigation_semantic_parameters')),display_search_keywords:m.getProperty('/config/display_search_keywords')};var r=sap.ushell.components.tiles.utils.checkInputOnSaveConfig(c);if(!r){r=sap.ushell.components.tiles.utils.checkTileActions(c);}if(r){d.reject('mandatory_fields_missing');return d.promise();}if(b.navigation_use_semantic_object){b.navigation_target_url=sap.ushell.components.tiles.utilsRT.getSemanticNavigationUrl(b);m.setProperty('/config/navigation_target_url',b.navigation_target_url);}var e=T.bag.getBag('tileProperties');e.setText('display_title_text',m.getProperty('/config/display_title_text'));e.setText('display_subtitle_text',m.getProperty('/config/display_subtitle_text'));e.setText('display_info_text',m.getProperty('/config/display_info_text'));e.setText('display_search_keywords',b.display_search_keywords);var f=T.bag.getBag('tileNavigationActions');sap.ushell.components.tiles.utils.populateTileNavigationActionsBag(f,a);function l(E,o){jQuery.sap.log.error(E,null,'sap.ushell.components.tiles.applauncherdynamic.DynamicTile.controller');d.reject(E,o);}T.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(b)},function(){var C=sap.ushell.components.tiles.utilsRT.getConfiguration(T,false,false),o=sap.ushell.components.tiles.utilsRT.getConfiguration(T,true,false),m=new sap.ui.model.json.JSONModel({config:C,tileModel:t});c.setModel(m);t.setData({data:o,nav:{navigation_target_url:''}},false);if(T.preview){T.preview.setTargetUrl(C.navigation_target_url);T.preview.setPreviewIcon(C.display_icon_url);T.preview.setPreviewTitle(C.display_title_text);}e.save(function(){jQuery.sap.log.debug(\"property bag 'tileProperties' saved successfully\");if(T.title){T.title.setTitle(C.display_title_text,function(){d.resolve();},l);}else{d.resolve();}},l);f.save(function(){jQuery.sap.log.debug(\"property bag 'navigationProperties' saved successfully\");},l);},l);return d.promise();},successHandleFn:function(r){this.bIsRequestCompleted=true;var c=this.getView().getModel().getProperty('/config');this.oDataRequest=undefined;var d=r,D;if(typeof r==='object'){var u=jQuery.sap.getUriParameters(c.service_url).get('$inlinecount');if(u&&u==='allpages'){d={number:r.__count};}else{d=this.extractData(d);}}else if(typeof r==='string'){d={number:r};}D=sap.ushell.components.tiles.utilsRT.getDataToDisplay(c,d);this.getView().getModel().setProperty('/data',D);this.navigationTargetUrl=c.navigation_target_url;this.getView().getModel().setProperty('/nav/navigation_target_url',sap.ushell.components.tiles.utilsRT.addParamsToUrl(this.navigationTargetUrl,D));},errorHandlerFn:function(m){if(!this.bIsAbortRequestFlow){this.bIsRequestCompleted=true;}var c=this.getView().getModel().getProperty('/config');this.oDataRequest=undefined;var M=m&&m.message?m.message:m,r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();if(M==='Request aborted'){jQuery.sap.log.info('Data request from service '+c.service_url+' was aborted',null,'sap.ushell.components.tiles.applauncherdynamic.DynamicTile');}else{if(m.response){M+=' - '+m.response.statusCode+' '+m.response.statusText;}jQuery.sap.log.error('Failed to update data via service '+c.service_url+': '+M,null,'sap.ushell.components.tiles.applauncherdynamic.DynamicTile');}if(!this.bIsAbortRequestFlow){this.getView().getModel().setProperty('/data',sap.ushell.components.tiles.utilsRT.getDataToDisplay(c,{number:'???',info:r.getText('dynamic_data.error'),infoState:'Critical'}));}},onCancelConfiguration:function(c,s,e){var v=c.getViewData(),m=c.getModel(),t=m.getProperty('/tileModel'),T=v.chip,C=sap.ushell.components.tiles.utilsRT.getConfiguration(T,false,false);c.getModel().setData({config:C,tileModel:t},false);},loadData:function(n){var d=this.getView(),c=d.getModel().getProperty('/config'),u=c.service_url,t=this;var T=this.getView().getViewData().chip;if(!u){return;}if(/;o=([;\\/?]|$)/.test(u)){u=T.url.addSystemToServiceUrl(u);}if(n>0){jQuery.sap.log.info('Wait '+n+' seconds before calling '+c.service_url+' again',null,'sap.ushell.components.tiles.applauncherdynamic.DynamicTile.controller');this.timer=setTimeout(t.loadData.bind(t,n,false),(n*1000));}if(T.visible.isVisible()&&!t.oDataRequest){t.oDataRequest=OData.read({requestUri:u,headers:{'Cache-Control':'no-cache, no-store, must-revalidate','Pragma':'no-cache','Expires':'0'}},this.successHandleFn.bind(this),this.errorHandlerFn.bind(this));}},refreshHandler:function(d){var t=d.getView().getViewData().chip;if(!t.configurationUi.isEnabled()){d.loadData(0);}else{d.stopRequests();}},visibleHandler:function(i){var v=this.getView(),c=v.getModel().getProperty('/config'),n=c.service_refresh_interval;if(i){if(n>0){this.refreshHandler(this);}else{if(!this.bIsRequestCompleted){this.refreshHandler(this);}}}else{this.stopRequests();}}});}());\n",
	"sap/ushell/components/tiles/applauncherdynamic/DynamicTile.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.jsview('sap.ushell.components.tiles.applauncherdynamic.DynamicTile',{getControllerName:function(){return'sap.ushell.components.tiles.applauncherdynamic.DynamicTile';},createContent:function(c){this.setHeight('100%');this.setWidth('100%');},getTileControl:function(){jQuery.sap.require('sap.m.GenericTile');var c=this.getController();return new sap.m.GenericTile({header:'{/data/display_title_text}',subheader:'{/data/display_subtitle_text}',size:'Auto',tileContent:[new sap.m.TileContent({size:'Auto',footer:'{/data/display_info_text}',unit:'{/data/display_number_unit}',content:[new sap.m.NumericContent({scale:'{/data/display_number_factor}',value:'{/data/display_number_value}',truncateValueTo:5,indicator:'{/data/display_state_arrow}',valueColor:'{/data/display_number_state}',icon:'{/data/display_icon_url}',width:'100%'})]})],press:[c.onPress,c]});},getLinkControl:function(){jQuery.sap.require('sap.m.Link');return new sap.m.Link({text:'{/config/display_title_text}',href:'{/nav/navigation_target_url}',target:{path:'/nav/navigation_target_url',formatter:function(u){if(u&&u[0]!=='#'){return'_blank';}}}});},onAfterRendering:function(){var m=this.getModel(),d=m.getProperty('/data/display_info_state'),e=this.getDomRef(),a=e?e.getElementsByClassName('sapMTileCntFtrTxt')[0]:null;if(a){switch(d){case'Negative':a.classList.add('sapUshellTileFooterInfoNegative');break;case'Neutral':a.classList.add('sapUshellTileFooterInfoNeutral');break;case'Positive':a.classList.add('sapUshellTileFooterInfoPositive');break;case'Critical':a.classList.add('sapUshellTileFooterInfoCritical');break;default:return;}}}});}());\n",
	"sap/ushell/components/tiles/generic.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ushell.components.tiles.sbtilecontent');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');jQuery.sap.require('sap.ui.core.mvc.Controller');'use strict';sap.ui.core.mvc.Controller.extend('sap.ushell.components.tiles.generic',{getTile:function(){return this.oKpiTileView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},logError:function(e){this._updateTileModel({value:'',scale:'',unit:''});jQuery.sap.log.error(e);if(this.getView().getViewData().deferredObj){this.getView().getViewData().deferredObj.reject();}else{this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Failed);}},getKeyForCallCheck:function(){if(this.oKpiTileView.getViewName()=='sap.ushell.components.tiles.indicatornumeric.NumericTile'){return this.oConfig.TILE_PROPERTIES.id+'left';}else{return this.oConfig.TILE_PROPERTIES.id+'right';}},getRelativeTime:function(){var c=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();if(jQuery.type(this.cacheTime)=='date'){var t=this.cacheTime;}else{var t=new Date(parseInt(this.cacheTime.substr(6),10));}var r=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(c-t);var a;switch(r.unit){case'minutes':var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,'minutes');c=c-o;a=new Date(c);break;case'hours':var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,'hours');c=c-o;a=new Date(c);break;case'days':var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,'days');c=c-o;a=new Date(c);break;}return a;},setTimeStamp:function(d){this.updateTimeStampjobScheduled=false;var f=sap.ui.core.format.DateFormat.getDateTimeInstance({relative:true,relativeSource:'auto',style:'short'});var t=f.format(this.getRelativeTime());this.oKpiTileView.oNVConfS.setRefreshOption(true);this.oKpiTileView.oNVConfS.setTimestamp(t);this.updateTimeStampjobScheduled=false;var k=this.oConfig.TILE_PROPERTIES.id+'time';var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}sap.ushell.components.tiles.indicatorTileUtils.util.scheduleTimeStampJob.call(this,this.oTileApi.visible.isVisible());},isACurrencyMeasure:function(m){var u=this.DEFINITION_DATA.EVALUATION.ODATA_URL;var e=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;return sap.ushell.components.tiles.indicatorTileUtils.util.getFormattingMetadata(this.oTileApi.url.addSystemToServiceUrl(u),e,m)._hasCurrency;},isCurrencyMeasure:function(m){var t=this;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(c&&c.Data){var k=c.Data&&JSON.parse(c.Data);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(t.oKpiTileView.getViewName()=='sap.ushell.components.tiles.indicatornumeric.NumericTile'){k=k.leftData;}else{k=k.rightData;}}if(t.oKpiTileView.getViewName()=='sap.ushell.components.tiles.indicatorcomparison.ComparisonTile'||t.oConfig.TILE_PROPERTIES.tileType==='CM'){if(k&&k.data&&k.data.length){for(var i=0;i<k.data.length;i++){if(k.data[i]&&k.data[i].measure==m){if(jQuery.type(k.data[i].isCurM)=='boolean'){return k.data[i].isCurM;}else{return t.isACurrencyMeasure(m);}break;}else{return t.isACurrencyMeasure(m);}}}else{return t.isACurrencyMeasure(m);}}if(k&&jQuery.type(k.isCurM)=='boolean'){return k.isCurM;}else{return t.isACurrencyMeasure(m);}}else{return t.isACurrencyMeasure(m);}},formSelectStatement:function(o){var t=Object.keys(o);var f='';for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f=f+','+o[t[i]];}}return f;},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case'MI':T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);if(c&&c.Data&&c.Data.length){c.Data=JSON.parse(c.Data);T.trendValue=Number(c.Data.trend);T.targetValue=Number(c.Data.target);T.criticalHighValue=Number(c.Data.ch);T.warningHighValue=Number(c.Data.wh);c.Data=JSON.stringify(c.Data);}break;case'MA':T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);if(c&&c.Data&&c.Data.length){c.Data=JSON.parse(c.Data);T.criticalLowValue=Number(c.Data.cl);T.warningLowValue=Number(c.Data.wl);T.trendValue=Number(c.Data.trend);T.targetValue=Number(c.Data.target);c.Data=JSON.stringify(c.Data);}break;case'RA':T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);if(c&&c.Data&&c.Data.length){c.Data=JSON.parse(c.Data);T.criticalLowValue=Number(c.Data.cl);T.warningLowValue=Number(c.Data.wl);T.trendValue=Number(c.Data.trend);T.targetValue=Number(c.Data.target);T.criticalHighValue=Number(c.Data.ch);T.warningHighValue=Number(c.Data.wh);c.Data=JSON.stringify(c.Data);}break;}}else if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='RELATIVE'){T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','FIXED');T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','FIXED');T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','FIXED');T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','FIXED');}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','FIXED');T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','FIXED');T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','FIXED');T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','FIXED');T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','FIXED');T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','FIXED');}return T;}catch(e){t.logError(e);}},setNoData:function(){var v=this.getView().getViewData();if(v.parentController){v.parentController.setNoData();if(v.deferredObj){v.deferredObj.resolve();}}else{try{this._updateTileModel({value:'',scale:'',unit:'',footerNum:this.oResourceBundle.getText('sb.noDataAvailable'),footerComp:this.oResourceBundle.getText('sb.noDataAvailable')});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}catch(e){}}},getLocalCache:function(c){var l={};l.ChipId=c.ChipId;l.Data=c.Data;l.CacheMaxAge=c.CacheMaxAgeUnit;l.CacheMaxAgeUnit=c.CacheMaxAgeUnit;l.CacheType=c.CacheType;l.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();return l;},fetchKpiValue:function(c,E,r,a){var t=this;var k=0;try{var s=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var T=this.setThresholdValues();var m=T.fullyFormedMeasure;var b=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);var d=t.oTileApi.configuration.getParameterValueAsString('timeStamp');var i=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,d,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);var f=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var g=this.getKeyForCallCheck();var h=true;if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){var h=sap.ushell.components.tiles.indicatorTileUtils.util.isCallInProgress(g);if(h==undefined){h=true;}}if(h){if((!b||(!i&&t.oTileApi.visible.isVisible())||f||(a&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh)){sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(g,false);if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,s,m,null,v);if(q){this.QUERY_SERVICE_MODEL=q.model;this.queryUriForKpiValue=q.uri;this.queryServiceUriODataReadRef=this.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(l){t.backEndCallMade=true;t.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(g,true);if(l&&l.results&&l.results.length&&l.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME]!=null){k=l.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var w={};if(q.unit[0]){t._updateTileModel({unit:l.results[0][q.unit[0].name]});w.uom=l.results[0][q.unit[0].name];}if(t.oConfig.TILE_PROPERTIES.frameType=='TwoByOne'){w.numericValue=k;}else{w.value=k;}if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){T.criticalHighValue=l.results[0][T.sCriticalHigh];T.criticalLowValue=l.results[0][T.sCriticalLow];T.warningHighValue=l.results[0][T.sWarningHigh];T.warningLowValue=l.results[0][T.sWarningLow];T.targetValue=l.results[0][T.sTarget];T.trendValue=l.results[0][T.sTrend];}else if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='RELATIVE'){T.targetValue=Number(l.results[0][T.sTarget]);T.criticalHighValue=T.targetValue*T.criticalHighValue/100;T.criticalLowValue=T.targetValue*T.criticalLowValue/100;T.warningHighValue=T.targetValue*T.warningHighValue/100;T.warningLowValue=T.targetValue*T.warningLowValue/100;T.trendValue=Number(l.results[0][T.sTrend]);}w.cl=T.criticalLowValue;w.ch=T.criticalHighValue;w.wl=T.warningLowValue;w.wh=T.warningHighValue;w.trend=T.trendValue;w.target=T.targetValue;w.isCurM=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var n={};n.ChipId=t.oConfig.TILE_PROPERTIES.id;n.Data=JSON.stringify(w);n.CacheMaxAge=Number(t.chipCacheTime);n.CacheMaxAgeUnit=t.chipCacheTimeUnit;n.CacheType=1;var o=t.getLocalCache(n);if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,o);var u=false;if(b){u=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,n,u,function(l){if(l){t.cacheTime=l&&l.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,l);t.setTimeStamp(t.cacheTime);}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}}else{var p=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(p){if(!p.CachedTime){p.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var x=p.Data;if(x){x=JSON.parse(x);if(t.oKpiTileView.getViewName()=='sap.ushell.components.tiles.indicatornumeric.NumericTile'){x.leftData=w;}else{x.rightData=w;}}p.Data=JSON.stringify(x);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,p);}else{var x={};if(t.oKpiTileView.getViewName()=='sap.ushell.components.tiles.indicatornumeric.NumericTile'){x.leftData=w;}else{x.rightData=w;}o.Data=JSON.stringify(x);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,o);}t.cacheWriteData=w;}t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();t.updateDatajobScheduled=false;var y=t.oConfig.TILE_PROPERTIES.id+'data';var z=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(y);if(z){clearTimeout(z);z=undefined;}c.call(t,k,T);}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,{empty:'empty'});t.setNoData();}},function(l){t.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(g,true);if(l&&l.response){jQuery.sap.log.error(l.message+' : '+l.request.requestUri);E.call(t,l);}});}else{t.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(g,true);t.logError('Error Preparing Query Service URI');}}}else{if(t.DEFINITION_DATA.TILE_PROPERTIES.frameType==sap.m.FrameType.OneByOne){if(b&&b.Data){var j=b.Data&&JSON.parse(b.Data);k=j.value;if(j.uom){t._updateTileModel({unit:j.uom});}if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){T.criticalHighValue=j.ch;T.criticalLowValue=j.cl;T.warningHighValue=j.wh;T.warningLowValue=j.wl;T.targetValue=j.target;T.trendValue=j.trend;}else if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='RELATIVE'){T.targetValue=Number(j.target);T.criticalHighValue=T.targetValue*T.ch/100;T.criticalLowValue=T.targetValue*T.cl/100;T.warningHighValue=T.targetValue*T.wh/100;T.warningLowValue=T.targetValue*T.wl/100;T.trendValue=Number(j.trend);}t.cacheTime=b.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(b.CachedTime),t);}c.call(t,k,T);}else{t.setNoData();}}else{if(b&&b.Data){var j=b.Data&&JSON.parse(b.Data);if(t.oKpiTileView.getViewName()=='sap.ushell.components.tiles.indicatornumeric.NumericTile'){j=j.leftData;}else{j=j.rightData;}k=j.numericValue;if(j.unit){t._updateTileModel({unit:j.unit});}if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){T.criticalHighValue=j.ch;T.criticalLowValue=j.cl;T.warningHighValue=j.wh;T.warningLowValue=j.wl;T.targetValue=j.target;T.trendValue=j.trend;}else if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='RELATIVE'){T.targetValue=Number(j.target);T.criticalHighValue=T.targetValue*T.criticalHighValue/100;T.criticalLowValue=T.targetValue*T.criticalLowValue/100;T.warningHighValue=T.targetValue*T.warningHighValue/100;T.warningLowValue=T.targetValue*T.warningLowValue/100;T.trendValue=Number(j.trend);}t.cacheTime=b.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(b.CachedTime),t);}c.call(t,k,T);}else{t.setNoData();}}}}}catch(e){t.logError(e);}},getRunTimeODataModel:function(u,s){if(!this.oRunTimeODataModel){this.oRunTimeODataModel=sap.ushell.components.tiles.indicatorTileUtils.util.getODataModelByServiceUri(u);}if(this.oRunTimeODataModel.getServiceMetadata()){s();}else{this.oRunTimeODataModel.attachMetadataLoaded(s);}},parse_sapclient:function(){var i,S,r,f,a;S='P_SAPClient';r='$$$';f=this.oConfig.EVALUATION_FILTERS;if(f.constructor!==Array){return;}if(f.length<1){return;}for(i in f){a=f[i];if(a['NAME']===S&&a['VALUE_1']===r){break;}a=null;}if(a){jQuery.when(sap.ushell.components.tiles.indicatorTileUtils.util.getHanaClient()).done(function(c){a['VALUE_1']=c;});}},fetchEvaluation:function(c,a,r,i){var t=this;var p=this.oConfig.TILE_PROPERTIES.sb_metadata||'HANA';t.DEFINITION_DATA=c;t._updateTileModel(this.DEFINITION_DATA);var b=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);if((t.oTileApi.visible.isVisible()&&!t.firstTimeVisible)||b||i){jQuery.when(sap.ushell.components.tiles.indicatorTileUtils.util.getFrontendCache(c,t.oTileApi)).done(function(d){t.firstTimeVisible=true;d=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(d||Number(t.oTileApi.configuration.getParameterValueAsString('isSufficient'))){a.call();}else{try{if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)||!t.dataCallInProgress){t.dataCallInProgress=true;var f=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(t.oConfig.TILE_PROPERTIES.id);if(f){t.oConfig.EVALUATION_FILTERS=f.EVALUATION_FILTERS;a.call();}else if(t.evaluationFetchDeferred){t.evaluationFetchDeferred=false;sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(t.oConfig,t.oTileApi,function(g){t.evaluationFetchDeferred=true;t.oConfig.EVALUATION_FILTERS=g;if(p.toUpperCase()==='HANA'){t.parse_sapclient();}sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);a.call();});}}}catch(e){t.evaluationFetchDeferred=true;t.logError('no evaluation data');}}}).fail(function(){t.firstTimeVisible=true;if(Number(t.oTileApi.configuration.getParameterValueAsString('isSufficient'))){a.call();}else{try{var d=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(t.oConfig.TILE_PROPERTIES.id);if(d){t.oConfig.EVALUATION_FILTERS=d.EVALUATION_FILTERS;a.call();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(t.oConfig,t.oTileApi,function(f){t.oConfig.EVALUATION_FILTERS=f;if(p.toUpperCase()==='HANA'){t.parse_sapclient();}sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);a.call();});}}catch(e){t.logError('no evaluation data');}}});}},refreshHandler:function(r,a){var t=this;var i=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var b=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(a);if(!t.firstTimeVisible||i||b){t.fetchEvaluation(t.oConfig,function(){if(t.oConfig.TILE_PROPERTIES.tileType=='NT'||t.oConfig.TILE_PROPERTIES.tileType=='AT'||t.oKpiTileView.getViewName()=='sap.ushell.components.tiles.indicatornumeric.NumericTile'||t.oKpiTileView.getViewName()=='sap.ushell.components.tiles.indicatordeviation.DeviationTile'){var u=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);t.getRunTimeODataModel(u,function(){if(t.KPI_VALUE_REQUIRED){t.fetchKpiValue(function(k,T){this.KPIVALUE=k;t.doProcess(k,T);},t.logError,r,b);}else{t.doProcess();}});}else{var u=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);t.getRunTimeODataModel(u,function(){if(t.KPI_VALUE_REQUIRED){t.doProcess(t.KPIVALUE,t.setThresholdValues());}else{t.doProcess(i,b);}});}},r,b);}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){this.refreshHandler(this);}},getChipConfiguration:function(c){var t=this;try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(t.oTileApi.configuration.getParameterValueAsString('tileConfiguration'),t.oTileApi.preview.isEnabled(),function(a){t.oConfig=a;var b=sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig);var s=sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig);if(t.oTileApi.search){t.oTileApi.search.setKeywords([b,s]);}if(t.oTileApi.preview){t.oTileApi.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}c.call();});}catch(e){t.logError(e.message);}},onAfterTileRendering:function(){var t=this;this.firstTimeVisible=false;this.oKpiTileView=this.getView();this.updateDatajobScheduled=false;this.updateTimeStampjobScheduled=false;this.oViewData=this.oKpiTileView.getViewData();this.tilePressed=false;this.kpiValueFetchDeferred=true;this.evaluationFetchDeferred=true;this.backEndCallMade=false;if(!sap.ushell.components.tiles.utils){jQuery.sap.require('sap.ushell.components.tiles.utils');}this.oResourceBundle=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();this.oTileApi=this.oViewData.chip;this.system=this.oTileApi.url.getApplicationSystem();this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loading);this.getChipConfiguration(function(){t.chipCacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(t.oConfig);t.chipCacheTimeUnit=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(t.oConfig);if(t.oTileApi.preview.isEnabled()){t.doDummyProcess();t.oKpiTileView.oGenericTile.attachPress(function(){sap.m.MessageToast.show(t.oResourceBundle.getText('sb.NavigationHelp'));});}else if(t.oConfig.BLANKTILE||t.oConfig.TILE_PROPERTIES.blankTile){t.doDummyProcess();var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oKpiTileView.oGenericTile.$().wrap(\"<a href ='\"+n+\"'/>\");t.oKpiTileView.oGenericTile.attachPress(function(){t.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=n;});}else{if(t.oTileApi.visible&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){t.oTileApi.visible.attachVisible(t.visibleHandler.bind(t));}var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oKpiTileView.oGenericTile.$().wrap(\"<a href ='\"+n+\"' style='display: block;'/>\");t.oKpiTileView.oGenericTile.attachPress(function(){t.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=n;});if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){t.oKpiTileView.oNVConfS.attachRefresh(function(){t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loading);jQuery.proxy(t.refreshHandler(true),t);});}t.fetchEvaluation(t.oConfig,function(){t.DEFINITION_DATA=t.oConfig;var u=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);var c=t.oTileApi.configuration.getParameterValueAsString('timeStamp');var i=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,c,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);if(!i||t.getView().getViewData().refresh){t.getRunTimeODataModel(u,function(){if(t.KPI_VALUE_REQUIRED){t.fetchKpiValue(function(k,T){this.KPIVALUE=k;t.doProcess(k,T);},t.logError);}else{t.doProcess();}});}else{if(t.KPI_VALUE_REQUIRED){t.fetchKpiValue(function(k,T){this.KPIVALUE=k;t.doProcess(k,T);},t.logError);}else{t.doProcess();}}});}});},onAfterRendering:function(){this.onAfterTileRendering();},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new sap.ui.model.json.JSONModel({}));}},autoFormatter:function(n,i){i=i||false;if(!n){return'';}return sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(n),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,i);},setToolTip:function(a,c,t){var b=this;var C;var T=this.setThresholdValues();var m=this.oConfig.EVALUATION.COLUMN_NAME;var i=this.isCurrencyMeasure(m);if(t=='CONT'||t=='COMP'){if(this.oKpiTileView.getContent()[0].getTileContent().length){C=b.oKpiTileView.getContent()[0].getTileContent()[0].getContent();var d,e,f,v,g,h,j,k,l;if(c&&c[0]){d=c[0].title;v=this.autoFormatter(c[0].value,i);j=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(c[0].color);}if(c&&c[1]){e=c[1].title;g=this.autoFormatter(c[1].value,i);k=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(c[1].color);}if(c&&c[2]){f=c[2].title;h=this.autoFormatter(c[2].value,i);l=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(c[2].color);}var o={};o['0']=this.oConfig.EVALUATION.COLUMN_NAME+',asc';o['1']=this.oConfig.EVALUATION.COLUMN_NAME+',desc';o['2']=this.oConfig.TILE_PROPERTIES.dimension+',asc';o['3']=this.oConfig.TILE_PROPERTIES.dimension+',desc';var n=o[this.oConfig.TILE_PROPERTIES.sortOrder||'0'].split(',');var p={measure:this.oConfig.EVALUATION.COLUMN_NAME,contributionTile:n,m1:d,v1:v,c1:j,m2:e,v2:g,c2:k,m3:f,v3:h,c3:l};sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,t,p);}}else{var s='';if(a=='Error'){s='sb.error';}if(a=='Neutral'){s='sb.neutral';}if(a=='Critical'){s='sb.critical';}if(a=='Good'){s='sb.good';}var p={status:s,actual:this.autoFormatter(c,i),target:this.autoFormatter(T.targetValue,i),cH:this.autoFormatter(T.criticalHighValue,i),wH:this.autoFormatter(T.warningHighValue,i),wL:this.autoFormatter(T.warningLowValue,i),cL:this.autoFormatter(T.criticalLowValue,i)};var C=b.oKpiTileView.getContent()[0].getTileContent()[0]&&b.oKpiTileView.getContent()[0].getTileContent()[0].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,t,p);}},getTrendColor:function(t){var a=this,w,c,b,d;try{var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;this.DEFINITION_DATA.EVALUATION_VALUES;var r=sap.m.ValueColor.Neutral;if(i==='MI'){if(t.criticalHighValue&&t.warningHighValue){d=Number(t.criticalHighValue);b=Number(t.warningHighValue);if(this.CALCULATED_KPI_VALUE<b){r=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=d){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Error;}}}else if(i==='MA'){if(t.criticalLowValue&&t.warningLowValue){c=Number(t.criticalLowValue);w=Number(t.warningLowValue);if(this.CALCULATED_KPI_VALUE<c){r=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=w){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}else{if(t.warningLowValue&&t.warningHighValue&&t.criticalLowValue&&t.criticalHighValue){d=Number(t.criticalHighValue);b=Number(t.warningHighValue);w=Number(t.warningLowValue);c=Number(t.criticalLowValue);if(this.CALCULATED_KPI_VALUE<c||this.CALCULATED_KPI_VALUE>d){r=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=c&&this.CALCULATED_KPI_VALUE<=w)||(this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=d)){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}return r;}catch(e){a.logError(e);}},getTrendIndicator:function(t){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>this.CALCULATED_KPI_VALUE){b=sap.m.DeviationIndicator.Down;}else if(t<this.CALCULATED_KPI_VALUE){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},setTextInTile:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},_getEvaluationThresholdMeasures:function(){var t=[];t.push(this.oConfig.EVALUATION.COLUMN_NAME);if(this.oConfig.EVALUATION.VALUES_SOURCE==='MEASURE'){var a=this.oConfig.EVALUATION_VALUES;if(a&&a.length){for(var i=0;i<a.length;i++){if((a[i]).COLUMN_NAME&&!((a[i]).FIXED)){t.push((a[i]).COLUMN_NAME);}}}}return t;},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}});}());\n",
	"sap/ushell/components/tiles/indicatorArea/AreaChartTile.controller.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.generic');sap.ushell.components.tiles.generic.extend('sap.ushell.components.tiles.indicatorArea.AreaChartTile',{onInit:function(){this.KPI_VALUE_REQUIRED=false;},doProcess:function(r,i){this.onAfterFinalEvaluation(r,i);},doDummyProcess:function(){var t=this;this.setTextInTile();t._updateTileModel({footer:'',description:'',width:'100%',height:'100%',chart:{color:'Good',data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:'Error',data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:'Good',data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:'Error',data:[]},innerMinThreshold:{color:'Neutral',data:[]},minThreshold:{color:'Error',data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:'June 123',color:'Error'},lastXLabel:{label:'June 30',color:'Error'},firstYLabel:{label:'0M',color:'Good'},lastYLabel:{label:'80M',color:'Critical'},minLabel:{},maxLabel:{}});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);},scheduleJob:function(d){if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}},onAfterFinalEvaluation:function(r,d){var t=this;var u=this.DEFINITION_DATA.EVALUATION.ODATA_URL;var E=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var m=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var f=this.DEFINITION_DATA.TILE_PROPERTIES.dimension;if(f==undefined){this.logError();return;}var g=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var h=this.DEFINITION_DATA.EVALUATION_VALUES;var j=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(j){var k=j.Data&&JSON.parse(j.Data);}}var l=t.oTileApi.configuration.getParameterValueAsString('timeStamp');var n=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,l,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);var o=m;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){switch(g){case'MI':t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');if(t.sWarningHigh&&t.sCriticalHigh&&t.sTarget){o+=','+t.sWarningHigh+','+t.sCriticalHigh+','+t.sTarget;}break;case'MA':t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');if(t.sWarningLow&&t.sCriticalLow&&t.sTarget){o+=','+t.sWarningLow+','+t.sCriticalLow+','+t.sTarget;}break;case'RA':t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');if(t.sWarningLow&&t.sCriticalLow&&t.sTarget&&t.sWarningHigh&&t.sCriticalHigh){o+=','+t.sWarningLow+','+t.sCriticalLow+','+t.sTarget+','+t.sWarningHigh+','+t.sCriticalHigh;}break;}}var p=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);if((k&&!k.rightData)||!j||(!n&&t.oTileApi.visible.isVisible())||p||(d&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh){if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),E,o,f,v);if(q){this.queryUriForTrendChart=q.uri;var w={};try{this.trendChartODataReadRef=q.model.read(q.uri,null,null,true,function(a){t.kpiValueFetchDeferred=true;if(a&&a.results&&a.results.length){if(q.unit[0]){t.unit=a.results[0][q.unit[0].name];t.CURRENCY_CODE=t.unit;w.unit=q.unit[0];w.unit.name=q.unit[0].name;}t.queryUriResponseForTrendChart=a;f=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oTileApi.url.addSystemToServiceUrl(u),E,f);a.results.splice(10);a.firstXlabel=a.results[0][f];a.lastXlabel=a.results[a.results.length-1][f];w.data=a;if(w&&w.data&&w.data.results&&w.data.results.length){for(var i=0;i<w.data.results.length;i++){delete w.data.results[i].__metadata;}}w.isCurM=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);w.dimensionName=f;_(a,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);var c={};t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();c.ChipId=t.oConfig.TILE_PROPERTIES.id;c.Data=JSON.stringify(w);c.CacheMaxAge=Number(t.chipCacheTime);c.CacheMaxAgeUnit=t.chipCacheTimeUnit;c.CacheType=1;var b=t.getLocalCache(c);if(t.DEFINITION_DATA.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){var y=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(y){if(!y.CachedTime){y.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var z=y.Data;if(z){z=JSON.parse(z);z.rightData=w;}y.Data=JSON.stringify(z);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,y);}else{var z={};z.rightData=w;b.Data=JSON.stringify(z);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,b);}t.cacheWriteData=w;t.getView().getViewData().deferredObj.resolve();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,b);var U=false;if(j){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,c,U,function(a){if(a){t.cacheTime=a&&a.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,a);t.setTimeStamp();}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);t.updateDatajobScheduled=false;var A=t.oConfig.TILE_PROPERTIES.id+'data';var B=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(A);if(B){clearTimeout(B);B=undefined;}jQuery.proxy(t.scheduleJob(t.cacheTime),t);}}else{t.setNoData();}},function(a){t.kpiValueFetchDeferred=true;if(a&&a.response){t.logError('Data call failed');}});}catch(e){t.kpiValueFetchDeferred=true;t.logError(e);}}else{t.kpiValueFetchDeferred=true;t.logError();}}}else{if(j&&j.Data){try{var s;var x=t.oConfig&&t.oConfig.TILE_PROPERTIES&&t.oConfig.TILE_PROPERTIES.tileType;if(x.indexOf('DT-')==-1){s=j.Data&&JSON.parse(j.Data);}else{s=j.Data&&JSON.parse(j.Data);s=s.rightData;}if(s.unit){t.unit=s.data.results[0][s.unit.name];t.CURRENCY_CODE=t.unit;}t.cacheTime=j.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}t.queryUriResponseForTrendChart=s.data;f=s.dimensionName;_(s.data,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);if(t.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.OneByOne){t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.getView().getViewData().deferredObj.resolve();}jQuery.proxy(t.scheduleJob(t.cacheTime),t);}catch(e){t.logError(e);}}else{t.setNoData();}}function _(y,z){var A=[];var B=[];var C=[];var D=[];var F=[];var G=[];var H=y.firstXlabel;var I,J,K,L,M;var N=y.lastXlabel;var O=Number(y.results[0][m]);var P=Number(y.results[y.results.length-1][m]);var i;for(i in y.results){y.results[i][f]=Number(i);y.results[i][m]=Number(y.results[i][m]);t.sWarningHigh?y.results[i][t.sWarningHigh]=Number(y.results[i][t.sWarningHigh]):'';t.sCriticalHigh?y.results[i][t.sCriticalHigh]=Number(y.results[i][t.sCriticalHigh]):'';t.sCriticalLow?y.results[i][t.sCriticalLow]=Number(y.results[i][t.sCriticalLow]):'';t.sWarningLow?y.results[i][t.sWarningLow]=Number(y.results[i][t.sWarningLow]):'';t.sTarget?y.results[i][t.sTarget]=Number(y.results[i][t.sTarget]):'';t.sWarningHigh?C.push(y.results[i][t.sWarningHigh]):'';t.sCriticalHigh?D.push(y.results[i][t.sCriticalHigh]):'';t.sCriticalLow?F.push(y.results[i][t.sCriticalLow]):'';t.sWarningLow?G.push(y.results[i][t.sWarningLow]):'';A.push(y.results[i][f]);B.push(y.results[i][m]);}try{H=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(H);N=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(N);}catch(e){t.logError(e);}var Q=Number(O);if(t.oConfig.EVALUATION.SCALING==-2){Q*=100;}var R=Math.min.apply(Math,B);var c=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Q,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION,c,t.CURRENCY_CODE);if(t.oConfig.EVALUATION.SCALING==-2){S+=' %';}var T=S.toString();var U=Number(P);if(t.oConfig.EVALUATION.SCALING==-2){U*=100;}var V=Math.max.apply(Math,B);c=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var W=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(U,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION,c,t.CURRENCY_CODE);if(t.oConfig.EVALUATION.SCALING==-2){W+=' %';}var X=W.toString();try{var Y=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.min.apply(Math,A));var Z=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.max.apply(Math,A));}catch(e){t.logError(e);}if(z=='MEASURE'){(C.length!=0)?(t.firstwH=C[Y])&&(t.lastwH=C[Z]):'';(D.length!=0)?(t.firstcH=D[Y])&&(t.lastcH=D[Z]):'';(F.length!=0)?(t.firstcL=F[Y])&&(t.lastcL=F[Z]):'';(G.length!=0)?(t.firstwL=G[Y])&&(t.lastwL=G[Z]):'';}var $={width:'100%',height:'100%',unit:t.unit||'',chart:{color:'Neutral',data:y.results},size:'Auto',minXValue:Y,maxXValue:Z,minYValue:R,maxYValue:V,firstXLabel:{label:H+'',color:'Neutral'},lastXLabel:{label:N+'',color:'Neutral'},firstYLabel:{label:T+'',color:'Neutral'},lastYLabel:{label:X+'',color:'Neutral'},minLabel:{},maxLabel:{}};switch(g){case'MA':for(i in h){if(h[i].TYPE=='CL'){$.minThreshold={color:'Error'};var a1={};a1[f]='';a1[m]=Number(h[i].FIXED);t.cl=Number(h[i].FIXED);$.minThreshold.data=(z=='MEASURE')?y.results:[a1];I=(z=='MEASURE')?t.sCriticalLow:m;}else if(h[i].TYPE=='WL'){$.maxThreshold={color:'Good'};var a1={};a1[f]='';a1[m]=Number(h[i].FIXED);$.maxThreshold.data=(z=='MEASURE')?y.results:[a1];J=(z=='MEASURE')?t.sWarningLow:m;t.wl=Number(h[i].FIXED);}else if(h[i].TYPE=='TA'){var a1={};a1[f]='';a1[m]=Number(h[i].FIXED);$.target={color:'Neutral'};$.target.data=(z=='MEASURE')?y.results:[a1];M=(z=='MEASURE')?t.sTarget:m;}}$.innerMinThreshold={data:[]};$.innerMaxThreshold={data:[]};if(z=='FIXED'){$.firstYLabel.color=O<t.cl?'Error':((t.cl<=O)&&(O<=t.wl))?'Critical':(O>t.wl)?'Good':'Neutral';$.lastYLabel.color=P<t.cl?'Error':((t.cl<=P)&&(P<=t.wl))?'Critical':(P>t.wl)?'Good':'Neutral';}else if(z=='MEASURE'&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL){$.firstYLabel.color=O<t.firstcL?'Error':((t.firstcL<=O)&&(O<=t.firstwL))?'Critical':(O>t.firstwL)?'Good':'Neutral';$.lastYLabel.color=P<t.lastcL?'Error':((t.lastcL<=P)&&(P<=t.lastwL))?'Critical':(P>t.lastwL)?'Good':'Neutral';}break;case'MI':for(i in h){if(h[i].TYPE=='CH'){var a1={};a1[f]='';a1[m]=Number(h[i].FIXED);t.ch=Number(h[i].FIXED);$.maxThreshold={color:'Error'};$.maxThreshold.data=(z=='MEASURE')?y.results:[a1];J=(z=='MEASURE')?t.sCriticalHigh:m;}else if(h[i].TYPE=='WH'){var a1={};a1[f]='';a1[m]=Number(h[i].FIXED);t.wh=Number(h[i].FIXED);$.minThreshold={color:'Good'};$.minThreshold.data=(z=='MEASURE')?y.results:[a1];I=(z=='MEASURE')?t.sWarningHigh:m;}else if(h[i].TYPE=='TA'){var a1={};a1[f]='';a1[m]=Number(h[i].FIXED);$.target={color:'Neutral'};$.target.data=(z=='MEASURE')?y.results:[a1];M=(z=='MEASURE')?t.sTarget:m;}}if(z=='FIXED'){$.firstYLabel.color=O>t.ch?'Error':((t.wh<=O)&&(O<=t.ch))?'Critical':(O<t.wh)?'Good':'Neutral';$.lastYLabel.color=P>t.ch?'Error':((t.wh<=P)&&(P<=t.ch))?'Critical':(P<t.wh)?'Good':'Neutral';}else if(z=='MEASURE'&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){$.firstYLabel.color=O>t.firstcH?'Error':((t.firstwH<=O)&&(O<=t.firstcH))?'Critical':(O<t.firstwH)?'Good':'Neutral';$.lastYLabel.color=P>t.lastcH?'Error':((t.lastwH<=P)&&(P<=t.lastcH))?'Critical':(P<t.lastwH)?'Good':'Neutral';}$.innerMaxThreshold={data:[]};$.innerMinThreshold={data:[]};break;case'RA':for(i in h){if(h[i].TYPE=='CH'){var a1={};a1[f]='';a1[m]=Number(h[i].FIXED);t.ch=Number(h[i].FIXED);$.maxThreshold={color:'Error'};$.maxThreshold.data=(z=='MEASURE')?y.results:[a1];J=(z=='MEASURE')?t.sCriticalHigh:m;}else if(h[i].TYPE=='WH'){var a1={};a1[f]='';a1[m]=Number(h[i].FIXED);t.wh=Number(h[i].FIXED);$.innerMaxThreshold={color:'Good'};$.innerMaxThreshold.data=(z=='MEASURE')?y.results:[a1];L=(z=='MEASURE')?t.sWarningHigh:m;}else if(h[i].TYPE=='WL'){var a1={};a1[f]='';a1[m]=Number(h[i].FIXED);t.wl=Number(h[i].FIXED);$.innerMinThreshold={color:'Good'};$.innerMinThreshold.data=(z=='MEASURE')?y.results:[a1];K=(z=='MEASURE')?t.sWarningLow:m;}else if(h[i].TYPE=='CL'){var a1={};a1[f]='';a1[m]=Number(h[i].FIXED);t.cl=Number(h[i].FIXED);$.minThreshold={color:'Error'};$.minThreshold.data=(z=='MEASURE')?y.results:[a1];I=(z=='MEASURE')?t.sCriticalLow:m;}else if(h[i].TYPE=='TA'){var a1={};a1[f]='';a1[m]=Number(h[i].FIXED);$.target={color:'Neutral'};$.target.data=(z=='MEASURE')?y.results:[a1];M=(z=='MEASURE')?t.sTarget:m;}}if(z=='FIXED'){$.firstYLabel.color=(O>t.ch||O<t.cl)?'Error':((t.wh<=O)&&(O<=t.ch))||((t.cl<=O)&&(O<=t.wl))?'Critical':((O>=t.wl)&&(O<=t.wh))?'Good':'Neutral';$.lastYLabel.color=(P>t.ch||P<t.cl)?'Error':((t.wh<=P)&&(P<=t.ch))||((t.cl<=P)&&(P<=t.wl))?'Critical':((P>=t.wl)&&(P<=t.wh))?'Good':'Neutral';}else if(z=='MEASURE'&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){$.firstYLabel.color=(O>t.firstcH||O<t.firstcL)?'Error':((t.firstwH<=O)&&(O<=t.firstcH))||((t.firstcL<=O)&&(O<=t.firstwL))?'Critical':((O>=t.firstwL)&&(O<=t.firstwH))?'Good':'Neutral';$.lastYLabel.color=(P>t.lastcH||P<t.lastcL)?'Error':((t.lastwH<=P)&&(P<=t.lastcH))||((t.lastcL<=P)&&(P<=t.lastwL))?'Critical':((P>=t.lastwL)&&(P<=t.lastwH))?'Good':'Neutral';}break;}var b1=function(d1,a,b,z){return new sap.suite.ui.microchart.AreaMicroChartItem({color:'{/'+d1+'/color}',points:{path:'/'+d1+'/data',template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:'{'+a+'}',y:'{'+b+'}'})}});};var c1=t.getView().oNVConfContS;c1.setTarget(b1('target',f,M));c1.setInnerMinThreshold(b1('innerMinThreshold',f,K));c1.setInnerMaxThreshold(b1('innerMaxThreshold',f,L));c1.setMinThreshold(b1('minThreshold',f,I));c1.setMaxThreshold(b1('maxThreshold',f,J));c1.setChart(b1('chart',f,m));t.setTextInTile();if(t.getView().getViewData().parentController){t.getView().getViewData().parentController._updateTileModel($);}else{t._updateTileModel($);}}}});}());\n",
	"sap/ushell/components/tiles/indicatorArea/AreaChartTile.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');sap.ui.getCore().loadLibrary('sap.suite.ui.commons');sap.ui.jsview('sap.ushell.components.tiles.indicatorArea.AreaChartTile',{getControllerName:function(){return'sap.ushell.components.tiles.indicatorArea.AreaChartTile';},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var h='Lorem ipsum';var s='Lorem ipsum';var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(t.title&&t.subTitle){h=t.title;s=t.subTitle;}var b=function(n){return new sap.suite.ui.microchart.AreaMicroChartItem({color:'Good',points:{path:'/'+n+'/data',template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:'{day}',y:'{balance}'})}});};var a=function(n){return new sap.suite.ui.microchart.AreaMicroChartLabel({label:'{/'+n+'/label}',color:'{/'+n+'/color}'});};var g={subheader:s,header:h,footerNum:'',footerComp:'',scale:'',unit:'',value:8888,size:'Auto',frameType:'OneByOne',state:sap.m.LoadState.Loading};this.oNVConfContS=new sap.suite.ui.microchart.AreaMicroChart({width:'{/width}',height:'{/height}',size:'{/size}',target:b('target'),innerMinThreshold:b('innerMinThreshold'),innerMaxThreshold:b('innerMaxThreshold'),minThreshold:b('minThreshold'),maxThreshold:b('maxThreshold'),chart:b('chart'),minXValue:'{/minXValue}',maxXValue:'{/maxXValue}',minYValue:'{/minYValue}',maxYValue:'{/maxYValue}',firstXLabel:a('firstXLabel'),lastXLabel:a('lastXLabel'),firstYLabel:a('firstYLabel'),lastYLabel:a('lastYLabel'),minLabel:a('minLabel'),maxLabel:a('maxLabel')});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:'{/unit}',size:'{/size}',footer:'{/footerNum}',content:this.oNVConfContS});this.oGenericTile=new sap.m.GenericTile({subheader:'{/subheader}',frameType:'{/frameType}',size:'{/size}',header:'{/header}',tileContent:[this.oNVConfS]});var G=new sap.ui.model.json.JSONModel();G.setData(g);this.oGenericTile.setModel(G);return this.oGenericTile;}});}());\n",
	"sap/ushell/components/tiles/indicatorDual/DualTile.controller.js":"(function(){'use strict';sap.ui.controller('sap.ushell.components.tiles.indicatorDual.DualTile',{getRelativeTime:function(){var c=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();this.cacheTime=(jQuery.type(this.cacheTime)=='date')?this.cacheTime:new Date(parseInt(this.cacheTime.substr(6),10));var r=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(c-this.cacheTime);var a;switch(r.unit){case'minutes':var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,'minutes');c=c-o;a=new Date(c);break;case'hours':var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,'hours');c=c-o;a=new Date(c);break;case'days':var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,'days');c=c-o;a=new Date(c);break;}return a;},getTile:function(){return this.oKpiTileView.oGenericTile;},setTimeStamp:function(){this.updateTimeStampjobScheduled=false;var f=sap.ui.core.format.DateFormat.getDateTimeInstance({relative:true,relativeSource:'auto'});var t=f.format(this.getRelativeTime());var l=this.getView().oGenericTile.getTileContent()[0];l&&l.setRefreshOption&&l.setRefreshOption(true);l&&l.setTimestamp&&l.setTimestamp(t);this.updateTimeStampjobScheduled=false;var k=this.oConfig.TILE_PROPERTIES.id+'time';var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}sap.ushell.components.tiles.indicatorTileUtils.util.scheduleTimeStampJob.call(this,this.oTileApi.visible.isVisible());},getLocalCache:function(c){var l={};l.ChipId=c.ChipId;l.Data=c.Data;l.CacheMaxAge=c.CacheMaxAgeUnit;l.CacheMaxAgeUnit=c.CacheMaxAgeUnit;l.CacheType=c.CacheType;l.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();return l;},refreshPress:function(){this.initProcess(true);},_getView:function(v,d,r){var a=this.oKpiTileView.getViewData();var b=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:v,viewData:jQuery.extend(true,{},a,{parentController:this},{deferredObj:d},{refresh:r})});return b;},logError:function(e){this._updateTileModel({value:'',scale:'',unit:''});if(this.getView().getViewData().deferredObj){this.getView().getViewData().deferredObj.reject();}},doProcess:function(r){sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(this.oKpiTileView.oConfig.TILE_PROPERTIES.id+'defferedLeft',this.deferred_left);sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(this.oKpiTileView.oConfig.TILE_PROPERTIES.id+'defferedRight',this.deferred_right);var t=this;this.getView().oGenericTile.removeAllTileContent();var s=this.getView().oGenericTile;this.leftView;this.rightView;this.system=this.oTileApi.url.getApplicationSystem();this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loading);var a=t.tileType.split('-')[1];try{var v;v='sap.ushell.components.tiles.indicatornumeric.NumericTile';this.leftView=t._getView(v,this.deferred_left,r);this.leftView.getController().dataCallInProgress=false;s.addTileContent(this.leftView.oGenericTile.getTileContent()[0]);switch(a){case'CM':v='sap.ushell.components.tiles.indicatorcomparison.ComparisonTile';this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case'CT':v='sap.ushell.components.tiles.indicatorcontribution.ContributionTile';this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case'AT':v='sap.ushell.components.tiles.indicatordeviation.DeviationTile';this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case'TT':v='sap.ushell.components.tiles.indicatorArea.AreaChartTile';this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;}this.leftView.getController().onAfterTileRendering();this.rightView.getController().onAfterTileRendering();var l=this.getView().oGenericTile.getTileContent()[0];l&&l.attachRefresh&&l.attachRefresh(jQuery.proxy(this.refreshPress,t));}catch(e){this.logError(e);}},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},setTextInTile:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},doDummyProcess:function(){var t=this;try{t.setTextInTile();switch(t.tileType){case'DT-CM':t._updateTileModel({value:1,size:sap.m.Size.Auto,frameType:sap.m.FrameType.TwoByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Good,indicator:sap.m.DeviationIndicator.None,title:'Liquidity Structure',footer:'Current Quarter',description:'Apr 1st 2013 (B$)',data:[{title:'Measure 1',value:1,color:'Good'},{title:'Measure 2',value:2,color:'Good'},{title:'Measure 3',value:3,color:'Good'}]});break;case'DT-AT':t._updateTileModel({valueColor:'Good',value:100,frameType:sap.m.FrameType.TwoByOne,unit:'USD',actual:{value:120,color:sap.m.ValueColor.Good},targetValue:100,thresholds:[{value:0,color:sap.m.ValueColor.Error},{value:50,color:sap.m.ValueColor.Critical},{value:150,color:sap.m.ValueColor.Critical},{value:200,color:sap.m.ValueColor.Error}],showActualValue:true,showTargetValue:true});break;case'DT-CT':t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.TwoByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:'US Profit Margin',footer:'Current Quarter',description:'Maximum deviation',data:[{title:'Americas',value:10,color:'Neutral',displayValue:''},{title:'EMEA',value:50,color:'Neutral',displayValue:''},{title:'APAC',value:-20,color:'Neutral',displayValue:''}]});break;case'DT-TT':this._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.TwoByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:'Liquidity Structure',footer:'Current Quarter',description:'Apr 1st 2013 (B$)',width:'100%',height:'100%',chart:{color:'Good',data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:'Error',data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:'Good',data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:'Error',data:[]},innerMinThreshold:{color:'Neutral',data:[]},minThreshold:{color:'Error',data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:'June 123',color:'Error'},lastXLabel:{label:'June 30',color:'Error'},firstYLabel:{label:'0M',color:'Good'},lastYLabel:{label:'80M',color:'Critical'},minLabel:{},maxLabel:{}});break;}}catch(e){}},visibleHandler:function(i){if(!i){if(this.leftView){this.leftView.getController().firstTimeVisible=false;}if(this.rightView){this.rightView.getController().firstTimeVisible=false;}sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){if(this.leftView){this.leftView.getController().refreshHandler();}if(this.rightView){this.rightView.getController().refreshHandler();}}},initProcess:function(r){var t=this;this.oKpiTileView=this.getView();this.oResourceBundle=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();this.viewData={};t.viewData=this.oKpiTileView.getViewData();this.oTileApi=this.viewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this));}this.deferred_left=new jQuery.Deferred();this.deferred_right=new jQuery.Deferred();$.when(this.deferred_left,this.deferred_right).done(function(){t.setTextInTile();t.oConfig=t.oKpiTileView.oConfig;t.chipCacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(t.oConfig);t.chipCacheTimeUnit=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(t.oConfig);var l=t.leftView.getController().cacheWriteData;var a=t.rightView.getController().cacheWriteData;t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oKpiTileView.oConfig,t.system);t.oKpiTileView.oGenericTile.$().wrap(\"<a href ='\"+n+\"'/>\");t.oKpiTileView.oGenericTile.attachPress(function(){t.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oKpiTileView.oConfig.TILE_PROPERTIES.id,null);window.location.hash=n;});var c={};var w={};w.leftData=l;w.rightData=a;c.ChipId=t.oConfig.TILE_PROPERTIES.id;c.Data=JSON.stringify(w);c.CacheMaxAge=Number(t.chipCacheTime);c.CacheMaxAgeUnit=t.chipCacheTimeUnit;c.CacheType=1;var b=t.getLocalCache(c);if(w.leftData&&w.rightData){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,b);}var d=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(t.chipCacheTime&&w.leftData&&w.rightData){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,c,false,function(e){if(e){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,e);t.cacheTime=e.CachedTime;t.setTimeStamp.call(t);}});}if(t.chipCacheTime){if(!t.cacheTime){t.cacheTime=d.CachedTime;}t.setTimeStamp.call(t);sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(t,t.oTileApi.visible.isVisible());}}).fail(function(){t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Failed);});t.tileType=t.oKpiTileView.oConfig.TILE_PROPERTIES.tileType;this.oTileApi=t.viewData.chip;if(this.oTileApi.preview.isEnabled()){this.doDummyProcess();t.oKpiTileView.oGenericTile.attachPress(function(){sap.m.MessageToast.show(t.oResourceBundle.getText('sb.NavigationHelp'));});}else{this.doProcess(r);}},onAfterRendering:function(){this.initProcess();},setNoData:function(){try{this._updateTileModel({value:'',scale:'',unit:'',footerNum:this.oResourceBundle.getText('sb.noDataAvailable'),footerComp:this.oResourceBundle.getText('sb.noDataAvailable')});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}catch(e){}},getChipConfiguration:function(c){var t=this;try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(t.oTileApi.configuration.getParameterValueAsString('tileConfiguration'),t.oTileApi.preview.isEnabled(),function(a){t.oConfig=a;c.call();});}catch(e){t.logError(e.message);}}});}());\n",
	"sap/ushell/components/tiles/indicatorDual/DualTile.view.js":"//Copyright (c) 2013 SAP AG, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');jQuery.sap.require('sap.ushell.components.tiles.sbtilecontent');sap.ui.getCore().loadLibrary('sap.suite.ui.commons');sap.ui.jsview('sap.ushell.components.tiles.indicatorDual.DualTile',{getControllerName:function(){return'sap.ushell.components.tiles.indicatorDual.DualTile';},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var t=this;t.tileData;t.oGenericTileData={};sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(t.getViewData().chip.configuration.getParameterValueAsString('tileConfiguration'),t.getViewData().chip.preview.isEnabled(),function(e){t.oConfig=e;});t.tileType=t.oConfig.TILE_PROPERTIES.tileType;t.oNumericContent=new sap.m.NumericContent({value:'{/value}',scale:'{/scale}',unit:'{/unit}',indicator:'{/indicator}',size:'{/size}',formatterValue:'{/isFormatterValue}',truncateValueTo:5,valueColor:'{/valueColor}',nullifyValue:false});t.oLeftTileContent=new sap.ushell.components.tiles.sbtilecontent({unit:'{/unit}',size:'{/size}',footer:'{/footerNum}',content:t.oNumericContent});switch(t.tileType){case'DT-CM':var C=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{title}',value:'{value}',color:'{color}',displayValue:'{displayValue}'});t.oComparisionContent=new sap.suite.ui.microchart.ComparisonMicroChart({size:'{/size}',scale:'{/scale}',data:{template:C,path:'/data'}});t.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:'{/unit}',size:'{/size}',footer:'{/footerNum}',content:t.oComparisionContent});break;case'DT-CT':var C=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{title}',value:'{value}',color:'{color}',displayValue:'{displayValue}'});t.oContributionContent=new sap.suite.ui.microchart.ComparisonMicroChart({size:'{/size}',scale:'{/scale}',data:{template:C,path:'/data'}});t.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:'{/unit}',size:'{/size}',footer:'{/footerNum}',content:t.oContributionContent});break;case'DT-TT':var b=function(n){return new sap.suite.ui.microchart.AreaMicroChartItem({color:'Good',points:{path:'/'+n+'/data',template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:'{day}',y:'{balance}'})}});};var a=function(n){return new sap.suite.ui.microchart.AreaMicroChartLabel({label:'{/'+n+'/label}',color:'{/'+n+'/color}'});};var d=new sap.suite.ui.microchart.AreaMicroChart({width:'{/width}',height:'{/height}',size:'{/size}',target:b('target'),innerMinThreshold:b('innerMinThreshold'),innerMaxThreshold:b('innerMaxThreshold'),minThreshold:b('minThreshold'),maxThreshold:b('maxThreshold'),chart:b('chart'),minXValue:'{/minXValue}',maxXValue:'{/maxXValue}',minYValue:'{/minYValue}',maxYValue:'{/maxYValue}',firstXLabel:a('firstXLabel'),lastXLabel:a('lastXLabel'),firstYLabel:a('firstYLabel'),lastYLabel:a('lastYLabel'),minLabel:a('minLabel'),maxLabel:a('maxLabel')});t.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:'{/unit}',size:'{/size}',content:d});break;case'DT-AT':var B=new sap.suite.ui.microchart.BulletMicroChartData({value:'{value}',color:'{color}'});var o=new sap.suite.ui.microchart.BulletMicroChart({size:sap.m.Size.Auto,scale:'{/scale}',actual:{value:'{/actual/value}',color:'{/actual/color}'},targetValue:'{/targetValue}',actualValueLabel:'{/actualValueLabel}',targetValueLabel:'{/targetValueLabel}',thresholds:{template:B,path:'/thresholds'},state:'{/state}',showActualValue:'{/showActualValue}',showTargetValue:'{/showTargetValue}'});t.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:'{/unit}',size:'{/size}',footer:'{/footerNum}',content:o});break;}t.oGenericTile=new sap.m.GenericTile({subheader:'{/subheader}',frameType:'TwoByOne',size:'{/size}',header:'{/header}',tileContent:[t.oLeftTileContent,t.oRightContent]});t.oGenericTileModel=new sap.ui.model.json.JSONModel();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});}());\n",
	"sap/ushell/components/tiles/indicatorDualComparison/DualComparison.controller.js":"(function(){'use strict';sap.ui.controller('tiles.indicatorDualComparison.DualComparison',{getTile:function(){return this.oDualComparisonView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},setTitle:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oChip);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},logError:function(e){this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},formSelectStatement:function(o){var t=Object.keys(o);var f='';for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=','+o[t[i]];}}return f;},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case'MI':T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;case'MA':T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;case'RA':T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','FIXED');T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','FIXED');T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','FIXED');T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','FIXED');T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','FIXED');T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','FIXED');}return T;}catch(e){t.logError(e);}},getTrendColor:function(t){var a=this;var c,w,b,d;try{var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var r=sap.m.ValueColor.Neutral;if(i==='MI'){if(t.criticalHighValue&&t.warningHighValue){c=Number(t.criticalHighValue);w=Number(t.warningHighValue);if(this.CALCULATED_KPI_VALUE<w){r=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=c){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Error;}}}else if(i==='MA'){if(t.criticalLowValue&&t.warningLowValue){b=Number(t.criticalLowValue);d=Number(t.warningLowValue);if(this.CALCULATED_KPI_VALUE<b){r=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=d){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}else{if(t.warningLowValue&&t.warningHighValue&&t.criticalLowValue&&t.criticalHighValue){c=Number(t.criticalHighValue);w=Number(t.warningHighValue);d=Number(t.warningLowValue);b=Number(t.criticalLowValue);if(this.CALCULATED_KPI_VALUE<b||this.CALCULATED_KPI_VALUE>c){r=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=d)||(this.CALCULATED_KPI_VALUE>=w&&this.CALCULATED_KPI_VALUE<=c)){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}return r;}catch(e){a.logError(e);}},_processDataForComparisonChart:function(d,m,u){var f=[],L={},i,t,l;var a;var T=[];var b=this;for(i=0;i<d.results.length;i++){var e=d.results[i];}T=sap.ushell.components.tiles.indicatorTileUtils.util.getAllMeasuresWithLabelText(this.oConfig.EVALUATION.ODATA_URL,this.oConfig.EVALUATION.ODATA_ENTITYSET);for(i=0,l=T.length;i<l;i++){t=T[i];L[t.key]=t.value;}var c=b.oConfig.TILE_PROPERTIES.COLUMN_NAMES||b.oConfig.EVALUATION.COLUMN_NAMES;for(i=0;i<c.length;i++){var g={};var h=c[i];g.value=Number(e[h.COLUMN_NAME]);var j=Number(e[h.COLUMN_NAME]);if(b.oConfig.EVALUATION.SCALING==-2){j*=100;}a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(j,b.oConfig.EVALUATION.SCALING,b.oConfig.EVALUATION.DECIMAL_PRECISION);if(b.oConfig.EVALUATION.SCALING==-2){a+=' %';}g.displayValue=a.toString();if(u[i]&&e[u[i].name]){g.displayValue+=' '+e[u[i].name];}g.color=h.semanticColor;g.title=L[h.COLUMN_NAME]||h.COLUMN_NAME;f.push(g);}return f;},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},fetchKpiValue:function(s,E){var t=this;try{var u=this.oConfig.EVALUATION.ODATA_URL;var a=this.oConfig.EVALUATION.ODATA_ENTITYSET;if(this.oConfig.TILE_PROPERTIES.semanticMeasure){var m=this.oConfig.EVALUATION.COLUMN_NAME+','+this.oConfig.TILE_PROPERTIES.semanticMeasure;}else{var m=this.oConfig.EVALUATION.COLUMN_NAME;var b=m;if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES){for(var j=0;j<this.oConfig.TILE_PROPERTIES.COLUMN_NAMES.length;j++){if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){b=b+','+this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME;}}}}var d=this.oConfig.EVALUATION_VALUES;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!c){var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o={};o['0']=m+',asc';o['1']=m+',desc';var f=o[this.oConfig.TILE_PROPERTIES.sortOrder||'0'].split(',');var g=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(u),a,b,null,v,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){g.uri+='&$orderby='+f[0]+' '+f[2];}else{g.uri+='&$orderby='+f[0]+' '+f[1];}this.writeData={};this.comparisionChartODataRef=g.model.read(g.uri,null,null,true,function(d){if(d&&d.results&&d.results.length){if(g.unit){t.writeData.unit=g.unit;}t.oConfig.TILE_PROPERTIES.FINALVALUE=d;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,b.split(',')[0],g.unit);t.writeData.data=d;var k,l;for(var i=0;i<t.oConfig.TILE_PROPERTIES.FINALVALUE.length;i++){if(t.oConfig.TILE_PROPERTIES.FINALVALUE[i].title==t.DEFINITION_DATA.EVALUATION.COLUMN_NAME){t.writeData.numericData=t.oConfig.TILE_PROPERTIES.FINALVALUE[i];calculatedValueforScaling=t.oConfig.TILE_PROPERTIES.FINALVALUE[i].value;t.getTrendIndicator(t.setThresholdValues().trendValue,calculatedValueforScaling);t._updateTileModel({valueColor:t.oConfig.TILE_PROPERTIES.FINALVALUE[i].color,value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(l),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION).toString()});break;}}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(d.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=d;t.writeData.data=d;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else{E.call(t,'no Response from QueryServiceUri');}},function(i){if(i&&i.response){jQuery.sap.log.error(i.message+' : '+i.request.requestUri);E.call(t,i);}});if(!t.writeData.numericData){var h=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(t.DEFINITION_DATA.EVALUATION_FILTERS,t.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(u),a,m,null,h);if(q){t.QUERY_SERVICE_MODEL=q.model;t.queryUriForKpiValue=q.uri;t.numericODataReadRef=t.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(d){if(d&&d.results&&d.results.length){if(q.unit){t._updateTileModel({unitNumeric:d.results[0][q.unit.name]});t.writeData.unitNumeric=q.unit;t.writeData.unitNumeric.name=q.unit.name;}t.writeData.numericData=d.results[0];t.DEFINITION_DATA.value=t.writeData.numericData[t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];t.writeData.numericData.color=t.getTrendColor(t.setThresholdValues());t.DEFINITION_DATA.valueColor=t.writeData.numericData.color;var S='';var i=d.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var k=t.getTrendIndicator(t.setThresholdValues().trendValue,i);if(t.oConfig.EVALUATION.SCALING==-2){i*=100;t.getView().oNumericContent.setFormatterValue(false);}S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:'%'});}t._updateTileModel({value:S.toString(),valueColor:t.writeData.numericData.color,indicator:k});}else{E.call(t,'no Response from QueryServiceUri');}});}}}else{if(c.unit){t._updateTileModel({unit:c.data.results[0][c.unit.name]});}if(c.data&&c.data.results&&c.data.results.length){t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;t._updateTileModel({value:c.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME]});t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,b,t.writeData.unit);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(d.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else{E.call(t,'no Response from QueryServiceUri');}}}catch(e){E.call(t,e);}},flowWithoutDesignTimeCall:function(){var t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oChip.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(k){this.CALCULATED_KPI_VALUE=k;t.oDualComparisonView.oGenericTile.setFrameType('TwoByOne');t.oDualComparisonView.oGenericTile.removeAllTileContent();t.oDualComparisonView.oGenericTile.addTileContent(t.oDualComparisonView.oNumericTile);t.oDualComparisonView.oGenericTile.addTileContent(t.oDualComparisonView.oComparisonTile);var c=this.CALCULATED_KPI_VALUE;var a,b;for(var i=0;i<c.length;i++){if(c[i].title==t.DEFINITION_DATA.EVALUATION.COLUMN_NAME){b=c[i].value;a=c[i].color||'Neutral';t._updateTileModel({value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION).toString(),valueColor:a});break;}}if(!a&&!b){a=t.DEFINITION_DATA.valueColor;b=t.DEFINITION_DATA.value;}this._updateTileModel({value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION).toString(),data:this.CALCULATED_KPI_VALUE});var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualComparisonView.oGenericTile.$().wrap(\"<a href ='\"+n+\"'/>\");this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Loaded);var s='';if(a=='Error'){s='sb.error';}if(a=='Neutral'){s='sb.neutral';}if(a=='Critical'){s='sb.critical';}if(a=='Good'){s='sb.good';}var T=t.setThresholdValues();var m,d,e,v,f,g,h,j,l;if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[0]){m=this.CALCULATED_KPI_VALUE[0].title;v=this.CALCULATED_KPI_VALUE[0].value;h=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[0].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[1]){d=this.CALCULATED_KPI_VALUE[1].title;f=this.CALCULATED_KPI_VALUE[1].value;j=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[1].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[2]){e=this.CALCULATED_KPI_VALUE[2].title;g=this.CALCULATED_KPI_VALUE[2].value;l=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[2].color);}var o={status:s,actual:b,target:T.targetValue,cH:T.criticalHighValue,wH:T.warningHighValue,wL:T.warningLowValue,cL:T.criticalLowValue};var p={m1:m,v1:v,c1:h,m2:d,v2:f,c2:j,m3:e,v3:g,c3:l};var C=t.oDualComparisonView.oGenericTile.getTileContent()[0].getContent();var q=t.oDualComparisonView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,'NT',o);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(q,'COMP',p);},this.logError);}},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oChip.configuration.getParameterValueAsString('isSufficient'))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){this.refreshHandler(this);}},onInit:function(){var t=this;this.firstTimeVisible=false;this.oDualComparisonView=this.getView();this.oChip=this.oDualComparisonView.getViewData().chip;if(this.oChip.visible){this.oChip.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oChip.url.getApplicationSystem();this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oChip.configuration.getParameterValueAsString('tileConfiguration'),this.oChip.preview.isEnabled(),function(c){t.oConfig=c;if(t.oChip.preview){t.oChip.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}if(t.oChip.preview.isEnabled()){t.setTitle();t._updateTileModel({value:1,size:sap.m.Size.Auto,frameType:'TwoByOne',state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Good,indicator:sap.m.DeviationIndicator.None,title:'Liquidity Structure',footer:'Current Quarter',description:'Apr 1st 2013 (B$)',data:[{title:'Measure 1',value:1,color:'Good'},{title:'Measure 2',value:2,color:'Good'},{title:'Measure 3',value:3,color:'Good'}]});t.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.oConfig.TILE_PROPERTIES.FINALVALUE;t.setTitle();t.oDualComparisonView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.comparisionChartODataRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oChip.configuration.getParameterValueAsString('isSufficient'))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}}});}catch(e){this.logError(e);}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}});}());\n",
	"sap/ushell/components/tiles/indicatorDualComparison/DualComparison.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');sap.ui.getCore().loadLibrary('sap.suite.ui.commons');sap.ui.jsview('tiles.indicatorDualComparison.DualComparison',{getControllerName:function(){return'tiles.indicatorDualComparison.DualComparison';},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var t=this;t.tileData;t.oGenericTileData={};t.oNumericContent=new sap.m.NumericContent({value:'{/value}',scale:'{/scale}',unit:'{/unit}',indicator:'{/indicator}',size:'{/size}',formatterValue:true,truncateValueTo:6,valueColor:'{/valueColor}'});t.oNumericTile=new sap.m.TileContent({unit:'{/unit}',size:'{/size}',footer:'{/footerNum}',content:t.oNumericContent});t.oCmprsDataTmpl=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{title}',value:'{value}',color:'{color}',displayValue:'{displayValue}'});t.oCmprsChrtTmpl=new sap.suite.ui.microchart.ComparisonMicroChart({size:'{/size}',scale:'{/scale}',data:{template:t.oCmprsDataTmpl,path:'/data'}});t.oComparisonTile=new sap.m.TileContent({unit:'{/unit}',size:'{/size}',footer:'{/footerComp}',content:t.oCmprsChrtTmpl});t.oGenericTile=new sap.m.GenericTile({subheader:'{/subheader}',frameType:'{/frameType}',size:'{/size}',header:'{/header}',tileContent:[t.oNumericTile,t.oComparisonTile]});t.oGenericTileModel=new sap.ui.model.json.JSONModel();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});}());\n",
	"sap/ushell/components/tiles/indicatorDualContribution/DualContribution.controller.js":"(function(){'use strict';sap.ui.controller('tiles.indicatorDualContribution.DualContribution',{getTile:function(){return this.oDualContributionView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);this.getTile().getModel().updateBindings();},setTitle:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oChip);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},formSelectStatement:function(o){var t=Object.keys(o);var f='';for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=','+o[t[i]];}}return f;},logError:function(e){this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case'MI':T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;case'MA':T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;case'RA':T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','FIXED');T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','FIXED');T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','FIXED');T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','FIXED');T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','FIXED');T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','FIXED');}return T;}catch(e){t.logError(e);}},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},_processDataForComparisonChart:function(d,m,a){var s=this.oConfig.TILE_PROPERTIES.semanticMeasure;var f=[];var t;for(var i=0;i<d.results.length;i++){var b=d.results[i];var c={};try{c.title=b[a].toString();}catch(e){c.title='';}c.value=Number(b[m]);var g=Number(b[m]);if(this.oConfig.EVALUATION.SCALING==-2){g*=100;}t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(g,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION);c.displayValue=t.toString();if(typeof s==='undefined'){c.color='Neutral';}else{if(this.oConfig.EVALUATION.GOAL_TYPE==='MA'){if(c.value>b[s]){c.color='Good';}else{c.color='Error';}}else if(this.oConfig.EVALUATION.GOAL_TYPE==='MI'){if(c.value<b[s]){c.color='Good';}else{c.color='Error';}}else{c.color='Neutral';}}f.push(c);}return f;},fetchKpiValue:function(s,E){var t=this;try{var u=this.oConfig.EVALUATION.ODATA_URL;var a=this.oConfig.EVALUATION.ODATA_ENTITYSET;if(this.oConfig.TILE_PROPERTIES.semanticMeasure){var m=this.oConfig.EVALUATION.COLUMN_NAME+','+this.oConfig.TILE_PROPERTIES.semanticMeasure;}else{var m=this.oConfig.EVALUATION.COLUMN_NAME;}var d=this.oConfig.TILE_PROPERTIES.dimension;var b=this.oConfig.EVALUATION_VALUES;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!c){var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o={};o['0']=m+',asc';o['1']=m+',desc';o['2']=d+',asc';o['3']=d+',desc';var f=o[this.oConfig.TILE_PROPERTIES.sortOrder||'0'].split(',');var g=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(u),a,m,d,v,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){g.uri+='&$top=3&$orderby='+f[0]+' '+f[2];}else{g.uri+='&$top=3&$orderby='+f[0]+' '+f[1];}this.comparisionChartODataRef=g.model.read(g.uri,null,null,true,function(b){if(g.unit[0]){t._updateTileModel({unitContribution:b.results[0][g.unit[0].name]});t.writeData.unitContribution=g.unit[0];t.writeData.unitContribution.name=g.unit[0].name;}if(b&&b.results&&b.results.length){d=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oChip.url.addSystemToServiceUrl(u),a,d);t.writeData.dimension=d;t.oConfig.TILE_PROPERTIES.FINALVALUE=b;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,m.split(',')[0],d);t.writeData.data=b;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(b.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=b;t.writeData.data=b;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);}else{E.call(t,'no Response from QueryServiceUri');}},function(k){if(k&&k.response){jQuery.sap.log.error(k.message+' : '+k.request.requestUri);E.call(t,k);}});var h=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(t.DEFINITION_DATA.EVALUATION_FILTERS,t.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(u),a,m,null,h);if(q){t.QUERY_SERVICE_MODEL=q.model;t.queryUriForKpiValue=q.uri;t.numericODataReadRef=t.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(b){if(b&&b.results&&b.results.length){if(q.unit){t._updateTileModel({unitNumeric:b.results[0][q.unit.name]});t.writeData.unitNumeric=q.unit;t.writeData.unitNumeric.name=q.unit.name;}t.writeData.numericData=b;var S='';var i=b.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var j=t.getTrendIndicator(t.setThresholdValues().trendValue,i);if(t.oConfig.EVALUATION.SCALING==-2){i*=100;t.getView().oNumericContent.setFormatterValue(false);}t.DEFINITION_DATA.value=i;S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:'%'});}t._updateTileModel({value:S.toString(),valueColor:t.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution,indicator:j});s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE,i);}else{E.call(t,'no Response from QueryServiceUri');}});}}else{var T=t.setThresholdValues();var i;if(c.unitContribution){t._updateTileModel({unitContribution:c.data.results[0][c.unitContribution.name]});}if(c.unitNumeric){t._updateTileModel({unitNumeric:c.numericData.results[0][c.unitNumeric.name]});}if(c.data&&c.data.results&&c.data.results.length){d=c.dimension;t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,m.split(',')[0],d);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(b.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;}else{E.call(t,'no Response from QueryServiceUri');}if(c.numericData&&c.numericData.results&&c.numericData.results.length){i=c.numericData.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(t.oConfig.EVALUATION.SCALING==-2){i*=100;t.getView().oNumericContent.setFormatterValue(false);}var S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:'%'});}var j=t.getTrendIndicator(T.trendValue,i);t._updateTileModel({value:S.toString(),indicator:j,valueColor:t.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution});s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE,i);}else{E.call(t,'no Response from QueryServiceUri');}}}catch(e){E.call(t,e);}},flowWithoutDesignTimeCall:function(){var t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oChip.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(k,c){this.CALCULATED_KPI_VALUE=k;if(t.oConfig.TILE_PROPERTIES.frameType=='TwoByOne'){t.oDualContributionView.oGenericTile.setFrameType('TwoByOne');t.oDualContributionView.oGenericTile.removeAllTileContent();t.oDualContributionView.oGenericTile.addTileContent(t.oDualContributionView.oNumericTile);t.oDualContributionView.oGenericTile.addTileContent(t.oDualContributionView.oComparisonTile);}else{t.oDualContributionView.oGenericTile.setFrameType('OneByOne');t.oDualContributionView.oGenericTile.removeAllTileContent();t.oDualContributionView.oGenericTile.addTileContent(t.oDualContributionView.oComparisonTile);}var d=this.CALCULATED_KPI_VALUE;var a=this.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution;for(var i=0;i<this.CALCULATED_KPI_VALUE.length;i++){d[i].color=a;}this._updateTileModel({data:d});var T=t.setThresholdValues();var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualContributionView.oGenericTile.$().wrap(\"<a href ='\"+n+\"'/>\");this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Loaded);var s='';if(a=='Error'){s='sb.error';}if(a=='Neutral'){s='sb.neutral';}if(a=='Critical'){s='sb.critical';}if(a=='Good'){s='sb.good';}var T=t.setThresholdValues();var m,b,e,v,f,g,h,j,l;if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[0]){m=this.CALCULATED_KPI_VALUE[0].title;v=this.CALCULATED_KPI_VALUE[0].value;h=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[0].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[1]){b=this.CALCULATED_KPI_VALUE[1].title;f=this.CALCULATED_KPI_VALUE[1].value;j=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[1].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[2]){e=this.CALCULATED_KPI_VALUE[2].title;g=this.CALCULATED_KPI_VALUE[2].value;l=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[2].color);}var o={status:s,actual:c,target:T.targetValue,cH:T.criticalHighValue,wH:T.warningHighValue,wL:T.warningLowValue,cL:T.criticalLowValue};var p={m1:m,v1:v,c1:h,m2:b,v2:f,c2:j,m3:e,v3:g,c3:l};var C=t.oDualContributionView.oGenericTile.getTileContent()[0].getContent();var q=t.oDualContributionView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,'NT',o);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(q,'CONT',p);},this.logError);}},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oChip.configuration.getParameterValueAsString('isSufficient'))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){this.refreshHandler(this);}},onInit:function(){var t=this;t.writeData={};this.firstTimeVisible=false;this.oDualContributionView=this.getView();this.oChip=this.oDualContributionView.getViewData().chip;if(this.oChip.visible){this.oChip.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oChip.url.getApplicationSystem();this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oChip.configuration.getParameterValueAsString('tileConfiguration'),this.oChip.preview.isEnabled(),function(c){t.oConfig=c;if(t.oChip.preview){t.oChip.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}if(t.oChip.preview.isEnabled()){t.setTitle();t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:'TwoByOne',state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:'US Profit Margin',footer:'Current Quarter',description:'Maximum deviation',data:[{title:'Americas',value:10,color:'Neutral',displayValue:''},{title:'EMEA',value:50,color:'Neutral',displayValue:''},{title:'APAC',value:-20,color:'Neutral',displayValue:''}]});t.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.oConfig.TILE_PROPERTIES.FINALVALUE;t.setTitle();t.oDualContributionView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.comparisionChartODataRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oChip.configuration.getParameterValueAsString('isSufficient'))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}}});}catch(e){this.logError(e);}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}});}());\n",
	"sap/ushell/components/tiles/indicatorDualContribution/DualContribution.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');sap.ui.getCore().loadLibrary('sap.suite.ui.commons');sap.ui.jsview('tiles.indicatorDualContribution.DualContribution',{getControllerName:function(){return'tiles.indicatorDualContribution.DualContribution';},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var t=this;t.tileData;t.oGenericTileData={};t.oNumericContent=new sap.m.NumericContent({value:'{/value}',scale:'{/scale}',indicator:'{/indicator}',size:'{/size}',formatterValue:true,truncateValueTo:6,valueColor:'{/valueColor}'});t.oNumericTile=new sap.m.TileContent({unit:'{/unitNumeric}',size:'{/size}',footer:'{/footerNum}',content:t.oNumericContent});t.oCmprsDataTmpl=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{title}',value:'{value}',color:'{color}',displayValue:'{displayValue}'});t.oCmprsChrtTmpl=new sap.suite.ui.microchart.ComparisonMicroChart({size:'{/size}',scale:'{/scale}',data:{template:t.oCmprsDataTmpl,path:'/data'}});t.oComparisonTile=new sap.m.TileContent({unit:'{/unitContribution}',size:'{/size}',footer:'{/footerComp}',content:t.oCmprsChrtTmpl});t.oGenericTile=new sap.m.GenericTile({subheader:'{/subheader}',frameType:'{/frameType}',size:'{/size}',header:'{/header}',tileContent:[t.oNumericTile,t.oComparisonTile]});t.oGenericTileModel=new sap.ui.model.json.JSONModel();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});}());\n",
	"sap/ushell/components/tiles/indicatorDualDeviation/DualDeviation.controller.js":"(function(){'use strict';sap.ui.controller('tiles.indicatorDualDeviation.DualDeviation',{logError:function(e){this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},getThresholdsObjAndColor:function(t){try{var T={};T.arrObj=[];T.returnColor=sap.m.ValueColor.Neutral;var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var w,c,a,b;if(i==='MI'){a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;if(a&&b){a=window.parseFloat(a);b=window.parseFloat(b);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<b){T.returnColor=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=a){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Error;}}}else if(i==='MA'){c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(c&&w){c=window.parseFloat(c);w=window.parseFloat(w);T.arrObj.push({value:c,color:sap.m.ValueColor.Error});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<c){T.returnColor=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=w){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}else{a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(w&&b&&c&&c){a=window.parseFloat(a);b=window.parseFloat(b);w=window.parseFloat(w);c=window.parseFloat(c);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});T.arrObj.push({value:c,color:sap.m.ValueColor.Error});if(this.CALCULATED_KPI_VALUE<c||this.CALCULATED_KPI_VALUE>a){T.returnColor=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=c&&this.CALCULATED_KPI_VALUE<=w)||(this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=a)){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}return T;}catch(e){this.logError(e);}},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},getTile:function(){return this.oDualDeviationView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},formSelectStatement:function(o){var t=Object.keys(o);var f='';for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=','+o[t[i]];}}return f;},setThresholdValues:function(){var t=this;var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case'MI':T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;case'MA':T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;case'RA':T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','FIXED');T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','FIXED');T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','FIXED');T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','FIXED');T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','FIXED');T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','FIXED');}return T;},fetchKpiValue:function(s,E){var t=this;var k=0;try{var u=this.DEFINITION_DATA.EVALUATION.ODATA_URL;var a=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var T=this.setThresholdValues();var m=T.fullyFormedMeasure;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!c){var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),a,m,null,v);if(q){this.QUERY_SERVICE_MODEL=q.model;this.queryUriForKpiValue=q.uri;try{this.queryServiceUriODataReadRef=this.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(f){t.writeData={};if(f&&f.results&&f.results.length){k=f.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(q.unit[0]){t._updateTileModel({unit:f.results[0][q.unit[0].name]});t.writeData.unit=q.unit[0];t.writeData.unit.name=q.unit[0].name;}t.writeData.numericData=f;var S='',d;var b=k;if(t.oConfig.EVALUATION.SCALING==-2){b*=100;t.getView().oNumericContent.setFormatterValue(false);}S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);d=t.getTrendIndicator(T.trendValue,b);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:'%'});}t._updateTileModel({value:S.toString(),indicator:d,valueColor:t.getThresholdsObjAndColor(T).returnColor});t.writeData.data=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){T.criticalHighValue=f.results[0][T.sCriticalHigh];T.criticalLowValue=f.results[0][T.sCriticalLow];T.warningHighValue=f.results[0][T.sWarningHigh];T.warningLowValue=f.results[0][T.sWarningLow];T.targetValue=f.results[0][T.sTarget];T.trendValue=f.results[0][T.sTrend];}s.call(t,k,T);}else{E.call(t,'no Response from QueryServiceUri');}},function(f){if(f&&f.response){E.call(t,f.message);}});}catch(e){t.logError('Error in Query Service URI');}}}else{if(c.data&&c.data.results&&c.data.results.length){var b,S,d,T;T=t.setThresholdValues();b=c.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(t.oConfig.EVALUATION.SCALING==-2){b*=100;t.getView().oNumericContent.setFormatterValue(true);}if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:'%'});}S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);d=t.getTrendIndicator(T.trendValue,b);if(c.unit){t._updateTileModel({unit:c.data.results[0][c.unit.name]});}t._updateTileModel({indicator:d,value:S.toString()});if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){T.criticalHighValue=c.data.results[0][T.sCriticalHigh];T.criticalLowValue=c.data.results[0][T.sCriticalLow];T.warningHighValue=c.data.results[0][T.sWarningHigh];T.warningLowValue=c.data.results[0][T.sWarningLow];T.targetValue=c.data.results[0][T.sTarget];T.trendValue=c.data.results[0][T.sTrend];}s.call(t,c.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME],T);}else{E.call(t,'no Response from QueryServiceUri');}}}catch(e){E.call(t,e);}},flowWithoutDesignTimeCall:function(){var t=this;var f,a;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oTileApi.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(k,b){var c=Number(k);if(this.oConfig.EVALUATION.SCALING==-2){c*=100;}f=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(c),this.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);this.CALCULATED_KPI_VALUE=Number(k);var d={};var e=this.getThresholdsObjAndColor(b);var g={value:Number(k),color:e.returnColor};d.valueColor=g.color;d.actualValueLabel=f.toString();d.actual=g;var h=this.DEFINITION_DATA.EVALUATION_VALUES;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){var i=Number(b.targetValue);if(this.oConfig.EVALUATION.SCALING==-2){i*=100;}a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(i,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION);d.targetValue=Number(b.targetValue);d.targetValueLabel=a.toString();}else{for(var j=0;j<h.length;j++){if(h[j].TYPE==='TA'){var i=Number(h[j].FIXED);if(this.oConfig.EVALUATION.SCALING==-2){i*=100;}a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(i);d.targetValue=Number(h[j].FIXED);d.targetValueLabel=a.toString();}}}this._updateTileModel(d);var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualDeviationView.oGenericTile.$().wrap(\"<a href ='\"+n+\"'/>\");this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Loaded);var s='';if(d.valueColor=='Error'){s='sb.error';}if(d.valueColor=='Neutral'){s='sb.neutral';}if(d.valueColor=='Critical'){s='sb.critical';}if(d.valueColor=='Good'){s='sb.good';}var v={status:s,actual:c,target:b.targetValue,cH:b.criticalHighValue,wH:b.warningHighValue,wL:b.warningLowValue,cL:b.criticalLowValue};var l=v;var C=t.oDualDeviationView.oGenericTile.getTileContent()[0].getContent();var o=t.oDualDeviationView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,'NT',v);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(o,'DT',l);},this.logError);}},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oTileApi.configuration.getParameterValueAsString('isSufficient'))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);}if(i){this.refreshHandler(this);}},setTextInTile:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},onInit:function(){var t=this;this.firstTimeVisible=false;this.oDualDeviationView=this.getView();this.oViewData=this.oDualDeviationView.getViewData();this.oTileApi=this.oViewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oTileApi.url.getApplicationSystem();this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(t.oTileApi.configuration.getParameterValueAsString('tileConfiguration'),t.oTileApi.preview.isEnabled(),function(c){t.oConfig=c;t.setTextInTile();if(t.oTileApi.preview){t.oTileApi.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}if(t.oTileApi.preview.isEnabled()){t._updateTileModel({valueColor:'Good',value:100,frameType:'TwoByOne',unit:'USD',actual:{value:120,color:sap.m.ValueColor.Good},targetValue:100,thresholds:[{value:0,color:sap.m.ValueColor.Error},{value:50,color:sap.m.ValueColor.Critical},{value:150,color:sap.m.ValueColor.Critical},{value:200,color:sap.m.ValueColor.Error}],showActualValue:true,showTargetValue:true});t.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.oDualDeviationView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oTileApi.configuration.getParameterValueAsString('isSufficient'))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}}});}catch(e){this.logError(e);}},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new sap.ui.model.json.JSONModel({}));}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);}});}());\n",
	"sap/ushell/components/tiles/indicatorDualDeviation/DualDeviation.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');sap.ui.getCore().loadLibrary('sap.suite.ui.commons');sap.ui.jsview('tiles.indicatorDualDeviation.DualDeviation',{getControllerName:function(){return'tiles.indicatorDualDeviation.DualDeviation';},createContent:function(c){var t=this;this.setHeight('100%');this.setWidth('100%');this.getViewData().chip.preview;var h='Lorem ipsum';var s='Lorem ipsum';var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(a.title&&a.subTitle){h=a.title;s=a.subTitle;}var d={subheader:s,header:h,footerNum:'',footerComp:'',frameType:'TwoByOne',state:sap.m.LoadState.Loading,scale:''};t.oNumericContent=new sap.m.NumericContent({value:'{/value}',scale:'{/scale}',unit:'{/unit}',indicator:'{/indicator}',size:'{/size}',formatterValue:true,truncateValueTo:6,valueColor:'{/valueColor}'});t.oNumericTile=new sap.m.TileContent({unit:'{/unit}',size:'{/size}',footer:'{/footerNum}',content:t.oNumericContent});var b=new sap.suite.ui.microchart.BulletMicroChartData({value:'{value}',color:'{color}'});t.oBCTmpl=new sap.suite.ui.microchart.BulletMicroChart({size:sap.m.Size.Auto,scale:'{/scale}',actual:{value:'{/actual/value}',color:'{/actual/color}'},targetValue:'{/targetValue}',actualValueLabel:'{/actualValueLabel}',targetValueLabel:'{/targetValueLabel}',thresholds:{template:b,path:'/thresholds'},state:'{/state}',showActualValue:'{/showActualValue}',showTargetValue:'{/showTargetValue}'});var n=new sap.m.TileContent({unit:'{/unit}',size:'{/size}',footer:'{/footerNum}',content:t.oBCTmpl});t.oGenericTile=new sap.m.GenericTile({subheader:'{/subheader}',frameType:'{/frameType}',size:'{/size}',header:'{/header}',tileContent:[t.oNumericTile,n]});var g=new sap.ui.model.json.JSONModel();g.setData(d);t.oGenericTile.setModel(g);return t.oGenericTile;}});}());\n",
	"sap/ushell/components/tiles/indicatorDualTrend/DualTrend.controller.js":"(function(){'use strict';sap.ui.controller('tiles.indicatorDualTrend.DualTrend',{logError:function(e){this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},formSelectStatement:function(o){var t=Object.keys(o);var f='';for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=','+o[t[i]];}}return f;},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case'MI':T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;case'MA':T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;case'RA':T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','FIXED');T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','FIXED');T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','FIXED');T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','FIXED');T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','FIXED');T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','FIXED');}return T;}catch(e){t.logError(e);}},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},getTile:function(){return this.oDualTrendView.oGenericTile;},getTrendColor:function(t){var a=this;try{var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var r=sap.m.ValueColor.Neutral;if(i==='MI'){if(t.criticalHighValue&&t.warningHighValue){t.criticalHighValue=Number(t.criticalHighValue);t.warningHighValue=Number(t.warningHighValue);if(this.CALCULATED_KPI_VALUE<t.warningHighValue){r=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=t.criticalHighValue){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Error;}}}else if(i==='MA'){if(t.criticalLowValue&&t.warningLowValue){t.criticalLowValue=Number(t.criticalLowValue);t.warningLowValue=Number(t.warningLowValue);if(this.CALCULATED_KPI_VALUE<t.criticalLowValue){r=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=t.warningLowValue){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}else{if(t.warningLowValue&&t.warningHighValue&&t.criticalLowValue&&t.criticalHighValue){t.criticalHighValue=Number(t.criticalHighValue);t.warningHighValue=Number(t.warningHighValue);t.warningLowValue=Number(t.warningLowValue);t.criticalLowValue=Number(t.criticalLowValue);if(this.CALCULATED_KPI_VALUE<t.criticalLowValue||this.CALCULATED_KPI_VALUE>t.criticalHighValue){r=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=t.criticalLowValue&&this.CALCULATED_KPI_VALUE<=t.warningLowValue)||(this.CALCULATED_KPI_VALUE>=t.warningHighValue&&this.CALCULATED_KPI_VALUE<=t.criticalHighValue)){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}return r;}catch(e){a.logError(e);}},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},onAfterFinalEvaluation:function(){var t=this;var u=this.DEFINITION_DATA.EVALUATION.ODATA_URL;var E=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var m=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var d=this.DEFINITION_DATA.TILE_PROPERTIES.dimension;if(d==undefined){this.logError();return;}var g=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var c=this.DEFINITION_DATA.EVALUATION_VALUES;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){var f=m;switch(g){case'MI':t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');if(t.sWarningHigh&&t.sCriticalHigh&&t.sTarget){f+=','+t.sWarningHigh+','+t.sCriticalHigh+','+t.sTarget;}break;case'MA':t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');if(t.sWarningLow&&t.sCriticalLow&&t.sTarget){f+=','+t.sWarningLow+','+t.sCriticalLow+','+t.sTarget;}break;case'RA':t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WH','MEASURE');t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CH','MEASURE');t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TA','MEASURE');t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'TC','MEASURE');t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'WL','MEASURE');t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,'CL','MEASURE');if(t.sWarningLow&&t.sCriticalLow&&t.sTarget&&t.sWarningHigh&&t.sCriticalHigh){f+=','+t.sWarningLow+','+t.sCriticalLow+','+t.sTarget+','+t.sWarningHigh+','+t.sCriticalHigh;}break;}var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),E,f,d,v);}else{var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),E,m,d,v);}var h=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!h){if(q){this.queryUriForTrendChart=q.uri;t.writeData={};try{this.trendChartODataReadRef=q.model.read(q.uri,null,null,true,function(a){if(a&&a.results&&a.results.length){if(q.unit[0]){t.unit=a.results[0][q.unit[0].name];t.writeData.unit=q.unit[0];t.writeData.unit.name=q.unit[0].name;}t.queryUriResponseForTrendChart=a;d=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oTileApi.url.addSystemToServiceUrl(u),E,d);a.firstXlabel=a.results[0][d];a.lastXlabel=a.results[a.results.length-1][d];t.writeData.data=a;t.writeData.dimensionName=d;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualTrendView.oGenericTile.$().wrap(\"<a href ='\"+n+\"'/>\");t.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loaded);_(a,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);}else{t.logError('no Response from QueryServiceUri');}},function(a){if(a&&a.response){t.logError('Data call failed');}});}catch(e){t.logError(e);}}else{t.logError();}var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(t.DEFINITION_DATA.EVALUATION_FILTERS,t.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),E,m,null,v);if(q){t.QUERY_SERVICE_MODEL=q.model;t.queryUriForKpiValue=q.uri;t.numericODataReadRef=t.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(a){if(a&&a.results&&a.results.length){var s='';var j=a.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];t.writeData.numericData=a;if(t.oConfig.EVALUATION.SCALING==-2){j*=100;}s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(j),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:'%'});}var k=t.getTrendIndicator(t.setThresholdValues().trendValue,j);t._updateTileModel({value:s.toString(),valueColor:t.getTrendColor(t.setThresholdValues()),indicator:k});}else{fnError.call(t,'no Response from QueryServiceUri');}});}}else{try{if(h.unit!==undefined){t.unit=h.data.results[0][h.unit.name];}t.queryUriResponseForTrendChart=h.data;d=h.dimensionName;var j=h.numericData.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var k=t.getTrendIndicator(t.setThresholdValues().trendValue,h.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME]);var s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(j),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);t.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loaded);_(h.data,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);t._updateTileModel({value:s.toString(),valueColor:t.getTrendColor(t.setThresholdValues()),indicator:k});}catch(e){t.logError(e);}}function _(l,n){var o=[];var p=[];var w=[];var r=[];var x=[];var y=[];var z=l.firstXlabel;var A,B,C,D,F;var G=l.lastXlabel;var H=Number(l.results[0][m]);var I=Number(l.results[l.results.length-1][m]);var i;for(i in l.results){l.results[i][d]=Number(i);l.results[i][m]=Number(l.results[i][m]);t.sWarningHigh?l.results[i][t.sWarningHigh]=Number(l.results[i][t.sWarningHigh]):'';t.sCriticalHigh?l.results[i][t.sCriticalHigh]=Number(l.results[i][t.sCriticalHigh]):'';t.sCriticalLow?l.results[i][t.sCriticalLow]=Number(l.results[i][t.sCriticalLow]):'';t.sWarningLow?l.results[i][t.sWarningLow]=Number(l.results[i][t.sWarningLow]):'';t.sTarget?l.results[i][t.sTarget]=Number(l.results[i][t.sTarget]):'';t.sWarningHigh?w.push(l.results[i][t.sWarningHigh]):'';t.sCriticalHigh?r.push(l.results[i][t.sCriticalHigh]):'';t.sCriticalLow?x.push(l.results[i][t.sCriticalLow]):'';t.sWarningLow?y.push(l.results[i][t.sWarningLow]):'';o.push(l.results[i][d]);p.push(l.results[i][m]);}try{z=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(z);G=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(G);}catch(e){t.logError(e);}var J=Number(H);if(t.oConfig.EVALUATION.SCALING==-2){J*=100;}var K=Math.min.apply(Math,p);var L=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(J,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){L+=' %';}var M=L.toString();var N=Number(I);if(t.oConfig.EVALUATION.SCALING==-2){N*=100;}var O=Math.max.apply(Math,p);var P=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(N,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){P+=' %';}var Q=P.toString();try{var R=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.min.apply(Math,o));var S=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.max.apply(Math,o));}catch(e){t.logError(e);}if(n=='MEASURE'){(w.length!=0)?(t.firstwH=w[R])&&(t.lastwH=w[S]):'';(r.length!=0)?(t.firstcH=r[R])&&(t.lastcH=r[S]):'';(x.length!=0)?(t.firstcL=x[R])&&(t.lastcL=x[S]):'';(y.length!=0)?(t.firstwL=y[R])&&(t.lastwL=y[S]):'';}var T={width:'100%',height:'100%',unit:t.unit||'',chart:{color:'Neutral',data:l.results},size:'Auto',minXValue:R,maxXValue:S,minYValue:K,maxYValue:O,firstXLabel:{label:z+'',color:'Neutral'},lastXLabel:{label:G+'',color:'Neutral'},firstYLabel:{label:M+'',color:'Neutral'},lastYLabel:{label:Q+'',color:'Neutral'},minLabel:{},maxLabel:{}};switch(g){case'MA':for(i in c){if(c[i].TYPE=='CL'){T.minThreshold={color:'Error'};var U={};U[d]='';U[m]=Number(c[i].FIXED);t.cl=Number(c[i].FIXED);T.minThreshold.data=(n=='MEASURE')?l.results:[U];A=(n=='MEASURE')?t.sCriticalLow:m;}else if(c[i].TYPE=='WL'){T.maxThreshold={color:'Good'};var U={};U[d]='';U[m]=Number(c[i].FIXED);T.maxThreshold.data=(n=='MEASURE')?l.results:[U];B=(n=='MEASURE')?t.sWarningLow:m;t.wl=Number(c[i].FIXED);}else if(c[i].TYPE=='TA'){var U={};U[d]='';U[m]=Number(c[i].FIXED);T.target={color:'Neutral'};T.target.data=(n=='MEASURE')?l.results:[U];F=(n=='MEASURE')?t.sTarget:m;}}T.innerMinThreshold={data:[]};T.innerMaxThreshold={data:[]};if(n=='FIXED'){T.firstYLabel.color=H<t.cl?'Error':((t.cl<=H)&&(H<=t.wl))?'Critical':(H>t.wl)?'Good':'Neutral';T.lastYLabel.color=I<t.cl?'Error':((t.cl<=I)&&(I<=t.wl))?'Critical':(I>t.wl)?'Good':'Neutral';}else if(n=='MEASURE'&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL){T.firstYLabel.color=H<t.firstcL?'Error':((t.firstcL<=H)&&(H<=t.firstwL))?'Critical':(H>t.firstwL)?'Good':'Neutral';T.lastYLabel.color=I<t.lastcL?'Error':((t.lastcL<=I)&&(I<=t.lastwL))?'Critical':(I>t.lastwL)?'Good':'Neutral';}break;case'MI':for(i in c){if(c[i].TYPE=='CH'){var U={};U[d]='';U[m]=Number(c[i].FIXED);t.ch=Number(c[i].FIXED);T.maxThreshold={color:'Error'};T.maxThreshold.data=(n=='MEASURE')?l.results:[U];B=(n=='MEASURE')?t.sCriticalHigh:m;}else if(c[i].TYPE=='WH'){var U={};U[d]='';U[m]=Number(c[i].FIXED);t.wh=Number(c[i].FIXED);T.minThreshold={color:'Good'};T.minThreshold.data=(n=='MEASURE')?l.results:[U];A=(n=='MEASURE')?t.sWarningHigh:m;}else if(c[i].TYPE=='TA'){var U={};U[d]='';U[m]=Number(c[i].FIXED);T.target={color:'Neutral'};T.target.data=(n=='MEASURE')?l.results:[U];F=(n=='MEASURE')?t.sTarget:m;}}if(n=='FIXED'){T.firstYLabel.color=H>t.ch?'Error':((t.wh<=H)&&(H<=t.ch))?'Critical':(H<t.wh)?'Good':'Neutral';T.lastYLabel.color=I>t.ch?'Error':((t.wh<=I)&&(I<=t.ch))?'Critical':(I<t.wh)?'Good':'Neutral';}else if(n=='MEASURE'&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){T.firstYLabel.color=H>t.firstcH?'Error':((t.firstwH<=H)&&(H<=t.firstcH))?'Critical':(H<t.firstwH)?'Good':'Neutral';T.lastYLabel.color=I>t.lastcH?'Error':((t.lastwH<=I)&&(I<=t.lastcH))?'Critical':(I<t.lastwH)?'Good':'Neutral';}T.innerMaxThreshold={data:[]};T.innerMinThreshold={data:[]};break;case'RA':for(i in c){if(c[i].TYPE=='CH'){var U={};U[d]='';U[m]=Number(c[i].FIXED);t.ch=Number(c[i].FIXED);T.maxThreshold={color:'Error'};T.maxThreshold.data=(n=='MEASURE')?l.results:[U];B=(n=='MEASURE')?t.sCriticalHigh:m;}else if(c[i].TYPE=='WH'){var U={};U[d]='';U[m]=Number(c[i].FIXED);t.wh=Number(c[i].FIXED);T.innerMaxThreshold={color:'Good'};T.innerMaxThreshold.data=(n=='MEASURE')?l.results:[U];D=(n=='MEASURE')?t.sWarningHigh:m;}else if(c[i].TYPE=='WL'){var U={};U[d]='';U[m]=Number(c[i].FIXED);t.wl=Number(c[i].FIXED);T.innerMinThreshold={color:'Good'};T.innerMinThreshold.data=(n=='MEASURE')?l.results:[U];C=(n=='MEASURE')?t.sWarningLow:m;}else if(c[i].TYPE=='CL'){var U={};U[d]='';U[m]=Number(c[i].FIXED);t.cl=Number(c[i].FIXED);T.minThreshold={color:'Error'};T.minThreshold.data=(n=='MEASURE')?l.results:[U];A=(n=='MEASURE')?t.sCriticalLow:m;}else if(c[i].TYPE=='TA'){var U={};U[d]='';U[m]=Number(c[i].FIXED);T.target={color:'Neutral'};T.target.data=(n=='MEASURE')?l.results:[U];F=(n=='MEASURE')?t.sTarget:m;}}if(n=='FIXED'){T.firstYLabel.color=(H>t.ch||H<t.cl)?'Error':((t.wh<=H)&&(H<=t.ch))||((t.cl<=H)&&(H<=t.wl))?'Critical':((H>=t.wl)&&(H<=t.wh))?'Good':'Neutral';T.lastYLabel.color=(I>t.ch||I<t.cl)?'Error':((t.wh<=I)&&(I<=t.ch))||((t.cl<=I)&&(I<=t.wl))?'Critical':((I>=t.wl)&&(I<=t.wh))?'Good':'Neutral';}else if(n=='MEASURE'&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){T.firstYLabel.color=(H>t.firstcH||H<t.firstcL)?'Error':((t.firstwH<=H)&&(H<=t.firstcH))||((t.firstcL<=H)&&(H<=t.firstwL))?'Critical':((H>=t.firstwL)&&(H<=t.firstwH))?'Good':'Neutral';T.lastYLabel.color=(I>t.lastcH||I<t.lastcL)?'Error':((t.lastwH<=I)&&(I<=t.lastcH))||((t.lastcL<=I)&&(I<=t.lastwL))?'Critical':((I>=t.lastwL)&&(I<=t.lastwH))?'Good':'Neutral';}break;}var V=function(W,a,b,n){return new sap.suite.ui.microchart.AreaMicroChartItem({color:'{/'+W+'/color}',points:{path:'/'+W+'/data',template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:'{'+a+'}',y:'{'+b+'}'})}});};t.getTile().getTileContent()[1].getContent().setTarget(V('target',d,F));t.getTile().getTileContent()[1].getContent().setInnerMinThreshold(V('innerMinThreshold',d,C));t.getTile().getTileContent()[1].getContent().setInnerMaxThreshold(V('innerMaxThreshold',d,D));t.getTile().getTileContent()[1].getContent().setMinThreshold(V('minThreshold',d,A));t.getTile().getTileContent()[1].getContent().setMaxThreshold(V('maxThreshold',d,B));t.getTile().getTileContent()[1].getContent().setChart(V('chart',d,m));t._updateTileModel(T);}},flowWithoutDesignTimeCall:function(){this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oTileApi.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;}this.onAfterFinalEvaluation();},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oTileApi.configuration.getParameterValueAsString('isSufficient'))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);}if(i){this.refreshHandler(this);}},setTextInTile:function(){var t=this;this._updateTileModel({header:t.oTileApi.preview.getTitle()||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:t.oTileApi.preview.getDescription()||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},onInit:function(){var t=this;this.firstTimeVisible=false;this.oDualTrendView=this.getView();this.oViewData=this.oDualTrendView.getViewData();this.oTileApi=this.oViewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oTileApi.url.getApplicationSystem();this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loading);if(this.oTileApi.preview.isEnabled()){this.setTextInTile();this._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:'TwoByOne',state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:'Liquidity Structure',footer:'Current Quarter',description:'Apr 1st 2013 (B$)',width:'100%',height:'100%',chart:{color:'Good',data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:'Error',data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:'Good',data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:'Error',data:[]},innerMinThreshold:{color:'Neutral',data:[]},minThreshold:{color:'Error',data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:'June 123',color:'Error'},lastXLabel:{label:'June 30',color:'Error'},firstYLabel:{label:'0M',color:'Good'},lastYLabel:{label:'80M',color:'Critical'},minLabel:{},maxLabel:{}});this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oTileApi.configuration.getParameterValueAsString('tileConfiguration'),function(c){t.oConfig=c;t.setTextInTile();t.oDualTrendView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oTileApi.configuration.getParameterValueAsString('isSufficient'))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}});}catch(e){this.logError(e);}}},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new sap.ui.model.json.JSONModel({}));}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);}});}());\n",
	"sap/ushell/components/tiles/indicatorDualTrend/DualTrend.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');sap.ui.getCore().loadLibrary('sap.suite.ui.commons');sap.ui.jsview('tiles.indicatorDualTrend.DualTrend',{getControllerName:function(){return'tiles.indicatorDualTrend.DualTrend';},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var b=function(s){return new sap.suite.ui.microchart.AreaMicroChartItem({color:'Good',points:{path:'/'+s+'/data',template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:'{day}',y:'{balance}'})}});};var a=function(s){return new sap.suite.ui.microchart.AreaMicroChartLabel({label:'{/'+s+'/label}',color:'{/'+s+'/color}'});};var g={footer:'',header:'',subheader:''};var n=new sap.suite.ui.microchart.AreaMicroChart({width:'{/width}',height:'{/height}',size:'{/size}',target:b('target'),innerMinThreshold:b('innerMinThreshold'),innerMaxThreshold:b('innerMaxThreshold'),minThreshold:b('minThreshold'),maxThreshold:b('maxThreshold'),chart:b('chart'),minXValue:'{/minXValue}',maxXValue:'{/maxXValue}',minYValue:'{/minYValue}',maxYValue:'{/maxYValue}',firstXLabel:a('firstXLabel'),lastXLabel:a('lastXLabel'),firstYLabel:a('firstYLabel'),lastYLabel:a('lastYLabel'),minLabel:a('minLabel'),maxLabel:a('maxLabel')});var N=new sap.m.TileContent({unit:'{/unit}',size:'{/size}',content:n});var o=new sap.m.NumericContent({value:'{/value}',scale:'{/scale}',unit:'{/unit}',indicator:'{/indicator}',size:'{/size}',formatterValue:true,truncateValueTo:6,valueColor:'{/valueColor}'});var d=new sap.m.TileContent({unit:'{/unit}',size:'{/size}',content:o});this.oGenericTile=new sap.m.GenericTile({subheader:'{/subheader}',frameType:'TwoByOne',size:'{/size}',header:'{/header}',tileContent:[d,N]});var G=new sap.ui.model.json.JSONModel();G.setData(g);this.oGenericTile.setModel(G);return this.oGenericTile;}});}());\n",
	"sap/ushell/components/tiles/indicatorHarveyBall/HarveyBallTile.controller.js":"(function(){'use strict';sap.ui.controller('tiles.indicatorHarveyBall.HarveyBallTile',{onInit:function(){this.getView().setModel(new sap.ui.model.json.JSONModel());this.initializeVariables();this.attachHandlers();this.getVariable('tile').setState(sap.suite.ui.commons.LoadState.Loading);this.readChipConfiguration();},attachHandlers:function(){var t=this;var c=this.getVariable('chip');if(c.visible){c.visible.attachVisible(function(v){if(v){t.onVisible();}else{t.abortAllOpenODataRequests();}});}this.getVariable('tile').attachPress(function(){t.abortAllOpenODataRequests();var i=t.getVariable('indicatorUtils');t.getVariable('cache').setKpivalueById(t.getVariable('chipId'),null);window.location.hash=i.getNavigationTarget(t.getVariable('evalData'),t.getVariable('system'));});},initializeVariables:function(){this._variables={};this._oDataRequests={};var v=this.getView();var V=v.getViewData();var t=v.oTile;var c=V.chip;this.setVariable('indicatorUtils',sap.ushell.components.tiles.indicatorTileUtils.util);this.setVariable('cache',sap.ushell.components.tiles.indicatorTileUtils.cache);this.setVariable('hasAppeared',false);this.setVariable('chip',c);this.setVariable('tile',t);this.setVariable('tileControl',t.getTileContent()[0].getContent());this.setVariable('configurationString',c.configuration.getParameterValueAsString('tileConfiguration'));this.setVariable('system',c.url.getApplicationSystem());},getVariable:function(k){return this._variables[k];},setVariable:function(k,v){this._variables[k]=v;},readChipConfiguration:function(){var t=this;var c=this.getVariable('chip');var u=this.getVariable('indicatorUtils');u.getParsedChip(this.getVariable('configurationString'),function(e){t.setVariable('evalData',e);t.setVariable('chipId',e.TILE_PROPERTIES.id);t.setVariable('tileProperties',e.TILE_PROPERTIES);if(c.preview){c.preview.setTargetUrl(u.getNavigationTarget(e,t.getVariable('system')));t.loadPreviewData();if(c.preview.isEnabled()){t.getVariable('tile').setState(sap.suite.ui.commons.LoadState.Loaded);}else{t.loadActualData();}}});},loadPreviewData:function(){var t=this.getVariable('indicatorUtils').getTileTitleSubtitle(this.getVariable('chip'));this.getView().getModel().setData({fractionValue:34,value:100,size:sap.suite.ui.commons.InfoTileSize.Auto,frameType:'OneByOne',color:'Good',state:sap.suite.ui.commons.LoadState.Loading,header:t.title||this.getVariable('indicatorUtils').getChipTitle(this.getVariable('evalData')),subheader:t.subTitle||this.getVariable('indicatorUtils').getChipSubTitle(this.getVariable('evalData'))});},loadActualData:function(){if(Number(this.getVariable('chip').configuration.getParameterValueAsString('isSufficient'))){this.getVariable('cache').setEvaluationById(this.getVariable('chipId'),this.getVariable('evalData'));this.onEvalFiltersFetched();}else{this.fetchEvalFilters(this.onEvalFiltersFetched);}},registerOpenODataRequest:function(k,r){this._oDataRequests[k]=r;},deregisterOpenODataRequest:function(k){delete this._oDataRequests[k];},abortAllOpenODataRequests:function(){for(var a in this._oDataRequests){try{this.getVariable('indicatorUtils').abortPendingODataCalls(this._oDataRequests[a]);delete this._oDataRequests[a];}catch(e){}}},fetchKpiValue:function(p){function m(o,u,C,S,g){var D=o.read(u,null,null,true,function(h){t.deregisterOpenODataRequest(C.type);if(h&&h.results&&h.results.length){try{if(C.thresholds&&C.thresholds.length){t._setThresholdValues(h.results[0]);}k[C.type]=h.results[0][C.measure];k.unit=k.unit||h.results[0][C.unit]||'';if(--d==0){t.getVariable('cache').setKpivalueById(t.getVariable('chipId'),k);S.call(t,k);}}catch(e){t.logError(e);}}else{g.call(t,'no data');}},function(e){t.deregisterOpenODataRequest(C.type);if(e&&e.response){g.call(t,e.message);}});t.registerOpenODataRequest(C.type,D);}var t=this;var i=this.getVariable('indicatorUtils');var c=this.getVariable('cache').getKpivalueById(this.getVariable('chipId'));if(c){p.fnS.call(t,c);}else{var M=p.measure1,s=p.measure2;var u=p.url,E=p.entitySet;var v=p.filters;var f=p.fractionFilters.concat(v);var q,Q;var a,b,k;var d=2;f.forEach(function(e){e.value=e.value+'';e.valueTo=e.valueTo+'';});if(p.thresholds&&p.thresholds.length){q=i.prepareQueryServiceUri(this.getVariable('chip').url.addSystemToServiceUrl(u),E,M+','+p.thresholds,null,v);}else{q=i.prepareQueryServiceUri(this.getVariable('chip').url.addSystemToServiceUrl(u),E,M,null,v);}Q=i.prepareQueryServiceUri(this.getVariable('chip').url.addSystemToServiceUrl(u),E,s,null,f);a=q.unit[0];b=Q.unit[0];k={kpiValue:null,fractionValue:null,unit:''};if(q){m(q.model,q.uri,{measure:M,type:'kpiValue',unit:a,thresholds:p.thresholds},p.fnS,p.fnE);}if(Q){m(Q.model,Q.uri,{measure:s,type:'fractionValue',unit:b},p.fnS,p.fnE);}if(!(q&&Q)){p.fnE.call(t,'Error Preparing Query Service URI');}}},_setThresholdValues:function(d){var t=this.getVariable('oThreshold');if(t){if(this.getVariable('evalData').EVALUATION.VALUES_SOURCE=='RELATIVE'){if(t['TA'].COLUMN_NAME){t['TA'].VALUE=parseFloat(d[t['TA'].COLUMN_NAME]);for(var e in t){if(!t[e].COLUMN_NAME){t[e].VALUE=t['TA'].VALUE*t[e].VALUE/100;}}}}else{for(var e in t){if(t[e].COLUMN_NAME){t[e].VALUE=parseFloat(d[t[e].COLUMN_NAME]);}}}}this.setVariable('oThreshold',t);},getThresholdObject:function(){var t=this.getVariable('oThreshold');if(!t){var T=this.getVariable('evalData').EVALUATION_VALUES;var t={};for(var i=0,l=T.length;i<l;i++){t[T[i].TYPE]={VALUE:parseFloat(T[i].FIXED),COLUMN_NAME:T[i].COLUMN_NAME};}this.setVariable('oThreshold',t);}return t;},hasSomeValue:function(){var f=true;if(arguments.length){for(var i=0,l=arguments.length;i<l;i++){if(!(arguments[i]||arguments[i]=='0')){f=false;break;}}}else{f=false;}return f;},getTrendColor:function(k){var c='Neutral';var t,g,W,a,C,b;if(this.getVariable('tileProperties').isFractionMeasure){t=this.getThresholdObject();g=this.getVariable('evalData').EVALUATION.GOAL_TYPE;if(g=='MA'){W=t.WL;C=t.CL;if(this.hasSomeValue(W,C)){c='Good';if(k<C.VALUE){c='Error';}else if(k<=W.VALUE){c='Critical';}}}else if(g=='MI'){a=t.WH;b=t.CH;if(this.hasSomeValue(a,b)){c='Error';if(k<a.VALUE){c='Good';}else if(k<=b.VALUE){c='Critical';}}}else{W=t.WL;C=t.CL;a=t.WH;b=t.CH;if(this.hasSomeValue(a,b,C,W)){if(k<=C.VALUE||k>=a.VALUE){c='Error';}else if((W.VALUE>=k&&k>=C.VALUE)||(b.VALUE>=k&&k>=a.VALUE)){c='Critical';}else{c='Good';}}}}return sap.suite.ui.commons.InfoTileValueColor[c];},_getThresholdMeasures:function(){var t=[];var T=this.getThresholdObject();for(var e in T){if(T[e].COLUMN_NAME){t.push(T[e].COLUMN_NAME);}}return t;},onEvalFiltersFetched:function(){var t=this;if(this.getVariable('chip').visible.isVisible()&&!this.getVariable('hasAppeared')){try{var k=this.getVariable('evalData');var u=k.EVALUATION.ODATA_URL;var E=k.EVALUATION.ODATA_ENTITYSET;var a=this.getVariable('tileProperties');var h=[];var v=this.getVariable('indicatorUtils').prepareFilterStructure(k.EVALUATION_FILTERS,k.ADDITIONAL_FILTERS);var f=k.EVALUATION.COLUMN_NAME;var b=f;var c=[];if(a.isFractionMeasure){b=a.harveyTotalMeasure;c=this._getThresholdMeasures();}else{h=this.getVariable('indicatorUtils').prepareFilterStructure(a.harveyFilters||h);}this.setVariable('totalMeasure',b);this.setVariable('fractionMeasure',f);this.fetchKpiValue({measure1:b,measure2:f,entitySet:E,thresholds:c,url:u,filters:v,fractionFilters:h,fnS:function(d){d.kpiValue=Number(d.kpiValue);d.fractionValue=Number(d.fractionValue);t.setVariable('kpiValue',d.kpiValue);t.setVariable('fractionValue',d.fractionValue);t.onKpiValueFetched(d.kpiValue,d.unit,d.fractionValue);},fnE:this.logError});t.setVariable('hasAppeared',true);}catch(e){this.logError(e);}}},fetchEvalFilters:function(s){var t=this;try{var a=this.getVariable('cache').getEvaluationById(this.getVariable('chipId'));if(a){this.getVariable('evalData').EVALUATION_FILTERS=a.EVALUATION_FILTERS;s();}else{var d=this.getVariable('indicatorUtils').getFilterFromRunTimeService(this.getVariable('evalData'),function(f){t.deregisterOpenODataRequest('kpiFilterRequest');t.getVariable('evalData').EVALUATION_FILTERS=f;t.getVariable('cache').setEvaluationById(t.getVariable('chipId'),t.getVariable('evalData'));s.call(t);},function(e){this.logError(e);t.deregisterOpenODataRequest('kpiFilterRequest');});this.registerOpenODataRequest('kpiFilterRequest',d);}}catch(e){this.logError(e);}},onKpiValueFetched:function(k,a,f,b){var i=this.getVariable('indicatorUtils');var s=k;var d=f;var e=this.getVariable('evalData');var g=e.EVALUATION.SCALING;if(g==-2){s*=100;d*=100;}var c=this.isACurrencyMeasure(this.getVariable('totalMeasure'));s=i.getLocaleFormattedValue(Number(s),g,null,c,a);c=this.isACurrencyMeasure(this.getVariable('fractionMeasure'));d=i.getLocaleFormattedValue(Number(d),g,null,c,a);this.getView().getModel().setProperty('/totalLabel',s+' '+a);this.getView().getModel().setProperty('/fractionLabel',d+' '+b);this.getView().getModel().setProperty('/color',this.getTrendColor(f));this.getView().getModel().setProperty('/value',k);this.getView().getModel().setProperty('/fractionValue',f);var n=i.getNavigationTarget(this.getVariable('evalData'),this.getVariable('system'));this.getVariable('tile').$().wrap(\"<a href ='\"+n+\"'/>\");this.getVariable('tile').setState(sap.suite.ui.commons.LoadState.Loaded);},logError:function(e){this.getVariable('tile').setState(sap.suite.ui.commons.LoadState.Failed);this.getVariable('indicatorUtils').logError(e,this.getVariable('tile'));},onVisible:function(i){if(!this.getVariable('hasAppeared')){if(Number(this.getVariable('chip').configuration.getParameterValueAsString('isSufficient'))){this.onEvalFiltersFetched();}else{this.fetchEvalFilters(this.onEvalFiltersFetched);}}},onExit:function(){this.abortAllOpenODataRequests();}});}());\n",
	"sap/ushell/components/tiles/indicatorHarveyBall/HarveyBallTile.view.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');jQuery.sap.require('sap.ca.ui.model.format.NumberFormat');sap.ui.getCore().loadLibrary('sap.suite.ui.commons');sap.ui.jsview('tiles.indicatorHarveyBall.HarveyBallTile',{getControllerName:function(){},createContent:function(c){var m=new sap.suite.ui.commons.HarveyBallMicroChart({total:'{/value}',size:'{/size}',totalLabel:'{/totalLabel}',items:[new sap.suite.ui.commons.HarveyBallMicroChartItem({fraction:'{/fractionValue}',fractionLabel:'{/fractionLabel}',color:'{/color}'})]});var t=new sap.suite.ui.commons.TileContent({size:'{/size}',content:m});this.oTile=new sap.suite.ui.commons.GenericTile({subheader:'{/subheader}',frameType:'{/frameType}',size:'{/size}',header:'{/header}',tileContent:[t]});}});}());\n",
	"sap/ushell/components/tiles/indicatorTileUtils/indicatorTileHelper.js":"(function(){jQuery.sap.declare('sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper');sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper=function(t){this.tile=t;};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setErrorState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Failed);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setLoadingState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Loading);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setLoadedState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Loaded);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setTrendDown=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.Down);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setTrendUp=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.Up);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setTrendNeutral=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.None);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setThresholdGood=function(){};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setThresholdBad=function(){};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setThresholdCritical=function(){};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setThresholdNeutral=function(){};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.calculateThreshold=function(a,v,i){};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setTile=function(t){this.tile=t;};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.getTile=function(){return this.tile;};}());\n",
	"sap/ushell/components/tiles/indicatorTileUtils/oData4Analytics.js":"jQuery.sap.declare('sap.ushell.components.tiles.indicatorTileUtils.oData4Analytics');jQuery.sap.require('sap.ui.core.Core');sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles.indicatorTileUtils=sap.ushell.components.tiles.indicatorTileUtils||{};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics||{};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants={};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants['SAP_NAMESPACE']='http://www.sap.com/Protocols/SAPData';sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants['VERSION']='0.7';sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper={renderPropertyKeyValue:function(f,p){if(f.charAt(0)==\"'\"){throw'Illegal property value starting with a quote';}switch(p){case'Edm.String':return\"'\"+f+\"'\";case'Edm.DateTime':return\"datetime'\"+f+\"'\";case'Edm.Guid':return\"guid'\"+f+\"'\";case'Edm.Time':return\"time'\"+f+\"'\";case'Edm.DateTimeOffset':return\"datetimeoffset'\"+f+\"'\";default:return f;}},renderPropertyFilterValue:function(f,p){if(f.charAt(0)==\"'\"){throw'Illegal property value starting with a quote';}switch(p){case'Edm.String':return\"'\"+f+\"'\";case'Edm.DateTime':return\"datetime'\"+f+\"'\";case'Edm.Guid':return\"guid'\"+f+\"'\";case'Edm.Time':return\"time'\"+f+\"'\";case'Edm.DateTimeOffset':return\"datetimeoffset'\"+f+\"'\";default:return f;}},tokenizeNametoLabelText:function(n){var l='';l=n.replace(/([^A-Z0-9_]+)([A-Z0-9_])/g,'$1 $2');l=l.replace(/([A-Z0-9_]{2,})([A-Z0-9_])([^A-Z0-9_]+)/g,'$1 $2$3');l=l.replace(/(.*) _E$/,'$1');l=l.replace(/(.*) _(.*)/g,'$1 $2');return l;}};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model=function(m,a){this._init(m,a);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceByURI=function(u){return{sServiceURI:u};};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceByModel=function(m){return{oModel:m};};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceWithWorkaround=function(m,w){return{oModelReference:m,aWorkaroundID:w};};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.prototype={_init:function(m,a){this._oActivatedWorkarounds={};if(m&&m.aWorkaroundID){var w=m.aWorkaroundID;for(var i=0;i<w.length;i++){this._oActivatedWorkarounds[w[i]]=true;}m=m.oModelReference;}if(!m||(!m.sServiceURI&&!m.oModel)){throw'Usage with oModelReference being an instance of Model.ReferenceByURI or Model.ReferenceByModel';}if(m.oModel){this._oModel=m.oModel;}else{this._oModel=new sap.ui.model.odata.ODataModel(m.sServiceURI);}if(this._oModel.getServiceMetadata().dataServices==undefined){throw'Model could not be loaded';}this.mergeV2Annotations(a);this._oQueryResultSet={};this._oParameterizationSet={};this._oEntityTypeSet={};this._oEntitySetSet={};this._oEntityTypeNameToEntitySetMap={};var s=this._oModel.getServiceMetadata().dataServices.schema[0];for(var i=-1,c;c=s.entityContainer[++i];){if(c.isDefaultEntityContainer=='true'){this._oDefaultEntityContainer=c;break;}}var e=s.entityType;var q=[],p=[],u=[];for(var i=-1,t;t=e[++i];){var P=false;if(t.extensions!=undefined){for(var j=-1,E;E=t.extensions[++j];){if(E.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE&&E.name=='semantics'){P=true;switch(E.value){case'aggregate':q.push(t);break;case'parameters':p.push(t);break;default:u.push(t);}}if(P){continue;}}if(!P){u.push(t);}}else{u.push(t);}}for(var i=-1,t;t=u[++i];){var o=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),s,t);this._oEntityTypeSet[o.getQName()]=o;var b=this._getEntitySetsOfType(s,o.getQName());if(b.length==0){throw'Invalid consumption model: No entity set for entity type annotated with parameters semantics';}if(b.length>1){throw'Unsupported consumption model: More than one entity set for entity type annotated with parameters semantics';}var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),s,b[0][0],b[0][1]);this._oEntitySetSet[d.getQName()]=d;this._oEntityTypeNameToEntitySetMap[o.getQName()]=d;}var f={};for(var i=-1,t;t=p[++i];){var o=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),s,t);this._oEntityTypeSet[o.getQName()]=o;var b=this._getEntitySetsOfType(s,o.getQName());if(b.length==0){throw'Invalid consumption model: No entity set for entity type annotated with parameters semantics';}if(b.length>1){throw'Unsupported consumption model: More than one entity set for entity type annotated with parameters semantics';}var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),s,b[0][0],b[0][1]);this._oEntitySetSet[d.getQName()]=d;this._oEntityTypeNameToEntitySetMap[o.getQName()]=d;var g=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization(o,d);this._oParameterizationSet[g.getName()]=g;f[o.getQName()]=g;var h=o.getQName();if(s.association!=undefined){for(var j=-1,A;A=s.association[++j];){if(A.referentialConstraint==undefined){continue;}var k=null;if(A.end[0].type==h&&A.end[0].multiplicity=='*'&&A.end[1].multiplicity=='1'){k=A.end[1].type;}else if(A.end[1].type==h&&A.end[1].multiplicity=='*'&&A.end[0].multiplicity=='1'){k=A.end[0].type;}if(!k){continue;}if(A.referentialConstraint.dependent.propertyRef.length!=1){continue;}var l=g.findParameterByName(A.referentialConstraint.dependent.propertyRef[0].name);if(l==null){continue;}var v=this._oEntityTypeSet[k];var V=this._oEntityTypeNameToEntitySetMap[k];l.setValueSetEntity(v,V);}}}for(var i=-1,t;t=q[++i];){var o=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),s,t);this._oEntityTypeSet[o.getQName()]=o;var Q=o.getQName();var g=null;var n=null;if(s.association!=undefined){for(var j=-1,A;A=s.association[++j];){var r=null;if(A.end[0].type==Q){r=A.end[1].type;}else if(A.end[1].type==Q){r=A.end[0].type;}else{continue;}var M=null;M=f[r];if(M!=null){if(g!=null){throw'LIMITATION: Unable to handle multiple parameter entity types of query entity '+o.name;}else{g=M;n=A;}}}}var b=this._getEntitySetsOfType(s,o.getQName());if(b.length!=1){throw'Invalid consumption model: There must be exactly one entity set for an entity type annotated with aggregating semantics';}var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),s,b[0][0],b[0][1]);this._oEntitySetSet[d.getQName()]=d;this._oEntityTypeNameToEntitySetMap[o.getQName()]=d;var x=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult(this,o,d,g);this._oQueryResultSet[x.getName()]=x;if(g){g.setTargetQueryResult(x,n);}}},oUI5ODataModelAnnotatableObject:{objectName:'schema',keyPropName:'namespace',extensions:true,aSubObject:[{objectName:'entityType',keyPropName:'name',extensions:true,aSubObject:[{objectName:'property',keyPropName:'name',aSubObject:[],extensions:true}]},{objectName:'entityContainer',keyPropName:'name',extensions:false,aSubObject:[{objectName:'entitySet',keyPropName:'name',extensions:true,aSubObject:[]}]}]},mergeV2Annotations:function(a){try{var A=JSON.parse(a);}catch(e){return;}var m;try{m=this._oModel.getServiceMetadata().dataServices;}catch(e){return;}for(var p in A){if(!(this.oUI5ODataModelAnnotatableObject.objectName==p)){continue;}if(!(A[p]instanceof Array)){continue;}this.mergeV2AnnotationLevel(m[this.oUI5ODataModelAnnotatableObject.objectName],A[this.oUI5ODataModelAnnotatableObject.objectName],this.oUI5ODataModelAnnotatableObject);break;}return;},mergeV2AnnotationLevel:function(M,a,u){for(var i=-1,A;A=a[++i];){for(var j=-1,o;o=M[++j];){if(!(A[u.keyPropName]==o[u.keyPropName])){continue;}if(A['extensions']!=undefined){if(o['extensions']==undefined){o['extensions']=[];}for(var l=-1,b;b=A['extensions'][++l];){var f=false;for(var m=-1,c;c=o['extensions'][++m];){if(b.name==c.name&&b.namespace==c.namespace){c.value=b.value;f=true;break;}}if(!f){o['extensions'].push(b);}}}for(var k=-1,U;U=u.aSubObject[++k];){for(var p in A){if(!(U.objectName==p)){continue;}if(!(A[U.objectName]instanceof Array)){continue;}if((o[U.objectName]==undefined)||(!(o[U.objectName]instanceof Array))){continue;}this.mergeV2AnnotationLevel(o[U.objectName],A[U.objectName],U);break;}}}}return;},findQueryResultByName:function(n){var q=this._oQueryResultSet[n];if(!q&&this._oDefaultEntityContainer){var Q=this._oDefaultEntityContainer.name+'.'+n;q=this._oQueryResultSet[Q];}return q;},getAllQueryResultNames:function(){if(this._aQueryResultNames){return this._aQueryResultNames;}this._aQueryResultNames=new Array(0);for(var n in this._oQueryResultSet)this._aQueryResultNames.push(this._oQueryResultSet[n].getName());return this._aQueryResultNames;},getAllQueryResults:function(){return this._oQueryResultSet;},getODataModel:function(){return this._oModel;},_getEntitySetsOfType:function(s,q){var e=[];for(var i=-1,E;E=s.entityContainer[++i];){for(var j=-1,o;o=E.entitySet[++j];){if(o.entityType==q){e.push([E,o]);}}}return e;},_oModel:null,_oDefaultEntityContainer:null,_aQueryResultNames:null,_oQueryResultSet:null,_oParameterizationSet:null,_oEntityTypeSet:null,_oEntitySetSet:null,_oEntityTypeNameToEntitySetMap:null,_oActivatedWorkarounds:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult=function(m,e,E,p){this._init(m,e,E,p);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult.prototype={_init:function(m,e,E,p,a){this._oModel=m;this._oEntityType=e;this._oEntitySet=E;this._oParameterization=p;this._oDimensionSet={};this._oMeasureSet={};var P=e.getTypeDescription().property;var A={};for(var i=-1,o;o=P[++i];){if(o.extensions==undefined){continue;}for(var j=-1,b;b=o.extensions[++j];){if(!b.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(b.name){case'aggregation-role':switch(b.value){case'dimension':var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension(this,o);this._oDimensionSet[d.getName()]=d;break;case'measure':var M=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure(this,o);this._oMeasureSet[M.getName()]=M;break;case'totaled-properties-list':this._oTotaledPropertyListProperty=o;break;}break;case'attribute-for':var D=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute(this,o);A[D.getKeyProperty()]=D;break;}}}for(var s in A){var D=A[s];D.getDimension().addAttribute(D);}if(m._oActivatedWorkarounds.IdentifyTextPropertiesByName){var c=[];for(var f in this._oDimensionSet){var d=this._oDimensionSet[f];if(!d.getTextProperty()){var t=null;t=e.findPropertyByName(f+'Name');if(!t){t=e.findPropertyByName(f+'Text');}if(!t){t=e.findPropertyByName(f+'Desc');}if(!t){t=e.findPropertyByName(f+'Description');}if(t){d.setTextProperty(t);c.push(t.name);}}}for(var i=-1,g;g=c[++i];){delete this._oDimensionSet[g];}}},getName:function(){return this.getEntitySet().getQName();},getParameterization:function(){return this._oParameterization;},getAllDimensionNames:function(){if(this._aDimensionNames){return this._aDimensionNames;}this._aDimensionNames=[];for(var n in this._oDimensionSet)this._aDimensionNames.push(this._oDimensionSet[n].getName());return this._aDimensionNames;},getAllDimensions:function(){return this._oDimensionSet;},getAllMeasureNames:function(){if(this._aMeasureNames){return this._aMeasureNames;}this._aMeasureNames=[];for(var n in this._oMeasureSet)this._aMeasureNames.push(this._oMeasureSet[n].getName());return this._aMeasureNames;},getAllMeasures:function(){return this._oMeasureSet;},findDimensionByName:function(n){return this._oDimensionSet[n];},getTotaledPropertiesListProperty:function(){return this._oTotaledPropertyListProperty;},findMeasureByName:function(n){return this._oMeasureSet[n];},getModel:function(){return this._oModel;},getEntityType:function(){return this._oEntityType;},getEntitySet:function(){return this._oEntitySet;},_oModel:null,_oEntityType:null,_oEntitySet:null,_oParameterization:null,_aDimensionNames:null,_oDimensionSet:null,_aMeasureNames:null,_oMeasureSet:null,_oTotaledPropertyListProperty:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization=function(e,E){this._init(e,E);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization.prototype={_init:function(e,E){this._oEntityType=e;this._oEntitySet=E;this._oParameterSet={};var p=e.getTypeDescription().property;for(var i=-1,P;P=p[++i];){if(P.extensions==undefined){continue;}for(var j=-1,o;o=P.extensions[++j];){if(!o.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(o.name){case'parameter':var a=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter(this,P);this._oParameterSet[a.getName()]=a;break;}}}},setTargetQueryResult:function(q,a){this._oQueryResult=q;var Q=this._oEntityType.getSchema().namespace+'.'+a.name;var n=this._oEntityType.getTypeDescription().navigationProperty;if(!n){throw'Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type';}for(var i=-1,N;N=n[++i];){if(N.relationship==Q){this._oNavPropToQueryResult=N.name;}}if(!this._oNavPropToQueryResult){throw'Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type';}},getName:function(){return this.getEntitySet().getQName();},getAllParameterNames:function(){if(this._aParameterNames){return this._aParameterNames;}this._aParameterNames=[];for(var n in this._oParameterSet)this._aParameterNames.push(this._oParameterSet[n].getName());return this._aParameterNames;},getAllParameters:function(){return this._oParameterSet;},findParameterByName:function(n){return this._oParameterSet[n];},getNavigationPropertyToQueryResult:function(){return this._oNavPropToQueryResult;},getEntityType:function(){return this._oEntityType;},getEntitySet:function(){return this._oEntitySet;},_oEntityType:null,_oEntitySet:null,_oQueryResult:null,_oNavPropToQueryResult:null,_aParameterNames:null,_oParameterSet:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter=function(p,P){this._init(p,P);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter.prototype={_init:function(p,P){this._oParameterization=p;this._oProperty=P;var e=p.getEntityType();if(P.extensions!=undefined){for(var i=-1,E;E=P.extensions[++i];){if(!E.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(E.name){case'parameter':switch(E.value){case'mandatory':this._bRequired=true;break;case'optional':this._bRequired=false;break;default:throw'Invalid annotation value for parameter property';}break;case'label':this._sLabelText=E.value;break;case'text':this._oTextProperty=e.findPropertyByName(E.value);break;case'upper-boundary':this._bIntervalBoundaryParameter=true;this._oUpperIntervalBoundaryParameterProperty=e.findPropertyByName(E.value);break;case'lower-boundary':this._bIntervalBoundaryParameter=true;this._oLowerIntervalBoundaryParameterProperty=e.findPropertyByName(E.value);break;}}}if(!this._sLabelText){this._sLabelText='';}},setValueSetEntity:function(e,E){this._oValueSetEntityType=e;this._oValueSetEntitySet=E;},getTextProperty:function(){return this._oTextProperty;},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.tokenizeNametoLabelText(this.getName());}return this._sLabelText;},isOptional:function(){return(!this._bRequired);},isIntervalBoundary:function(){return this._bIntervalBoundaryParameter;},isLowerIntervalBoundary:function(){return(this._oUpperIntervalBoundaryParameterProperty?true:false);},getPeerIntervalBoundaryParameter:function(){var p=null;if(this._oLowerIntervalBoundaryParameterProperty){p=this._oLowerIntervalBoundaryParameterProperty.name;}else{p=this._oUpperIntervalBoundaryParameterProperty.name;}if(!p){throw'Parameter is not an interval boundary';}return this._oParameterization.findParameterByName(p);},isValueSetAvailable:function(){return(this._oValueSetEntityType?true:false);},getName:function(){return this._oProperty.name;},getProperty:function(){return this._oProperty;},getContainingParameterization:function(){return this._oParameterization;},getURIToValueEntitySet:function(s){var u=null;u=(s?s:'')+'/'+this._oValueSetEntitySet.getQName();return u;},_oParameterization:null,_oProperty:null,_sLabelText:null,_oTextProperty:null,_bRequired:false,_bIntervalBoundaryParameter:false,_oLowerIntervalBoundaryParameterProperty:null,_oUpperIntervalBoundaryParameterProperty:null,_oValueSetEntityType:null,_oValueSetEntitySet:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension=function(q,p){this._init(q,p);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension.prototype={_init:function(q,p){this._oQueryResult=q;this._oProperty=p;this._oAttributeSet={};if(p.extensions!=undefined){for(var i=-1,e;e=p.extensions[++i];){if(!e.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(e.name){case'label':this._sLabelText=e.value;break;case'text':this._oTextProperty=q.getEntityType().findPropertyByName(e.value);break;case'super-ordinate':this._sSuperOrdinatePropertyName=e.value;break;}}}if(!this._sLabelText){this._sLabelText='';}},getName:function(){return this._oProperty.name;},getKeyProperty:function(){return this._oProperty;},getTextProperty:function(){return this._oTextProperty;},setTextProperty:function(t){this._oTextProperty=t;},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.tokenizeNametoLabelText(this.getName());}return this._sLabelText;},getSuperOrdinateDimension:function(){if(!this._sSuperOrdinatePropertyName){return null;}return this._oQueryResult.findDimensionByName(this._sSuperOrdinatePropertyName);},getHierarchy:function(){if(!this._oHierarchy){this._oHierarchy=this._oQueryResult.getEntityType().getHierarchy(this._oProperty.name);}return this._oHierarchy;},getAllAttributeNames:function(){if(this._aAttributeNames){return this._aAttributeNames;}this._aAttributeNames=[];for(var n in this._oAttributeSet)this._aAttributeNames.push(this._oAttributeSet[n].getName());return this._aAttributeNames;},getAllAttributes:function(){return this._oAttributeSet;},findAttributeByName:function(n){return this._oAttributeSet[n];},addAttribute:function(d){this._oAttributeSet[d.getName()]=d;},getContainingQueryResult:function(){return this._oQueryResult;},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sSuperOrdinatePropertyName:null,_aAttributeNames:null,_oAttributeSet:null,_oHierarchy:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute=function(q,p){this._init(q,p);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute.prototype={_init:function(q,p){this._oQueryResult=q;this._oProperty=p;if(p.extensions!=undefined){for(var i=-1,e;e=p.extensions[++i];){if(!e.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(e.name){case'attribute-for':this._sDimensionName=e.value;break;case'label':this._sLabelText=e.value;break;case'text':this._oTextProperty=q.getEntityType().findPropertyByName(e.value);break;}}}},getName:function(){return this._oProperty.name;},getKeyProperty:function(){return this._oProperty;},getTextProperty:function(){return this._oTextProperty;},getLabelText:function(){return this._sLabelText;},getDimension:function(){return this._oQueryResult.findDimensionByName(this._sDimensionName);},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sDimensionName:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure=function(q,p){this._init(q,p);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure.prototype={_init:function(q,p){this._oQueryResult=q;this._oProperty=p;if(p.extensions!=undefined){for(var i=-1,e;e=p.extensions[++i];){if(!e.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(e.name){case'label':this._sLabelText=e.value;break;case'text':this._oTextProperty=q.getEntityType().findPropertyByName(e.value);break;case'unit':this._oUnitProperty=q.getEntityType().findPropertyByName(e.value);break;}}}if(!this._sLabelText){this._sLabelText='';}},getName:function(){return this._oProperty.name;},getRawValueProperty:function(){return this._oProperty;},getFormattedValueProperty:function(){return this._oTextProperty;},getUnitProperty:function(){return this._oUnitProperty;},getLabelText:function(){return this._sLabelText;},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_oUnitProperty:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet=function(m,s,c,e){this._init(m,s,c,e);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet.prototype={_init:function(m,s,c,e){this._oEntitySet=e;this._oContainer=c;this._oSchema=s;this._oModel=m;if(s.entityContainer.length>1){this._sQName=c.name+'.'+e.name;}else{this._sQName=e.name;}},getQName:function(){return this._sQName;},getSetDescription:function(){return this._oEntitySet;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntitySet:null,_oContainer:null,_oSchema:null,_oModel:null,_sQName:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType=function(m,s,e){this._init(m,s,e);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._oPropertySet={};this._aFilterablePropertyNames=[];this._aSortablePropertyNames=[];this._aRequiredFilterPropertyNames=[];this._sQName=s.namespace+'.'+e.name;var r={};var R=null;for(var i=-1,p;p=e.property[++i];){this._aFilterablePropertyNames.push(p.name);this._aSortablePropertyNames.push(p.name);if(p.extensions==undefined){continue;}for(var j=-1,E;E=p.extensions[++j];){if(!E.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(E.name){case'filterable':if(E.value=='false'){this._aFilterablePropertyNames.pop(p.name);}break;case'sortable':if(E.value=='false'){this._aSortablePropertyNames.pop(p.name);}break;case'required-filter':if(E.value=='true'){this._aRequiredFilterPropertyNames.push(p.name);}break;case'hierarchy-node-for':if(!(R=r[p.name])){R=r[p.name]={};}R.dimensionName=E.value;break;case'hierarchy-parent-node-for':case'hierarchy-parent-nod':if(!(R=r[E.value])){R=r[E.value]={};}R.parentNodeIDProperty=p;break;case'hierarchy-level-for':if(!(R=r[E.value])){R=r[E.value]={};}R.levelProperty=p;break;case'hierarchy-drill-state-for':case'hierarchy-drill-stat':if(!(R=r[E.value])){R=r[E.value]={};}R.drillStateProperty=p;break;}}this._oPropertySet[p.name]=p;}this._oRecursiveHierarchySet={};for(var h in r){var H=r[h];var o=this._oPropertySet[h];var d=this._oPropertySet[H.dimensionName];if(d==null){d=o;}this._oRecursiveHierarchySet[d.name]=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy(e,o,H.parentNodeIDProperty,H.levelProperty,d);}},findPropertyByName:function(n){return this._oPropertySet[n];},getFilterablePropertyNames:function(){return this._aFilterablePropertyNames;},getSortablePropertyNames:function(){return this._aSortablePropertyNames;},getRequiredFilterPropertyNames:function(){return this._aRequiredFilterPropertyNames;},getAllHierarchyPropertyNames:function(){if(this._aHierarchyPropertyNames){return this._aHierarchyPropertyNames;}this._aHierarchyPropertyNames=[];for(var n in this._oRecursiveHierarchySet)this._aHierarchyPropertyNames.push(this._oRecursiveHierarchySet[n].getNodeValueProperty().name);return this._aHierarchyPropertyNames;},getHierarchy:function(n){if(this._oRecursiveHierarchySet[n]==undefined){return null;}return this._oRecursiveHierarchySet[n];},getQName:function(){return this._sQName;},getTypeDescription:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_sQName:null,_oPropertySet:null,_aFilterablePropertyNames:null,_aRequiredFilterPropertyNames:null,_aHierarchyPropertyNames:null,_oRecursiveHierarchySet:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy=function(e,n,p,N,o){this._init(e,n,p,N,o);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy.prototype={_init:function(e,n,p,N,o){this._oEntityType=e;this._oNodeIDProperty=n;this._oParentNodeIDProperty=p;this._oNodeLevelProperty=N;this._oNodeValueProperty=o;},isRecursiveHierarchy:function(){return true;},isLeveledHierarchy:function(){return false;},getNodeIDProperty:function(){return this._oNodeIDProperty;},getParentNodeIDProperty:function(){return this._oParentNodeIDProperty;},getNodeLevelProperty:function(){return this._oNodeLevelProperty;},getNodeValueProperty:function(){return this._oNodeValueProperty;},_oNodeIDProperty:null,_oParentNodeIDProperty:null,_oNodeLevelProperty:null,_oNodeValueProperty:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression=function(m,s,e){this._init(m,s,e);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._aFilterCondition=[];},clear:function(){this._aFilterCondition=[];},addCondition:function(p,o,v,V){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw'Cannot add filter condition for unknown property name '+p;}var f=this._oEntityType.getFilterablePropertyNames();if(f.indexOf(p)===-1){throw'Cannot add filter condition for not filterable property name '+p;}this._aFilterCondition.push({property:P,op:o,val1:v,val2:V});return this._aFilterablePropertyNames;},addSetCondition:function(p,v){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw'Cannot add filter condition for unknown property name '+p;}var f=this._oEntityType.getFilterablePropertyNames();if(f.indexOf(p)===-1){throw'Cannot add filter condition for not filterable property name '+p;}for(var i=-1,V;V=v[++i];){this._aFilterCondition.push({property:P,op:sap.ui.model.FilterOperator.EQ,val1:V});}return this._aFilterablePropertyNames;},getExpressionAsUI5FilterArray:function(){var f=[];for(var i=-1,c;c=this._aFilterCondition[++i];){f.push(new sap.ui.model.Filter(c.property.name,c.op,c.val1,c.val2));}return f;},getURIFilterOptionValue:function(){if(this._aFilterCondition.length==0){return'';}this._aFilterCondition.sort(function(a,b){if(a.property.name==b.property.name){return 0;}if(a.property.name>b.property.name){return 1;}else{return-1;}});var p=this._aFilterCondition[0].property.name;var o='';var s='';for(var i=-1,c;c=this._aFilterCondition[++i];){if(p!=c.property.name){o+=(o==''?'':' and ')+'('+s+')';s='';p=c.property.name;}switch(c.op){case sap.ui.model.FilterOperator.BT:s+=(s==''?'':' or ')+'('+c.property.name+' '+sap.ui.model.FilterOperator.GE.toLowerCase()+' '+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(c.val1,c.property.type)+' and '+c.property.name+' '+sap.ui.model.FilterOperator.LE.toLowerCase()+' '+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(c.val2,c.property.type)+')';break;default:s+=(s==''?'':' or ')+'('+c.property.name+' '+c.op.toLowerCase()+' '+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(c.val1,c.property.type)+')';}}o+=(o==''?'':' and ')+'('+s+')';return o;},getEntityType:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_aFilterCondition:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortOrder={Ascending:'asc',Descending:'desc'};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression=function(m,s,e){this._init(m,s,e);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._aSortCondition=[];},_containsSorter:function(p){var r=null;for(var i=-1,c;c=this._aSortCondition[++i];){if(c.property.name===p){r={sorter:c,index:i};break;}}return r;},_removeFromArray:function(a,f,t){var r=a.slice((t||f)+1||a.length);a.length=f<0?a.length+f:f;return a.push.apply(a,r);},clear:function(){this._aSortCondition=[];},addSorter:function(p,s){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw'Cannot add sort condition for unknown property name '+p;}if(this._containsSorter(p)!=null){throw'Sort condition for this property name is already defined '+p;}var S=this._oEntityType.getSortablePropertyNames();if(S.indexOf(p)===-1){throw'Cannot add sort condition for not sortable property name '+p;}this._aSortCondition.push({property:P,order:s});return this;},removeSorter:function(p){if(!p){return;}var s=this._containsSorter(p);if(s){this._removeFromArray(this._aSortCondition,s.index);}},getExpressionsAsUI5SorterArray:function(){var s=[];for(var i=-1,c;c=this._aSortCondition[++i];){s.push(new sap.ui.model.Sorter(c.property.name,c.order==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortOrder.Descending));}return s;},getExpressionAsUI5Sorter:function(){var s=this.getExpressionsAsUI5SorterArray();if(s.length==0){return null;}else{return s[0];}},getURIOrderByOptionValue:function(){if(this._aSortCondition.length==0){return'';}var o='';for(var i=-1,c;c=this._aSortCondition[++i];){o+=c.property.name+' '+c.order;if(i<this._aSortCondition.length-1){o+=', ';}}return o;},getEntityType:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_aSortCondition:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterizationRequest=function(p){this._init(p);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterizationRequest.prototype={_init:function(p){if(!p){throw'No parameterization given';}this._oParameterization=p;this._oParameterValueAssignment=[];},getParameterization:function(){return this._oParameterization;},setParameterValue:function(p,v,t){var P=this._oParameterization.findParameterByName(p);if(!P){throw'Invalid parameter name '+p;}if(t!=null){if(!P.isIntervalBoundary()){throw'Range value cannot be applied to parameter '+p+' accepting only single values';}if(!P.isLowerIntervalBoundary()){throw'Range value given, but parameter '+p+' does not hold the lower boundary';}}if(!P.isIntervalBoundary()){if(v==null){delete this._oParameterValueAssignment[p];}else{this._oParameterValueAssignment[p]=v;}}else{if(v==null&&t!=null){throw'Parameter '+p+': An upper boundary cannot be given without the lower boundary';}if(v==null){delete this._oParameterValueAssignment[p];t=null;}else{this._oParameterValueAssignment[p]=v;}var u=P.getPeerIntervalBoundaryParameter();if(t==null){t=v;}if(v==null){delete this._oParameterValueAssignment[u.getName()];}else{this._oParameterValueAssignment[u.getName()]=t;}}return;},getURIToParameterizationEntitySet:function(s){return(s?s:'')+'/'+this._oParameterization.getEntitySet().getQName();},getURIToParameterizationEntry:function(s){var d=this._oParameterization.getAllParameters();for(var D in d){if(this._oParameterValueAssignment[D]==undefined){throw'Parameter '+D+' has no value assigned';}}var k='',f=true;for(var p in this._oParameterValueAssignment){k+=(f?'':',')+p+'='+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyKeyValue(this._oParameterValueAssignment[p],d[p].getProperty().type);f=false;}return(s?s:'')+'/'+this._oParameterization.getEntitySet().getQName()+'('+k+')';},_oParameterization:null,_oParameterValueAssignment:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResultRequest=function(q,p){this._init(q);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResultRequest.prototype={_init:function(q,p){this._oQueryResult=q;this._oParameterizationRequest=p;this._oAggregationLevel={};this._oMeasures={};this._bIncludeEntityKey=false;this._oFilterExpression=null;},setParameterizationRequest:function(p){this._oParameterizationRequest=p;},getQueryResult:function(){return this._oQueryResult;},setAggregationLevel:function(d){this._oAggregationLevel={};if(!d){d=this._oQueryResult.getAllDimensionNames();}this.addToAggregationLevel(d);},addToAggregationLevel:function(d){if(!d){return;}for(var i=-1,D;D=d[++i];){if(!this._oQueryResult.findDimensionByName(D)){throw D+' is not a valid dimension name';}this._oAggregationLevel[D]={key:true,text:false,attributes:null};}},removeFromAggregationLevel:function(d){if(!d){return;}for(var i=-1,D;D=d[++i];){if(!this._oQueryResult.findDimensionByName(D)){throw D+' is not a valid dimension name';}if(this._oAggregationLevel[D]!=undefined){delete this._oAggregationLevel[D];this.getSortExpression().removeSorter(D);}}},getAggregationLevel:function(){var d=[];for(var D in this._oAggregationLevel){d.push(D);}return d;},getAggregationLevelDetails:function(d){if(this._oAggregationLevel[d]==undefined){throw'Aggregation level does not include dimension '+d;}return this._oAggregationLevel[d];},setMeasures:function(m){if(!m){m=this._oQueryResult.getAllMeasureNames();}this._oMeasures={};for(var i=-1,M;M=m[++i];){if(!this._oQueryResult.findMeasureByName(M)){throw M+' is not a valid measure name';}this._oMeasures[M]={value:true,text:false,unit:false};}},getMeasureNames:function(){var m=[];for(var M in this._oMeasures){m.push(M);}return m;},includeDimensionKeyTextAttributes:function(d,I,b,a){var D=[];if(d){if(this._oAggregationLevel[d]==undefined){throw d+' is not included in the aggregation level';}D.push(d);}else{for(var n in this._oAggregationLevel){D.push(n);}a=null;}for(var i=-1,s;s=D[++i];){if(I!=null){this._oAggregationLevel[s].key=I;}if(b!=null){this._oAggregationLevel[s].text=b;}if(a!=null){this._oAggregationLevel[s].attributes=a;}}},includeMeasureRawFormattedValueUnit:function(m,I,b,a){var M=[];if(m){if(this._oMeasures[m]==undefined){throw m+' is not part of the query result';}M.push(m);}else{for(var n in this._oMeasures){M.push(n);}}for(var i=-1,s;s=M[++i];){if(I!=null){this._oMeasures[s].value=I;}if(b!=null){this._oMeasures[s].text=b;}if(a!=null){this._oMeasures[s].unit=a;}}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oQueryResult.getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},setRequestOptions:function(i,I){if(i){this._bIncludeEntityKey=i;}if(I){this._bIncludeCount=I;}},setResultPageBoundaries:function(s,e){if(s!=null&&typeof s!=='number'){throw'Start value must be null or numeric';}if(e!==null&&typeof e!=='number'){throw'End value must be null or numeric';}if(s==null){s=1;}if(s<1||s>(e==null?s:e)){throw'Invalid values for requested page boundaries';}this._iSkipRequestOption=(s>1)?s:null;this._iTopRequestOption=(e!=null)?(e-s+1):null;},getResultPageBoundaries:function(){return{start:(this._iSkipRequestOption==null)?1:this._iSkipRequestOption,end:(this._iTopRequestOption!=null)?(this._iSkipRequestOption==null)?1:this._iSkipRequestOption+this._iTopRequestOption:null};},getURIToQueryResultEntitySet:function(s){var u=null;if(this._oQueryResult.getParameterization()){if(!this._oParameterizationRequest){throw'Missing parameterization request';}else{u=this._oParameterizationRequest.getURIToParameterizationEntry(s)+'/'+this._oQueryResult.getParameterization().getNavigationPropertyToQueryResult();}}else{u=(s?s:'')+'/'+this._oQueryResult.getEntitySet().getQName();}return u;},getURIQueryOptionValue:function(q){var Q=null;switch(q){case'$select':{var s='';for(var d in this._oAggregationLevel){var D=this._oQueryResult.findDimensionByName(d);var o=this._oAggregationLevel[d];if(o.key==true){s+=(s==''?'':',')+D.getKeyProperty().name;}if(o.text==true&&D.getTextProperty()){s+=(s==''?'':',')+D.getTextProperty().name;}if(o.attributes){for(var i=-1,a;a=o.attributes[++i];){s+=(s==''?'':',')+D.findAttributeByName(a).getName();}}}for(var m in this._oMeasures){var M=this._oQueryResult.findMeasureByName(m);var b=this._oMeasures[m];if(b.value==true){s+=(s==''?'':',')+M.getRawValueProperty().name;}if(b.text==true&&M.getFormattedValueProperty()){s+=(s==''?'':',')+M.getFormattedValueProperty().name;}if(b.unit==true&&M.getUnitProperty()){s+=(s==''?'':',')+M.getUnitProperty().name;}}if(this._bIncludeEntityKey){var k=this._oQueryResult.getEntityType().getTypeDescription().key.propertyRef;for(var i=-1,K;K=k[++i];){s+=(s==''?'':',')+K.name;}}Q=(s?s:null);break;}case'$filter':{var f=null;if(this._oFilterExpression){f=this._oFilterExpression.getURIFilterOptionValue();}Q=(f?f:null);break;}case'$orderby':{var S=null;if(this._oSortExpression){S=this._oSortExpression.getURIOrderByOptionValue();}Q=(S?S:null);break;}case'$top':{if(this._iTopRequestOption!==null){Q=this._iTopRequestOption;}break;}case'$skip':{Q=this._iSkipRequestOption;break;}default:break;}return Q;},getURIToQueryResultEntries:function(s){var r=this.getURIToQueryResultEntitySet(s);var S=this.getURIQueryOptionValue('$select');var f=this.getURIQueryOptionValue('$filter');var a=this.getURIQueryOptionValue('$orderby');var t=this.getURIQueryOptionValue('$top');var b=this.getURIQueryOptionValue('$skip');var u=r;var q=false;if(S){u+='?$select='+S;q=true;}if(this._oFilterExpression&&f){if(!q){u+='?';q=true;}else{u+='&';}u+='$filter='+f;}if(this._oSortExpression&&a){if(!q){u+='?';q=true;}else{u+='&';}u+='$orderby='+a;}if(this._iTopRequestOption&&t){if(!q){u+='?';q=true;}else{u+='&';}u+='$top='+t;}if(this._iSkipRequestOption&&b){if(!q){u+='?';q=true;}else{u+='&';}u+='$skip='+b;}if(this._bIncludeCount){if(!q){u+='?';q=true;}else{u+='&';}u+='$inlinecount=allpages';}return u;},_oQueryResult:null,_oParameterizationRequest:null,_oAggregationLevel:null,_oMeasures:null,_bIncludeEntityKey:null,_bIncludeCount:null,_oFilterExpression:null,_oSortExpression:null,_iSkipRequestOption:0,_iTopRequestOption:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterValueSetRequest=function(p){this._init(p);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterValueSetRequest.prototype={_init:function(p){this._oParameter=p;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null;},includeParameterText:function(i){if(i!=null){this._oValueSetResult.text=i;}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oParameter.getContainingParameterization().getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},getURIQueryOptionValue:function(q){var Q=null;switch(q){case'$select':{var s='';s+=(s==''?'':',')+this._oParameter.getProperty().name;if(this._oValueSetResult.text==true&&this._oParameter.getTextProperty()){s+=(s==''?'':',')+this._oParameter.getTextProperty().name;}Q=(s?s:null);break;}case'$filter':{var f=null;if(this._oFilterExpression){f=this._oFilterExpression.getURIFilterOptionValue();}Q=(f?f:null);break;}case'$orderby':{var S=null;if(this._oSortExpression){S=this._oSortExpression.getURIOrderByOptionValue();}Q=(S?S:null);break;}default:break;}return Q;},getURIToParameterValueSetEntries:function(s){var r=null;r=(s?s:'')+'/'+this._oParameter.getContainingParameterization().getEntitySet().getQName();var S=this.getURIQueryOptionValue('$select');var f=this.getURIQueryOptionValue('$filter');var a=this.getURIQueryOptionValue('$orderby');var u=r;var q=false;if(S){u+='?$select='+S;q=true;}if(this._oFilterExpression&&f){if(!q){u+='?';q=true;}else{u+='&';}u+='$filter='+f;}if(this._oSortExpression&&a){if(!q){u+='?';q=true;}else{u+='&';}u+='$orderby='+a;}return u;},_oParameter:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionMemberSetRequest=function(d,p){this._init(d,p);};\nsap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionMemberSetRequest.prototype={_init:function(d,p){this._oDimension=d;this._oParameterizationRequest=p;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null;},setParameterizationRequest:function(p){this._oParameterizationRequest=p;},includeDimensionTextAttributes:function(i,a){if(i!=null){this._oValueSetResult.text=i;}if(a!=null){this._oValueSetResult.attributes=a;}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oDimension.getContainingQueryResult().getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},hasMasterDataAvailable:function(){return false;},getURIQueryOptionValue:function(q){var Q=null;switch(q){case'$select':{var s='';s+=(s==''?'':',')+this._oDimension.getKeyProperty().name;if(this._oValueSetResult.text==true&&this._oDimension.getTextProperty()){s+=(s==''?'':',')+this._oDimension.getTextProperty().name;}if(this._oValueSetResult.attributes){for(var i=-1,a;a=this._oValueSetResult.attributes[++i];){s+=(s==''?'':',')+this._oDimension.findAttributeByName(a).getName();}}Q=(s?s:null);break;}case'$filter':{var f=null;if(this._oFilterExpression){f=this._oFilterExpression.getURIFilterOptionValue();}Q=(f?f:null);break;}case'$orderby':{var S=null;if(this._oSortExpression){S=this._oSortExpression.getURIOrderByOptionValue();}Q=(S?S:null);break;}default:break;}return Q;},getURIToDimensionMemberEntries:function(s){var r=null;if(this._oDimension.getContainingQueryResult().getParameterization()){if(!this._oParameterizationRequest){throw'Missing parameterization request';}else{r=this._oParameterizationRequest.getURIToParameterizationEntry(s)+'/'+this._oDimension.getContainingQueryResult().getParameterization().getNavigationPropertyToQueryResult();}}else{r=(s?s:'')+'/'+this._oDimension.getContainingQueryResult().getEntitySet().getQName();}var S=this.getURIQueryOptionValue('$select');var f=this.getURIQueryOptionValue('$filter');var a=this.getURIQueryOptionValue('$orderby');var u=r;var q=false;if(S){u+='?$select='+S;q=true;}if(this._oFilterExpression&&f){if(!q){u+='?';q=true;}else{u+='&';}u+='$filter='+f;}if(this._oSortExpression&&a){if(!q){u+='?';q=true;}else{u+='&';}u+='$orderby='+a;}return u;},_oDimension:null,_oParameterizationRequest:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};\n",
	"sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil.js":"jQuery.sap.declare('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles.indicatorTileUtils=sap.ushell.components.tiles.indicatorTileUtils||{};sap.ushell.components.tiles.indicatorTileUtils.util=sap.ushell.components.tiles.indicatorTileUtils.util||{};sap.ushell.components.tiles.indicatorTileUtils.util=(function(g,$){'use strict';var c={};var t={'ANN':'years','WEE':'weeks','DAY':'days','HUR':'hours','MIN':'minutes'};var a={};var b={};return{getScheduledJob:function(k){return a[k];},setScheduledJob:function(k,d){a[k]=d;},isCallInProgress:function(k){return b[k];},setUnsetCallInProgress:function(k,v){b[k]=v;},getTimeUnitMap:function(){return t;},getHanaUser:function(){return authObject.userName;},addSystemToServiceUrl:function(u,s){jQuery.sap.log.info('Hana Adapter --> Add System to Service Url');if(sap.ushell&&sap.ushell.Container){if(s){u=sap.ushell.Container.getService('URLParsing').addSystemToServiceUrl(u,s);}else{u=sap.ushell.Container.getService('URLParsing').addSystemToServiceUrl(u);}}return u;},getODataModelByServiceUri:function(s){s=this.addSystemToServiceUrl(s);if(!c[s]){var m=new sap.ui.model.odata.ODataModel(s,{loadMetadataAsync:true,json:true});c[s]=m;}return c[s];},getEdmType:function(u,p){var d=null;if(u instanceof sap.ui.model.odata.ODataModel){d=u;}else{d=this.getODataModelByServiceUri(u);}if(d&&d.getServiceMetadata()){var s=d.getServiceMetadata();var e=s.dataServices.schema[0].entityType;if(e){for(var i=0;i<e.length;i++){var f=e[i];var h=f.property;for(var j=0;j<h.length;j++){var k=h[j];if(k.name==p){return k.type;}}}}}return null;},getMillisecond:function(d,u){var r;switch(u){case'seconds':r=d*1000;break;case'minutes':r=d*60*1000;break;case'hours':r=d*60*60*1000;break;case'days':r=d*24*60*60*1000;break;case'weeks':r=d*7*24*60*60*1000;break;case'months':r=d*4*7*24*60*60*1000;break;case'years':r=d*12*4*7*24*60*60*1000;break;}return r;},getUTCDate:function(){var n=new Date();var u=new Date(n.getTime()+n.getTimezoneOffset()*60000);return n;},isCacheValid:function(d,e,f,h,i){var j=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(d);if(!j){return false;}else if(!(f&&Number(f))){return true;}else{var k=this.getMillisecond(f,t[h]);if(jQuery.type(j.CachedTime)=='date'){var l=j.CachedTime&&j.CachedTime.getTime();}else{var l=j.CachedTime&&parseInt(j.CachedTime.substr(6),10);}var m=this.getUTCDate();return(l>=e&&k>=(m-l)&&!i);}},getMantissaLength:function(n){var N=n.toString();var i=0;if(n<0){i=1;}return(N.indexOf('.')===-1)?(n<0?N.length-1:N.length):N.substring(i,N.indexOf('.')).length;},getLocaleFormattedValue:function(n,s,d,i,e){jQuery.sap.require('sap.ui.core.format.NumberFormat');i=i||false;e=e||null;if(i){return sap.ui.core.format.NumberFormat.getCurrencyInstance({style:'short',showMeasure:false}).format(n,e);}var D=2;var f={style:'short'};var N;if(!(d==-1||d==null)){f.shortDecimals=Number(d);f.minFractionDigits=Number(d);f.maxFractionDigits=Number(d);}var v=sap.ui.core.format.NumberFormat.getInstance(f);if(s==-2){if(n>9999){N='????';}else if((n>-0.001&&n<0)||(n<0.001&&n>0)){N='0';}else{if(n.toString().indexOf('.')!=-1){N=Number(n).toFixed(4-n.toString().indexOf('.'));}else{N=Number(n);}N=v.format(N);}}else if(d==-1||d==null){var m=this.getMantissaLength(n);if(!(m%3)){D=1;}if(m%3===1){D=3;}if(m%3===2){D=2;}if(Math.abs(n)%Math.pow(10,m-1)==0){D=0;}else if((Math.abs(n)%Math.pow(10,m-1))<6*Math.pow(10,m-4)){D=0;}v=sap.ui.core.format.NumberFormat.getInstance({style:'short',shortDecimals:D});N=v.format(n);}else{N=v.format(n);}return N;},getPlatform:function(p){return(jQuery.sap.getUriParameters().get('sb_metadata')||p||'HANA').toUpperCase();},getTileTitleSubtitle:function(C){var d={};if(C.bag&&C.bag.getBagIds()&&C.bag.getBagIds().length){d.title=C.bag.getBag('sb_tileProperties').getText('title')||C.bag.getBag('sb_tileProperties').getProperty('title')||C.preview.getTitle();d.subTitle=C.bag.getBag('sb_tileProperties').getText('description')||C.bag.getBag('sb_tileProperties').getProperty('description')||C.preview.getDescription();}else{d.title=C.preview.getTitle();d.subTitle=C.preview.getDescription();}return d;},scheduleFetchDataJob:function(i){var d;if(this.getView().getViewName().indexOf('DualTile')!==-1){d=this.oKpiTileView.oConfig;}else{d=this.oConfig;}var k=d.TILE_PROPERTIES.id+'data';var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeUnitMap();var e=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(d);var f=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(d);var h=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(e,t[f]);if(jQuery.type(this.cacheTime)=='date'){var j=this.cacheTime;}else{var j=new Date(parseInt(this.cacheTime.substr(6),10));}var l=h-(sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()-j);if(l<=0){l=0;}else if(l>2147483646){l=2147483646;}if(!i){l=300000;}if(this.getView().getViewName().indexOf('DualTile')!==-1){r=setTimeout(this.refreshPress.bind(this),l);}else{r=setTimeout(this.refreshHandler.bind(this,false,true),l);sap.ushell.components.tiles.indicatorTileUtils.util.setScheduledJob(k,r);}this.updateDatajobScheduled=true;},scheduleTimeStampJob:function(i){var k=this.oConfig.TILE_PROPERTIES.id+'time';var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}if(jQuery.type(this.cacheTime)=='date'){var d=this.cacheTime;}else{var d=new Date(parseInt(this.cacheTime.substr(6),10),13);}var e=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()-d);r=setTimeout(this.setTimeStamp.bind(this,this.cacheTime),e.timer);sap.ushell.components.tiles.indicatorTileUtils.util.setScheduledJob(k,r);this.updateTimeStampjobScheduled=true;},getBoolValue:function(v){var r=false;if(typeof v=='boolean'&&v){r=true;}return r;},getSeconds:function(d){return(d/1000);},getMinutes:function(d){return(this.getSeconds(d)/60);},getHours:function(d){return(this.getMinutes(d)/60);},getDays:function(d){return(this.getHours(d)/24);},getWeeks:function(d){return(this.getDays(d)/7);},getMonths:function(d){return(this.getWeeks(d)/4);},getYears:function(d){return(this.getMonths(d)/12);},getTimeDifference:function(d){var r={};if(d){var m=this.getMinutes(d);var h=this.getHours(d);var e=this.getDays(d);if(m<5){r.time=0;r.unit='minutes';r.timer=Math.round(this.getMillisecond(5-m,'minutes'));}else if(m>=5&&m<60){if(m<10){r.time=5;}else{r.time=(m-(m%10));}r.unit='minutes';r.timer=Math.round(this.getMillisecond(10-(m%10),'minutes'));}else if(h>=1&&h<24){r.unit='hours';r.time=(h-(h%1));r.timer=Math.round(this.getMillisecond(1-(h%1),'hours'));}else if(e>=1&&e<2){r.unit='days';r.time=(e-(e%1));r.timer=Math.round(this.getMillisecond(1-(e%1),'days'));}else{r.unit='days';r.time=(e-(e%1));r.timer=this.getMillisecond(2,'days');}}else{r.timer=6000;r.unit='days';r.timer=2000;}return r;},getCachingTime:function(C){return((C.CACHINGTIME&&Number(C.CACHINGTIME))||(C.TILE_PROPERTIES.cachingTime&&Number(C.TILE_PROPERTIES.cachingTime)));},getCachingTimeUnit:function(C){return(C.CACHINGUNIT||C.TILE_PROPERTIES.cachingTimeUnit);},getFrontendCacheQuery:function(d,u,p,T){var e;try{var f=T.url.addSystemToServiceUrl('/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV');e=this.getODataModelByServiceUri(f);var f='/CacheParameters(P_CacheType=1)/Results';return{oModel:e,uri:f};}catch(h){jQuery.sap.log.error('FrontEnd cache Metadata failed');return null;}},isDualTile:function(C){var d=C&&C.TILE_PROPERTIES&&C.TILE_PROPERTIES.tileType;if(d.indexOf('DT-')==-1){return false;}return true;},writeFrontendCacheByChipAndUserId:function(T,d,e,u,f){var s=function(e){jQuery.sap.log.info('cache write successFully');f(e);};var h=function(){jQuery.sap.log.error('cache update failed');f(null);};try{var i=T.url.addSystemToServiceUrl('/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV/');var j=this.getODataModelByServiceUri(i);var k='/CacheData';j.create(k,e,{async:true,success:s,error:h});}catch(l){jQuery.sap.log.error(l);}},getKpiChipsOnPage:function(d,e){var f=[];var h=this;var l=sap.ushell.Container.getService('LaunchPage');l.getGroups().done(function(G){if(G&&G instanceof Array&&G.length){jQuery.sap.log.info('Group Chip fetch');}e(d,f);});},getFrontendCache:function(C,T){var d=this;var o=sap.ushell.components.tiles.indicatorTileUtils.cache.getFrontEndCacheDeferredObject(T.url.getApplicationSystem());var e;if(o){e=o;}else{e=jQuery.Deferred();}var f=C&&C.TILE_PROPERTIES&&C.TILE_PROPERTIES.id;var h=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(f);if(h){o.resolve(true);}else if(o){return o.promise();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setFrontEndCacheDefferedObject(T.url.getApplicationSystem(),e);o=e;this.getKpiChipsOnPage(f,function(f,p){if(p){var i=d.getFrontendCacheQuery(p,sap.ushell.Container.getUser().getId(),p,T);if(i){var j=i.oModel;var k=i.uri;var l=false;var m=j.read(k,null,null,true,function(n){if(n&&n.results&&n.results instanceof Array&&n.results.length){jQuery.each(n.results,function(q,r){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(r.ChipId,r);});}if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(f)){l=true;}o.resolve(l);},function(n){if(n&&n.response){jQuery.sap.log.error(n.message+' : '+n.request.requestUri);}o.reject();});}else{o.reject();}}else{o.resolve(false);}});}return o.promise();},getModelerRuntimeServiceModel:function(){return this.getODataModelByServiceUri('/sap/hba/apps/kpi/s/odata/smart_business_runtime_services.xsodata');},getSapFontErrorCode:function(){return String.fromCharCode(0xe0b1);},getSapFontBusyCode:function(){return String.fromCharCode(0xe1f2);},prepareFilterStructure:function(f,d){var v=[];if(d){f=f.concat(d);}for(var i=0;i<f.length;i++){var p={};p.comparator=f[i].OPERATOR;p.filterPropertyName=f[i].NAME;if(f[i].ID){p.id=f[i].ID;}p.type=f[i].TYPE;p.value=f[i].VALUE_1;p.valueTo=f[i].VALUE_2;v.push(p);}return v;},getODataModelByServiceUriFromChipAPI:function(s,T){s=T.url.addSystemToServiceUrl(s);if(!c[s]){var m=new sap.ui.model.odata.ODataModel(s,true);c[s]=m;}return c[s];},getRunTimeUri:function(p){if(p.toUpperCase()=='HANA'){return'/sap/hba/r/sb/core/odata/runtime/SMART_BUSINESS.xsodata';}return'/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV';},getFilterFromRunTimeService:function(C,T,s,e){var p=C.TILE_PROPERTIES.sb_metadata;var K=this.getODataModelByServiceUriFromChipAPI(this.getRunTimeUri(p),T);var f=\"ID eq '#EVALUATIONID'\".replace('#EVALUATIONID',C.EVALUATION.ID);var k=K.read('/EVALUATION_FILTERS',null,{'$filter':f},true,function(d){var h=[];if(d.results.length){h=d.results;}s.call(this,h);},e);return k;},_getOData4AnalyticsObject:function(u){var m=null;if(u instanceof sap.ui.model.odata.ODataModel){m=u;}else if(typeof u=='string'){m=this.getODataModelByServiceUri(u);}else{throw new Error('Invalid Input to Create ODataModel Object : '+u);}var O=new sap.ui.model.analytics.odata4analytics.Model(sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(m));return O;},findTextPropertyForDimension:function(u,d,f){try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var D=q.findDimensionByName(f);if(D.getTextProperty()){return D.getTextProperty().name;}else{return f;}}catch(e){$.sap.log.error('Error Fetching Text Property for '+f+' : '+e.toString());}},getEvalValueMeasureName:function(C,d,r){var e=C.EVALUATION_VALUES;for(var i=0;i<e.length;i++){if(e[i].TYPE==d){if(r==='FIXED'){return e[i].FIXED;}else{return e[i].COLUMN_NAME;}}}},getSemanticColorName:function(d){var s='';if(d=='Error'){s='sb.error';}if(d=='Neutral'){s='sb.neutral';}if(d=='Critical'){s='sb.critical';}if(d=='Good'){s='sb.good';}return s;},setTooltipInTile:function(C,d,v){var e='';var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();if(d=='NT'||d=='DT'){if(v.status){e+=r.getText('sb.status')+': '+r.getText(v.status)+'\\n';}if(v.actual){e+=r.getText('sb.actual')+': '+v.actual+'\\n';}if(v.target){e+=r.getText('sb.target')+': '+v.target+'\\n';}if(v.cH){e+=r.getText('sb.ch')+': '+v.cH+'\\n';}if(v.wH){e+=r.getText('sb.wh')+': '+v.wH+'\\n';}if(v.wL){e+=r.getText('sb.wl')+': '+v.wL+'\\n';}if(v.cL){e+=r.getText('sb.cl')+': '+v.cL+'\\n';}}if(d=='CONT'||d=='COMP'){if(v.measure&&d=='CONT'){if(v&&v.contributionTile.contributionTile&&v.contributionTile.contributionTile[1]==='asc'){e+=r.getText('sb.bottomn')+': '+v.contributionTile[0]+'\\n';}else if(v&&v.contributionTile.contributionTile&&v.contributionTile.contributionTile.length){e+=r.getText('sb.topn')+': '+v.contributionTile[0]+'\\n';}}if(v.m1&&((v.v1==undefined||v.v1==null)?false:v.v1.toString())&&v.c1){e+=v.m1+': '+v.v1+' '+r.getText(v.c1)+'\\n';}if(v.m2&&((v.v2==undefined||v.v2==null)?false:v.v2.toString())&&v.c2){e+=v.m2+': '+v.v2+' '+r.getText(v.c2)+'\\n';}if(v.m3&&((v.v3==undefined||v.v3==null)?false:v.v3.toString())&&v.c3){e+=v.m3+': '+v.v3+' '+r.getText(v.c3)+'\\n';}}C&&C.setTooltip&&C.setTooltip(e);},_getFormattedTileProperties:function(d){d=d||{};var p=['sb_metadata','sb_navigation','sb_catalog'];var e=false;for(var i=0;!e&&i<p.length;i++){e=e||jQuery.sap.getUriParameters().get(p[i])||d[p[i]];}d.sb_metadata=(jQuery.sap.getUriParameters().get('sb_metadata')||d.sb_metadata||'HANA').toLowerCase();d.sb_navigation=(jQuery.sap.getUriParameters().get('sb_navigation')||d.sb_navigation||'abap').toLowerCase();d.sb_catalog=(jQuery.sap.getUriParameters().get('sb_catalog')||d.sb_catalog||'HANA').toLowerCase();d.isPlatformInfoPresent=e;return d;},getEvaluationDetailsFromRunTimeService:function(e,p,i,d){var K=this.getODataModelByServiceUri(this.getRunTimeUri(p));var f=\"ID eq '#EVALUATIONID'\".replace('#EVALUATIONID',i);var k=K.read(e,null,{'$filter':f},true,function(h){var j=[];if(h.results.length){j=h.results;}d.call(this,j);});},getParsedChip:function(C,i,d){try{var p={};var e=JSON.parse(C);var f=JSON.parse(e.TILE_PROPERTIES).evaluationId||'';if(e.TILE_PROPERTIES){var h=JSON.parse(e.TILE_PROPERTIES);if(h&&(h.instanceId||h.catalogId)){return false;}}var j=this;if(e.blankTile){p['BLANKTILE']=e.blankTile;}if(e.cachingTime){p['CACHINGTIME']=e.cachingTime;}if(e.cachingTimeUnit){p['CACHINGUNIT']=e.cachingTimeUnit;}if(e.TAGS){p['TAGS']=JSON.parse(e.TAGS);}if(e.ADDITIONAL_FILTERS){p['ADDITIONAL_FILTERS']=JSON.parse(e.ADDITIONAL_FILTERS);}if(e.ADDITIONAL_APP_PARAMETERS){p['ADDITIONAL_APP_PARAMETERS']=JSON.parse(e.ADDITIONAL_APP_PARAMETERS);}p.TILE_PROPERTIES=this._getFormattedTileProperties(JSON.parse(e.TILE_PROPERTIES));var P=p.TILE_PROPERTIES.sb_metadata;if(e.EVALUATION_FILTERS){p['EVALUATION_FILTERS']=JSON.parse(e.EVALUATION_FILTERS);if(e.EVALUATION_VALUES){p['EVALUATION_VALUES']=JSON.parse(e.EVALUATION_VALUES);if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{if(!i){j.getEvaluationDetailsFromRunTimeService('/EVALUATIONS',P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}else{if(d){d(p);}else{return p;}}}}else{if(!i){j.getEvaluationDetailsFromRunTimeService('/EVALUATION_VALUES',P,f,function(l){p['EVALUATION_VALUES']=l;if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService('/EVALUATIONS',P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}});}else{if(d){d(p);}else{return p;}}}}else if(i){if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService('/EVALUATION_FILTERS',P,f,function(l){p['EVALUATION_FILTERS']=l;if(e.EVALUATION_VALUES){p['EVALUATION_VALUES']=JSON.parse(e.EVALUATION_VALUES);if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService('/EVALUATIONS',P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}}else{j.getEvaluationDetailsFromRunTimeService('/EVALUATION_VALUES',P,f,function(l){p['EVALUATION_VALUES']=l;if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService('/EVALUATIONS',P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}});}});}}catch(k){return false;}},getNavigationTarget:function(C,s){var f=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService;var o=f&&f('CrossApplicationNavigation');var e;var p={};p['evaluationId']=C.EVALUATION.ID;p['chipId']=C.TILE_PROPERTIES.id;if(s){p['sap-system']=s;}p['tileType']=C.TILE_PROPERTIES.tileType;if(C.TILE_PROPERTIES.dimension){p['dimension']=C.TILE_PROPERTIES.dimension;}if(C.TILE_PROPERTIES.storyId){p['storyId']=C.TILE_PROPERTIES.storyId;}if(C.TILE_PROPERTIES.apfConfId){p['sap-apf-configuration-id']=C.TILE_PROPERTIES.apfConfId;}if(C.TILE_PROPERTIES.isPlatformInfoPresent){p['sb_metadata']=C.TILE_PROPERTIES.sb_metadata;p['sb_navigation']=C.TILE_PROPERTIES.sb_navigation;p['sb_catalog']=C.TILE_PROPERTIES.sb_catalog;}if(C.ADDITIONAL_APP_PARAMETERS){for(e in C.ADDITIONAL_APP_PARAMETERS){if(C.ADDITIONAL_APP_PARAMETERS.hasOwnProperty(e)){if(C.ADDITIONAL_APP_PARAMETERS[e].constructor==Array){var d=C.ADDITIONAL_APP_PARAMETERS[e];for(var i=0;i<d.length;i++){p[e]=d[i];}}else{p[e]=C.ADDITIONAL_APP_PARAMETERS[e];}}}}var h=o&&o.hrefForExternal({target:{semanticObject:C.TILE_PROPERTIES.semanticObject,action:C.TILE_PROPERTIES.semanticAction},params:p})||'';if(C.ADDITIONAL_FILTERS){var k=C.ADDITIONAL_FILTERS;var l='&';for(var j=0;j<k.length;j++){if(k[j].OPERATOR==='EQ'){l=l+'/'+k[j].NAME+'='+k[j].VALUE_1;}}h+=l;}return h;},getChipTitle:function(C){var d='';if(C){var e=C.EVALUATION||{};d=e.INDICATOR_TITLE||'';}return d;},getstringifyTileConfig:function(C){var s={};s.EVALUATION=JSON.stringify(C.EVALUATION);s.EVALUATION_FILTERS=JSON.stringify(C.EVALUATION_FILTERS);s.EVALUATION_VALUES=JSON.stringify(C.EVALUATION_VALUES);s.TILE_PROPERTIES=JSON.stringify(C.TILE_PROPERTIES);return JSON.stringify(s);},getChipSubTitle:function(C){var T='';if(C){var d=C.EVALUATION||{};T=d.TITLE||'';}return T;},getAllMeasures:function(u,d){var m=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);m=q.getAllMeasureNames();}catch(e){$.sap.log.error('Error Fetching All Measures : '+e.toString());}return m;},getFormattingMetadata:function(u,e,p){var f={};f._hasCurrency=false;f._hasSapText=false;var m=null;if(u instanceof sap.ui.model.odata.ODataModel){m=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(u);}else{var d=this.getODataModelByServiceUri(u);m=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(d);}var O=new sap.ui.model.analytics.odata4analytics.Model(m);var q=O.findQueryResultByName(e);var h=q.getAllMeasures();if(h[p]){var s=(h[p]._oTextProperty&&h[p]._oTextProperty.name)?h[p]._oTextProperty.name:'';if(s!=''){f._hasSapText=true;f._sapTextColumn=s;}else if(h[p].hasOwnProperty('_oUnitProperty')){var j=h[p]._oUnitProperty.extensions;for(var i=0;i<h[p]._oUnitProperty.extensions.length;i++){if(j[i].name==='semantics'&&j[i].value==='currency-code'){f._hasCurrency=true;f._currencyColumn=h[p]._oUnitProperty.name;}}}}return f;},getAllDimensions:function(u,d){function i(j,k){var l=0,m=0;var r=[];while(l<j.length&&m<k.length){if(j[l]<k[m]){l++;}else if(j[l]>k[m]){m++;}else{r.push(j[l]);l++;m++;}}return r;}var f=[];var F=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var h=q.getEntityType();F=h.getFilterablePropertyNames();f=q.getAllDimensionNames();if(F&&F.length){f=i(F.sort(),f.sort());}}catch(e){$.sap.log.error('Error Fetching All Dimesions : '+e.toString());}return f;},prepareQueryServiceUri:function(u,d,m,f,v,o,h){function _(S){return S.replace(/'/g,\"''\");}var n=null;var p=function(){};var q=function(){};try{var r=null;if(u instanceof sap.ui.model.odata.ODataModel){r=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(u);}else{var s=this.getODataModelByServiceUri(u);r=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(s);}var O=new sap.ui.model.analytics.odata4analytics.Model(r);var Q=O.findQueryResultByName(d);var w=new sap.ui.model.analytics.odata4analytics.QueryResultRequest(Q);if(m){w.setMeasures(m.split(','));w.includeMeasureRawFormattedValueUnit(null,true,true,true);}if(f){if(typeof f=='string'){n=f;n=n.split(',');}for(var i=0;i<n.length;i++){w.addToAggregationLevel([n[i]]);var x=Q.getAllDimensions();if(x[n[i]].getTextProperty()!=null){w.includeDimensionKeyTextAttributes([n[i]],true,true,null);}}}if(v&&v.length){var A=[];var B=[];for(var i=0,l=v.length;i<l;i++){var C=v[i];if(C.type==='PA'){B.push(C);}else if(C.type==='FI'){A.push(C);}}p=function(S){var T=S.toJSON();var U=T.charAt(T.length-1).toUpperCase();if(U.charCodeAt(0)>=65&&U.charCodeAt(0)<=90){T=T.slice(0,-1);}return T;};q=function(S){if(S){try{if(S==+S){S=window.parseInt(S);}var T=new Date(S);var U=T.getTime();if(isNaN(U)){return S;}else{return p(T);}}catch(e){}}return S;};if(A.length){var F=w.getFilterExpression();for(var i=0,l=A.length;i<l;i++){var C=A[i];if(this.getEdmType(u,C.filterPropertyName)=='Edm.DateTime'){C.value=q(C.value);C.valueTo=q(C.valueTo);}if(C.comparator==sap.ui.model.FilterOperator.BT){F.addCondition(C.filterPropertyName,C.comparator,_(C.value),C.valueTo);}else{var D=C.value.split(',');for(var j=0,k=D.length;j<k;j++){F.addCondition(C.filterPropertyName,C.comparator,_(D[j].replace(/\\^\\|/g,',')),null);}}}}if(B.length){if(Q.getParameterization()){var P=new sap.ui.model.analytics.odata4analytics.ParameterizationRequest(Q.getParameterization());var E=Q.getParameterization();var G,H,I,J,K;for(var y=0,z=B.length;y<z;y++){G=B[y];H=E.findParameterByName(G.filterPropertyName);if(H.isIntervalBoundary()===true&&H.isLowerIntervalBoundary()===true){K=H.getPeerIntervalBoundaryParameter();for(var i=0,l=B.length;i<l;i++){if(B[i].filterPropertyName===K.getName()){J=_(B[i].value);break;}}I=_(G.value);if(J){P.setParameterValue(G.filterPropertyName,I,J);}}else if(H.isIntervalBoundary()===true&&H.isLowerIntervalBoundary()===false){jQuery.sap.log.info('Future development');}else{P.setParameterValue(G.filterPropertyName,_(G.value));}}w.setParameterizationRequest(P);}}}var L=w.getURIToQueryResultEntries();if(o&&o.length){L=L+'&$orderby=';for(var y=0,z=o.length;y<z;y++){var M=o[y].sortOrder||'asc';if(M){L+=o[y].element+' '+M+',';}}L=L.slice(0,L.length-1);}if(h){L=L+'&$top='+h;}var N=Q.getAllMeasures();var R=[];for(var i=0;i<m.split(',').length;i++){R.push(N[m.split(',')[i]].getUnitProperty());}return{uri:L,model:O.getODataModel(),unit:R};}catch(e){$.sap.log.error('Error Preparing Query Service Uri using OData4Analytics Library : '+e.toString());if(arguments.length){$.sap.log.error('Arguments Passed to this function');$.sap.log.error(arguments[0]+','+arguments[1]+','+arguments[2]+','+arguments[3]);}else{$.sap.log.error('NO Arguments passed to this function');}return null;}},getAllEntitySet:function(u){var d=[];try{var o=this._getOData4AnalyticsObject(u);d=o.getAllQueryResultNames();}catch(e){$.sap.log.error('Error fetching Enity Set : '+e.toString());}return d;},getAllMeasuresWithLabelText:function(u,d){var m=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var f=q.getAllMeasureNames();for(var i=0;i<f.length;i++){var h=f[i];g.oMeasure=q.findMeasureByName(h);m.push({key:h,value:oMeasure.getLabelText()});}}catch(e){$.sap.log.error('Error Fetching All Measures : '+e.toString());}return m;},getAllDimensionsWithLabelText:function(u,d){var f=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var h=q.getAllDimensionNames();for(var i=0;i<h.length;i++){var j=h[i];var D=q.findDimensionByName(j);var k=null;if(D.getTextProperty()!=null){k=D.getTextProperty().name;}f.push({key:j,value:D.getLabelText(),textProperty:k});}}catch(e){$.sap.log.error('Error Fetching All Dimesions : '+e.toString());}return f;},getAllInputParams:function(u,d){var i=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);if(q.getParameterization()){var p=q.getParameterization();i=p.getAllParameterNames();}}catch(e){$.sap.log.error('Error Fetching Input Params : '+e.toString());}return i;},getAllInputParamsWithFlag:function(u,d){var f=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);if(q.getParameterization()){var p=q.getParameterization();var h=p.getAllParameterNames();for(var i=0;i<h.length;i++){var j=h[i];var k=p.findParameterByName(j);f.push({name:j,optional:k.isOptional()});}}}catch(e){$.sap.log.error('Error Fetching Input Params : '+e.toString());}return f;},formatOdataObjectToString:function(v){if(v&&v.constructor==Object){if(v.__edmType=='Edm.Time'){var m=v.ms;var s=Math.floor((m/1000)%60);var d=Math.floor((m/60000)%60);var h=Math.floor((m/3600000)%24);return h+'H'+d+'M'+s+'S';}}return v;},generateCombinations:function(d){function e(h,s){while(s.length<h){s='0'+s;}return s;}var m=Math.pow(2,d.length);var r=[];var f=0;while(m>1){var s=(m-1).toString(2);s=e(d.length,s);r[f]=[];for(var i=0;i<s.length;i++){if(Number(s[i])){r[f].push(d[i]);}}m--;f++;}return r;},logError:function(e,C){if(e=='no data'&&C){var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();C.setFailedText(r.getText('sb.noData'));}jQuery.sap.log.error(e.toString());},numberOfLeadingZeros:function(n){n=String(n);var d=0;var e=n.indexOf('.');if(e==-1){return 0;}if(Number(n.split('.')[0])!=0){return 0;}var i=e+1;while(n[i++]=='0'){++d;}return d;},formatValue:function(v,s,M){M=M||3;var u={3:'K',6:'M',9:'B',12:'T',0:''};u['-3']='m';u['-6']='u';u['-9']='n';u['-12']='t';u['-2']='%';var d,p,e;d=Number(v).toPrecision(M);var z=this.numberOfLeadingZeros(d);if(z>0&&s<0){p=d*Math.pow(10,z+M);e=-(z+M);}else{p=Number(d.split('e')[0]);e=Number(d.split('e')[1])||0;}if(!v&&v!=0){return{value:'',unitPrefix:''};}if(s>=0){if(e%3!=0){if(e%3==2){if(e+1==s){e=e+1;p=p/10;}else{e=e-2;p=p*100;}}else{if(e+2==s){e=e+2;p=p/100;}else{e--;p=p*10;}}}else if(e==15){p=p*1000;e=12;}}else{if(s=='-2'){var x=this.formatValue((v*100),0);}else if(e>=0&&v<10&&s=='-3'){p=v*Math.pow(10,3);e=-3;}else if(e>=0){return this.formatValue(v,0);}else{e=Math.abs(e);s=Math.abs(s);if(s>e){p=p/(Math.pow(10,e%3));e=e-(e%3);}else{var f=e-s;p=p/(Math.pow(10,f));e=e-f;}e=0-e;}}p+='';if(s=='-2'){var h=(x.unitPrefix=='')?Number(x.value+'').toFixed(4-(x.value+'').indexOf('.')):Number(x.value+'').toFixed(3-(x.value+'').indexOf('.'));return{value:Number(h),unitPrefix:(x.unitPrefix)+u[-2]};}p=Number(p).toFixed(4-p.indexOf('.'));return{value:Number(p),unitPrefix:u[e]};},isSmartbusinessChipAndCachable:function(d){var C=this.getParsedChip(d&&d.getConfigurationParameter('tileConfiguration'));return(C&&C.TILE_PROPERTIES&&C.TILE_PROPERTIES.tileType&&this.getCachingTime(C));},getHanaClient:function(){var e=function(d,s,x){h=d.sessionClient;sap.ushell.components.tiles.indicatorTileUtils.cache.setCacheHanaClient(h);sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.resolve(h);};var f=function(d,k,l){jQuery.sap.log.error(d.responseText);jQuery.sap.log.error('session client call failed');sap.ushell.components.tiles.indicatorTileUtils.cache.setCacheHanaClient(null);sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.reject();};var h;var i=sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED||jQuery.Deferred();var j=sap.ushell.components.tiles.indicatorTileUtils.cache.getCacheHanaClient();if(j!=undefined){h=j;sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.resolve(h);}else if(sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED){return sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.promise();}else{sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED=i;jQuery.ajax({type:'GET',async:false,dataType:'json',url:'/sap/hba/r/sb/core/logic/GetSessionClient.xsjs',success:e,error:f});}return sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.promise();},abortPendingODataCalls:function(d){try{if(d){d.abort();}}catch(e){this.logError(e);}}};})(window,jQuery);sap.ushell.components.tiles.indicatorTileUtils.cache=(function(){'use strict';var B={};var K={};var s='HANA_CLIENT';return{getCacheHanaClient:function(){return B[s];},setCacheHanaClient:function(d){B[s]=d;},getEvaluationByChipId:function(k){if(B[k]){return B[k];}return null;},getEvaluationById:function(k){return this.getEvaluationByChipId(k);},setEvaluationById:function(k,d){B[k]=d;},getFrontEndCacheDeferredObject:function(k){if(B[k]){return B[k];}return null;},setFrontEndCacheDefferedObject:function(k,d){B[k]=d;},getKpivalueById:function(k){if(K[k]){return K[k];}return null;},setKpivalueById:function(k,d){K[k]=d;}};})();\n",
	"sap/ushell/components/tiles/indicatorcomparison/ComparisonTile.controller.js":"jQuery.sap.require('sap.ushell.components.tiles.generic');(function(){'use strict';sap.ushell.components.tiles.generic.extend('sap.ushell.components.tiles.indicatorcomparison.ComparisonTile',{onInit:function(){this.KPI_VALUE_REQUIRED=false;},_processDataForComparisonChart:function(d,m,u){var f=[],L={},i,t,l;var a;var T=[];var b=this;var e=null;for(i=0;i<d.results.length;i++){var g=d.results[i];}T=sap.ushell.components.tiles.indicatorTileUtils.util.getAllMeasuresWithLabelText(this.oTileApi.url.addSystemToServiceUrl(this.oConfig.EVALUATION.ODATA_URL),this.oConfig.EVALUATION.ODATA_ENTITYSET);for(i=0,l=T.length;i<l;i++){t=T[i];L[t.key]=t.value;}var h=b.oConfig.TILE_PROPERTIES.COLUMN_NAMES||b.oConfig.EVALUATION.COLUMN_NAMES;for(i=0;i<h.length;i++){var j={};var k=h[i];j.value=Number(g[k.COLUMN_NAME]);var n=Number(g[k.COLUMN_NAME]);var o=false;var s=0;var p=b._getEvaluationThresholdMeasures();var I=jQuery.inArray(k.COLUMN_NAME,p);if(I>-1){o=true;s=b.oConfig.EVALUATION.SCALING;}if(b.oConfig.EVALUATION.SCALING==-2&&o){n*=100;}var c=b.isCurrencyMeasure(k.COLUMN_NAME);if(u&&u[i]&&g[u[i].name]){e=g[u[i].name];}a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(n,s,b.oConfig.EVALUATION.SCALING,b.oConfig.EVALUATION.DECIMAL_PRECISION,c,e);if(b.oConfig.EVALUATION.SCALING==-2&&o){a+=' %';}j.displayValue=a.toString();if(u){if(u[i]&&g[u[i].name]){j.displayValue+=' '+g[u[i].name];}}j.color=k.semanticColor;j.title=L[k.COLUMN_NAME]||k.COLUMN_NAME;j.measure=k.COLUMN_NAME;j.isCurM=c;f.push(j);}return f;},fetchChartData:function(r,a,s,E){function c(u,w){var x=false;if(u&&u.results&&u.results.length){for(var i=0,l=w.length;i<l&&!x;i++){x=u.results[0][w[i].COLUMN_NAME]!==null;}}return x;}var t=this;try{var b=this.oConfig.EVALUATION.ODATA_ENTITYSET;var m=this.oConfig.EVALUATION.COLUMN_NAME;var d=m;if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES){for(var j=0;j<this.oConfig.TILE_PROPERTIES.COLUMN_NAMES.length;j++){if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){d=d+','+this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME;}}}else{for(var j=0;j<this.oConfig.EVALUATION.COLUMN_NAMES.length;j++){if(this.oConfig.EVALUATION.COLUMN_NAMES[j].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){d=d+','+this.oConfig.EVALUATION.COLUMN_NAMES[j].COLUMN_NAME;}}}var f=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var g=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(g){var h=g.Data&&JSON.parse(g.Data);}}var k=t.oTileApi.configuration.getParameterValueAsString('timeStamp');var n=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,k,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);if((h&&!h.rightData)||!g||(!n&&t.oTileApi.visible.isVisible())||f||(a&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh){if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,b,d,null,v,3);this.comparisionChartODataRef=o.model.read(o.uri,null,null,true,function(i){t.kpiValueFetchDeferred=true;var w={};if(o.unit){w.unit=o.unit;}if(c(i,t.oConfig.TILE_PROPERTIES.COLUMN_NAMES||t.oConfig.EVALUATION.COLUMN_NAMES)){t.oConfig.TILE_PROPERTIES.FINALVALUE=i;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,d.split(',')[0],o.unit);w.data=t.oConfig.TILE_PROPERTIES.FINALVALUE;var l={};t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();l.ChipId=t.oConfig.TILE_PROPERTIES.id;l.Data=JSON.stringify(w);l.CacheMaxAge=Number(t.chipCacheTime);l.CacheMaxAgeUnit=t.chipCacheTimeUnit;l.CacheType=1;var u=t.getLocalCache(l);t.updateDatajobScheduled=false;var x=t.oConfig.TILE_PROPERTIES.id+'data';var y=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(x);if(y){clearTimeout(y);y=undefined;}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,u);var U=false;if(g){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,l,U,function(i){if(i){t.cacheTime=i&&i.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,i);t.setTimeStamp();}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}}else{var z=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(z){if(!z.CachedTime){z.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var A=z.Data;if(A){A=JSON.parse(A);A.rightData=w;}z.Data=JSON.stringify(A);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,z);}else{var A={};A.rightData=w;u.Data=JSON.stringify(A);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,u);}t.cacheWriteData=w;}s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(i.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=i;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id)){w=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);w.data=i;}else{w.data=i;}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,w);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,{empty:'empty'});t.setNoData();}},function(i){t.kpiValueFetchDeferred=true;if(i&&i.response){jQuery.sap.log.error(i.message+' : '+i.request.requestUri);E.call(t,i);}});}}else{if(g&&g.Data){var p;var q=t.oConfig&&t.oConfig.TILE_PROPERTIES&&t.oConfig.TILE_PROPERTIES.tileType;if(q.indexOf('DT-')==-1){p=g.Data&&JSON.parse(g.Data);}else{p=g.Data&&JSON.parse(g.Data);p=p.rightData;}t.cacheTime=g.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}if(p.data&&p.data.length){t.oConfig.TILE_PROPERTIES.FINALVALUE=p.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else{t.oConfig.TILE_PROPERTIES.FINALVALUE=p.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}}else{t.setNoData();}}}catch(e){t.kpiValueFetchDeferred=true;E.call(t,e);}},doProcess:function(r,i){var t=this;this.setTextInTile();this.fetchChartData(r,i,function(k){this.CALCULATED_KPI_VALUE=k;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.TwoByOne);t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());var c={};c.data=this.CALCULATED_KPI_VALUE;t.getView().getViewData().deferredObj.resolve();}else{t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}this.setToolTip(null,this.CALCULATED_KPI_VALUE,'COMP');if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}},this.logError);},doDummyProcess:function(){var t=this;this.setTextInTile();t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.OneByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:'Liquidity Structure',footer:'Current Quarter',description:'Apr 1st 2013 (B$)',data:[{title:'Measure 1',value:1.2,color:'Good'},{title:'Measure 2',value:0.78,color:'Good'},{title:'Measure 3',value:1.4,color:'Error'}]});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});}());\n",
	"sap/ushell/components/tiles/indicatorcomparison/ComparisonTile.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');sap.ui.getCore().loadLibrary('sap.suite.ui.commons');sap.ui.jsview('sap.ushell.components.tiles.indicatorcomparison.ComparisonTile',{getControllerName:function(){return'sap.ushell.components.tiles.indicatorcomparison.ComparisonTile';},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var t=this;t.tileData;t.oGenericTileData={};t.oCmprsDataTmpl=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{title}',value:'{value}',color:'{color}',displayValue:'{displayValue}'});t.oCmprsChrtTmpl=new sap.suite.ui.microchart.ComparisonMicroChart({size:'{/size}',scale:'{/scale}',data:{template:t.oCmprsDataTmpl,path:'/data'}});t.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:'{/unit}',size:'{/size}',footer:'{/footerComp}',content:t.oCmprsChrtTmpl});t.oGenericTile=new sap.m.GenericTile({subheader:'{/subheader}',frameType:'{/frameType}',size:'{/size}',header:'{/header}',tileContent:[t.oNVConfS]});t.oGenericTileModel=new sap.ui.model.json.JSONModel();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});}());\n",
	"sap/ushell/components/tiles/indicatorcontribution/ContributionTile.controller.js":"jQuery.sap.require('sap.ushell.components.tiles.generic');(function(){'use strict';sap.ushell.components.tiles.generic.extend('sap.ushell.components.tiles.indicatorcontribution.ContributionTile',{onInit:function(){this.KPI_VALUE_REQUIRED=false;},_processDataForComparisonChart:function(d,m,a,u){var s=this.oConfig.TILE_PROPERTIES.semanticColorContribution;var f=[];var t;var b;for(var i=0;i<d.results.length;i++){var g=d.results[i];var h={};try{h.title=g[a].toString();}catch(e){h.title='';}h.value=Number(g[m]);var j=Number(g[m]);if(this.oConfig.EVALUATION.SCALING==-2){j*=100;}var c=this.isCurrencyMeasure(m);b=g[u];t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(j,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,b);h.displayValue=t.toString();if(typeof s==='undefined'){h.color='Neutral';}else{h.color=s;}if(h&&u){h[u]=b;}f.push(h);}return f;},fetchChartData:function(r,i,s,E){var t=this;try{var u=this.oConfig.EVALUATION.ODATA_URL;var a=this.oConfig.EVALUATION.ODATA_ENTITYSET;t.setThresholdValues();if(this.oConfig.TILE_PROPERTIES.semanticMeasure){var m=this.oConfig.EVALUATION.COLUMN_NAME+','+this.oConfig.TILE_PROPERTIES.semanticMeasure;}else{var m=this.oConfig.EVALUATION.COLUMN_NAME;}var b=null;var d=this.oConfig.TILE_PROPERTIES.dimension;this.oConfig.EVALUATION_VALUES;var c=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var f=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(f){var g=f.Data&&JSON.parse(f.Data);}}var h=t.oTileApi.configuration.getParameterValueAsString('timeStamp');var j=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,h,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);if((g&&!g.rightData)||!f||(!j&&t.oTileApi.visible.isVisible())||c||(i&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh){if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o={};o['0']=m+',asc';o['1']=m+',desc';o['2']=d+',asc';o['3']=d+',desc';var k=o[this.oConfig.TILE_PROPERTIES.sortOrder||'0'].split(',');var l=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,a,m,d,v,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){l.uri+='&$top=3&$orderby='+k[0]+' '+k[2];}else{l.uri+='&$top=3&$orderby='+k[0]+' '+k[1];}this.comparisionChartODataRef=l.model.read(l.uri,null,null,true,function(q){t.kpiValueFetchDeferred=true;var w={};if(q&&q.results&&q.results.length){if(l.unit[0]){t._updateTileModel({unit:q.results[0][l.unit[0].name]});b=l.unit[0].name;w.unit=l.unit[0];w.unit.name=l.unit[0].name;}d=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oTileApi.url.addSystemToServiceUrl(u),a,d);w.dimension=d;t.oConfig.TILE_PROPERTIES.FINALVALUE=q;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,m.split(',')[0],d,b);w.data=t.oConfig.TILE_PROPERTIES.FINALVALUE;w.isCurM=t.isACurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var x={};t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();x.ChipId=t.oConfig.TILE_PROPERTIES.id;x.Data=JSON.stringify(w);x.CacheMaxAge=Number(t.chipCacheTime);x.CacheMaxAgeUnit=t.chipCacheTimeUnit;x.CacheType=1;var y=t.getLocalCache(x);t.updateDatajobScheduled=false;var z=t.oConfig.TILE_PROPERTIES.id+'data';var A=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(z);if(A){clearTimeout(A);A=undefined;}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,y);var U=false;if(f){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,x,U,function(q){if(q){t.cacheTime=q&&q.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,q);}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}}else{var B=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(B){if(!B.CachedTime){B.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var C=B.Data;if(C){C=JSON.parse(C);if(t.oKpiTileView.getViewName()=='tiles.indicatornumeric.NumericTile'){C.leftData=w;}else{C.rightData=w;}}B.Data=JSON.stringify(C);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,B);}else{var C={};C.rightData=w;y.Data=JSON.stringify(C);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,y);}t.cacheWriteData=w;}s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(q.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=q;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id)){w=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);w.data=q;}else{w.data=q;}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,w);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,{empty:'empty'});t.setNoData();}},function(q){t.kpiValueFetchDeferred=true;if(q&&q.response){jQuery.sap.log.error(q.message+' : '+q.request.requestUri);E.call(t,q);}});}}else{if(f&&f.Data){var n;var p=t.oConfig&&t.oConfig.TILE_PROPERTIES&&t.oConfig.TILE_PROPERTIES.tileType;if(p.indexOf('DT-')==-1){n=f.Data&&JSON.parse(f.Data);}else{n=f.Data&&JSON.parse(f.Data);n=n.rightData;}t.cacheTime=f.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}if(n.data&&n.data.length){if(n.unit){t._updateTileModel({unit:n.data[0][n.unit.name]});}d=n.dimension;t.oConfig.TILE_PROPERTIES.FINALVALUE=n.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(n&&n.data&&n.data instanceof Array&&n.data.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=n.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{t.setNoData();}}else{t.setNoData();}}}catch(e){t.kpiValueFetchDeferred=true;E.call(t,e);}},doProcess:function(r,i){var t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);this.setTextInTile();this.fetchChartData(r,i,function(k){this.CALCULATED_KPI_VALUE=k;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.TwoByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());t.getView().getViewData().deferredObj.resolve();}else{t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}this.setToolTip(null,this.CALCULATED_KPI_VALUE,'CONT');if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}},this.logError);},doDummyProcess:function(){var t=this;t.setTextInTile();t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.OneByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:'US Profit Margin',footer:'Current Quarter',description:'Maximum deviation',data:[{title:'Americas',value:10,color:'Neutral'},{title:'EMEA',value:50,color:'Neutral'},{title:'APAC',value:-20,color:'Neutral'}]});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});}());\n",
	"sap/ushell/components/tiles/indicatorcontribution/ContributionTile.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');sap.ui.getCore().loadLibrary('sap.suite.ui.commons');sap.ui.jsview('sap.ushell.components.tiles.indicatorcontribution.ContributionTile',{getControllerName:function(){return'sap.ushell.components.tiles.indicatorcontribution.ContributionTile';},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var t=this;t.tileData;t.oGenericTileData={};t.oCmprsDataTmpl=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{title}',value:'{value}',color:'{color}',displayValue:'{displayValue}'});t.oCmprsChrtTmpl=new sap.suite.ui.microchart.ComparisonMicroChart({size:'{/size}',scale:'{/scale}',data:{template:t.oCmprsDataTmpl,path:'/data'}});t.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:'{/unit}',size:'{/size}',footer:'{/footerComp}',content:t.oCmprsChrtTmpl});t.oGenericTile=new sap.m.GenericTile({subheader:'{/subheader}',frameType:'{/frameType}',size:'{/size}',header:'{/header}',tileContent:[t.oNVConfS]});t.oGenericTileModel=new sap.ui.model.json.JSONModel();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});}());\n",
	"sap/ushell/components/tiles/indicatordeviation/DeviationTile.controller.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.generic');sap.ushell.components.tiles.generic.extend('sap.ushell.components.tiles.indicatordeviation.DeviationTile',{onInit:function(){this.KPI_VALUE_REQUIRED=true;},doProcess:function(k,t){var a=this;var f,b;var d=Number(k);var e=this.setThresholdValues();if(this.oConfig.EVALUATION.SCALING==-2){d*=100;}var c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);b=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(d),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);this.CALCULATED_KPI_VALUE=Number(k);var g={};var h=this.getThresholdsObjAndColor(t).returnColor;var i={value:Number(k),color:h};g.actualValueLabel=b.toString();g.actual=i;g.thresholds=[];g.thresholds=this.getThresholdsObjAndColor(e).arrObj;var j=this.DEFINITION_DATA.EVALUATION_VALUES;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=='MEASURE'){var l=Number(e.targetValue);if(this.oConfig.EVALUATION.SCALING==-2){l*=100;}c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);f=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(l,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);g.targetValue=Number(e.targetValue);g.targetValueLabel=f.toString();}else{for(var m=0;m<j.length;m++){if(j[m].TYPE==='TA'){var l=Number(j[m].FIXED);if(this.oConfig.EVALUATION.SCALING==-2){l*=100;}c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);f=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(l,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);g.targetValue=Number(j[m].FIXED);g.targetValueLabel=f.toString();}}}if(this.oConfig.EVALUATION.SCALING==-2){g.scale='%';}this._updateTileModel(g);if(this.DEFINITION_DATA.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){a.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());a.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(a.oConfig.TILE_PROPERTIES.id+'defferedRight',false);}else{this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}this.setToolTip(h,d,'DT');if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}}},getThresholdsObjAndColor:function(t){try{var T={};T.arrObj=[];T.returnColor=sap.m.ValueColor.Neutral;var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var w,c,a,b;if(i==='MI'){a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;if(a&&b){a=window.parseFloat(a);b=window.parseFloat(b);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<b){T.returnColor=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=a){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Error;}}}else if(i==='MA'){c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(c&&w){c=window.parseFloat(c);w=window.parseFloat(w);T.arrObj.push({value:c,color:sap.m.ValueColor.Error});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<c){T.returnColor=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=w){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}else{a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(w&&b&&c&&c){a=window.parseFloat(a);b=window.parseFloat(b);w=window.parseFloat(w);c=window.parseFloat(c);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});T.arrObj.push({value:c,color:sap.m.ValueColor.Error});if(this.CALCULATED_KPI_VALUE<c||this.CALCULATED_KPI_VALUE>a){T.returnColor=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=c&&this.CALCULATED_KPI_VALUE<=w)||(this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=a)){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}return T;}catch(e){this.logError(e);}},doDummyProcess:function(){var t=this;this.setTextInTile();t._updateTileModel({actual:{value:120,color:sap.m.ValueColor.Good},targetValue:100,thresholds:[{value:0,color:sap.m.ValueColor.Error},{value:50,color:sap.m.ValueColor.Critical},{value:150,color:sap.m.ValueColor.Critical},{value:200,color:sap.m.ValueColor.Error}],showActualValue:true,showTargetValue:true});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});}());\n",
	"sap/ushell/components/tiles/indicatordeviation/DeviationTile.view.js":"//Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');sap.ui.getCore().loadLibrary('sap.suite.ui.commons');sap.ui.jsview('sap.ushell.components.tiles.indicatordeviation.DeviationTile',{getControllerName:function(){return'sap.ushell.components.tiles.indicatordeviation.DeviationTile';},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var h='Lorem ipsum';var s='Lorem ipsum';var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(t.title&&t.subTitle){h=t.title;s=t.subTitle;}var d={subheader:s,header:h,footerNum:'',footerComp:'',frameType:'OneByOne',state:sap.m.LoadState.Loading,scale:''};var b=new sap.suite.ui.microchart.BulletMicroChartData({value:'{value}',color:'{color}'});this.oBCTmpl=new sap.suite.ui.microchart.BulletMicroChart({size:sap.m.Size.Auto,scale:'{/scale}',actual:{value:'{/actual/value}',color:'{/actual/color}'},targetValue:'{/targetValue}',actualValueLabel:'{/actualValueLabel}',targetValueLabel:'{/targetValueLabel}',thresholds:{template:b,path:'/thresholds'},state:'{/state}',showActualValue:'{/showActualValue}',showTargetValue:'{/showTargetValue}'});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:'{/unit}',size:'{/size}',footer:'{/footerNum}',content:this.oBCTmpl});this.oGenericTile=new sap.m.GenericTile({subheader:'{/subheader}',frameType:'{/frameType}',size:'{/size}',header:'{/header}',tileContent:[this.oNVConfS]});var g=new sap.ui.model.json.JSONModel();g.setData(d);this.oGenericTile.setModel(g);return this.oGenericTile;}});}());\n",
	"sap/ushell/components/tiles/indicatornumeric/NumericTile.controller.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.generic');sap.ushell.components.tiles.generic.extend('sap.ushell.components.tiles.indicatornumeric.NumericTile',{onInit:function(){this.KPI_VALUE_REQUIRED=true;},doProcess:function(k,t){var a=this;this.CALCULATED_KPI_VALUE=k;this.DEFINITION_DATA.EVALUATION_VALUES;var b=this.getTrendColor(t);var d=this.getTrendIndicator(t.trendValue);var s='';var e=this.CALCULATED_KPI_VALUE;if(this.oConfig.EVALUATION.SCALING==-2){e*=100;this.getView().oNVConfContS.setFormatterValue(false);}var c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(e),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);if(this.oConfig.EVALUATION.SCALING==-2){this._updateTileModel({scale:'%'});}this._updateTileModel({value:s.toString(),valueColor:b,indicator:d});if(a.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.OneByOne){this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);this.setToolTip(b,e,'NT');}else{a.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());a.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(a.oConfig.TILE_PROPERTIES.id+'defferedLeft',false);}this.setToolTip(b,e,'NT');if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(a.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,a.oTileApi.visible.isVisible());}}},doDummyProcess:function(){var t=this;this.setTextInTile();if(!(t.oConfig.BLANKTILE||t.oConfig.TILE_PROPERTIES.blankTile)){t._updateTileModel({value:'10.34',scale:'M',valueColor:sap.m.ValueColor.Neutral,indicator:sap.m.DeviationIndicator.None});}else{this.oKpiTileView.oNVConfContS.setIcon('sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts');}this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});}());\n",
	"sap/ushell/components/tiles/indicatornumeric/NumericTile.view.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil');jQuery.sap.require('sap.ui.model.analytics.odata4analytics');sap.ui.getCore().loadLibrary('sap.suite.ui.commons');sap.ui.jsview('sap.ushell.components.tiles.indicatornumeric.NumericTile',{getControllerName:function(){return'sap.ushell.components.tiles.indicatornumeric.NumericTile';},createContent:function(c){var h='Lorem ipsum';var s='Lorem ipsum';var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(t.title&&t.subTitle){h=t.title;s=t.subTitle;}var g={subheader:s,header:h,footerNum:'',footerComp:'',scale:'',unit:'',value:'',size:'Auto',frameType:'OneByOne',state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Neutral,indicator:sap.m.DeviationIndicator.None,title:'',footer:'',description:''};this.oNVConfContS=new sap.m.NumericContent({value:'{/value}',scale:'{/scale}',unit:'{/unit}',indicator:'{/indicator}',valueColor:'{/valueColor}',size:'{/size}',formatterValue:true,truncateValueTo:5,nullifyValue:false});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:'{/unit}',size:'{/size}',footer:'{/footerNum}',content:this.oNVConfContS});this.oGenericTile=new sap.m.GenericTile({subheader:'{/subheader}',frameType:'{/frameType}',size:'{/size}',header:'{/header}',tileContent:[this.oNVConfS]});var G=new sap.ui.model.json.JSONModel();G.setData(g);this.oGenericTile.setModel(G);return this.oGenericTile;}});}());\n",
	"sap/ushell/components/tiles/sbtilecontent.js":"jQuery.sap.declare('sap.ushell.components.tiles.sbtilecontent');sap.ui.define(['sap/m/TileContent','sap/m/TileContentRenderer','sap/ui/core/Control'],function(T,R,C){'use strict';var t=C.extend('numeric.TileContent_Timestamp',{ontap:function(e){if(this.getParent().getRefreshOption()){e.preventDefault();e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}this.getParent().fireRefresh();}},renderer:function(r,c){r.write('<div');r.writeElementData(c);r.addClass('sapMTileCntFtrTxt');if(c.getParent().getRefreshOption()){r.addClass('sapMLnk');}r.writeClasses();r.addStyle('position','absolute');r.addStyle('z-index','2');r.addStyle(r.getConfiguration().getRTL()?'left':'right','auto');r.writeStyles();r.write('>');var a=c.getParent().getTimestamp();if(a){if(!c.getParent().getRefreshOption()){r.writeEscaped(a);}else if(r.getConfiguration().getRTL()){r.writeEscaped(a+'\\u2009');r.writeIcon('sap-icon://refresh','sapMCmpTileUnitInner');}else{r.writeIcon('sap-icon://refresh','sapMCmpTileUnitInner');r.writeEscaped('\\u2009'+a);}}r.write('</div>');}});return T.extend('sap.ushell.components.tiles.sbtilecontent',{metadata:{properties:{timestamp:{type:'string'},refreshOption:{type:'boolean'}},events:{refresh:{}}},init:function(){this.addDependent(this._oTimestamp=new t());},getAltText:function(){var a=T.prototype.getAltText.apply(this,arguments);if(this.getTimestamp()){a+=(a===''?'':'\\n')+this.getTimestamp();}return a;},renderer:{_renderFooter:function(r,c){R._renderFooter.apply(this,arguments);r.renderControl(c._oTimestamp);}}});},true);\n",
	"sap/ushell/components/tiles/utils.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\nthis.sap=this.sap||{};(function(){'use strict';jQuery.sap.declare('sap.ushell.components.tiles.utils');if(!sap.ushell.components.tiles.utilsRT){jQuery.sap.require('sap.ushell.components.tiles.utilsRT');}sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles=sap.ushell.components.tiles||{};sap.ushell.components.tiles.utils=sap.ushell.components.tiles.utils||{};sap.ushell.components.tiles.utils.isInitial=function(T){return T==='App Launcher – Static'||T==='App Launcher – Dynamic'||T==='Target Mapping';};sap.ushell.components.tiles.utils.getResourceBundleModel=function(){jQuery.sap.require('sap.ushell.resources');return sap.ushell.resources.i18nModel;};sap.ushell.components.tiles.utils.getEmptyRowObj=function(e){return{name:'',mandatory:false,value:'',isRegularExpression:false,defaultValue:'',valEnabled:false||!e,defValEnabled:true,editable:e};};sap.ushell.components.tiles.utils.getEmptyTileActionsRowObj=function(e){var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();return{menu_title:'',target_type:r.getText('configuration.tile_actions.table.target_type.url'),navigation_target:'',action:'',icon:'',isTargetTypeIntent:false,editable:e};};sap.ushell.components.tiles.utils.getTileNavigationActionsRows=function(T,e){var a=[],b=[];b=this.getTileNavigationActions(T);if(b.length){for(var i=0;i<b.length;i++){a.push(t(b[i],e));}}else{a=[this.getEmptyTileActionsRowObj(e)];}return a;};sap.ushell.components.tiles.utils.getTileNavigationActions=function(T){var a=[],s='';var b=T.bag.getBag('tileNavigationActions');if(b.getPropertyNames().indexOf('tile_navigation_actions')>=0){a=JSON.parse(b.getProperty('tile_navigation_actions'));for(var i=0;i<a.length;i++){if(a[i].text){if(b.getTextNames().indexOf('action_tile_'+(i+1))>=0){s=b.getText('action_tile_'+(i+1));}a[i].text=s;}}}return a;};var t=function(T,e){var a={},r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();a.menu_title=T.text;a.icon=T.icon;if((T.targetURL).charAt(0)==='#'){a.target_type=r.getText('configuration.tile_actions.table.target_type.intent');var n=T.targetURL.split('-');a.navigation_target=n[0].substring(1,n[0].length);a.action=n[1];a.isTargetTypeIntent=true;}else{a.target_type=r.getText('configuration.tile_actions.table.target_type.url');a.navigation_target=T.targetURL;a.action='';a.isTargetTypeIntent=false;}a.editable=e;return a;};sap.ushell.components.tiles.utils.tileActionsRows2TileActionsArray=function(T){var a=[];for(var i=0;i<T.length;i++){if(T[i].menu_title){a.push(c(T[i]));}}return a;};var c=function(T){var o={};o.text=T.menu_title;o.icon=T.icon;if(T.action){o.targetURL='#'+T.navigation_target+'-'+T.action;}else{o.targetURL=T.navigation_target;}return o;};sap.ushell.components.tiles.utils.populateTileNavigationActionsBag=function(a,n){a.setProperty('tile_navigation_actions',JSON.stringify(n));for(var i=0;i<n.length;i++){var A=n[i].text;a.setText('action_tile_'+(i+1),A);}};sap.ushell.components.tiles.utils.getDefaultFormFactors=function(){return{'appDefault':false,'manual':{'desktop':true,'tablet':true,'phone':true},'defaultParam':true};};sap.ushell.components.tiles.utils.buildFormFactorsObject=function(m){return{'appDefault':m.getProperty('/config/appFormFactor'),'manual':{'desktop':m.getProperty('/config/desktopChecked'),'tablet':m.getProperty('/config/tabletChecked'),'phone':m.getProperty('/config/phoneChecked')}};};sap.ushell.components.tiles.utils.tableHasDuplicateParameterNames=function(T){var p={};for(var i=0;i<T.length;i++){var a=T[i].name;if(a!==''){if(p[a]){return true;}else{p[a]=true;}}}return false;};sap.ushell.components.tiles.utils.getMappingSignatureString=function(a,b){var m='';for(var i=0;i<a.length;i++){if(a[i].name){m+=(g(a[i])+'&');}}return b?m+'*=*':m.substring(0,m.length-1);};var g=function(a){var p='';if(a.mandatory){if(a.isRegularExpression){p='{'+a.name+'='+encodeURIComponent(a.value)+'}';}else{p=a.name+'='+encodeURIComponent(a.value);}}else{p='['+a.name+'='+encodeURIComponent(a.defaultValue)+']';}return p;};sap.ushell.components.tiles.utils.getMappingSignatureTableData=function(m,e){var p=[];var a=m.split('&');for(var i=0;i<a.length;i++){var b=a[i];if(b!=='*=*'){p.push(d(a[i],e));}}return p;};var d=function(p,e){var a={};if(p.charAt(0)==='['){a.mandatory=false;a.isRegularExpression=false;a.value='';p=p.substring(1,p.length-1);a.name=p.substring(0,p.indexOf('='));a.defaultValue=decodeURIComponent(p.substring(p.indexOf('=')+1));}else{a.mandatory=true;a.defaultValue='';if(p.charAt(0)==='{'){a.isRegularExpression=true;p=p.substring(1,p.length-1);}else{a.isRegularExpression=false;}a.name=p.substring(0,p.indexOf('='));a.value=decodeURIComponent(p.substring(p.indexOf('=')+1));}a.editable=e;if(e){a.valEnabled=a.mandatory;a.defValEnabled=!a.mandatory;}else{a.valEnabled=true;a.defValEnabled=true;}return a;};sap.ushell.components.tiles.utils.getAllowUnknownParametersValue=function(m){if(m&&(m.substring(m.length-3,m.length)==='*=*')){return true;}else{return false;}};sap.ushell.components.tiles.utils.getMappingSignature=function(r,a){var A=a?'allowed':'ignored';var u=new RegExp('%%UserDefault[.].+%%');var m=[];var M={'parameters':{},'additional_parameters':A};r.forEach(function(R){M.parameters[R.name]={'required':R.mandatory,'rename_to':R.rename_to};if(R.defaultValue){m=u.exec(R.defaultValue);if(m){R.defaultValue=m[0];}M.parameters[R.name].defaultValue={'value':R.defaultValue};}if(R.value){m=u.exec(R.value);if(m){R.value=m[0];}M.parameters[R.name].filter={'value':R.value};if(R.isRegularExpression){M.parameters[R.name].filter.format='regexp';}}});return M;};sap.ushell.components.tiles.utils.getSignatureTableData=function(s,e){var p=[];var r={};var P={};var o=s.parameters;for(var k in o){P=o[k];r={};r.editable=e;r.name=k;r.mandatory=P.required;P.rename_to?r.rename_to=P.rename_to:r.rename_to=P.renameTo;if(e){r.valEnabled=r.mandatory;r.defValEnabled=!r.mandatory;}else{r.valEnabled=true;r.defValEnabled=true;}if(P.filter){r.value=P.filter.value;if(P.filter.format&&P.filter.format==='regexp'){r.isRegularExpression=true;}}if(P.defaultValue){r.defaultValue=P.defaultValue.value;}p.push(r);}return p;};sap.ushell.components.tiles.utils.getTranslatedTitle=function(T){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf('display_title_text')>=0){return b.getText('display_title_text');}}if(T.title){return T.title.getTitle();}if(T.preview){return T.preview.getTitle();}return'';};sap.ushell.components.tiles.utils.getTranslatedSubtitle=function(T,C){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf('display_subtitle_text')>=0){return b.getText('display_subtitle_text');}}if(typeof C['display_subtitle_text']==='string'){return C['display_subtitle_text'];}if(T.preview&&T.preview.getDescription&&T.preview.getDescription()){return T.preview.getDescription();}return'';};sap.ushell.components.tiles.utils.getTranslatedProperty=function(T,o,p){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf(p)>=0){return b.getText(p);}}return o[p];};sap.ushell.components.tiles.utils.getActionConfiguration=function(T,a){var C=T.configuration.getParameterValueAsString('tileConfiguration');var o=JSON.parse(C||'{}'),r;if(typeof a=='undefined'){a=T.configurationUi.isEnabled();}if(a){r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();}o.semantic_object=o.semantic_object||(a?'['+r.getText('configuration.semantic_object')+']':'');o.semantic_action=o.semantic_action||(a?'['+r.getText('configuration.semantic_action')+']':'');o.navigation_provider=o.navigation_provider||'';o.navigation_provider_role=o.navigation_provider_role||'';o.navigation_provider_instance=o.navigation_provider_instance||'';o.target_application_id=o.target_application_id||'';o.target_application_alias=o.target_application_alias||'';o.display_info_text=o.display_info_text||'';o.editable=true;if(T.configurationUi&&T.configurationUi.isReadOnly){if(T.configurationUi.isReadOnly()){o.editable=false;}}return o;};sap.ushell.components.tiles.utils.getConfigurationUi=function(v,V){var o=v.getViewData();var T=o.chip;var C,s,r,i,a,A;var b=sap.ushell.components.tiles.utilsRT.getConfiguration(T,true,true);var e=new sap.ui.model.json.JSONModel({config:b,tileModel:v.getModel()});C=new sap.ui.view({type:sap.ui.core.mvc.ViewType.XML,viewData:o,viewName:V});C.setModel(e);s=C.byId('navigation_semantic_objectInput')||C.byId('semantic_objectInput');if(s){s.getModel().setProperty('/enabled',b.navigation_use_semantic_object);s.getModel().setProperty('/value',b.semantic_object||b.navigation_semantic_object);}r=C.byId('navigation_provider_roleInput');if(r){r.getModel().setProperty('/value',b.navigation_provider_role);}i=C.byId('navigation_provider_instanceInput');if(i){i.getModel().setProperty('/value',b.navigation_provider_instance);}a=C.byId('target_application_aliasInput');if(a){a.getModel().setProperty('/value',b.target_application_alias);}A=C.byId('targetTypeInput');if(A){if(!C.getModel().getProperty('/config/transaction')){C.getModel().setProperty('/config/transaction',{});}if(!C.getModel().getProperty('/config/web_dynpro')){C.getModel().setProperty('/config/web_dynpro',{});}if(v.getModel().getProperty('/config/navigation_provider')=='LPD'){sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields(C);}else if(v.getModel().getProperty('/config/navigation_provider')=='SAPUI5'||v.getModel().getProperty('/config/navigation_provider')==''){A.setSelectedKey('SAPUI5');sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields(C);}else if(v.getModel().getProperty('/config/navigation_provider')=='TR'){sap.ushell.components.tiles.utils.displayTransactionApplicationTypeFields(C);}else if(v.getModel().getProperty('/config/navigation_provider')=='WDA'){sap.ushell.components.tiles.utils.displayWebDynproApplicationTypeFields(C);}else if(v.getModel().getProperty('/config/navigation_provider')=='URL'){sap.ushell.components.tiles.utils.displayURLApplicationTypeFields(C);}}return C;};sap.ushell.components.tiles.utils._updateTilePropertiesTexts=function(v,T){var a=T.getTextNames(),m=v.getModel();a.forEach(function(p){m.setProperty('/data/'+p,T.getText(p));m.setProperty('/config/'+p,T.getText(p));});};sap.ushell.components.tiles.utils._updateTileConfiguration=function(v,T){var m=v.getModel();jQuery.each(JSON.parse(T),function(p,P){m.setProperty('/data/'+p,P);m.setProperty('/config/'+p,P);if(p==='navigation_target_url'){m.setProperty('/nav/'+p,P);}});};sap.ushell.components.tiles.utils.aData=[];sap.ushell.components.tiles.utils.aActionData=[];sap.ushell.components.tiles.utils.aRoleData=[];sap.ushell.components.tiles.utils.aAliasData=[];sap.ushell.components.tiles.utils.objectSelectDoSearch=function(e){var f=[],v=e.getParameter('value'),i,s,a;if(v!==undefined){i=e.getParameter('itemsBinding');s=new sap.ui.model.Filter('name',sap.ui.model.FilterOperator.Contains,v);a=new sap.ui.model.Filter('obj',sap.ui.model.FilterOperator.Contains,v);f.push(a);f.push(s);i.filter(new sap.ui.model.Filter(f,false));}};sap.ushell.components.tiles.utils.actionSelectDoSearch=function(e){var f=[],v=e.getParameter('value'),i,s;if(v!==undefined){i=e.getParameter('itemsBinding');s=new sap.ui.model.Filter('text',sap.ui.model.FilterOperator.Contains,v);f.push(s);i.filter(new sap.ui.model.Filter(f,false));}};sap.ushell.components.tiles.utils.roleSelectDoSearch=function(e){var f=[],v=e.getParameter('value'),i,s,a;if(v!==undefined){i=e.getParameter('itemsBinding');s=new sap.ui.model.Filter('role',sap.ui.model.FilterOperator.Contains,v);a=new sap.ui.model.Filter('instance',sap.ui.model.FilterOperator.Contains,v);f.push(s);f.push(a);i.filter(new sap.ui.model.Filter(f,false));}};sap.ushell.components.tiles.utils.instanceSelectDoSearch=function(e){var f=[],v=e.getParameter('value'),a,r,i,s,b;a=e.getSource().getCustomData();r=a[0].getValue();if(v!==undefined){i=e.getParameter('itemsBinding');if(v!=''){b=new sap.ui.model.Filter('instance',sap.ui.model.FilterOperator.Contains,v);f.push(b);}if(r!=''){s=new sap.ui.model.Filter('role',sap.ui.model.FilterOperator.EQ,r);f.push(s);}if(f.length>0){i.filter(new sap.ui.model.Filter(f,true));}}};sap.ushell.components.tiles.utils.instanceSuggest=function(C,e){var v=C.getView(),f=[],V=e.getParameter('value'),r,R,s,a,b;r=v.byId('navigation_provider_roleInput');R=r.getValue();V=e.getParameter('suggestValue');if(V!=''){b=new sap.ui.model.Filter('instance',sap.ui.model.FilterOperator.Contains,V);f.push(b);}if(R!=''){a=new sap.ui.model.Filter('role',sap.ui.model.FilterOperator.EQ,R);f.push(a);}if(f.length>0){s=e.oSource.getBinding('suggestionItems');s.filter(new sap.ui.model.Filter(f,true));}};sap.ushell.components.tiles.utils.aliasSuggest=function(C,e){var v=C.getView(),f=[],V=e.getParameter('value'),i,I,s,a,b;i=v.byId('navigation_provider_instanceInput');I=i.getValue();V=e.getParameter('suggestValue');if(V!=''){b=new sap.ui.model.Filter('alias',sap.ui.model.FilterOperator.Contains,V);f.push(b);}if(I!=''){a=new sap.ui.model.Filter('instance',sap.ui.model.FilterOperator.EQ,I);f.push(a);}if(f.length>0){s=e.oSource.getBinding('suggestionItems');s.filter(new sap.ui.model.Filter(f,true));}};sap.ushell.components.tiles.utils.aliasSelectDoSearch=function(e){var f=[],v=e.getParameter('value'),a,i,b,s,h;a=e.getSource().getCustomData();i=a[0].getValue();if(v!==undefined){b=e.getParameter('itemsBinding');s=new sap.ui.model.Filter('instance',sap.ui.model.FilterOperator.EQ,i);if(v!=''){h=new sap.ui.model.Filter('alias',sap.ui.model.FilterOperator.Contains,v);f.push(h);}f.push(s);b.filter(new sap.ui.model.Filter(f,true));}};sap.ushell.components.tiles.utils.objectSelectUpdateDialog=function(s,v){var f=[],i=s.getBinding('items'),a;if(v!==undefined){a=new sap.ui.model.Filter('name',sap.ui.model.FilterOperator.Contains,v);f.push(a);i.filter(f);}};sap.ushell.components.tiles.utils.actionSelectUpdateDialog=function(s,v){var f=[],i=s.getBinding('items'),a;if(v!==undefined){a=new sap.ui.model.Filter('text',sap.ui.model.FilterOperator.Contains,v);f.push(a);i.filter(f);}};sap.ushell.components.tiles.utils.roleSelectUpdateDialog=function(s,v){var f=[],i=s.getBinding('items'),a;if(v!==undefined){a=new sap.ui.model.Filter('role',sap.ui.model.FilterOperator.Contains,v);f.push(a);i.filter(f);}};sap.ushell.components.tiles.utils.instanceSelectUpdateDialog=function(s,v){var f=[],a,i=s.getBinding('items'),b,r,e;a=s.getCustomData();r=a[0].getValue();if(v!==undefined){b=new sap.ui.model.Filter('instance',sap.ui.model.FilterOperator.Contains,v);f.push(b);}if(r!==''){e=new sap.ui.model.Filter('role',sap.ui.model.FilterOperator.EQ,r);f.push(e);}if(f.length>0){i.filter(f,true);}};sap.ushell.components.tiles.utils.aliasSelectUpdateDialog=function(s,v){var f=[],a,i,b=s.getBinding('items'),e,h;a=s.getCustomData();i=a[0].getValue();if(v!==undefined){h=new sap.ui.model.Filter('alias',sap.ui.model.FilterOperator.Contains,v);f.push(h);}if(i!==''){e=new sap.ui.model.Filter('instance',sap.ui.model.FilterOperator.EQ,i);f.push(e);}if(f.length>0){b.filter(f,true);}};sap.ushell.components.tiles.utils.sSelectedColor=(jQuery('.sapMStdTileIconDiv').css('color')||'#007cc0').split(' ').join('');sap.ushell.components.tiles.utils.sDeselectedColor=(jQuery('.sapMLabel:not(.sapFioriDropZoneText )').css('color')||'#666666').split(' ').join('');sap.ushell.components.tiles.utils.iconSelect=function(i,s){i.setColor(s?sap.ushell.components.tiles.utils.sSelectedColor:sap.ushell.components.tiles.utils.sDeselectedColor);i.setActiveColor(s?sap.ushell.components.tiles.utils.sDeselectedColor:sap.ushell.components.tiles.utils.sSelectedColor);};sap.ushell.components.tiles.utils.onSelectIcon=function(C,i,T,o){var m=C.getView().getModel(),s;if(i){s=m.getProperty('/config/tile_actions_selected_icon');}else{s=m.getProperty('/config/selected_icon');}if(s){sap.ushell.components.tiles.utils.iconSelect(s,false);}s=o.getSource();sap.ushell.components.tiles.utils.iconSelect(s,true);m.setProperty('/config/ok.enabled',true);if(i){m.setProperty('/config/tile_actions_selected_icon',s);}else{m.setProperty('/config/selected_icon',s);}C.byId('selectIconDialog').setTitle(s.getSrc());};sap.ushell.components.tiles.utils.onSelectIconClose=function(v){v.byId('selectIconDialog').close();};sap.ushell.components.tiles.utils.onSelectIconOk=function(v,T){var s=v.getModel().getProperty('/config/selected_icon');if(!T){v.getModel().setProperty('/config/display_icon_url',s.getSrc());v.byId('iconInput').setValueState(sap.ui.core.ValueState.None);}else{s=v.getModel().getProperty('/config/tile_actions_selected_icon');if(s){T.setValue(s.getSrc());T.setValueState(sap.ui.core.ValueState.None);}}sap.ushell.components.tiles.utils.onSelectIconClose(v);};sap.ushell.components.tiles.utils.iconSelectOnValueHelpRequest=function(C,e,a){var m=C.getView().getModel();var r=C.getView().byId('icons');var b=sap.ui.core.IconPool.getIconCollectionNames();var D=C.getView().byId('selectIconDialog');var o=C.getView().byId('ok');var f,I,T,h,i,j,u,B=false;r.destroyContent();if(a){T=sap.ui.getCore().byId(e.getParameter('id'));I=T.getValue();}else{I=m.getProperty('/config/display_icon_url');}o.attachEventOnce('press',function(){sap.ushell.components.tiles.utils.onSelectIconOk(C.getView(),T);});b.sort();b=jQuery.grep(b,function(v){if(v==='BusinessSuiteInAppSymbols'){B=true;return false;}return true;});if(B){b.push('BusinessSuiteInAppSymbols');}for(i=0;i<b.length;i+=1){h=sap.ui.core.IconPool.getIconNames(b[i]);h.sort();for(j=0;j<h.length;j+=1){u=sap.ui.core.IconPool.getIconURI(h[j],b[i]);r.addContent(new sap.ui.core.Icon({height:'38px',press:sap.ushell.components.tiles.utils.onSelectIcon.bind(null,C,a,T),size:'2rem',src:u,tooltip:u,width:'38px'}));}}f=r.getContent();m.setProperty('/config/ok.enabled',false);D.bindProperty('title',{model:'i18n',path:'configuration.select_icon'});for(i=0;i<f.length;i+=1){if(f[i].getSrc()===I){if(a){m.setProperty('/config/tile_actions_selected_icon',f[i]);}else{m.setProperty('/config/selected_icon',f[i]);}sap.ushell.components.tiles.utils.iconSelect(f[i],true);m.setProperty('/config/ok.enabled',true);D.setTitle(I);}else{sap.ushell.components.tiles.utils.iconSelect(f[i],false);}}D.open();};sap.ushell.components.tiles.utils.objectSelectOnValueHelpRequest=function(C,e,i){var v=C.getView(),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText('configuration.semantic_object'),s,V,S=new sap.ui.model.json.JSONModel(),o=new sap.m.SelectDialog('semantic_object_select_dialog',{title:T,search:sap.ushell.components.tiles.utils.objectSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.objectSelectDoSearch}),a=new sap.m.StandardListItem({title:'{obj}'});if(i){s=sap.ui.getCore().byId(e.getParameter('id'));}else{s=v.byId('semantic_objectInput')||v.byId('navigation_semantic_objectInput');}V=s.getValue();o.open(V);S.setData(C.aDefaultObjects.concat(sap.ushell.components.tiles.utils.aData));o.bindAggregation('items','/',a);o.setModel(S);sap.ushell.components.tiles.utils.objectSelectUpdateDialog(o,V);o.attachCancel(function(b){s.setValue(V);if(!i){s.fireChange();}o.destroy();o=null;});o.attachConfirm(function(b){var f=b.getParameter('selectedItem');if(f){s.setValue(f.getTitle());if(!i){s.fireChange();}}o.destroy();o=null;});};sap.ushell.components.tiles.utils.actionSelectOnValueHelpRequest=function(C,e,i){var v=C.getView(),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText('configuration.semantic_action'),a,V,s=new sap.ui.model.json.JSONModel(),S=new sap.m.SelectDialog('semantic_action_select_dialog',{title:T,search:sap.ushell.components.tiles.utils.actionSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.actionSelectDoSearch}),b=new sap.m.StandardListItem({title:'{text}'});if(i){a=sap.ui.getCore().byId(e.getParameter('id'));}else{a=v.byId('semantic_actionInput')||v.byId('navigation_semantic_actionInput');}V=a.getValue();S.open(V);s.setData(sap.ushell.components.tiles.utils.aActionData);S.bindAggregation('items','/items',b);S.setModel(s);sap.ushell.components.tiles.utils.actionSelectUpdateDialog(S,V);S.attachCancel(function(f){a.setValue(V);if(!i){a.fireChange();}S.destroy();S=null;});S.attachConfirm(function(f){var h=f.getParameter('selectedItem');if(h){a.setValue(h.getTitle());if(!i){a.fireChange();a.fireLiveChange({'newValue':h.getTitle()});}}S.destroy();S=null;});};sap.ushell.components.tiles.utils.roleSelectOnValueHelpRequest=function(C,e){var v=C.getView(),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText('configuration.navigation_provider_role'),r,i,V,s=new sap.ui.model.json.JSONModel(),S=new sap.m.TableSelectDialog('role_select_dialog',{title:T,search:sap.ushell.components.tiles.utils.roleSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.roleSelectDoSearch,columns:[new sap.m.Column({header:[new sap.m.Text({text:sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText('configuration.navigation_provider_role')})]}),new sap.m.Column({header:[new sap.m.Text({text:sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText('configuration.navigation_provider_instance')})]})]}),a=new sap.m.ColumnListItem({cells:[new sap.m.Text({text:'{role}'}),new sap.m.Text({text:'{instance}'})]});r=v.byId('navigation_provider_roleInput');i=v.byId('navigation_provider_instanceInput');V=r.getValue();S.open(V);s.setData(C.aDefaultObjects.concat(sap.ushell.components.tiles.utils.aRoleData));S.bindAggregation('items','/',a);S.setModel(s);sap.ushell.components.tiles.utils.roleSelectUpdateDialog(S,V);S.attachCancel(function(b){r.setValue(V);r.fireChange();S.destroy();S=null;});S.attachConfirm(function(b){var f=b.getParameter('selectedItem');if(f){r.setValue(f.getCells()[0].getText());i.setValue(f.getCells()[1].getText());r.fireChange();i.fireChange();}S.destroy();S=null;});};sap.ushell.components.tiles.utils.instanceSelectOnValueHelpRequest=function(C,e){var v=C.getView(),r,T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText('configuration.navigation_provider_instance'),i,V,s=new sap.ui.model.json.JSONModel(),S=new sap.m.SelectDialog('instance_select_dialog',{title:T,search:sap.ushell.components.tiles.utils.instanceSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.instanceSelectDoSearch}),a=new sap.m.StandardListItem({title:'{instance}'});i=v.byId('navigation_provider_instanceInput');V=i.getValue();r=v.byId('navigation_provider_roleInput').getValue();S.addCustomData(new sap.ui.core.CustomData({key:'role',value:r}));S.open(V);s.setData(C.aDefaultObjects.concat(sap.ushell.components.tiles.utils.aRoleData));S.bindAggregation('items','/',a);S.setModel(s);sap.ushell.components.tiles.utils.instanceSelectUpdateDialog(S,V);S.attachCancel(function(b){i.setValue(V);i.fireChange();S.destroy();S=null;});S.attachConfirm(function(b){var f=b.getParameter('selectedItem');if(f){i.setValue(f.getTitle());i.fireChange();}S.destroy();S=null;});};sap.ushell.components.tiles.utils.applicationAliasSelectOnValueHelpRequest=function(C,e){var v=C.getView(),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText('configuration.target_application_alias'),a,V,i,s=new sap.ui.model.json.JSONModel(),S=new sap.m.SelectDialog('alias_select_dialog',{title:T,search:sap.ushell.components.tiles.utils.aliasSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.aliasSelectDoSearch}),b=new sap.m.StandardListItem({title:'{alias}'});a=v.byId('target_application_aliasInput');V=a.getValue();i=v.byId('navigation_provider_instanceInput').getValue();S.addCustomData(new sap.ui.core.CustomData({key:'instance',value:i}));S.open(V);s.setData(C.aDefaultObjects.concat(sap.ushell.components.tiles.utils.aAliasData));S.bindAggregation('items','/',b);S.setModel(s);sap.ushell.components.tiles.utils.aliasSelectUpdateDialog(S,V);S.attachCancel(function(f){a.setValue(V);a.fireChange();S.destroy();S=null;});S.attachConfirm(function(f){var h=f.getParameter('selectedItem');if(h){a.setValue(h.getTitle());a.fireChange();}S.destroy();S=null;});};sap.ushell.components.tiles.utils.onTargetTypeChange=function(T){var i=T.getParameter('id');var p=sap.ui.getCore().byId(i).getParent().getCells();var s=T.getSource().getSelectedKey();if(s=='INT'){p[3].setEnabled(true);p[2].setShowValueHelp(true);p[2].setValue('');}else{p[2].setShowValueHelp(false);p[2].setValue('');p[3].setEnabled(false);p[3].setValue('');}};sap.ushell.components.tiles.utils.addTileActionsRow=function(C){var m=C.getModel();var r=m.getProperty('/config/tile_actions_rows');var n=this.getEmptyTileActionsRowObj();r.push(n);m.setProperty('/config/tile_actions_rows',r);};sap.ushell.components.tiles.utils.deleteTileActionsRow=function(C){var m=C.getModel();var r=m.getProperty('/config/tile_actions_rows');var e=C.byId('tileActions');var s=e.getSelectedIndices();var S=s.sort(function(a,b){return b-a;}).slice();for(var i=0;i<S.length;i++){e.removeSelectionInterval(S[i],S[i]);r.splice(S[i],1);}m.setProperty('/config/tile_actions_rows',r);};sap.ushell.components.tiles.utils.checkInput=function(C,o){var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle(),i=C.byId('iconInput'),u=C.byId('useLpdCheckbox'),s=C.byId('navigation_semantic_objectInput')||C.byId('semantic_objectInput'),S=C.byId('navigation_semantic_actionInput')||C.byId('semantic_actionInput'),n=jQuery.trim(o.getParameter('newValue')),v=sap.ui.core.ValueState.None,V=null;switch(o.getSource()){case i:if(n!=''&&n.substring(0,11)!=='sap-icon://'){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.display_icon_url.warning');}break;case u:if(!u.getSelected()){S.setValueState(sap.ui.core.ValueState.None);s.setValueState(sap.ui.core.ValueState.None);}break;case s:if(/[\\-#&? ]/.test(n)){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.semantic_object.error_invalid_chars');}else if(n==''){v=sap.ui.core.ValueState.Error;}break;case S:if(/[\\-#&? ]/.test(n)){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.semantic_action.error_invalid_chars');}else if(n==''){v=sap.ui.core.ValueState.Error;}break;default:break;}if(v){o.getSource().setValueState(v);if(V!==null){o.getSource().setValueStateText(V||'');}}};sap.ushell.components.tiles.utils.checkInputOnSaveConfig=function(C){var i=C.byId('iconInput');var s=C.byId('navigation_semantic_objectInput');var S=C.byId('navigation_semantic_actionInput');var u=C.byId('useLpdCheckbox');var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();var r=false;if(i.getValue()!=''&&!sap.ushell.components.tiles.utils.isIconURIValid(i.getValue())){i.setValueState(sap.ui.core.ValueState.Error);i.setValueStateText(T.getText('configuration.display_icon_url.warning'));r=true;}if(u.getSelected()&&/[\\-#&? ]/.test(s.getValue())){s.setValueState(sap.ui.core.ValueState.Error);s.setValueStateText(T.getText('configuration.semantic_object.error_invalid_chars'));r=true;}else if(u.getSelected()&&s.getValue()==''){s.setValueState(sap.ui.core.ValueState.Error);r=true;}if(/[\\-#&? ]/.test(S.getValue())){S.setValueState(sap.ui.core.ValueState.Error);S.setValueStateText(T.getText('configuration.semantic_action.error_invalid_chars'));r=true;}else if(u.getSelected()&&S.getValue()==''){S.setValueState(sap.ui.core.ValueState.Error);r=true;}return r;};sap.ushell.components.tiles.utils.checkTileActions=function(C){var T=C.getModel().getProperty('/config/tile_actions_rows');var o=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();var r=false;for(var i=0;i<T.length;i++){if(!T[i].menu_title&&(T[i].navigation_target||T.length>1)){T[i].valueState=sap.ui.core.ValueState.Error;r=true;}else{T[i].valueState=sap.ui.core.ValueState.None;}if(T[i].icon){if(!sap.ushell.components.tiles.utils.isIconURIValid(T[i].icon)){T[i].iconValueState=sap.ui.core.ValueState.Error;T[i].iconValueStateText=o.getText('configuration.display_icon_url.warning');r=true;}}}C.getModel().setProperty('/config/tile_actions_rows',T);return r;};sap.ushell.components.tiles.utils.isIconURIValid=function(i){var r=[];var C='';var I='';var v='';r=/sap-icon:\\/\\/(.+)\\//.exec(i);if(r){C=r[1];r=/\\/\\/.+\\/(.+)/.exec(i);r?I=r[1]:I='';v=sap.ui.core.IconPool.getIconURI(I,C);if(v!=i){return false;}}else{r=/sap-icon:\\/\\/(.+)/.exec(i);if(r){I=r[1];if(!sap.ui.core.IconPool.getIconInfo(I)){return false;}}else{return false;}}return true;};sap.ushell.components.tiles.utils.checkTMInput=function(C,o){var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle(),s=C.byId('semantic_objectInput'),S=C.byId('semantic_actionInput'),a=C.byId('target_application_descriptionInput'),b=C.byId('target_application_urlInput'),e=C.byId('target_application_componentInput'),n=C.byId('navigation_provider_roleInput'),N=C.byId('navigation_provider_instanceInput'),f=C.byId('target_application_aliasInput'),h=C.byId('target_application_idInput'),i=jQuery.trim(o.getParameter('newValue')),v=sap.ui.core.ValueState.None,V=null;switch(o.getSource()){case s:if(/[\\-#&? ]/.test(i)){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.semantic_object.error_invalid_chars');}if(S.getValue()==''){S.setValueState(sap.ui.core.ValueState.Error);}break;case S:if(/[\\-#&? ]/.test(i)){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.semantic_action.error_invalid_chars');}else if(i==''){v=sap.ui.core.ValueState.Error;}break;case a:if(i==''){v=sap.ui.core.ValueState.Error;}break;case b:if(i!=''&&!(/^[-~+,;:?%&#=/.\\w]+$/.test(i))){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.target_application.url.error_invalid_chars');}break;case e:if(i==''){v=sap.ui.core.ValueState.Error;}else if(i.substring(0,17)=='SAPUI5.Component='){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.target_application.component.error_invalid_input');}break;case n:if(i==''){v=sap.ui.core.ValueState.Error;}else if(!(/^[\\w/]+$/.test(i))){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.target_application.role.error_invalid_chars');}break;case N:if(i==''){v=sap.ui.core.ValueState.Error;}else if(!(/^[\\w/]+$/.test(i))){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.target_application.instance.error_invalid_chars');}break;case f:if(i==''&&h.getValue()==''){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.target_application.alias_id.warning');}else if(i!=''&&h.getValue()!=''){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.target_application.alias_id.warning');h.setValueState(v);h.setValueStateText(V);}else{h.setValueState(sap.ui.core.ValueState.None);}break;case h:if(i==''&&f.getValue()==''){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.target_application.alias_id.warning');}else if(i!=''&&f.getValue()!=''){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.target_application.alias_id.warning');f.setValueState(v);f.setValueStateText(V);}else if(i!=''&&!(/^[A-Fa-f0-9]+$/.test(i))){v=sap.ui.core.ValueState.Error;V=T.getText('configuration.target_application.alias_id.error_invalid_chars');}else{f.setValueState(sap.ui.core.ValueState.None);}break;default:break;}if(v){o.getSource().setValueState(v);if(V!==null){o.getSource().setValueStateText(V||'');}}};sap.ushell.components.tiles.utils.checkTMInputOnSaveConfig=function(C){var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();var s=C.byId('semantic_objectInput');var S=C.byId('semantic_actionInput');var o=C.byId('target_application_descriptionInput');var a=C.byId('target_application_urlInput');var b=C.byId('target_application_componentInput');var n=C.byId('navigation_provider_roleInput');var N=C.byId('navigation_provider_instanceInput');var e=C.byId('target_application_aliasInput');var f=C.byId('target_application_idInput');var h=C.byId('targetTypeInput');var i=C.byId('target_transactionInput');var w=C.byId('target_web_dynpro_applicationInput');var F=C.byId('desktopCB');var j=C.byId('tabletCB');var k=C.byId('phoneCB');var r=false;s.setValue(s.getValue().trim());if(/[\\-#&? ]/.test(s.getValue())){s.setValueState(sap.ui.core.ValueState.Error);s.setValueStateText(T.getText('configuration.semantic_object.error_invalid_chars'));r=true;}S.setValue(S.getValue().trim());if(/[\\-#&? ]/.test(S.getValue())){S.setValueState(sap.ui.core.ValueState.Error);S.setValueStateText(T.getText('configuration.semantic_action.error_invalid_chars'));r=true;}else if(S.getValue()==''){S.setValueState(sap.ui.core.ValueState.Error);r=true;}var l=C.getModel().getProperty('/config/navigation_provider');if(l==='SAPUI5'){if(o.getValue()==''){o.setValueState(sap.ui.core.ValueState.Error);r=true;}if(a.getValue()!=''&&!(/^[-~+,;:?%&#=/.\\w]+$/.test(a.getValue()))){a.setValueState(sap.ui.core.ValueState.Error);a.setValueStateText(T.getText('configuration.target_application.url.error_invalid_chars'));r=true;}if(b.getValue()==''){b.setValueState(sap.ui.core.ValueState.Error);r=true;}else if(b.getValue().substring(0,17)=='SAPUI5.Component='){b.setValueState(sap.ui.core.ValueState.Error);b.setValueStateText(T.getText('configuration.target_application.component.error_invalid_input'));r=true;}}else if(l==='LPD'){if(n.getValue()==''){n.setValueState(sap.ui.core.ValueState.Error);r=true;}if(!(/^[\\w]+$/.test(n.getValue()))){n.setValueState(sap.ui.core.ValueState.Error);var v=T.getText('configuration.target_application.role.error_invalid_chars');n.setValueStateText(v);r=true;}if(N.getValue()==''){N.setValueState(sap.ui.core.ValueState.Error);r=true;}if(!(/^[\\w]+$/.test(N.getValue()))){N.setValueState(sap.ui.core.ValueState.Error);var v=T.getText('configuration.target_application.instance.error_invalid_chars');N.setValueStateText(v);r=true;}if(e.getValue()==''&&f.getValue()==''){var v=T.getText('configuration.target_application.alias_id.warning');e.setValueState(sap.ui.core.ValueState.Error);e.setValueStateText(v);f.setValueState(sap.ui.core.ValueState.Error);f.setValueStateText(v);r=true;}if(e.getValue()!=''&&f.getValue()!=''){var v=T.getText('configuration.target_application.alias_id.warning');e.setValueState(sap.ui.core.ValueState.Error);e.setValueStateText(v);f.setValueState(sap.ui.core.ValueState.Error);f.setValueStateText(v);r=true;}if(f.getValue()!=''&&!(/^[A-Fa-f0-9]+$/.test(f.getValue()))){f.setValueState(sap.ui.core.ValueState.Error);f.setValueStateText(T.getText('configuration.target_application.alias_id.error_invalid_chars'));r=true;}}else if(l==='TR'){if(i.getValue()==''){i.setValueState(sap.ui.core.ValueState.Error);r=true;}}else if(l==='WDA'){if(w.getValue()==''){w.setValueState(sap.ui.core.ValueState.Error);r=true;}}else if(l==='URL'){if(a.getValue()==''){a.setValueState(sap.ui.core.ValueState.Error);r=true;}else if(!(/^[-~+,;:?%&#=/.\\w]+$/.test(a.getValue()))){a.setValueState(sap.ui.core.ValueState.Error);a.setValueStateText(T.getText('configuration.target_application.url.error_invalid_chars'));r=true;}}else{h.setValueState(sap.ui.core.ValueState.Error);h.setValueStateText(T.getText('configuration.navigation_provider.error_invalid_provider'));r=true;}if(!F.getSelected()&&!j.getSelected()&&!k.getSelected()){var v=T.getText('configuration.form_factor.warning');F.setValueState(sap.ui.core.ValueState.Error);F.setValueStateText(v);j.setValueState(sap.ui.core.ValueState.Error);j.setValueStateText(v);k.setValueState(sap.ui.core.ValueState.Error);k.setValueStateText(v);r=true;}return r;};sap.ushell.components.tiles.utils.updateTooltipForDisabledProperties=function(C){var m=C.getModel();var i=m.getProperty('/config/isLocaleSuitable');if(!i){var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();var a=r.getText('edit_configuration.original_locale_not_fit_tooltip',[m.getProperty('/config/userLocale'),m.getProperty('/config/orgLocale')]);C.byId('titleInput').setTooltip(a);C.byId('subtitleInput').setTooltip(a);C.byId('keywordsInput').setTooltip(a);C.byId('infoInput').setTooltip(a);}};sap.ushell.components.tiles.utils.updateMessageStripForOriginalLanguage=function(C){var m=C.getModel();if(m.getProperty('/config/isLocaleSuitable')===false){var M=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText('edit_configuration.original_locale_not_fit_message',[m.getProperty('/config/orgLocale').toUpperCase(),m.getProperty('/config/userLocale').toUpperCase()]);var o=C.byId('messageStrip');o.setVisible(true);o.setText(M);o.setType(sap.ui.core.MessageType.Warning);}};sap.ushell.components.tiles.utils.createSemanticObjectModel=function(C,s,D){var v=C.getView(),u='/sap/opu/odata/UI2/INTEROP/SemanticObjects',a=[{obj:'',name:''},{obj:'*',name:'*'}],b=(D||a).slice(0),S=new sap.ui.model.json.JSONModel();S.setSizeLimit(999999);S.setProperty('/value','');S.setProperty('/enabled',true);s.bindAggregation('suggestionItems','suggest>/items',new sap.ui.core.Item({text:'{suggest>obj}'}));s.setModel(S,'suggest');if(sap.ushell.components.tiles.utils.aData.length>0){S.setData({items:b.concat(sap.ushell.components.tiles.utils.aData)},true);return;}OData.read({requestUri:u,headers:{'Accept':'application/json'}},function(o,r){var I,T,i;for(i=0;i<o.results.length;i=i+1){I=o.results[i].id;T=o.results[i].text;sap.ushell.components.tiles.utils.aData.push({obj:I,name:T||I});}S.setData({items:b.concat(sap.ushell.components.tiles.utils.aData)},true);},function(e){var m=e&&e.message?e.message:e;if(e.response){m+=' - '+e.response.statusCode+' '+e.response.statusText;}jQuery.sap.log.error('Could not fetch data: '+u+': '+m,null,(v.getViewName()||'sap.ushell.components.tiles.utils'));});};sap.ushell.components.tiles.utils.createRoleModel=function(C,r,I){var v=C.getView(),u='/sap/opu/odata/UI2/INTEROP/GetLPDInstances',s=new sap.ui.model.json.JSONModel(),o=new sap.ui.model.json.JSONModel();s.setSizeLimit(999999);o.setSizeLimit(999999);s.setProperty('/value','');s.setProperty('/enabled',true);o.setProperty('/value','');o.setProperty('/enabled',true);var a=new sap.m.ColumnListItem({cells:[new sap.m.Label({text:'{role}'}),new sap.m.Label({text:'{instance}'})]});r.bindAggregation('suggestionRows','/items',a);I.bindAggregation('suggestionItems','/items',new sap.ui.core.Item({text:'{instance}'}));I.setModel(o);r.setModel(s);r.attachSuggestionItemSelected(function(e){I.setValue(e.getParameter('selectedRow').getCells()[1].getText());I.fireChange();});if(sap.ushell.components.tiles.utils.aRoleData.length>0){s.setData({items:sap.ushell.components.tiles.utils.aRoleData},false);o.setData({items:sap.ushell.components.tiles.utils.aRoleData},false);return;}OData.read({requestUri:u,headers:{'Accept':'application/json'}},function(D,R){var b,e,i;for(i=0;i<D.results.length;i=i+1){b=D.results[i].lpdRole;e=D.results[i].instance;sap.ushell.components.tiles.utils.aRoleData.push({role:b,instance:e});}s.setData({items:sap.ushell.components.tiles.utils.aRoleData},true);o.setData({items:sap.ushell.components.tiles.utils.aRoleData},true);},function(e){var m=e&&e.message?e.message:e;if(e.response){m+=' - '+e.response.statusCode+' '+e.response.statusText;}jQuery.sap.log.error('Could not fetch data: '+u+': '+m,null,(v.getViewName()||'sap.ushell.components.tiles.utils'));});};sap.ushell.components.tiles.utils.createAliasModel=function(C,a){var v=C.getView(),o,u='/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias',s=new sap.ui.model.json.JSONModel();s.setSizeLimit(999999);s.setProperty('/value','');s.setProperty('/enabled',true);a.bindAggregation('suggestionItems','/items',new sap.ui.core.Item({text:'{alias}'}));a.setModel(s);o=sap.ushell.components.tiles.utilsRT.getConfiguration(v.oViewData.chip,true,true);if(o&&o.navigation_provider_role&&o.navigation_provider_instance){if(o.navigation_provider_role!=''&&o.navigation_provider_instance!=''){u=u+\"?role='\"+o.navigation_provider_role+\"'&instance='\"+o.navigation_provider_instance+\"'\";}}OData.read({requestUri:u,headers:{'Accept':'application/json'}},function(D,r){var A,R,I,i,m;sap.ushell.components.tiles.utils.aAliasData=[];for(i=0;i<D.results.length;i=i+1){A=D.results[i].lpdApplicationAlias;R=D.results[i].lpdRole;I=D.results[i].lpdInstance;sap.ushell.components.tiles.utils.aAliasData.push({role:R,instance:I,alias:A});}m=s.getData();if(m){m.items=sap.ushell.components.tiles.utils.aAliasData;}else{m={items:sap.ushell.components.tiles.utils.aAliasData};}s.setData(m,false);},function(e){var m=e&&e.message?e.message:e;if(e.response){m+=' - '+e.response.statusCode+' '+e.response.statusText;}jQuery.sap.log.error('Could not fetch data: '+u+': '+m,null,(v.getViewName()||'sap.ushell.components.tiles.utils'));});};sap.ushell.components.tiles.utils.updateAliasModel=function(v,a){var u,I,r,s=a.getModel();I=v.byId('navigation_provider_instanceInput').getValue();r=v.byId('navigation_provider_roleInput').getValue();u=\"/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias?role='\"+r+\"'&instance='\"+I+\"'\";OData.read({requestUri:u,headers:{'Accept':'application/json'}},function(D,R){var A,r,I,i,m;sap.ushell.components.tiles.utils.aAliasData=[];for(i=0;i<D.results.length;i=i+1){A=D.results[i].lpdApplicationAlias;r=D.results[i].lpdRole;I=D.results[i].lpdInstance;sap.ushell.components.tiles.utils.aAliasData.push({role:r,instance:I,alias:A});}m=s.getData();if(m){m.items=sap.ushell.components.tiles.utils.aAliasData;}else{m={items:sap.ushell.components.tiles.utils.aAliasData};}s.setData(m,false);},function(e){var m=e&&e.message?e.message:e;if(e.response){m+=' - '+e.response.statusCode+' '+e.response.statusText;}jQuery.sap.log.error('Could not fetch data: '+u+': '+m,null,(v.getViewName()||'sap.ushell.components.tiles.utils'));});};sap.ushell.components.tiles.utils.createActionModel=function(C,a){var i=new sap.ui.model.json.JSONModel();var v=C.getView(),o,A;i.setData({'items':[{'text':'display'},{'text':'approve'},{'text':'displayFactSheet'},{'text':'manage'},{'text':'create'},{'text':'monitor'},{'text':'track'},{'text':'change'},{'text':'register'},{'text':'release'},{'text':'analyzeKPIDetails'},{'text':'lookup'},{'text':'manageLineItems'}]});sap.ushell.components.tiles.utils.aActionData=i.getData();o=sap.ushell.components.tiles.utilsRT.getConfiguration(v.oViewData.chip,true,true);A=o.navigation_semantic_action||o.semantic_action;if(A){if(!i.getData().items.some(function(I){return I.text===A;})){i.getData().items.push({'text':A});}}a.bindAggregation('suggestionItems','items>/items',new sap.ui.core.Item({text:'{items>text}'}));a.setModel(i,'items');a.getBinding('suggestionItems').sort(new sap.ui.model.Sorter('text',false));};sap.ushell.components.tiles.utils.createNavigationProviderModel=function(C,T){var i=new sap.ui.model.json.JSONModel();var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();i.setData({'items':[{'key':'SAPUI5','text':r.getText('configuration.target_application.sapui5')},{'key':'LPD','text':r.getText('configuration.target_application.lpd_cust')},{'key':'TR','text':r.getText('configuration.target_application.transaction')},{'key':'WDA','text':r.getText('configuration.target_application.web_dynpro')},{'key':'URL','text':r.getText('configuration.target_application.url')}]});T.bindItems('items>/items',new sap.ui.core.Item({key:'{items>key}',text:'{items>text}'}));T.setModel(i,'items');T.getBinding('items').sort(new sap.ui.model.Sorter('text',false));};sap.ushell.components.tiles.utils.displayApplicationTypeFields=function(a,C){switch(a){case'LPD':sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields(C);break;case'SAPUI5':sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields(C);break;case'TR':sap.ushell.components.tiles.utils.displayTransactionApplicationTypeFields(C);break;case'WDA':sap.ushell.components.tiles.utils.displayWebDynproApplicationTypeFields(C);break;case'URL':sap.ushell.components.tiles.utils.displayURLApplicationTypeFields(C);break;}};sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields=function(C){C.byId('navigation_provider_role').setVisible(false);C.byId('navigation_provider_roleInput').setVisible(false);C.byId('navigation_provider_instance').setVisible(false);C.byId('navigation_provider_instanceInput').setVisible(false);C.byId('target_application_alias').setVisible(false);C.byId('target_application_aliasInput').setVisible(false);C.byId('target_application_id').setVisible(false);C.byId('target_application_idInput').setVisible(false);C.byId('application_description').setVisible(true);C.byId('target_application_descriptionInput').setVisible(true);C.byId('application_url').setVisible(true);C.byId('target_application_urlInput').setVisible(true);C.byId('application_component').setVisible(true);C.byId('target_application_componentInput').setVisible(true);C.byId('target_transaction').setVisible(false);C.byId('target_transactionInput').setVisible(false);C.byId('target_web_dynpro_application').setVisible(false);C.byId('target_web_dynpro_applicationInput').setVisible(false);C.byId('target_web_dynpro_configuration').setVisible(false);C.byId('target_web_dynpro_configurationInput').setVisible(false);C.byId('target_system_alias').setVisible(false);C.byId('target_system_aliasInput').setVisible(false);};sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields=function(C){C.byId('application_description').setVisible(false);C.byId('target_application_descriptionInput').setVisible(false);C.byId('application_url').setVisible(false);C.byId('target_application_urlInput').setVisible(false);C.byId('application_component').setVisible(false);C.byId('target_application_componentInput').setVisible(false);C.byId('navigation_provider_role').setVisible(true);C.byId('navigation_provider_roleInput').setVisible(true);C.byId('navigation_provider_instance').setVisible(true);C.byId('navigation_provider_instanceInput').setVisible(true);C.byId('target_application_alias').setVisible(true);C.byId('target_application_aliasInput').setVisible(true);C.byId('target_application_id').setVisible(true);C.byId('target_application_idInput').setVisible(true);C.byId('target_transaction').setVisible(false);C.byId('target_transactionInput').setVisible(false);C.byId('target_web_dynpro_application').setVisible(false);C.byId('target_web_dynpro_applicationInput').setVisible(false);C.byId('target_web_dynpro_configuration').setVisible(false);C.byId('target_web_dynpro_configurationInput').setVisible(false);C.byId('target_system_alias').setVisible(false);C.byId('target_system_aliasInput').setVisible(false);};sap.ushell.components.tiles.utils.displayTransactionApplicationTypeFields=function(C){C.byId('application_description').setVisible(true);C.byId('target_application_descriptionInput').setVisible(true);C.byId('application_url').setVisible(false);C.byId('target_application_urlInput').setVisible(false);C.byId('application_component').setVisible(false);C.byId('target_application_componentInput').setVisible(false);C.byId('navigation_provider_role').setVisible(false);C.byId('navigation_provider_roleInput').setVisible(false);C.byId('navigation_provider_instance').setVisible(false);C.byId('navigation_provider_instanceInput').setVisible(false);C.byId('target_application_alias').setVisible(false);C.byId('target_application_aliasInput').setVisible(false);C.byId('target_application_id').setVisible(false);C.byId('target_application_idInput').setVisible(false);C.byId('target_transaction').setVisible(true);C.byId('target_transactionInput').setVisible(true);C.byId('target_web_dynpro_application').setVisible(false);C.byId('target_web_dynpro_applicationInput').setVisible(false);C.byId('target_web_dynpro_configuration').setVisible(false);C.byId('target_web_dynpro_configurationInput').setVisible(false);C.byId('target_system_alias').setVisible(true);C.byId('target_system_aliasInput').setVisible(true);};sap.ushell.components.tiles.utils.displayWebDynproApplicationTypeFields=function(C){C.byId('application_description').setVisible(true);C.byId('target_application_descriptionInput').setVisible(true);C.byId('application_url').setVisible(false);C.byId('target_application_urlInput').setVisible(false);C.byId('application_component').setVisible(false);C.byId('target_application_componentInput').setVisible(false);C.byId('navigation_provider_role').setVisible(false);C.byId('navigation_provider_roleInput').setVisible(false);C.byId('navigation_provider_instance').setVisible(false);C.byId('navigation_provider_instanceInput').setVisible(false);C.byId('target_application_alias').setVisible(false);C.byId('target_application_aliasInput').setVisible(false);C.byId('target_application_id').setVisible(false);C.byId('target_application_idInput').setVisible(false);C.byId('target_transaction').setVisible(false);C.byId('target_transactionInput').setVisible(false);C.byId('target_web_dynpro_application').setVisible(true);C.byId('target_web_dynpro_applicationInput').setVisible(true);C.byId('target_web_dynpro_configuration').setVisible(true);C.byId('target_web_dynpro_configurationInput').setVisible(true);C.byId('target_system_alias').setVisible(true);C.byId('target_system_aliasInput').setVisible(true);};sap.ushell.components.tiles.utils.displayURLApplicationTypeFields=function(C){C.byId('navigation_provider_role').setVisible(false);C.byId('navigation_provider_roleInput').setVisible(false);C.byId('navigation_provider_instance').setVisible(false);C.byId('navigation_provider_instanceInput').setVisible(false);C.byId('target_application_alias').setVisible(false);C.byId('target_application_aliasInput').setVisible(false);C.byId('target_application_id').setVisible(false);C.byId('target_application_idInput').setVisible(false);C.byId('application_description').setVisible(true);C.byId('target_application_descriptionInput').setVisible(true);C.byId('application_url').setVisible(true);C.byId('target_application_urlInput').setVisible(true);C.byId('application_component').setVisible(false);C.byId('target_application_componentInput').setVisible(false);C.byId('target_transaction').setVisible(false);C.byId('target_transactionInput').setVisible(false);C.byId('target_web_dynpro_application').setVisible(false);C.byId('target_web_dynpro_applicationInput').setVisible(false);C.byId('target_web_dynpro_configuration').setVisible(false);C.byId('target_web_dynpro_configurationInput').setVisible(false);C.byId('target_system_alias').setVisible(true);C.byId('target_system_aliasInput').setVisible(true);};}());\n",
	"sap/ushell/components/tiles/utilsRT.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\nthis.sap=this.sap||{};(function(){'use strict';jQuery.sap.declare('sap.ushell.components.tiles.utilsRT');jQuery.sap.require('sap.ushell.components.tiles.utils');sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles=sap.ushell.components.tiles||{};sap.ushell.components.tiles.utilsRT=sap.ushell.components.tiles.utilsRT||{};if(sap.ushell.components.tiles.utilsRT.getConfiguration){return;}sap.ushell.components.tiles.utilsRT.getConfiguration=function(t,a,e){var r;var c=t.configuration.getParameterValueAsString('tileConfiguration');var C=JSON.parse(c||'{}');var u=sap.ushell.components.tiles.utils;C.editable=true;if(t.configurationUi&&t.configurationUi.isReadOnly){if(t.configurationUi.isReadOnly()){C.editable=false;}}var T=u.getTranslatedTitle(t);var s=u.getTranslatedSubtitle(t,C);var i=u.getTranslatedProperty(t,C,'display_info_text');var k=u.getTranslatedProperty(t,C,'display_search_keywords');if(a){r=u.getResourceBundleModel().getResourceBundle();if(e&&t.bag){var o=t.bag.getOriginalLanguage();var l=sap.ui.getCore().getConfiguration().getLocale().getSAPLogonLanguage();var b=sap.ui.getCore().getConfiguration().getLanguage();C.isLocaleSuitable=o===''||o.toLowerCase()===l.toLowerCase()||o.toLowerCase()===b.toLowerCase();C.orgLocale=o;C.userLocale=l;}}C.display_icon_url=C.display_icon_url||'';if(i!==undefined){C.display_info_text=i;}else if(C.display_info_text===undefined){if(a&&!e){C.display_info_text='['+r.getText('configuration.display_info_text')+']';}else{C.display_info_text='';}}C.navigation_semantic_object=C.navigation_semantic_object||'';C.navigation_semantic_action=C.navigation_semantic_action||'';C.navigation_semantic_parameters=C.navigation_semantic_parameters||'';C.display_number_unit=C.display_number_unit||'';C.display_number_factor=C.display_number_factor||'';C.service_refresh_interval=C.service_refresh_interval?parseInt(C.service_refresh_interval,10):0;C.service_url=C.service_url||'';C.navigation_target_url=C.navigation_target_url||'';if(a&&u.isInitial(T)){C.display_title_text=e?'':'['+r.getText('configuration.display_title_text')+']';C.display_subtitle_text=e?'':'['+r.getText('configuration.display_subtitle_text')+']';}else{C.display_title_text=T||C.display_title_text||'';if(s!==undefined){C.display_subtitle_text=s;}else if(C.display_subtitle_text===undefined){C.display_subtitle_text='';}}C.navigation_use_semantic_object=(C.navigation_use_semantic_object===false?false:true);C.display_search_keywords=k||C.display_search_keywords||'';if(a){C.display_number_value=C.display_number_value||1234;}C.form_factors=C.form_factors?C.form_factors:u.getDefaultFormFactors();C.desktopChecked=C.form_factors.manual.desktop;C.tabletChecked=C.form_factors.manual.tablet;C.phoneChecked=C.form_factors.manual.phone;C.manualFormFactor=!(C.form_factors.appDefault)&&C.editable;C.appFormFactor=C.form_factors.appDefault;C.formFactorConfigDefault=C.form_factors.defaultParam?true:false;if(C.signature){C.rows=u.getSignatureTableData(C.signature,e&&C.editable);}else{C.rows=(C.mapping_signature&&C.mapping_signature!=='*=*')?u.getMappingSignatureTableData(C.mapping_signature,e&&C.editable):[u.getEmptyRowObj(C.editable)];}if(C.signature){C.isUnknownAllowed=(C.signature.additional_parameters==='allowed'||C.signature.additionalParameters==='allowed');}else{C.isUnknownAllowed=(C.mapping_signature!==undefined)?u.getAllowUnknownParametersValue(C.mapping_signature):true;}if(a){C.tile_actions_rows=u.getTileNavigationActionsRows(t,C.editable);}else{if(!C.actions){C.actions=u.getTileNavigationActions(t);}}return C;};sap.ushell.components.tiles.utilsRT.getDataToDisplay=function(c,d){var a=0,i,n,C,s,D={display_icon_url:d.icon||c.display_icon_url||'',display_title_text:d.title||c.display_title_text||'',display_number_value:!isNaN(d.number)?d.number:'...',display_number_unit:d.numberUnit||c.display_number_unit||'',display_info_text:d.info||c.display_info_text||'',display_info_state:d.infoState||'Neutral',display_subtitle_text:d.subtitle||c.display_subtitle_text||'',display_state_arrow:d.stateArrow||'None',display_number_state:d.numberState||'Neutral',display_number_digits:d.numberDigits>=0?d.numberDigits:4,display_number_factor:d.numberFactor||'',display_search_keyword:d.keywords||c.display_search_keyword||'',targetParams:[]};if(d.infoStatus){D.display_info_state=d.infoStatus;}if(d.targetParams){D.targetParams.push(d.targetParams);}if(d.results){for(i=0,n=d.results.length;i<n;i=i+1){C=d.results[i].number||0;if(typeof C==='string'){C=parseFloat(C,10);}a=a+C;s=d.results[i].targetParams;if(s){D.targetParams.push(s);}}D.display_number_value=a;}if(!isNaN(d.number)){if(typeof d.number==='string'){d.number=d.number.trim();}jQuery.sap.require('sap.ui.core.format.NumberFormat');var S=this._shouldProcessDigits(d.number,d.numberDigits),m=D.display_icon_url?4:5;if(d.number&&d.number.length>=m||S){var N=this._normalizeNumber(d.number,m,d.numberFactor,d.numberDigits);D.display_number_factor=N.numberFactor;D.display_number_value=N.displayNumber;}else{var o=sap.ui.core.format.NumberFormat.getFloatInstance({maxFractionDigits:m});D.display_number_value=o.format(d.number);}}if(D&&D.display_number_state){switch(D.display_number_state){case'Positive':D.display_number_state='Good';break;case'Negative':D.display_number_state='Error';break;}}return D;};sap.ushell.components.tiles.utilsRT.getTileSettingsAction=function(m,s){var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();return{text:r.getText('tileSettingsButtonTitle'),press:function(){var a=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.ui.footerbar.SaveAsTile',viewData:{appData:{showGroupSelection:false,title:m.getProperty('/config/display_title_text'),subtitle:m.getProperty('/config/display_subtitle_text'),info:m.getProperty('/config/display_info_text'),icon:m.getProperty('/config/display_icon_url'),keywords:m.getProperty('/config/display_search_keywords')}}});var S=new sap.ui.layout.form.SimpleForm({id:'tileSettings',layout:sap.ui.layout.form.SimpleFormLayout.GridLayout,content:[a]}).addStyleClass('sapUshellAddBookmarkForm');var o=new sap.m.Button('bookmarkOkBtn',{text:r.getText('okBtn'),press:function(){s(a);d.close();},enabled:true}),c=new sap.m.Button('bookmarkCancelBtn',{text:r.getText('cancelBtn'),press:function(){d.close();}});var e=function(t){o.setEnabled(t.trim()?true:false);};a.getTitleInput().attachLiveChange(function(){e(this.getValue());});var d=new sap.m.Dialog({id:'settingsDialog',title:r.getText('tileSettingsButtonTitle'),contentWidth:'400px',content:S,beginButton:o,endButton:c,horizontalScrolling:false,afterClose:function(){d.destroy();}});d.open();}};};sap.ushell.components.tiles.utilsRT.getSemanticNavigationUrl=function(c){var u='#'+jQuery.trim(c.navigation_semantic_object);u+='-'+jQuery.trim(c.navigation_semantic_action);if(c.navigation_semantic_parameters&&jQuery.trim(c.navigation_semantic_parameters).length>0){u+='?'+jQuery.trim(c.navigation_semantic_parameters);}return u;};sap.ushell.components.tiles.utilsRT.addParamsToUrl=function(u,d){var p='',U=u.indexOf('?')!==-1,t=d.targetParams,i;if(t&&t.length>0){for(i=0;i<t.length;i=i+1){p+=t[i];if(i<t.length-1){p+='&';}}}if(p.length>0){if(!U){u+='?';}else{u+='&';}u+=p;}return u;};sap.ushell.components.tiles.utilsRT._normalizeNumber=function(n,m,a,N){jQuery.sap.require('sap.ui.core.format.NumberFormat');var b;if(isNaN(n)){b=n;}else{var o=sap.ui.core.format.NumberFormat.getFloatInstance({maxFractionDigits:N});if(!a){if(n>=1000000000){a='B';n/=1000000000;}else if(n>=1000000){a='M';n/=1000000;}else if(n>=1000){a='K';n/=1000;}}b=o.format(n);}var d=b;var c=d[m-1];m-=(c==='.'||c===',')?1:0;d=d.substring(0,m);return{displayNumber:d,numberFactor:a};};sap.ushell.components.tiles.utilsRT._shouldProcessDigits=function(d,D){var n;d=typeof(d)!=='string'?d.toString():d;if(d.indexOf('.')!==-1){n=d.split('.')[1].length;if(n>D){return true;}}return false;};}());\n",
	"sap/ushell/components/treeview/NavTree.controller.js":"(function(){'use strict';sap.ui.controller('sap.ushell.components.treeview.NavTree',{onInit:function(){var v=this.getView().getViewData(),r=v.data.items,s=v.data.serviceURL||'',t={items:[],entryObject:{}};var m=new sap.ui.model.json.JSONModel(t);this.getView().setModel(m);jQuery.getJSON(s).done(function(r){this.buidModelData(r);}.bind(this)).fail(function(j,a,e){var b=a+', '+e;jQuery.sap.log.error('Request Failed: '+b);this.buidModelData(r);}.bind(this));},buidModelData:function(r){var i,e,g=0,t={items:[],entryObject:{}};for(i in r.nodes){var a=r.nodes[i];if(a.type==='SUBMENU'){var b=a.title;for(e in a.nodes){var c=a.nodes[e];c.groupIndex=g.toString();c.groupName=b;t.items.push(c);t.entryObject[g.toString()]={title:a.title,type:a.type};}}else if(a.type==='URL'||a.type==='APP'){a.groupIndex=g.toString();a.groupName='';t.items.push(a);t.entryObject[g.toString()]={title:a.title,type:a.type,href:a.target};}g++;}var m=new sap.ui.model.json.JSONModel(t);this.getView().setModel(m);},getGroupHeader:function(g){var e=this.getView().getModel().getData().entryObject[g.key];jQuery.sap.require('sap.m.GroupHeaderListItem');if(e.type==='SUBMENU'){var i=new sap.ui.core.Icon({src:'slim-arrow-right',tooltip:e.title}).addStyleClass('sapUshellGroupListItemIcon');var l=new sap.m.Label({text:e.title}).addStyleClass('sapUshellNavTreeLink');return new sap.m.CustomListItem({press:[this.handleClickOnSubMenu,this],type:sap.m.ListType.Active,content:[i,l]}).addStyleClass('sapUshellNavTreeListItem sapUshellNavTreeParent');}else{return new sap.m.CustomListItem({content:new sap.m.Link({text:e.title,href:e.href}).addStyleClass('sapUshellNavTreeLink')}).addEventDelegate({onclick:this.onNavTreeTitleChange.bind(this)}).addStyleClass('sapUshellNavTreeListItem sapUshellNavTreeSingle');}},onNavTreeTitleChange:function(e){if(this._prevSelect){this._prevSelect.removeStyleClass('sapUshellNavTreeItemSelected');}var i=e.srcControl;if(e.srcControl.getContent){window.location.href=e.srcControl.getContent()[0].getHref();i.addStyleClass('sapUshellNavTreeItemSelected');this._prevSelect=i;}else{i.getParent().addStyleClass('sapUshellNavTreeItemSelected');this._prevSelect=i.getParent();}},handleClickOnSubMenu:function(e){var i=e.getSource().getContent()[0];if(i.getSrc()==='slim-arrow-down'){i.setSrc('slim-arrow-right');this.toggleSubItemsState(e,true);}else{i.setSrc('slim-arrow-down');this.toggleSubItemsState(e,false);}},toggleSubItemsState:function(e,i){if(e){var j=jQuery(e.getSource().getDomRef());if(i){j.nextUntil('.sapUshellNavTreeSingle, .sapUshellNavTreeParent').addClass('sapUshellNavTreeChildHide');}else{j.nextUntil('.sapUshellNavTreeSingle, .sapUshellNavTreeParent').removeClass('sapUshellNavTreeChildHide');}}}});}());\n",
	"sap/ushell/components/treeview/NavTree.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.jsview('sap.ushell.components.treeview.NavTree',{createContent:function(c){jQuery.sap.require('sap.m.List');jQuery.sap.require('sap.m.CustomListItem');var l=new sap.m.CustomListItem({content:new sap.m.Link({text:'{title}',href:'{target}'}).addStyleClass('sapUshellNavTreeLink')}).addEventDelegate({onclick:c.onNavTreeTitleChange.bind(c)}).addStyleClass('sapUshellNavTreeListItem sapUshellNavTreeChild sapUshellNavTreeChildHide sapUshellNavTree_visual_transition');var L=new sap.m.List({items:{path:'/items',groupHeaderFactory:jQuery.proxy(c.getGroupHeader,c),sorter:new sap.ui.model.Sorter('groupIndex',false,true),template:l}});var o=L.onAfterRendering;L.onAfterRendering=function(){o.apply(this,arguments);if(this.getItems().length>0){var f=this.getItems()[0];if(f.getMetadata().getName()==='sap.m.GroupHeaderListItem'&&f.getTitle&&!f.getTitle()){f.destroy();}var O=jQuery('.sapUshellNavTreeParent');O.each(function(){var q=jQuery(this);var i=sap.ui.getCore().byId(q.attr('id'));var I=i.getContent().length&&i.getContent()[0]&&i.getContent()[0].getSrc()||'';if(I==='slim-arrow-down'){q.nextUntil('.sapUshellNavTreeSingle, .sapUshellNavTreeParent').removeClass('sapUshellNavTreeChildHide');}});}};return L;},getControllerName:function(){return'sap.ushell.components.treeview.NavTree';}});}());\n",
	"sap/ushell/functionBindPrototype.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.functionBindPrototype');if(!Function.prototype.bind){Function.prototype.bind=function(t){if(typeof this!=='function'){throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');}var a=Array.prototype.slice.call(arguments,1),b=this,n=function(){},B=function(){return b.apply(this instanceof n&&t?this:t,a.concat(Array.prototype.slice.call(arguments)));};n.prototype=this.prototype;B.prototype=new n();return B;};}}());\n",
	"sap/ushell/iconfonts.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.declare('sap.ushell.iconfonts');sap.ushell.iconfonts={};sap.ushell.iconfonts.registerFiori2IconFont=function(){var l={fontFamily:'BusinessSuiteInAppSymbols',collectionName:'BusinessSuiteInAppSymbols',icons:[['icon-heart','E000'],['icon-quarter','E001'],['icon-year','E002'],['icon-equalizer','E003'],['icon-component','E004'],['icon-component-private','E005'],['icon-raw-material','E006'],['icon-sms','E007'],['icon-add-note','E008'],['icon-change-time-horizon','E009'],['icon-table-chart-customization','E00a'],['icon-delegated-important-task','E00b'],['icon-forklift','E00c'],['icon-coins','E00d'],['icon-filter-menu','E00e'],['icon-target-to-date','E00f'],['icon-program','E010'],['icon-phase','E011'],['icon-checklist','E012'],['icon-mirrored-task','E013'],['icon-sub-project','E014'],['icon-checklist-item','E015'],['icon-adhoc-analysis','E016'],['icon-change-analysis','E017'],['icon-review-demands','E018'],['icon-project-definition','E019'],['icon-data-access','E01a'],['icon-define-shortage','E01b'],['icon-review-supplies','E01c'],['icon-change-log','E01d'],['icon-priority-1','E01e'],['icon-priority-2','E01f'],['icon-jam','E020'],['icon-milestone','E021'],['icon-bulleting-with-numbers','E022'],['icon-decrease-indent','E023'],['icon-increase-indent','E024'],['icon-bold','E025'],['icon-italic','E026'],['icon-strike-through','E027'],['icon-underline','E028'],['icon-save-as','E029'],['icon-segmentation','E02A'],['icon-context-menu','E02B'],['icon-snapshot','E02C'],['icon-substraction-b-a','E02D'],['icon-substraction-a-b','E02E'],['icon-intersection','E02F'],['icon-union','E030'],['icon-top','E031'],['icon-bottom','E032'],['icon-page-up','E033'],['icon-page-down','E034'],['icon-create-dashboard','E035'],['icon-excelsius-file','E036'],['icon-open-folder','E037'],['icon-neutral','E038'],['icon-split-segmentation','E039'],['icon-manage-budget','E03A'],['icon-blocked','E03B'],['icon-pipette','E03C'],['icon-top-recipe','E03D'],['icon-recipe','E03E'],['icon-ingredients','E03F'],['icon-multiple-charts','E040'],['icon-descending-bars','E041'],['icon-descending-stacked-bars','E042'],['icon-scatter-plot','E043'],['icon-spill','E044'],['icon-fire','E045'],['icon-stratification','E046'],['icon-relationship','E047'],['icon-margin-decomposition','E048'],['icon-control-group','E049'],['icon-bullet-chart','E04A'],['icon-responsible-area','E04B'],['icon-increase','E04C'],['icon-decrease','E04D'],['icon-current-stock','E04E'],['icon-expedite','E04F'],['icon-postpone','E050'],['icon-approved','E051'],['icon-partially-delivered','E052'],['icon-line-bar-chart','E053'],['icon-expand-all','E054'],['icon-submission','E055'],['icon-change-request','E056'],['icon-column-unselected','E057'],['icon-column-selected','E058'],['icon-row-unselected','E059'],['icon-row-selected','E05A'],['icon-stock-requirements','E05B'],['icon-gender-male-and-female','E05C'],['icon-icon-marital-status','E05D'],['icon-birthday','E05E'],['icon-classification','E05F'],['icon-marked-for-deletion','E060'],['icon-bullet-chart','E061'],['icon-remove-filter','E062'],['icon-bank-account','E063'],['icon-savings-account','E064'],['icon-debit-card','E065'],['icon-vip-customer','E066'],['icon-undesirable-customer','E067'],['icon-answered-change-request','E068'],['icon-collected-change-request','E069'],['icon-draw-freehand','E06A'],['icon-draw-circle','E06B'],['icon-completed','E06C'],['icon-answered','E06D'],['icon-traffic-cone','E06E'],['icon-traffic-lights','E06F'],['icon-container','E070'],['icon-container-loading','E071'],['icon-traffic-jam','E072'],['icon-products','E073'],['icon-sidepanel','E074'],['icon-split-screen','E075'],['icon-truck-driver','E076'],['icon-keep-segment','E077'],['icon-exclude-segment','E078'],['icon-separate-segments','E079'],['icon-distribute-segments','E07A'],['icon-next-open-item','E07B'],['icon-where-used','E07C'],['icon-outbound-delivery','E07D'],['icon-outbound-delivery-inactive','E07E'],['icon-outbound-delivery-active','E07F'],['icon-target','E080'],['icon-source','E081'],['icon-material','E082'],['icon-due-date','E083'],['icon-overdue','E084'],['icon-set-as-default','E085'],['icon-face-very-bad','E086'],['icon-face-bad','E087'],['icon-face-skeptical','E088'],['icon-face-neutral','E089'],['icon-face-astonished','E08A'],['icon-face-happy','E08B'],['icon-face-very-happy','E08C'],['icon-face-awful','E08D'],['icon-face-devastated','E08E'],['icon-face-okey-dokey','E08F'],['icon-alarm','E090'],['icon-activate','E091'],['icon-segment-preview-reference-objects','E092'],['icon-radius','E093'],['icon-polygon-black','E094'],['icon-polygon-white','E095'],['icon-polygon','E096'],['icon-no-filter','E097'],['icon-grip','E098'],['icon-water','E09A'],['icon-liquid','E09C'],['icon-gas','E09B'],['icon-gas-2','e09d'],['icon-water-2','e09e'],['icon-operator','e09f'],['icon-target-filter','e0a0'],['icon-equipment','E0A1'],['icon-gis-layer','E0A2'],['icon-section','E0A3'],['icon-kohorte','E0A4'],['icon-female','E0A5'],['icon-male','E0A6'],['icon-model','E0A7'],['icon-hourglass','E0A8'],['icon-plain-grid-layout','E0A9'],['icon-top-panel-layout','E0AA'],['icon-2x1-grid-layout','E0AB'],['icon-1x2-grid-layout','E0AC'],['icon-side-panel-left-layout','E0AD'],['icon-2x2-grid-layout','E0AE'],['icon-inverse-t-layout','E0AF'],['icon-t-layout','E0B0'],['icon-top-side-panel-layout','E0B1'],['icon-side-top-panel-layout','E0B2'],['icon-4x4-grid-layout','E0B3'],['icon-add-point','E0B4'],['icon-add-polyline','E0B5'],['icon-add-polygone','E0B6'],['icon-email-send-delayed','E0B7'],['icon-email-not-opened','E0B8'],['icon-link-not-clicked','E0B9'],['icon-sms-send-delayed','E0BA'],['icon-ab-testing','E0BB'],['icon-tv','E0BC'],['icon-radio','E0BD'],['icon-outdoor','E0BE'],['icon-event','E0BF'],['icon-paid-search','E0C0'],['icon-display-ads','E0C1'],['icon-call-center','E0C2'],['icon-social','E0C3'],['icon-event2','E0C4'],['icon-official-service-group','E0C5'],['icon-time-deposit','E0C6'],['icon-early-widthdrawal-for-time-deposits','E0C7'],['icon-aggregated-view','E0C8'],['icon-detailed-view','E0C9'],['icon-rescheduling','E0CA'],['icon-resequencing','E0CB'],['icon-movement-warning','E0CC'],['icon-multiple-warnings','E0CD'],['icon-box-truck','E0CE'],['icon-box-truck-empty','E0CF'],['icon-tractor','E0C0'],['icon-driver','E0D1'],['icon-driver-warning','E0D2'],['icon-overlap','E0D3'],['icon-expand-overlap','E0D4'],['icon-collapse-overlap','E0D5'],['icon-utilization','E0D6'],['icon-expand-utilization','E0D7'],['icon-collapse-utilization','E0D8'],['icon-trailer','E0D7'],['icon-container-closed','E0DA'],['icon-railcar','E0DB'],['icon-warehouse','E0DC'],['icon-goods','E0DD'],['icon-ship','E0DE'],['icon-truck-driver','E0DF'],['icon-logistics','E0E0'],['icon-in-return','E0E1'],['icon-in-contract','E0E2'],['icon-money-withdrawal','E0E7']]},f={fontFamily:'SAP-Icons',collectionName:'Fiori2',icons:[['F0017','e05e'],['F0018','e0c3'],['F0019','e0c3'],['F0020','e0c3'],['F0021','e10d'],['F0366','e129'],['F0392','e04f'],['F0394','e044'],['F0395','e132'],['F0396','e064'],['F0397','e0a4'],['F0398','e0a4'],['F0399','e044'],['F0401','e08d'],['F0402','e13e'],['F0403','e13e'],['F0404','e033'],['F0405','e0b3'],['F0406','e043'],['F0407','e043'],['F0408','e043'],['F0409','e075'],['F0410','e007'],['F0411','e075']]},F={fontFamily:'Fiori2',collectionName:'Fiori3',icons:[['F0246','E218'],['F0247','E219'],['F0250','E21C'],['F0251','E21D'],['F0263','E2A8'],['F0508','E2A9'],['F0509','E2AA'],['F0510','E2AB'],['F0533','E2AC'],['F0534','E2AD'],['F0535','E2AE'],['F0536','E2AF'],['F0537','E2B0'],['F0538','E2B1'],['Lumira001','E2B2']]},a={fontFamily:'Fiori2',collectionName:'Fiori2',icons:[['F0002','E236'],['F0003','E202'],['F0004','E203'],['F0005','E204'],['F0006','E205'],['F0009','E206'],['F0010','E207'],['F0012','E208'],['F0014','E209'],['F0018','E200'],['F0019','E201'],['F0023','E20A'],['F0024','E20B'],['F0025','E20C'],['F0026','E20D'],['F0072','E23A'],['F0100','E23B'],['F0101','E23C'],['F0102','E23D'],['F0106','E20F'],['F0144','E210'],['F0190','E23E'],['F0194','E23F'],['F0210','E242'],['F0211','E243'],['F0212','E244'],['F0217','E211'],['F0220','E213'],['F0243','E215'],['F0244','E216'],['F0245','E217'],['F0246','E218'],['F0247','E219'],['F0250','E21C'],['F0251','E21D'],['F0248','E21A'],['F0249','E21B'],['F0252','E21E'],['F0257','E21F'],['F0281','E220'],['F0282','E221'],['F0283','E222'],['F0284','E223'],['F0292','E224'],['F0295','E225'],['F0296','E226'],['F0316','E227'],['F0317','E228'],['F0321','E229'],['F0339','E22A'],['F0340','E22B'],['F0341','E22C'],['F0342','E22D'],['F0365','E212'],['F0366','E22F'],['F0367','E230'],['F0368','E231'],['F0369','E235'],['F0370','E22E'],['F0372','E232'],['F0380','E233'],['F0381','E234'],['F0382','E246'],['F0390','E20E'],['F0412','E213'],['F0429','E2A6'],['F0xx1','E240'],['F0xx2','E241'],['F0013','E237'],['F0016','E238'],['F0028','E239'],['F0029','E283'],['F0030','E284'],['F0031','E285'],['F0032','E286'],['F0033','E287'],['F0034','E288'],['F0036','E289'],['F0038','E28A'],['F0039','E28B'],['F0041','E28C'],['F0044','E28D'],['F0293','E28E'],['F0294','E28F'],['F0297','E290'],['F0298','E291'],['F0299','E292'],['F0300','E293'],['F0301','E294'],['F0302','E295'],['F0303','E296'],['F0304','E297'],['F0305','E298'],['F0306','E299'],['F0323','E29A'],['F0324','E29B'],['F0326','E29C'],['F0327','E29D'],['F0328','E29E'],['F0329','E29F'],['F0331','E2A1'],['F0332','E2A2'],['F0343','E2A3'],['F0344','E2A4'],['F0345','E2A5'],['F0388','E2A7'],['F0391','E2A0'],['F0260','E2B4'],['FD10N','E2B5'],['FK10N','E2B6'],['FS10N','E2B7'],['FBL5N','E2B8'],['FBL1N','E2B9'],['FFS01','E2BA'],['FBL3N','E2BB'],['FCOA1','E2BC']]},o={fontFamily:'Fiori2',collectionName:'Fiori4',icons:[['F0194','E2BD'],['F0260','E2B4'],['F0433','E21C'],['F0251','E2BE'],['F0499','E2BF'],['F0500','E2C0'],['F0501','E2C1'],['F0502','E2C2'],['F0503','E2C3'],['F0504','E2C4'],['F0507','E2C5'],['F0530','E2C6'],['F0531','E2C7'],['F0539','E2C8'],['F0544','E2C9'],['F0545','E2CA'],['F0547','E2CB'],['F0576','E2CC'],['F0578','E2CD'],['F0579','E2CE'],['F0580','E2CF'],['F0581','E2D0'],['F0582','E2D1'],['F0583','E2D2'],['F0584','E2D3'],['F0586','E2D4'],['F0587','E2D5'],['F0588','E2D6'],['F0589','E2D7'],['F0590','E2D8'],['F0591','E2D9'],['F0593','E2DA'],['F0594','E2DB'],['F0597','E2DC'],['F0603','E2DD'],['F0604','E2DE'],['F0605','E2DF'],['F0606','E2E0'],['F0607','E2E1'],['F0608','E2E2'],['F0609','E2E3'],['F0615','E2E4'],['F0616','E2E5'],['F0618','E2E6'],['F0617','E2E7'],['F0622','E2E8'],['F0623','E2E9'],['F0624','E2BC'],['F0625','E2EB'],['F0626','E2EC'],['F0627','E2ED'],['F0629','E2EE'],['F0630','E2EF'],['F0632','E2F0'],['F0633','E2F1'],['F0634','E2F2'],['F0635','E2F3'],['F0636','E2F4'],['F0638','E2F5'],['F0639','E2F6'],['F0643','E2F7'],['F0644','E2F8'],['F0645','E2F9'],['F0646','E2FA'],['F0648','E2FB'],['F0649','E2FC'],['F0650','E2FD'],['F0654','E2FE'],['F0655','E2FF'],['F0659','E300'],['F0660','E301'],['F0661','E302'],['F0665','E303'],['F0666','E304'],['F0667','E305'],['F0671','E306'],['F0672','E307'],['F0673','E308'],['F0675','E309'],['F0676','E30A'],['F0677','E30B'],['F0678','E30C'],['F0679','E30D'],['F0680','E30E'],['F0682','E30F'],['F0683','E310'],['F0684','E240'],['F0685','E312'],['F0686','E313'],['F0687','E314'],['F0690','E315'],['F0691','E316'],['F0692','E317'],['F0693','E318'],['F0694','E319'],['F0695','E31A'],['F0700','E31B'],['F0598','E31C'],['F0600','E38A']]},b={fontFamily:'Fiori2',collectionName:'Fiori5',icons:[['F0263','E321'],['F0266','E322'],['F0834','E31D'],['F2001','E31E'],['F0839','E320'],['F0270','E323'],['F0273','E324'],['F0439','E325'],['F0443','E326'],['F0549','E327'],['F0550','E328'],['F0551','E329'],['F0577','E32A'],['F0585','E32B'],['F0637','E32C'],['F0668','E32D'],['F0669','E32E'],['F0670','E330'],['F0688','E331'],['F0689','E332'],['F0701','E333'],['F0702','E334'],['F0703','E335'],['F0706','E336'],['F0707','E337'],['F0708','E338'],['F0711','E339'],['F0712','E33A'],['F0731','E33B'],['F0732','E33C'],['F0733','E33D'],['F0735','E33E'],['F0736','E340'],['F0737','E341'],['F0742','E342'],['F0743','E343'],['F0744','E344'],['F0745','E345'],['F0746','E346'],['F0747','E347'],['F0748','E348'],['F0749','E349'],['F0750','E34A'],['F0751','E34B'],['F0755','E34C'],['F0756','E34D'],['F0757','E34E'],['F0758','E350'],['F0759','E351'],['F0760','E352'],['F0761','E353'],['F0763','E354'],['F0764','E355'],['F0765','E356'],['F0768','E357'],['F0770','E358'],['F0771','E359'],['F0772','E35A'],['F0774','E35B'],['F0776','E35C'],['F0777','E35D'],['F0778','E35E'],['F0788','E360'],['F0789','E361'],['F0790','E362'],['F0791','E363'],['F0792','E364'],['F0793','E365'],['F0794','E366'],['F0806','E367'],['F0807','E368'],['F0808','E369'],['F0809','E36A'],['F0810','E36B'],['F0811','E36C'],['F0812','E36D'],['F0813','E36E'],['F0814','E370'],['F0815','E371'],['F0816','E372'],['F0817','E373'],['F0818','E374'],['F0819','E375'],['F0820','E376'],['F0821','E377'],['F0822','E378'],['F0823','E379'],['F0824','E37A'],['F0825','E37B'],['F0826','E37C'],['F0827','E37D'],['F0828','E37E'],['F0829','E380'],['F0830','E381'],['F0831','E382'],['F0717','E383'],['F0718','E384'],['F0241','E385'],['F0246','E386'],['F0250','E387'],['F0248','E388'],['F0252','E389'],['F0600','E38A'],['F0674','E38B'],['F0247','E38E'],['F0251','E390']]},c={fontFamily:'Fiori2',collectionName:'Fiori6',icons:[['F0795','E397'],['F0866','E3A0'],['F0865','E3A1'],['F0867','E3A2'],['F0868','E3A3'],['F0869','E3A4'],['F0870','E3A5'],['F0138','E3A6'],['F0752','E3A7'],['F0753','E3A8'],['F0773','E3A9'],['F0891','E3AA'],['F0892','E3AB'],['F1023','E3AC'],['F0767','E3AD'],['F0849','E3AE'],['F0670-1','E393'],['F0670-2','E394'],['F0670-3','E395'],['F0670-4','E396']]},d={fontFamily:'Fiori2',collectionName:'Fiori7',icons:[['F1079','E3B0'],['F0738','E3B1'],['F1301','E3B2'],['F1302','E3B3'],['F1303','E3B4'],['F1338','E3B5'],['F1263','E3B6'],['F1373','E3B7'],['F0863','E3B8'],['F1068','E3BA'],['F0955','E3B9'],['F1242','E3BB'],['F1405','E3BC'],['F1406','E3BD'],['F1407','E3BE'],['F1408','E3BF'],['F1409','E3C0'],['F1410','E3C1'],['F1411','E3C2'],['F1412','E3C3'],['F1413','E3C4'],['F1414','E3C5'],['F1415','E3C6'],['F0797','E3C8'],['F0798','E3C9'],['F0800','E3CA'],['F0801','E3CB'],['F0804','E3CC'],['F0850','E3CD'],['F0890','E3CE'],['F1075','E3CF'],['F1394','E3D0'],['F1061','E3D1'],['F1062','E3D2'],['F1255','E3D3'],['F1077','E3D4'],['F0843','E3D5'],['F1076','E3D6'],['F0859','E3D7'],['F1060','E3D8'],['F1053','E3D9'],['F0900','E3DA'],['F0840','E3DB'],['F0842-1','E3A6'],['F0842-2','E22C'],['F1476','E3C7']]},e={fontFamily:'Fiori2',collectionName:'Fiori8',icons:[['F1317','E3DC'],['F1318','E3DD'],['F1319','E3DE'],['F1369','E3DF'],['F1475','E3E0'],['F1345','E3E1'],['F1248','E3E2'],['F1067','E3E3'],['F1332','E3E4'],['F1333','E3E5'],['F1334','E3E6'],['F1335','E3E7'],['F1030','E3E8'],['F1457','E3E9'],['F1504','E3EA'],['F1505','E3EB']]},g={fontFamily:'Fiori2',collectionName:'Fiori9',icons:[['F1094','E3EC'],['F1096','E3ED'],['F1353','E3EE'],['F1354','E3EF'],['F1428','E3F0'],['F1492','E3F1'],['F1515','E3F2'],['F1516','E3F3'],['F0997','E400'],['F1512','E401'],['F1563','E402'],['F1564','E403'],['F1599','E404'],['F1596','E405'],['F1254','E406'],['F1618','E407'],['F1561','E408']]},s={fontFamily:'Fiori2',collectionName:'S4Hana',icons:[['S0001','E3F4'],['S0002','E3F5'],['S0003','E3F6'],['S0004','E3F7'],['S0005','E3F8'],['S0006','E3F9'],['S0007','E3FA'],['S0008','E3FB'],['S0009','E3FC'],['S0010','E3FD'],['S0011','E3FE'],['S0012','E3FF']]},t={fontFamily:'SAPIconsTNT',collectionName:'TNTIcons',icons:[['Technical System','e000'],['Java System','e001'],['ABAP System','e002'],['System','e004'],['System TREX','e005'],['System Tracks','e006'],['System Recommendation','e003'],['System HANA','e00e'],['Technical Scenario','e007'],['Technical Instance','e008'],['Throughput Backlog','e009'],['Batch Processing','e00a'],['Database Consistency','e00b'],['Intermediate Message','e00c'],['Exceptions','e00d'],['Python','e00f'],['Raise fault','e010'],['Code1','e011'],['Code2','e012'],['Spike arrest','e013'],['Verify API','e014'],['User','e015'],['Note','e016'],['Throwing message','e017'],['Catching message','e018'],['Start event','e019'],['End event','e01a'],['Gateway','e01b'],['Sub process marker','e01c'],['Ad hoc marker','e01d'],['Manual task','e01e'],['Send task','e01f'],['Receive task','e020'],['Script task','e021'],['Marquee','e022'],['Data input arrow','e023'],['Data output arrow','e024'],['More','e025'],['Pattern','e026'],['Task','e027'],['Arrow','e028'],['Data','e029'],['Data store','e02a'],['Pool','e02b'],['Swimlane','e02c'],['Select','e02d']]},h={fontFamily:'FioriInAppIcons',collectionName:'FioriInAppIcons',icons:[['Hierarchal Tree','E700'],['Open','E701'],['Blocked','E702'],['Partially Blocked','E703'],['Open1','E704'],['Partially Adopted','E705'],['Due','E706'],['Overdue','E707'],['Sort','E708'],['Missing Parts','E709'],['Fire','E70A'],['Dangerous Chemicals','E70B'],['Share','E70C'],['Entertainment','E70D'],['Gift','E70E'],['QR Code','E70F'],['Wifi-Online','E710'],['Wifi-Offline','E711'],['Sunrise','E712'],['Sunset','E713'],['Afternoon','E714'],['Night','E715'],['Loading Date','E715'],['Cloudy','e717'],['Rain','e718'],['Storm','e719'],['Partly Sunny','e71A'],['Heavy Rain','e71B'],['Foggy','e71C'],['Snow','e71D'],['Risk Assessment','e71E']]},i={fontFamily:'Fiori2',collectionName:'FioriNonNative',icons:[['FN0001','E392'],['FN0002','E398'],['FN0003','E399'],['FN0004','E39A'],['FN0005','E39B'],['FN0006','E39C'],['FN0007','E39D'],['FN0008','E39E'],['FN0009','E39F']]};this.registerFonts(f,F,a,l,h,o,b,i,c,d,e,g,s,t);};sap.ushell.iconfonts.registerFonts=function(){var I,i,j;for(i=0;i<arguments.length;i=i+1){I=arguments[i];for(j=0;j<I.icons.length;j=j+1){sap.ui.core.IconPool.addIcon(I.icons[j][0],I.collectionName,I.fontFamily,I.icons[j][1],false,true);}}};}());\n",
	"sap/ushell/library.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.library');jQuery.sap.require('sap.ui.core.Core');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('sap.ui.layout.library');jQuery.sap.require('sap.m.library');sap.ui.getCore().initLibrary({name:'sap.ushell',dependencies:['sap.ui.core','sap.ui.layout','sap.m'],types:['sap.ushell.ui.launchpad.ViewPortState','sap.ushell.ui.tile.State','sap.ushell.ui.tile.StateArrow'],interfaces:[],controls:['sap.ushell.components.factsheet.controls.PictureTile','sap.ushell.components.factsheet.controls.PictureViewer','sap.ushell.components.factsheet.controls.PictureViewerItem','sap.ushell.ui.appfinder.AppBox','sap.ushell.ui.footerbar.AboutButton','sap.ushell.ui.footerbar.AddBookmarkButton','sap.ushell.ui.footerbar.ContactSupportButton','sap.ushell.ui.footerbar.EndUserFeedback','sap.ushell.ui.footerbar.HideGroupsButton','sap.ushell.ui.footerbar.JamDiscussButton','sap.ushell.ui.footerbar.JamShareButton','sap.ushell.ui.footerbar.LogoutButton','sap.ushell.ui.footerbar.SettingsButton','sap.ushell.ui.footerbar.UserPreferencesButton','sap.ushell.ui.launchpad.ActionItem','sap.ushell.ui.launchpad.AnchorItem','sap.ushell.ui.launchpad.AnchorNavigationBar','sap.ushell.ui.launchpad.DashboardGroupsContainer','sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage','sap.ushell.ui.launchpad.GroupHeaderActions','sap.ushell.ui.launchpad.GroupListItem','sap.ushell.ui.launchpad.HeaderTile','sap.ushell.ui.launchpad.LinkTileWrapper','sap.ushell.ui.launchpad.LoadingDialog','sap.ushell.ui.launchpad.LoadingOverlay','sap.ushell.ui.launchpad.Panel','sap.ushell.ui.launchpad.PlusTile','sap.ushell.ui.launchpad.Tile','sap.ushell.ui.launchpad.TileContainer','sap.ushell.ui.launchpad.TileState','sap.ushell.ui.launchpad.ViewPortContainer','sap.ushell.ui.tile.DynamicTile','sap.ushell.ui.tile.ImageTile','sap.ushell.ui.tile.StaticTile','sap.ushell.ui.tile.TileBase'],elements:[],version:'1.38.26'});jQuery.sap.declare('sap.ushell.ui.launchpad.ViewPortState');sap.ushell.ui.launchpad.ViewPortState={Left:'Left',Center:'Center',Right:'Right',LeftCenter:'LeftCenter',CenterLeft:'CenterLeft',RightCenter:'RightCenter',CenterRight:'CenterRight'};jQuery.sap.declare('sap.ushell.ui.tile.State');sap.ushell.ui.tile.State={Neutral:'Neutral',None:'None',Negative:'Negative',Error:'Error',Positive:'Positive',Success:'Success',Critical:'Critical',Warning:'Warning'};jQuery.sap.declare('sap.ushell.ui.tile.StateArrow');sap.ushell.ui.tile.StateArrow={None:'None',Up:'Up',Down:'Down'};\n",
	"sap/ushell/override.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.override');sap.ushell.override={};sap.ushell.override.updateAggregation=function(n){if(this.isTreeBinding(n)){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}else{var b=this.mBindingInfos[n],B=b.binding,a=B.getContexts(),f=b.factory,A=this.getMetadata().getJSONKeys()[n],g=A._sMutator+'Group',G=B.isGrouped()&&this[g],i=0,I=[],c=jQuery.proxy(function(C){var s=this.getId()+'-'+jQuery.sap.uid(),o=f(s,C);o.setBindingContext(C,b.model);this[A._sMutator](o);},this);if(G){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}else{I=this[A._sGetter]();for(i=0;i<a.length;++i){if(i<I.length){I[i].setBindingContext(a[i],b.model);}else{c(a[i]);}}for(;i<I.length;++i){I[i].destroy();}I.length=a.length;}}};sap.ushell.override.updateAggregationGrouped=function(n){var b=this.mBindingInfos[n],B=b.binding,f=b.factory,c,N=null,g=null,G=null,t=this,I=t.getItems(),l=0,L=0,i,s,T=[];g=B.isGrouped()&&this.addItemGroup;jQuery.each(B.getContexts(),function(a,C){if(g&&B.aSorters.length>0){N=B.aSorters[0].fnGroup(C);if(typeof N==='string'){N={key:N};}if(N.key!==G){var o,h;if(b.groupHeaderFactory){o=b.groupHeaderFactory(N);}h=o||new sap.m.GroupHeaderListItem({title:N.text||N.key}).addStyleClass('sapMListHdr');t.insertAggregation('items',h,L,true);L=L+1;G=N.key;}}I=t.getItems();for(i=L;i<I.length;i=i+1){if(I[i].constructor===sap.m.GroupHeaderListItem){T.push(t.removeItem(I[i]));I=t.getItems();}}if(L<I.length){I[L].setBindingContext(C,b.model);if(I[L].aDelegates){jQuery.each(I[L].aDelegates,function(i,v){v.vThis=C;});}}else{s=t.getId()+'-'+L;c=f(s,C);c.setBindingContext(C,b.model);t.addItem(c);}L=L+1;l=L;});for(i=I.length-1;i>=l;i=i-1){T.push(t.removeItem(I[i]));}setTimeout(function(){jQuery.each(T,function(i,v){v.destroy();});},1);};sap.ushell.override.updateAggregatesFactory=function(n){return function(){jQuery.proxy(sap.ushell.override.updateAggregation,this,n)();};};}());\n",
	"sap/ushell/plugins/rta/Component.js":"(function(){jQuery.sap.declare('sap.ushell.plugins.rta.Component');jQuery.sap.require('sap.ui.core.Component');jQuery.sap.require('sap.ui.model.resource.ResourceModel');'use strict';sap.ui.core.Component.extend('sap.ushell.plugins.rta.Component',{metadata:{manifest:'json'},_getRendererExtensions:function(){var d=jQuery.Deferred();var r=jQuery.sap.getObject('sap.ushell.renderers.fiori2.RendererExtensions');if(r){d.resolve(r);}else{sap.ui.getCore().getEventBus().subscribe('sap.ushell.renderers.fiori2.Renderer','rendererLoaded',function(){d.resolve(jQuery.sap.getObject('sap.ushell.renderers.fiori2.RendererExtensions'));});}return d.promise();},init:function(){var t=this;this._oRTA=null;this.i18n=this.getModel('i18n').getResourceBundle();this._getRendererExtensions().done(function(r){sap.ui.getCore().getEventBus().subscribe('sap.ushell.components.container.ApplicationContainer','componentCreated',function(c,e,d){t._switchComponent.call(t,d);});var _=function(e){var s=((sap.ui.Device.browser.msie&&sap.ui.Device.browser.version>10)||sap.ui.Device.browser.webkit||sap.ui.Device.browser.firefox);if(!s){sap.m.MessageBox.error(t.i18n.getText('MSG_UNSUPPORTED_BROWSER'),{title:t.i18n.getText('ERROR_TITLE'),onClose:null});}else{if(location.hash){t._switchToAdaptionMode();}}};var b=new sap.m.Button({icon:'sap-icon://wrench'});b.setText(t.i18n.getText('RTA_BUTTON_TEXT'));var h=location.hash.replace('#','');if(h){b.setEnabled((h.indexOf('Shell')!==0));}else{b.setEnabled(false);}b.attachPress(_,this);r.addOptionsActionSheetButton(b);sap.ui.core.routing.HashChanger.getInstance().attachEvent('shellHashChanged',function(e){var n=e.getParameter('newShellHash');var h=location.hash.replace('#','');if(n){b.setEnabled((n.indexOf('Shell')!==0));}else{if(h){b.setEnabled((h.indexOf('Shell')!==0));}else{b.setEnabled(false);}}});});},_switchToDefaultMode:function(){if(this._oRTA){this._oRTA.destroy();this._oRTA=null;}},_switchComponent:function(d){var c=d.component;this.oRootControl=c.getAggregation('rootControl');},_switchToAdaptionMode:function(){var t=this;if(!this._oRTA){sap.ui.core.BusyIndicator.show(0);setTimeout(function(){try{jQuery.sap.require('sap.ui.rta.RuntimeAuthoring');t._oRTA=new sap.ui.rta.RuntimeAuthoring({rootControl:t.oRootControl});t._oRTA.attachEvent('start',function(){sap.ui.core.BusyIndicator.hide();},t);t._oRTA.start();t._oRTA.attachEvent('stop',t._switchToDefaultMode,t);}catch(e){sap.ui.core.BusyIndicator.hide();}},100);}}});})();\n",
	"sap/ushell/plugins/rta/manifest.json":"{\n\t\"_version\": \"1.1.0\",\n\n\t\"sap.app\": {\n\t\t\"_version\": \"1.1.0\",\n\t\t\"i18n\": \"i18n/i18n.properties\",\n\t\t\"id\": \"sap.ushell.plugins.rta\",\n\t\t\"title\": \"{{APP_TITLE}}\",\n\t\t\"type\": \"component\",\n\t\t\"applicationVersion\": {\n\t\t\t\"version\": \"1.0.0\"\n\t\t},\n\t\t\"ach\": \"CA-UI5-FL-RTA\"\n\t},\n\n\t\"sap.ui\": {\n\t\t\"_version\": \"1.1.0\",\n\t\t\"technology\": \"UI5\",\n\t\t\"supportedThemes\": [\n\t\t\t\"sap_hcb\",\n\t\t\t\"sap_bluecrystal\"\n\t\t],\n\t\t\"deviceTypes\": {\n\t\t\t\"desktop\": true,\n\t\t\t\"tablet\": false,\n\t\t\t\"phone\": false\n\t\t}\n\t},\n\n\t\"sap.ui5\": {\n\t\t\"_version\": \"1.1.0\",\n\t\t\"contentDensities\": {\n\t\t\t\"compact\": true,\n\t\t\t\"cozy\": false\n\t\t},\n\t\t\"dependencies\": {\n\t\t\t\"minUI5Version\": \"1.30.1\",\n\t\t\t\"libs\": {\n\t\t\t\t\"sap.ui.core\": {\n\t\t\t\t\t\"minVersion\": \"1.30.1\"\n\t\t\t\t},\n\t\t\t\t\"sap.m\": {\n\t\t\t\t\t\"minVersion\": \"1.30.1\"\n\t\t\t\t},\n\t\t\t\t\"sap.ui.dt\": {\n\t\t\t\t\t\"minVersion\": \"1.30.1\"\n\t\t\t\t},\n\t\t\t\t\"sap.ui.rta\": {\n\t\t\t\t\t\"minVersion\": \"1.30.1\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"models\": {\n\t\t\t\"i18n\": {\n\t\t\t\t\"type\": \"sap.ui.model.resource.ResourceModel\",\n\t\t\t\t\"uri\": \"i18n/i18n.properties\"\n\t\t\t}\n\t\t}\n\t}\n}",
	"sap/ushell/renderers/fiori2/AccessKeysHandler.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.AccessKeysHandler');var a=function(){};a.prototype={keyCodes:jQuery.sap.KeyCodes,bFocusOnShell:true,bFocusPassedToExternalHandlerFirstTime:true,isFocusHandledByAnotherHandler:false,fnExternalKeysHandler:null,sLastExternalKeysHandlerUrl:null,fnExternalShortcuts:null,isleftAltPressed:false,appOpenedHandler:function(){var c=hasher.getHash();if(c!==this.sLastExternalKeysHandlerUrl){this.fnExternalKeysHandler=null;}this.sLastExternalKeysHandlerUrl=c;},handleSearchKey:function(){var s=sap.ui.getCore().byId('sf');if(s&&$('#sf:visible').length===0){return;}jQuery(s).click();},handleUserMenuKey:function(){var u=sap.ui.getCore().byId('userPreferencesButton'),s=sap.ui.getCore().byId('mainShell').oController;if(!u){u=new sap.ushell.ui.footerbar.UserPreferencesButton('userPreferencesButton');u.setModel(s.getModel());s._setUserPrefModel();}u.showUserPreferencesDialog();},handleAccessOverviewKey:function(){var t=sap.ushell.resources.i18n,i=this.oModel.getProperty('/searchAvailable'),c=[];this.aShortcutsDescriptions.forEach(function(v){c.push(new sap.m.Label({text:v.text}));c.push(new sap.m.Text({text:v.description}));});if(i){c.push(new sap.m.Label({text:'Alt+S'}));c.push(new sap.m.Text({text:t.getText('actionSearch')}));}c.push(new sap.m.Label({text:'Alt+U'}));c.push(new sap.m.Text({text:t.getText('actionLoginDetails')}));var s=new sap.ui.layout.form.SimpleForm({editable:false,content:c}),d,o=new sap.m.Button({text:t.getText('okBtn'),press:function(){d.close();}});d=new sap.m.Dialog({id:'hotKeysGlossary',title:t.getText('hotKeysGlossary'),contentWidth:'29.6rem',leftButton:o,afterClose:function(){d.destroy();}});d.addContent(s);d.open();},handleShortcuts:function(e){if(e.altKey){switch(String.fromCharCode(e.keyCode)){case'S':this.handleSearchKey();break;case'U':this.handleUserMenuKey();break;case'0':this.handleAccessOverviewKey();break;}}},registerAppKeysHandler:function(h){this.fnExternalKeysHandler=h;this.sLastExternalKeysHandlerUrl=hasher.getHash();},resetAppKeysHandler:function(){this.fnExternalKeysHandler=null;},getAppKeysHandler:function(){return this.fnExternalKeysHandler;},registerAppShortcuts:function(h,s){this.fnExternalShortcuts=h;this.aShortcutsDescriptions=s;},handleFocusBackToMe:function(e){if(typeof e=='string'){if(jQuery('#shellAppTitle').length>0){jQuery('#shellAppTitle').focus();}else{jQuery('body').focus();}}else if(e){e.preventDefault();this.bFocusOnShell=true;if(e.shiftKey){if(e.keyCode===jQuery.sap.KeyCodes.TAB){jQuery('#actionsBtn').focus();}else if(e.keyCode===jQuery.sap.KeyCodes.F6){jQuery('#shellAppTitle').focus();}}else{jQuery('#floatingActionBtn').focus();}this.bFocusPassedToExternalHandlerFirstTime=true;}else{var E=jQuery('#homeBtn');if(E.length!==0){E.focus();}}},setIsFocusHandledByAnotherHandler:function(h){this.isFocusHandledByAnotherHandler=h;},sendFocusBackToShell:function(e){this.handleFocusBackToMe(e);},init:function(m){this.oModel=m;sap.ui.getCore().getEventBus().subscribe('sap.ushell','appComponentLoaded',this.sendFocusBackToShell,this);jQuery(document).on('keydown',function(e){if(!this.bFocusOnShell&&!this.isFocusHandledByAnotherHandler){if(this.fnExternalKeysHandler&&jQuery.isFunction(this.fnExternalKeysHandler)){this.fnExternalKeysHandler(e,this.bFocusPassedToExternalHandlerFirstTime);this.bFocusPassedToExternalHandlerFirstTime=false;}}if(e.keyCode===18){if(e.originalEvent.location===window.KeyboardEvent.DOM_KEY_LOCATION_LEFT){this.isleftAltPressed=true;}else{this.isleftAltPressed=false;}}if(this.isleftAltPressed){this.handleShortcuts(e);if(this.fnExternalShortcuts){this.fnExternalShortcuts(e);}}this.setIsFocusHandledByAnotherHandler(false);}.bind(this));}};sap.ushell.renderers.fiori2.AccessKeysHandler=new a();sap.ui.getCore().getEventBus().subscribe('sap.ushell.renderers.fiori2.Renderer','appOpened',a.prototype.appOpenedHandler.bind(sap.ushell.renderers.fiori2.AccessKeysHandler));}());\n",
	"sap/ushell/renderers/fiori2/History.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.History');sap.ushell.renderers.fiori2.History=function(){this._history=[];this.backwards=false;this._historyPosition=-1;this._virtual={};};sap.ushell.renderers.fiori2.History.prototype.hashChange=function(n,o){var h=this._history.indexOf(n);if(h===-1){if(this._historyPosition+1<this._history.length){this._history=this._history.slice(0,this._historyPosition+1);}this._history.push(n);this._historyPosition+=1;this.backwards=false;this.forwards=false;}else{this.backwards=this._historyPosition>h;this.forwards=this._historyPosition<h;this._historyPosition=h;}};sap.ushell.renderers.fiori2.History.prototype.pop=function(){var l;if(this._history.length>0){l=this._history.pop();this._historyPosition--;}return l;};sap.ushell.renderers.fiori2.History.prototype.isVirtualHashchange=function(n,o){return this._virtual.hasOwnProperty(o)&&this.getCurrentHash()===n&&this._history.length-1>this._historyPosition&&this._history[this._historyPosition+1]===o;};sap.ushell.renderers.fiori2.History.prototype.setVirtualNavigation=function(h){this._virtual[h]=true;};sap.ushell.renderers.fiori2.History.prototype.getCurrentHash=function(){return this._history[this._historyPosition]||null;};sap.ushell.renderers.fiori2.History.prototype.getHashIndex=function(h){return this._history.indexOf(h);};sap.ushell.renderers.fiori2.History.prototype.getHistoryLength=function(){return this._history.length;};}());\n",
	"sap/ushell/renderers/fiori2/Lifecycle.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.Lifecycle');var l='sap.ushell',e,E={rendererLoaded:{oldNamespace:'sap.ushell.renderers.fiori2.Renderer',newEventName:'rendererLoaded'},componentCreated:{oldNamespace:'sap.ushell.components.container.ApplicationContainer',newEventName:'appComponentLoaded'},appOpened:{oldNamespace:'launchpad',newEventName:'appOpened'},appClosed:{oldNamespace:'launchpad',newEventName:'appClosed'},coreExtLoaded:{oldNamespace:'launchpad',newEventName:'coreResourcesFullyLoaded'}};function _(n,e,d){setTimeout(function(){sap.ui.getCore().getEventBus().publish(l,e,d);},0);}function a(n,s,d){var m=E[s];if(m!==undefined){_(l,m.newEventName,d);}}for(e in E){sap.ui.getCore().getEventBus().subscribe(E[e].oldNamespace,e,a);}}());\n",
	"sap/ushell/renderers/fiori2/Navigation.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.Navigation');sap.ushell.renderers.fiori2.Navigation=function(){this.SEARCH={ID:'ShellSearch',SEMANTICOBJECT:'shell',ACTION:'search'};sap.ushell.Container.getService('NavTargetResolution').registerCustomResolver({name:'Search App Container',isApplicable:function(h){return h==='#Action-search';},resolveHashFragment:function(h){var d=new jQuery.Deferred(),r={};if(h==='#Action-search'){r={'additionalInformation':'SAPUI5.Component=sap.ushell.renderers.fiori2.search.container','applicationType':'URL','url':jQuery.sap.getResourcePath('sap/ushell/renderers/fiori2/search/container'),'loadCoreExt':false,'loadDefaultDependencies':false};}d.resolve(r);return d.promise();}});};sap.ushell.Container.getService('NavTargetResolution').registerCustomResolver({name:'FLP Resolver',isApplicable:function(h){h=(typeof h==='string')?h:'';h=h.split('?')[0];return h==='#Shell-home'||h==='#shell-catalog';},resolveHashFragment:function(h){var d=new jQuery.Deferred(),r={};h=(typeof h==='string')?h:'';h=h.split('?')[0];if(h==='#Shell-home'||h==='#shell-catalog'){r={'additionalInformation':'SAPUI5.Component=sap.ushell.components.flp','applicationType':'URL','url':jQuery.sap.getResourcePath('sap/ushell/components/flp'),'loadCoreExt':false,'loadDefaultDependencies':false};}d.resolve(r);return d.promise();}});sap.ushell.renderers.fiori2.Navigation=new sap.ushell.renderers.fiori2.Navigation();}());\n",
	"sap/ushell/renderers/fiori2/Renderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.Renderer');jQuery.sap.require('sap.ui.core.UIComponent');jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ushell.renderers.fiori2.RendererExtensions');sap.ui.core.UIComponent.extend('sap.ushell.renderers.fiori2.Renderer',{metadata:{version:'1.38.26',dependencies:{version:'1.38.26',libs:['sap.ui.core','sap.m'],components:[]}}});sap.ushell.renderers.fiori2.Renderer.prototype.createContent=function(){var p=jQuery.sap.getUriParameters().get('appState')||jQuery.sap.getUriParameters().get('sap-ushell-config'),v=this.getComponentData()||{},P,a={applications:{'Shell-home':{}},rootIntent:'Shell-home'},V;if(p){if(!v.config){v.config={};}v.config.appState=p;}if(v.config){P=['enablePersonalization','enableTagFiltering','enableLockedGroupsCompactLayout','enableCatalogSelection','enableSearchFiltering','enableTilesOpacity','enableDragIndicator','enableActionModeMenuButton','enableActionModeMenuButton','enableActionModeFloatingButton','enableTileActionsIcon','enableHideGroups'];if(v.config.rootIntent===undefined){v.config.migrationConfig=true;}v.config=jQuery.extend(a,v.config);if(v.config.applications['Shell-home']){P.forEach(function(s){var b=v.config[s];if(b!==undefined){v.config.applications['Shell-home'][s]=b;}if(s!=='enablePersonalization'){delete v.config[s];}});}}if(v.config&&v.config.customViews){Object.keys(v.config.customViews).forEach(function(s){var V=v.config.customViews[s];sap.ui.view(s,{type:V.viewType,viewName:V.viewName,viewData:V.componentData});});}V=sap.ui.view('mainShell',{type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.renderers.fiori2.Shell',viewData:v});sap.ushell.renderers.fiori2.utils.init(V.getController());this.shellCtrl=V.oController;return V;};sap.ushell.renderers.fiori2.Renderer.prototype.createExtendedShellState=function(s,c){return this.shellCtrl.createExtendedShellState(s,c);};sap.ushell.renderers.fiori2.Renderer.prototype.applyExtendedShellState=function(s,c){this.shellCtrl.applyExtendedShellState(s,c);};sap.ushell.renderers.fiori2.Renderer.prototype.showLeftPaneContent=function(i,c,s){if(typeof i==='string'){this.shellCtrl.addLeftPaneContent([i],c,s);}else{this.shellCtrl.addLeftPaneContent(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.showHeaderItem=function(i,c,s){if(typeof i==='string'){this.shellCtrl.addHeaderItem([i],c,s);}else{this.shellCtrl.addHeaderItem(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.showRightFloatingContainerItem=function(i,c,s){this.shellCtrl.addRightFloatingContainerItem(i,c,s);};sap.ushell.renderers.fiori2.Renderer.prototype.showRightFloatingContainer=function(s){this.shellCtrl.showRightFloatingContainer(s);};sap.ushell.renderers.fiori2.Renderer.prototype.showToolAreaItem=function(i,c,s){this.shellCtrl.addToolAreaItem(i,c,s);};sap.ushell.renderers.fiori2.Renderer.prototype.showActionButton=function(i,c,s,I){if(typeof i==='string'){this.shellCtrl.addActionButton([i],c,s,I);}else{this.shellCtrl.addActionButton(i,c,s,I);}};sap.ushell.renderers.fiori2.Renderer.prototype.showFloatingActionButton=function(i,c,s){if(typeof i==='string'){this.shellCtrl.addFloatingActionButton([i],c,s);}else{this.shellCtrl.addFloatingActionButton(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.showHeaderEndItem=function(i,c,s){if(typeof i==='string'){this.shellCtrl.addHeaderEndItem([i],c,s);}else{this.shellCtrl.addHeaderEndItem(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.setHeaderVisibility=function(v,c,s){this.shellCtrl.setHeaderVisibility(v,c,s);};sap.ushell.renderers.fiori2.Renderer.prototype.showSubHeader=function(i,c,s){if(typeof i==='string'){this.shellCtrl.addSubHeader([i],c,s);}else{this.shellCtrl.addSubHeader(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.setFooter=function(f){this.shellCtrl.setFooter(f);};sap.ushell.renderers.fiori2.Renderer.prototype.hideHeaderItem=function(i,c,s){if(typeof i==='string'){this.shellCtrl.removeHeaderItem([i],c,s);}else{this.shellCtrl.removeHeaderItem(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.removeToolAreaItem=function(i,c,s){if(typeof i==='string'){this.shellCtrl.removeToolAreaItem([i],c,s);}else{this.shellCtrl.removeToolAreaItem(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.removeRightFloatingContainerItem=function(i,c,s){if(typeof i==='string'){this.shellCtrl.removeRightFloatingContainerItem([i],c,s);}else{this.shellCtrl.removeRightFloatingContainerItem(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.hideActionButton=function(i,c,s){if(typeof i==='string'){this.shellCtrl.removeActionButton([i],c,s);}else{this.shellCtrl.removeActionButton(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.hideLeftPaneContent=function(i,c,s){if(typeof i==='string'){this.shellCtrl.removeLeftPaneContent([i],c,s);}else{this.shellCtrl.removeLeftPaneContent(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.hideFloatingActionButton=function(i,c,s){if(typeof i==='string'){this.shellCtrl.removeFloatingActionButton([i],c,s);}else{this.shellCtrl.removeFloatingActionButton(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.hideHeaderEndItem=function(i,c,s){if(typeof i==='string'){this.shellCtrl.removeHeaderEndItem([i],c,s);}else{this.shellCtrl.removeHeaderEndItem(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.hideSubHeader=function(i,c,s){if(typeof i==='string'){this.shellCtrl.removeSubHeader([i],c,s);}else{this.shellCtrl.removeSubHeader(i,c,s);}};sap.ushell.renderers.fiori2.Renderer.prototype.removeFooter=function(){this.shellCtrl.removeFooter();};sap.ushell.renderers.fiori2.Renderer.prototype.getCurrentViewportState=function(){return this.shellCtrl.getCurrentViewportState();};sap.ushell.renderers.fiori2.Renderer.prototype.addSubHeader=function(c,C,i,b,s){var f=function(C){var V;if(c){jQuery.sap.require(c);V=jQuery.sap.getObject(c);}else{jQuery.sap.log.warning('You must specify control type in order to create it');}return new V(C);},I;I=this.createItem(C,b,s,f);if(i){this.showSubHeader(I.getId(),b,s);}return I;};sap.ushell.renderers.fiori2.Renderer.prototype.addActionButton=function(c,C,i,b,s){var f=function(C){var V;if(c){jQuery.sap.require(c);V=jQuery.sap.getObject(c);}else{V=jQuery.sap.getObject(sap.ushell.ui.launchpad.ActionItem);}return new V(C);},I;I=this.createItem(C,b,s,f);if(i){this.showActionButton(I.getId(),b,s);}return I;};sap.ushell.renderers.fiori2.Renderer.prototype.addFloatingActionButton=function(c,C,i,b,s){var f=function(C){var V;if(c){jQuery.sap.require(c);V=jQuery.sap.getObject(c);}else{V=jQuery.sap.getObject(sap.m.Button);}return new V(C);},I;I=this.createItem(C,b,s,f);if(i){this.showFloatingActionButton(I.getId(),b,s);}return I;};sap.ushell.renderers.fiori2.Renderer.prototype.addLeftPaneContent=function(c,C,i,b,s){var f=function(C){var V;if(c){jQuery.sap.require(c);V=jQuery.sap.getObject(c);}else{jQuery.sap.log.warning('You must specify control type in order to create it');}return new V(C);},I;I=this.createItem(C,b,s,f);if(i){this.showLeftPaneContent(I.getId(),b,s);}return I;};sap.ushell.renderers.fiori2.Renderer.prototype.addHeaderItem=function(c,C,i,b,s){var p=C;if(this.shellCtrl.isFiori2()){p.showSeparator=false;}var f=function(C){return new sap.ushell.ui.shell.ShellHeadItem(C);},I=this.createItem(p,b,s,f);if(i){this.showHeaderItem(I.getId(),b,s);}return I;};sap.ushell.renderers.fiori2.Renderer.prototype.addRightFloatingContainerItem=function(c,i,C,s){var f=function(c){return new sap.m.NotificationListItem(c);},I=this.createItem(c,C,s,f);if(i){this.showRightFloatingContainerItem(I.getId(),C,s);}return I;};sap.ushell.renderers.fiori2.Renderer.prototype.addToolAreaItem=function(c,i,C,s){var f=function(c){return new sap.ushell.ui.shell.ToolAreaItem(c);},I=this.createItem(c,C,s,f);if(i){this.showToolAreaItem(I.getId(),C,s);}return I;};sap.ushell.renderers.fiori2.Renderer.prototype.addHeaderEndItem=function(c,C,i,b,s){var p=C;if(this.shellCtrl.isFiori2()){p.showSeparator=false;}var f=function(C){return new sap.ushell.ui.shell.ShellHeadItem(C);},I=this.createItem(p,b,s,f);if(i){this.showHeaderEndItem(I.getId(),b,s);}return I;};sap.ushell.renderers.fiori2.Renderer.prototype.getModelConfiguration=function(){return this.shellCtrl.getModelConfiguration();};sap.ushell.renderers.fiori2.Renderer.prototype.addEndUserFeedbackCustomUI=function(c,s){this.shellCtrl.addEndUserFeedbackCustomUI(c,s);};sap.ushell.renderers.fiori2.Renderer.prototype.addUserPreferencesEntry=function(e){return this.shellCtrl.addUserPreferencesEntry(e);};sap.ushell.renderers.fiori2.Renderer.prototype.setHeaderTitle=function(t,c,C){var i=null,l=sap.ushell.renderers.fiori2.Renderer.prototype.LaunchpadState;if(c){var f=function(C){var o;jQuery.sap.require(c);o=jQuery.sap.getObject(c);return new o(C);};i=this.createItem(C,false,[l.Home,l.App],f);}this.shellCtrl._setHeaderTitle(t,i);};sap.ushell.renderers.fiori2.Renderer.prototype.setLeftPaneVisibility=function(l,v){this.shellCtrl.showShellItem('/showPane',l,v);};sap.ushell.renderers.fiori2.Renderer.prototype.showToolArea=function(l,v){this.shellCtrl.showShellItem('/toolAreaVisible',l,v);};sap.ushell.renderers.fiori2.Renderer.prototype.setHeaderHiding=function(h){return this.shellCtrl._setHeaderHiding(h);};sap.ushell.renderers.fiori2.Renderer.prototype.setFloatingContainerContent=function(c,C,s){this.shellCtrl._setFloatingContainerContent('floatingContainerContent',[c.getId()],C,s);};sap.ushell.renderers.fiori2.Renderer.prototype.setFloatingContainerVisibility=function(v){this.shellCtrl._setFloatingContainerVisibility(v);};sap.ushell.renderers.fiori2.Renderer.prototype.getFloatingContainerVisiblity=function(){return this.shellCtrl._getFloatingContainerVisibility();};sap.ushell.renderers.fiori2.Renderer.prototype.getRightFloatingContainerVisibility=function(){return this.shellCtrl._getRightFloatingContainerVisibility();};sap.ushell.renderers.fiori2.Renderer.prototype.setFloatingContainerDragSelector=function(e){this.shellCtrl._setFloatingContainerDragSelector(e);};sap.ushell.renderers.fiori2.Renderer.prototype.makeEndUserFeedbackAnonymousByDefault=function(e){this.shellCtrl._makeEndUserFeedbackAnonymousByDefault(e);};sap.ushell.renderers.fiori2.Renderer.prototype.showEndUserFeedbackLegalAgreement=function(s){this.shellCtrl._showEndUserFeedbackLegalAgreement(s);};sap.ushell.renderers.fiori2.Renderer.prototype.LaunchpadState={App:'app',Home:'home'};sap.ushell.renderers.fiori2.Renderer.prototype.createItem=function(c,C,s,f){var i;if(c.id){i=sap.ui.getCore().byId(c.id);}if(!i){i=f(c);if(C){this.shellCtrl.addElementToManagedQueue(i);}}return i;};sap.ushell.renderers.fiori2.Renderer.prototype.addEntryInShellStates=function(n,e,a,r,s){this.shellCtrl.addEntryInShellStates(n,e,a,r,s);};sap.ushell.renderers.fiori2.Renderer.prototype.removeCustomItems=function(s,i,c,S){if(typeof i==='string'){this.shellCtrl.removeCustomItems(s,[i],c,S);}else{this.shellCtrl.removeCustomItems(s,i,c,S);}};sap.ushell.renderers.fiori2.Renderer.prototype.addCustomItems=function(s,i,c,S){if(typeof i==='string'){this.shellCtrl.addCustomItems(s,[i],c,S);}else{this.shellCtrl.addCustomItems(s,i,c,S);}};sap.ushell.renderers.fiori2.Renderer.prototype.isFiori2=function(){return this.shellCtrl.isFiori2();};}());\n",
	"sap/ushell/renderers/fiori2/RendererExtensions.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.RendererExtensions');function _(C){a('rendererLoaded',{rendererName:'fiori2'});}function a(E,D){setTimeout(function(){sap.ui.getCore().getEventBus().publish('sap.ushell.renderers.fiori2.Renderer',E,D);},0);}sap.ushell.renderers.fiori2.utils={};sap.ushell.renderers.fiori2.utils.publishExternalEvent=a;sap.ushell.renderers.fiori2.utils.init=_;function b(I,L,w){sap.ushell.Container.getRenderer('fiori2').showSubHeader(I.getId(),false,[L,w]);}function c(I,L,w){sap.ushell.Container.getRenderer('fiori2').hideSubHeader(I.getId(),false,[L,w]);}function d(I,L,w){sap.ushell.Container.getRenderer('fiori2').showHeaderItem(I.getId(),false,[L,w]);}function e(I,L,w){sap.ushell.Container.getRenderer('fiori2').hideHeaderItem(I.getId(),false,[L,w]);}function f(B,L,w){sap.ushell.Container.getRenderer('fiori2').showActionButton(B.getId(),false,[L,w]);}function g(B,L,w){sap.ushell.Container.getRenderer('fiori2').hideActionButton(B.getId(),false,[L,w]);}function h(C,L,w){sap.ushell.Container.getRenderer('fiori2').showLeftPaneContent(C.getId(),false,[L,w]);}function i(L,w){sap.ushell.Container.getRenderer('fiori2').hideLeftPaneContent(false,[L,w]);}function j(I,L,w){sap.ushell.Container.getRenderer('fiori2').showFloatingActionButton(I.getId(),false,[L,w]);}function k(I,L,w){sap.ushell.Container.getRenderer('fiori2').hideFloatingActionButton(I.getId(),false,[L,w]);}function l(I,L,w){sap.ushell.Container.getRenderer('fiori2').showHeaderEndItem(I.getId(),false,[L,w]);}function m(I,L,w){sap.ushell.Container.getRenderer('fiori2').hideHeaderEndItem(I.getId(),false,[L,w]);}function n(){return sap.ushell.Container.getRenderer('fiori2').getModelConfiguration();}function o(I,L,T,w){var x=sap.ui.getCore().byId(I);if(w){sap.ushell.Container.getRenderer('fiori2').showHeaderItem(x.getId(),T,[L]);}}function p(C,S){sap.ushell.Container.getRenderer('fiori2').addEndUserFeedbackCustomUI(C,S);}function q(w){sap.ushell.Container.getRenderer('fiori2').addUserPreferencesEntry(w);}function r(T){sap.ushell.Container.getRenderer('fiori2').setHeaderTitle(T);}function s(L,V){sap.ushell.Container.getRenderer('fiori2').setLeftPaneVisibility(L,V);}function t(H){sap.ushell.Container.getRenderer('fiori2').setHeaderHiding(H);}function u(F){sap.ushell.Container.getRenderer('fiori2').setFooter(F);}function v(){sap.ushell.Container.getRenderer('fiori2').removeFooter();}function R(){this.addHeaderItem=d;this.setHeaderItemVisibility=o;this.addSubHeader=b;this.removeSubHeader=c;this.addHeaderEndItem=l;this.removeHeaderItem=e;this.removeHeaderEndItem=m;this.addEndUserFeedbackCustomUI=p;this.addOptionsActionSheetButton=f;this.removeOptionsActionSheetButton=g;this.setFooter=u;this.removeFooter=v;this.addUserPreferencesEntry=q;this.setHeaderTitle=r;this.setHeaderHiding=t;this.LaunchpadState={App:'app',Home:'home'};this.addFloatingActionButton=j;this.removeFloatingActionButton=k;this.setLeftPaneContent=h;this.removeLeftPaneContent=i;this.setLeftPaneVisibility=s;this.getConfiguration=n;}sap.ushell.renderers.fiori2.RendererExtensions=new R();}());\n",
	"sap/ushell/renderers/fiori2/Shell.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.ushell.renderers.fiori2.History');jQuery.sap.require('sap.ushell.services.Message');jQuery.sap.require('sap.ushell.services.ShellNavigation');jQuery.sap.require('sap.ushell.services.UsageAnalytics');jQuery.sap.require('sap.ushell.services.AppConfiguration');jQuery.sap.require('sap.ushell.services.Notifications');jQuery.sap.require('sap.ushell.ui.launchpad.LoadingOverlay');jQuery.sap.require('sap.ushell.renderers.fiori2.AccessKeysHandler');jQuery.sap.require('sap.ushell.renderers.fiori2.Lifecycle');jQuery.sap.require('sap.ushell.utils');var c=true,a=true,b={},d=sap.ui.Device.system.phone,u,m=new sap.ui.model.json.JSONModel({searchAvailable:false,title:'',searchFiltering:true,showEndUserFeedback:false,searchTerm:'',isPhoneWidth:false,enableNotifications:false,enableNotificationsUI:false,notificationsCount:0,currentViewPortState:'Center',states:{'home':{'stateName':'home','showCurtain':false,'headerHiding':false,'headerVisible':true,'showCatalog':false,'showPane':false,'showRightFloatingContainer':true,'headItems':[],'headEndItems':['sf'],'search':'','paneContent':[],'actions':['ContactSupportBtn','EndUserFeedbackBtn','userPreferencesButton','logoutBtn'],'floatingActions':[],'subHeader':[],'toolAreaItems':[],'RightFloatingContainerItems':[],'toolAreaVisible':false,'floatingContainerContent':[],'application':{}},'app':{'stateName':'app','showCurtain':false,'headerHiding':d,'headerVisible':true,'headEndItems':['sf'],'showCatalog':false,'showPane':false,'showRightFloatingContainer':true,'paneContent':[],'search':'','headItems':['homeBtn'],'actions':['ContactSupportBtn','EndUserFeedbackBtn','aboutBtn','userPreferencesButton','logoutBtn'],'floatingActions':[],'subHeader':[],'toolAreaItems':[],'RightFloatingContainerItems':[],'toolAreaVisible':false,'floatingContainerContent':[],'application':{}},'minimal':{'stateName':'minimal','showCurtain':false,'headerHiding':false,'headerVisible':true,'headEndItems':[],'showCatalog':false,'showPane':false,'showRightFloatingContainer':true,'paneContent':[],'headItems':[],'actions':['ContactSupportBtn','EndUserFeedbackBtn','aboutBtn','userPreferencesButton','logoutBtn'],'floatingActions':[],'subHeader':[],'toolAreaItems':[],'RightFloatingContainerItems':[],'toolAreaVisible':false,'floatingContainerContent':[],'application':{}},'standalone':{'stateName':'standalone','showCurtain':false,'headerHiding':d,'headerVisible':true,'headEndItems':[],'showCatalog':false,'showPane':false,'showRightFloatingContainer':true,'paneContent':[],'headItems':[],'actions':['ContactSupportBtn','EndUserFeedbackBtn','aboutBtn'],'floatingActions':[],'subHeader':[],'toolAreaItems':[],'RightFloatingContainerItems':[],'toolAreaVisible':false,'floatingContainerContent':[],'application':{}},'embedded':{'stateName':'embedded','showCurtain':false,'headerHiding':d,'headerVisible':true,'headEndItems':['standardActionsBtn'],'showCatalog':false,'showPane':false,'showRightFloatingContainer':true,'paneContent':[],'headItems':[],'actions':['ContactSupportBtn','EndUserFeedbackBtn','aboutBtn'],'floatingActions':[],'subHeader':[],'toolAreaItems':[],'RightFloatingContainerItems':[],'toolAreaVisible':false,'floatingContainerContent':[],'application':{}},'headerless':{'stateName':'headerless','showCurtain':false,'headerHiding':d,'headerVisible':false,'headEndItems':[],'showCatalog':false,'showPane':false,'showRightFloatingContainer':true,'paneContent':[],'headItems':[],'actions':[],'floatingActions':[],'subHeader':[],'toolAreaItems':[],'RightFloatingContainerItems':[],'toolAreaVisible':false,'floatingContainerContent':[],'application':{}}},userPreferences:{entries:[]}}),s=m,C,n={embedded:'embedded',newWindowThenEmbedded:'newWindowThenEmbedded',newWindow:'newWindow',replace:'replace'},o={},f=['minimal','app','standalone','embedded','headerless','home'];sap.ui.controller('sap.ushell.renderers.fiori2.Shell',{oCoreExtLoadingDeferred:undefined,onInit:function(){this.bMeAreaSelected=false;this.oEndUserFeedbackConfiguration={showAnonymous:true,anonymousByDefault:true,showLegalAgreement:true,showCustomUIContent:true,feedbackDialogTitle:true,textAreaPlaceholder:true,customUIContent:undefined};this.bUserImageAlreadyLoaded=undefined;this.bUpdateCustom=false;this.bMeAreaLoaded=false;this.getView().setModel(m);this.getView().setModel(sap.ushell.resources.i18nModel,'i18n');this.managedElements={};this.oExtensionShellStates={};sap.ui.getCore().getEventBus().subscribe('externalSearch',this.externalSearchTriggered,this);this._setConfigurationToModel();sap.ui.getCore().getEventBus().subscribe('launchpad','contentRendered',this._loadCoreExt,this);sap.ui.getCore().getEventBus().subscribe('sap.ushell.renderers.fiori2.Renderer','appOpened',this.loadUserImage,this);sap.ui.getCore().getEventBus().subscribe('launchpad','coreExtLoaded',this.checkEUFeedback,this);sap.ui.getCore().getEventBus().subscribe('launchpad','coreExtLoaded',this.loadMeAreaView,this);sap.ui.getCore().getEventBus().subscribe('sap.ushell.renderers.fiori2.Renderer','appOpened',this.checkEUFeedback,this);sap.ui.getCore().getEventBus().subscribe('sap.ushell.renderers.fiori2.Renderer','appOpened',this.delayedCloseLoadingScreen,this);sap.ui.getCore().getEventBus().subscribe('launchpad','toggleContentDensity',this.toggleContentDensity,this);sap.ui.getCore().getEventBus().subscribe('sap.ushell.renderers.fiori2.Renderer','appOpened',this._loadCoreExtNWBC,this);sap.ui.getCore().getEventBus().subscribe('sap.ushell.services.Notifications','onNewNotifications',this._handleAlerts,this);sap.ui.getCore().getEventBus().subscribe('launchpad','appClosed',this.logApplicationUsage,this);var o=(this.getView().getViewData()?this.getView().getViewData().config:{})||{},r=o?o.rootIntent:'',e=hasher.getHash(),S=sap.ushell.Container.getService('URLParsing').parseShellHash(e);if(!e.length||r===S.semanticObject+'-'+S.action){this.switchViewState('home');}sap.ushell.Container.getService('AppLifeCycle');sap.ushell.Container.getService('UsageAnalytics').init(sap.ushell.resources.i18n.getText('usageAnalytics'),sap.ushell.resources.i18n.getText('i_agree'),sap.ushell.resources.i18n.getText('i_disagree'),sap.ushell.resources.i18n.getText('remind_me_later'));u=sap.ushell.Container.getService('UserRecents');if(sap.ushell.Container.getService('Notifications').isEnabled()===true){m.setProperty('/enableNotifications',true);sap.ushell.Container.getService('Notifications').init();if(o.enableNotificationsUI===true){m.setProperty('/enableNotificationsUI',true);sap.ushell.Container.getService('Notifications').registerNotificationCountUpdateCallback(this.notificationsCountUpdateCallback.bind(this));}}this.history=new sap.ushell.renderers.fiori2.History();this.oViewPortContainer=sap.ui.getCore().byId('viewPortContainer');this.oNotificationsCountButton=sap.ui.getCore().byId('NotificationsCountButton');this.oApplicationLoadingScreen=sap.ui.getCore().byId('loadingDialog');this.oShellNavigation=sap.ushell.Container.getService('ShellNavigation');this.oShellNavigation.registerNavigationFilter(jQuery.proxy(this._handleEmptyHash,this));this.oShellNavigation.init(jQuery.proxy(this.doHashChange,this));this.oShellNavigation.registerNavigationFilter(jQuery.proxy(this.handleDataLoss,this));sap.ushell.Container.getService('Message').init(jQuery.proxy(this.doShowMessage,this));sap.ushell.Container.setLogonFrameProvider(this._getLogonFrameProvider());this.bContactSupportEnabled=sap.ushell.Container.getService('SupportTicket').isEnabled();sap.ushell.renderers.fiori2.AccessKeysHandler.init(m);window.onbeforeunload=function(){if(sap.ushell.Container&&sap.ushell.Container.getDirtyFlag()){if(!sap.ushell.resources.browserI18n){sap.ushell.resources.browserI18n=sap.ushell.resources.getTranslationModel(window.navigator.language).getResourceBundle();}return sap.ushell.resources.browserI18n.getText('dataLossExternalMessage');}};if(m.getProperty('/contentDensity')){this._applyContentDensity();}if(m.getProperty('/enableNotificationsUI')===true){this.addHeaderEndItem(['NotificationsCountButton'],false,['home','app']);}if(m.getProperty('/enableMeArea')===true){this.removeHeaderItem('homeBtn',false,['app']);this.addHeaderItem(['meAreaHeaderButton'],false,['home','app']);this.addHeaderItem(['homeBtn'],false,['app']);this.removeActionButton(['logoutBtn'],false,['home','app']);sap.ui.Device.media.attachHandler(this.onScreenSizeChange.bind(this),null,sap.ui.Device.media.RANGESETS.SAP_STANDARD);this.onScreenSizeChange(sap.ui.Device.media.getCurrentRange(sap.ui.Device.media.RANGESETS.SAP_STANDARD));}if(o.enableMergeAppAndShellHeaders===true){this.initShellUIService();if(this.getView().oShellNavigationMenu){this.getView().oShellNavigationMenu.setModel(m);}}else{var g=m.getProperty('/states/home/headItems');if(g.indexOf('homeBtn')===-1){g.push('homeBtn');m.setProperty('/states/home/headItems',g);}}},initShellUIService:function(){jQuery.sap.require('sap.ushell.ui5service.ShellUIService');this.oShellUIService=new sap.ushell.ui5service.ShellUIService({scopeObject:this.getOwnerComponent(),scopeType:'component'});this.oShellUIService._attachHierarchyChanged(this.onHierarchyChange.bind(this));this.oShellUIService._attachTitleChanged(this.onTitleChange.bind(this));this.oShellUIService._attachRelatedAppsChanged(this.onRelatedAppsChange.bind(this));},onHierarchyChange:function(e){this.isHierarchyChanged=true;var h=e.getParameters().data;if(!h){h=[];}var H=this.getHierarchyDefaultValue();var E=h.concat(H);var g=m.getProperty('/currentState');if(g&&g.stateName==='home'){this._updateShellProperty('application/hierarchy',E,false,['home']);}this._updateShellProperty('application/hierarchy',E,true);},onTitleChange:function(e){this.isTitleChanged=true;var t=e.getParameters().data;if(!t){t=this.getTitleDefaultValue();}var g=m.getProperty('/currentState');if(g&&g.stateName==='home'){this._updateShellProperty('application/title',t,false,['home']);}this._updateShellProperty('application/title',t,true);},onRelatedAppsChange:function(e){this.isRelatedAppsChanged=true;var r=e.getParameters().data;if(!r){r=[];}var g=m.getProperty('/currentState');if(g&&g.stateName==='home'){this._updateShellProperty('application/relatedApps',r,false,['home']);}this._updateShellProperty('application/relatedApps',r,true);},getHierarchyDefaultValue:function(){var h=[];var e=m.getProperty('/currentState');if(e&&e.stateName==='app'){h=[{icon:'sap-icon://home',title:'Home',intent:o.rootIntent?'#'+o.rootIntent:'#'}];}return h;},getTitleDefaultValue:function(){var t='';var e=sap.ushell.services.AppConfiguration.getMetadata();if(e&&e.title){t=e.title;}return t;},_handleAlerts:function(e,E,N){var i;if(this.oViewPortContainer.getCurrentState()!=='RightCenter'){for(i=0;i<N.length;i++){this.handleNotification(N[i]);}}},handleNotification:function(N){var A=sap.ushell.Container.getRenderer('fiori2').addRightFloatingContainerItem({press:function(e){var v=sap.ui.getCore().byId('viewPortContainer');if(hasher.getHash()===N.NavigationTargetObject+'-'+N.NavigationTargetAction){v.switchState('Center');}else{sap.ushell.utils.toExternalWithParameters(N.NavigationTargetObject,N.NavigationTargetAction,N.NavigationTargetParams);}sap.ushell.Container.getService('Notifications').markRead(N.Id);},datetime:N.CreatedAt,description:N.SensitiveText,title:N.Text,unread:N.IsRead,priority:'High'},true,true);A.addStyleClass('sapContrastPlus');A.addStyleClass('sapContrast');setTimeout(function(){sap.ushell.Container.getRenderer('fiori2').removeRightFloatingContainerItem(A.getId(),true);},3500);},_createActionButtons:function(){var e,E,g,U=sap.ui.getCore().byId('userPreferencesButton'),l=sap.ui.getCore().byId('logoutBtn')||new sap.ushell.ui.footerbar.LogoutButton('logoutBtn'),A=sap.ui.getCore().byId('aboutBtn')||new sap.ushell.ui.footerbar.AboutButton('aboutBtn');if(!U){U=new sap.ushell.ui.footerbar.UserPreferencesButton('userPreferencesButton');this._setUserPrefModel();}jQuery.sap.require('sap.ushell.ui.footerbar.ContactSupportButton');jQuery.sap.require('sap.ushell.ui.footerbar.EndUserFeedback');e=new sap.ushell.ui.footerbar.ContactSupportButton('ContactSupportBtn',{visible:this.bContactSupportEnabled});g=m.getProperty('/showEndUserFeedback');if(g){E=sap.ui.getCore().byId('EndUserFeedbackBtn')||new sap.ushell.ui.footerbar.EndUserFeedback('EndUserFeedbackBtn',{showAnonymous:this.oEndUserFeedbackConfiguration.showAnonymous,anonymousByDefault:this.oEndUserFeedbackConfiguration.anonymousByDefault,showLegalAgreement:this.oEndUserFeedbackConfiguration.showLegalAgreement,showCustomUIContent:this.oEndUserFeedbackConfiguration.showCustomUIContent,feedbackDialogTitle:this.oEndUserFeedbackConfiguration.feedbackDialogTitle,textAreaPlaceholder:this.oEndUserFeedbackConfiguration.textAreaPlaceholder,customUIContent:this.oEndUserFeedbackConfiguration.customUIContent});}if(m.getProperty('/enableHelp')){U.addStyleClass('help-id-loginDetails');l.addStyleClass('help-id-logoutBtn');A.addStyleClass('help-id-aboutBtn');if(g){E.addStyleClass('help-id-EndUserFeedbackBtn');}e.addStyleClass('help-id-contactSupportBtn');}this.getView().aDanglingControls.push(e,U,l,A);if(g){this.getView().aDanglingControls.push(E);}},_isCompactContentDensity:function(){var i,U,g;if(!sap.ui.Device.support.touch){i=true;}else if(!sap.ui.Device.system.combi){i=false;}else{try{g=sap.ushell.Container.getService('UserInfo');U=g.getUser();}catch(e){jQuery.sap.log.error('Getting UserInfo service failed.');U=sap.ushell.Container.getUser();}i=(U.getContentDensity()==='compact')?true:false;}return i;},_applyContentDensity:function(i){if(!this.getModel().getProperty('/contentDensity')){return;}if(i===undefined){i=this._isCompactContentDensity();}var e=sap.ushell.services.AppConfiguration.getMetadata();if(i&&!e.compactContentDensity){i=false;}else if(e.compactContentDensity&&!e.cozyContentDensity){i=true;}if(i){jQuery('body').removeClass('sapUiSizeCozy');jQuery('body').addClass('sapUiSizeCompact');}else{jQuery('body').removeClass('sapUiSizeCompact');jQuery('body').addClass('sapUiSizeCozy');}},toggleContentDensity:function(e,E,D){var i=D.contentDensity==='compact';this._applyContentDensity(i);},checkEUFeedback:function(){if(!this.bFeedbackServiceChecked){this.bFeedbackServiceChecked=true;try{sap.ushell.Container.getService('EndUserFeedback').isEnabled().done(function(){m.setProperty('/showEndUserFeedback',true);}).fail(function(){m.setProperty('/showEndUserFeedback',false);});}catch(e){jQuery.sap.log.error('EndUserFeedback adapter is not found',e.message||e);m.setProperty('/showEndUserFeedback',false);}}},loadMeAreaView:function(){if(!sap.ui.getCore().byId('meArea')&&!this.bMeAreaLoaded&&o.enableMeArea){this.bMeAreaLoaded=true;var M=sap.ui.view('meArea',{viewName:'sap.ushell.renderers.fiori2.meArea.MeArea',type:'JS',viewData:this.getView().getViewData()});this.oViewPortContainer.addLeftViewPort(M);this.oViewPortContainer.navTo('leftViewPort',M.getId());this._createActionButtons();}},notificationsCountUpdateCallback:function(){sap.ushell.Container.getService('Notifications').getUnseenNotificationsCount().done(function(N){setTimeout(function(){var e=parseInt(N,10);m.setProperty('/notificationsCount',e);},500);}).fail(function(e){jQuery.sap.log.error('Shell.controller - call to notificationsService.getCount failed: ',e,'sap.ushell.renderers.lean.Shell');});},_handleEmptyHash:function(h){h=(typeof h==='string')?h:'';h=h.split('?')[0];if(h.length===0){var v=this.getView()?this.getView().getViewData():{};o=v.config||{};if(o.migrationConfig){return this.oShellNavigation.NavigationFilterStatus.Continue;}if(o.rootIntent){setTimeout(function(){hasher.setHash(o.rootIntent);},0);return this.oShellNavigation.NavigationFilterStatus.Abandon;}}return this.oShellNavigation.NavigationFilterStatus.Continue;},_setConfigurationToModel:function(){var v=this.getView().getViewData(),e,g;if(v){o=v.config||{};}if(o){if(o.states){g=m.getProperty('/states');for(e in o.states){if(o.states.hasOwnProperty(e)){g[e]=o.states[e];}}m.setProperty('/states',g);}if(o.appState==='headerless'){m.setProperty('/personalization',false);m.setProperty('/states/home/headerVisible',false);o.enablePersonalization=false;}else if(o.enablePersonalization!==undefined){m.setProperty('/personalization',o.enablePersonalization);}if(o.changeEndUserFeedbackTitle!==undefined){this.oEndUserFeedbackConfiguration.feedbackDialogTitle=o.changeEndUserFeedbackTitle;}if(o.changeEndUserFeedbackPlaceholder!==undefined){this.oEndUserFeedbackConfiguration.textAreaPlaceholder=o.changeEndUserFeedbackPlaceholder;}if(o.showEndUserFeedbackAnonymousCheckbox!==undefined){this.oEndUserFeedbackConfiguration.showAnonymous=o.showEndUserFeedbackAnonymousCheckbox;}if(o.makeEndUserFeedbackAnonymousByDefault!==undefined){this.oEndUserFeedbackConfiguration.anonymousByDefault=o.makeEndUserFeedbackAnonymousByDefault;}if(o.showEndUserFeedbackLegalAgreement!==undefined){this.oEndUserFeedbackConfiguration.showLegalAgreement=o.showEndUserFeedbackLegalAgreement;}if(o.enableSetTheme!==undefined){m.setProperty('/setTheme',o.enableSetTheme);}if(o.enableContentDensity!==undefined){m.setProperty('/contentDensity',o.enableContentDensity);}if(o.title){m.setProperty('/title',o.title);}if(o.migrationConfig!==undefined){m.setProperty('/migrationConfig',o.migrationConfig);}if(o.enableUserDefaultParameters!==undefined){m.setProperty('/userDefaultParameters',o.enableUserDefaultParameters);}if(o.disableHomeAppCache!==undefined){m.setProperty('/disableHomeAppCache',o.disableHomeAppCache);}if(o.enableMeArea!==undefined){m.setProperty('/enableMeArea',o.enableMeArea);}m.setProperty('/enableHelp',!!o.enableHelp);m.setProperty('/searchAvailable',(o.enableSearch!==false));if(o.enableMergeAppAndShellHeaders){this._updateShellProperty('headerHiding',false,false,['home','app']);}}},getModelConfiguration:function(){var v=this.getView().getViewData(),e,S;if(v){e=v.config||{};S=jQuery.extend({},e);}delete S.applications;return S;},_getLogonFrameProvider:function(){var v=this.getView();return{create:function(){return v.createIFrameDialog();},show:function(){v.showIFrameDialog();},destroy:function(){v.destroyIFrameDialog();}};},onExit:function(){sap.ui.getCore().getEventBus().unsubscribe('externalSearch',this.externalSearchTriggered,this);sap.ui.getCore().getEventBus().unsubscribe('contentRendered',this._loadCoreExt,this);sap.ui.getCore().getEventBus().unsubscribe('appOpened',this.loadUserImage,this);sap.ui.getCore().getEventBus().unsubscribe('coreExtLoaded',this.checkEUFeedback,this);sap.ui.getCore().getEventBus().unsubscribe('coreExtLoaded',this.loadMeAreaView,this);sap.ui.getCore().getEventBus().unsubscribe('appOpened',this.checkEUFeedback,this);sap.ui.getCore().getEventBus().unsubscribe('appOpened',this.delayedCloseLoadingScreen,this);sap.ui.getCore().getEventBus().unsubscribe('toggleContentDensity',this.toggleContentDensity,this);sap.ui.getCore().getEventBus().unsubscribe('appOpened',this._loadCoreExtNWBC,this);sap.ui.getCore().getEventBus().unsubscribe('onNewNotifications',this._handleAlerts,this);sap.ui.getCore().getEventBus().unsubscribe('appClosed',this.logApplicationUsage,this);this.oShellNavigation.hashChanger.destroy();this.getView().aDanglingControls.forEach(function(e){if(e.destroyContent){e.destroyContent();}e.destroy();});sap.ushell.UserActivityLog.deactivate();if(sap.ushell.Container){if(sap.ushell.Container.getService('Notifications').isEnabled()===true){sap.ushell.Container.getService('Notifications').destroy();}}},getAnimationType:function(){return'show';},onCurtainClose:function(e){jQuery.sap.log.warning('Closing Curtain',e);},handleDataLoss:function(e,g){if(!a){a=true;this.closeLoadingScreen();return this.oShellNavigation.NavigationFilterStatus.Custom;}if(sap.ushell.Container.getDirtyFlag()){if(!sap.ushell.resources.browserI18n){sap.ushell.resources.browserI18n=sap.ushell.resources.getTranslationModel(window.navigator.language).getResourceBundle();}if(confirm(sap.ushell.resources.browserI18n.getText('dataLossInternalMessage'))){sap.ushell.Container.setDirtyFlag(false);return this.oShellNavigation.NavigationFilterStatus.Continue;}a=false;hasher.setHash(g);return this.oShellNavigation.NavigationFilterStatus.Custom;}return this.oShellNavigation.NavigationFilterStatus.Continue;},doShowMessage:function(t,M,p){jQuery.sap.require('sap.m.MessageToast');jQuery.sap.require('sap.m.MessageBox');if(t===sap.ushell.services.Message.Type.ERROR){if(sap.ushell.Container.getService('SupportTicket').isEnabled()&&M!==sap.ushell.resources.i18n.getText('supportTicketCreationFailed')){try{jQuery.sap.require('sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage');var g=new sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage('EmbeddedSupportErrorMessage',{title:p.title||sap.ushell.resources.i18n.getText('error'),content:new sap.m.Text({text:M})});g.open();}catch(e){sap.m.MessageBox.show(M,sap.m.MessageBox.Icon.ERROR,p.title||sap.ushell.resources.i18n.getText('error'));}}else{sap.m.MessageBox.show(M,sap.m.MessageBox.Icon.ERROR,p.title||sap.ushell.resources.i18n.getText('error'));}}else if(t===sap.ushell.services.Message.Type.CONFIRM){if(p.actions){sap.m.MessageBox.show(M,sap.m.MessageBox.Icon.QUESTION,p.title,p.actions,p.callback);}else{sap.m.MessageBox.confirm(M,p.callback,p.title);}}else{sap.m.MessageToast.show(M,{duration:p.duration||3000});}},_isColdStart:function(){if(this.history.getHistoryLength()<=1){return true;}this._isColdStart=function(){return false;};return false;},_logRecentActivity:function(r){if(o&&o.enableRecentActivity){setTimeout(function(){if(sap.ushell.Container){sap.ushell.services.AppConfiguration.addActivity(r);}},700);}},_logOpenAppAction:function(F){if(o&&o.enableTilesOpacity){setTimeout(function(){if(sap.ushell.Container){u.addAppUsage(F);}},700);}},doHashChange:function(S,A,O,e,p){var t=this,i,F;sap.ushell.utils.addTime('ShellControllerHashChange');this.lastApplicationFullHash=e?O+e:O;if(!a){a=true;this.closeLoadingScreen();return;}if(p){this.hashChangeFailure(this.history.getHistoryLength(),p.message,null,'sap.ushell.renderers.fiori2.Shell.controller',false);return;}if(sap.m.InstanceManager&&c){sap.m.InstanceManager.closeAllDialogs();sap.m.InstanceManager.closeAllPopovers();}c=true;this.openLoadingScreen();if(sap.ushell.utils.getParameterValueBoolean('sap-ushell-no-ls')){this.closeLoadingScreen();}i=this.history.getHistoryLength();F=this.fixShellHash(S);this.history.hashChange(F,O);this.currentAppBeforeNav=sap.ushell.services.AppConfiguration.getCurrentAppliction();this._resolveHashFragment(F).done(function(r,P){var I=P?P.semanticObject+'-'+P.action:'',o=t._getConfig(),E,T=r&&r.ui5ComponentName,g=!!T,h=r&&r.componentHandle;if(t.getModel().getProperty('/migrationConfig')){o.migrationConfig=false;t.getModel().setProperty('/migrationConfig',false);if(r&&F==='#'){o.rootIntent='';}else if(F==='#'){setTimeout(function(){hasher.setHash(o.rootIntent);},0);return;}}if(h){t._initiateApplication(r,F,P,i);return;}if(!g){t._initiateApplication(r,F,P,i);return;}if(o&&o.applications&&o.applications[I]){r.applicationConfiguration=o.applications[I];}E=t._getExistingAppAndDestroyIfNotRoot(I);if(E){t._initiateApplication(r,F,P,i);return;}else{sap.ui.getCore().getEventBus().publish('sap.ushell.components.container.ApplicationContainer','_prior.newUI5ComponentInstantion',{name:T});sap.ushell.Container.getService('Ui5ComponentLoader').createComponent(r,P,t._createWaitForRendererCreatedPromise()).done(function(R){t._initiateApplication(r,F,P,i);}).fail(function(v){t.hashChangeFailure(i,'Failed to load U5 component for navigation intent '+F,v,'sap.ushell.renderers.fiori2.Shell.controller',false);});}}).fail(function(M){t.hashChangeFailure(i,'Failed to resolve navigation target: '+F,M,'sap.ushell.renderers.fiori2.Shell.controller',false);});},_initiateApplication:function(r,F,p,O){var M=sap.ushell.services.AppConfiguration.getMetadata(r);if(this.bContactSupportEnabled){sap.ushell.UserActivityLog.activate();}this._logOpenAppAction(F);try{this.navigate(p,F,M,r);}catch(e){if(e.stack){jQuery.sap.log.error('Application initialization failed due to an Exception:\\n'+e.stack);}this.hashChangeFailure(O,e.name,e.message,M?M.title:'',false);}finally{if(r&&r.coreResourcesFullyLoaded&&!this._pluginLoadingTriggered){this._pluginLoadingTriggered=true;jQuery.sap.log.info(\"Triggering load of 'RendererExtension' plug-ins after application initialization\",null,'sap.ushell.renderers.fiori2.Shell');sap.ushell.Container.getService('PluginManager').loadPlugins('RendererExtensions');}}},_resolveHashFragment:function(S){var r,p,P=sap.ushell.Container.getService('URLParsing').parseShellHash(S),D=new jQuery.Deferred();p=P&&P.params||{};if(P&&P.contextRaw&&P.contextRaw==='navResCtx'&&p&&p.additionalInformation&&(p.additionalInformation[0]||p.additionalInformation[0]==='')&&p.applicationType&&p.applicationType[0]&&p.url&&p.url[0]&&p.navigationMode&&(p.navigationMode[0]||p.additionalInformation[0]==='')){p=P.params||{};r={additionalInformation:p.additionalInformation[0],applicationType:p.applicationType[0],url:p.url[0],navigationMode:p.navigationMode[0]};if(p.title){r.text=p.title[0];}D.resolve(r,P);}else{if(window['sap-ushell-async-libs-promise-directstart']){window['sap-ushell-async-libs-promise-directstart'].then(function(e){D.resolve(e.resolvedHashFragment,P);delete window['sap-ushell-async-libs-promise-directstart'];},function(M){D.reject(M);delete window['sap-ushell-async-libs-promise-directstart'];});return D.promise();}sap.ushell.Container.getService('NavTargetResolution').resolveHashFragment(S).done(function(r){D.resolve(r,P);}).fail(function(M){D.reject(M);});}return D.promise();},_handleConditionalNavigation:function(p,F,M,r){var N=r.navigationMode;if(N===n.newWindowThenEmbedded){if(this._isColdStart()||(p.contextRaw&&p.contextRaw==='navResCtx')||this.history.backwards){r.navigationMode=n.embedded;this.navigate(p,F,M,r);}else{r.navigationMode=n.newWindow;r.url=encodeURI(F);this.navigate(p,F,M,r);}return true;}if(N===n.newWindow&&this._isColdStart()){r.navigationMode=n.replace;this.navigate(p,F,M,r);return true;}return false;},navigate:function(p,F,M,r){var N=(jQuery.isPlainObject(r)?r.navigationMode:null),U,E;if(N===null){if(this._isColdStart()){hasher.setHash('');return;}a=false;this.history.pop();this._windowHistoryBack(1);return;}if(sap.ushell.utils.isNativeWebGuiNavigation(r)){try{U=sap.ushell.utils.appendUserIdToUrl('sap-user',r.url);E=window.external.getPrivateEpcm();E.doNavigate(U);a=false;this.closeLoadingScreen();this._windowHistoryBack(1);sap.ushell.services.AppConfiguration.setCurrentApplication(this.currentAppBeforeNav);}catch(e){if(e.stack){jQuery.sap.log.error('Application initialization failed due to an Exception:\\n'+e.stack);}this.hashChangeFailure(this.history.getHistoryLength(),e.name,e.message,M.title,false);}return;}if(this._handleConditionalNavigation.apply(this,arguments)){return;}if(N===n.embedded){this._handleEmbeddedNavMode(F,p,M,r);if(p&&p.contextRaw==='navResCtx'){a=false;if(p&&p.params&&p.params.original_intent&&p.params.original_intent[0]){hasher.replaceHash(p.params.original_intent[0]);this.history._history[0]=p.params.original_intent[0];}}return;}if(N===n.replace){a=false;this._changeWindowLocation(r.url);return;}if(N===n.newWindow){a=false;this._openAppNewWindow(r.url);this.history.pop();var v=r.componentHandle&&r.componentHandle.getInstance&&r.componentHandle.getInstance({});if(v){v.destroy();}this._windowHistoryBack(1);sap.ushell.services.AppConfiguration.setCurrentApplication(this.currentAppBeforeNav);return;}this.hashChangeFailure(this.history.getHistoryLength(),'Navigation mode is not recognized',null,'sap.ushell.renderers.fiori2.Shell.controller',false);},_handleEmbeddedNavMode:function(F,p,M,r){var A,i,l,I,h=sap.ui.getCore().byId('homeBtn'),e;this.resetShellUIServiceHandlers();this.setAppIcons(M);A='-'+p.semanticObject+'-'+p.action;l=(r.applicationType==='NWBC'||r.applicationType==='TR');I=F==='#'||(o.rootIntent&&o.rootIntent===p.semanticObject+'-'+p.action);if(I&&!this.oHomeApp&&!o.disableHomeAppCache){this._saveHomePageComponent();}e=p?p.semanticObject+'-'+p.action:'';if(l&&!r.explicitNavMode){if(r.applicationType==='NWBC'&&o.appState&&o.appState==='headerless'){this.switchViewState('headerless');}else{this.switchViewState('minimal');}}else if(I){this.switchViewState('home');if(!o.enableMergeAppAndShellHeaders){if(h){h.setEnabled(false);}}}else{this.switchViewState(f.indexOf(o.appState)>=0?o.appState:'app');if(!o.enableMergeAppAndShellHeaders){if(h){h.setEnabled(true);}}}i=this.getWrappedApplication(e,M,r,A,r.fullWidth||M.fullWidth||l);if(I&&!o.disableHomeAppCache){if(!this.oViewPortContainer.getInitialCenterViewPort()){this.oViewPortContainer.setInitialCenterViewPort(i);}}this.oViewPortContainer.navTo('centerViewPort',i.getId(),'show');this.oViewPortContainer.switchState('Center');},_getExistingAppAndDestroyIfNotRoot:function(i){var e;e=this.oViewPortContainer&&(this.oViewPortContainer.getViewPortControl('centerViewPort','application'+'-'+i)||this.oViewPortContainer.getViewPortControl('centerViewPort','applicationShellPage'+'-'+i));if(e&&i!==o.rootIntent){this.oViewPortContainer.removeCenterViewPort(e.getId(),true);e.destroy();return null;}else if(e){return e;}},getWrappedApplication:function(i,M,r,A,F){var I,e,g,t=this;e=this._getExistingAppAndDestroyIfNotRoot(i,A);if(e){if(this&&this.closeLoadingScreen){this.closeLoadingScreen();}return e;}jQuery.sap.require('sap.ushell.components.container.ApplicationContainer');setTimeout(function(){setTimeout(function(){sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell();setTimeout(function(){t.readNavigationEnd();},1000);},100);sap.ui.getCore().getEventBus().publish('launchpad','appOpening',r);jQuery.sap.log.info('app is being opened');},0);if(o.applications){r.applicationConfiguration=o.applications[i];}g=this._getAppContainer(A,r);if(r&&r.componentHandle){delete r.componentHandle;}this.publishNavigationStateEvents(g,r);if(F){if(!M.hideLightBackground){g.addStyleClass('sapMShellGlobalInnerBackground');}I=g;}else{jQuery.sap.require('sap.m.Shell');I=new sap.m.Shell('applicationShellPage'+A,{logo:sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'),title:M.title,showLogout:false,app:g}).addStyleClass('sapUshellApplicationPage');if(!M.title){I.addStyleClass('sapUshellApplicationPageNoHdr');}}this._applyContentDensity();g.onfocusin=function(){sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusPassedToExternalHandlerFirstTime=false;};g.onfocusout=function(){sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=true;sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusPassedToExternalHandlerFirstTime=true;};this.oViewPortContainer.addCenterViewPort(I);setTimeout(function(){if(this&&this.closeLoadingScreen){this.closeLoadingScreen();}},0);return I;},resetShellUIServiceHandlers:function(){this.isHierarchyChanged=false;this.isTitleChanged=false;this.isRelatedAppsChanged=false;},onAppAfterRendering:function(A){setTimeout(function(){sap.ui.getCore().getEventBus().publish('launchpad','appOpened',A);jQuery.sap.log.info('app was opened');},0);sap.ushell.renderers.fiori2.utils.publishExternalEvent('appOpened',A);if(this.oShellUIService){if(!this.isHierarchyChanged){this.oShellUIService.setHierarchy();}if(!this.isTitleChanged){this.oShellUIService.setTitle();}if(!this.isRelatedAppsChanged){this.oShellUIService.setRelatedApps();}}},_getAppContainer:function(A,r){if(o.enableMergeAppAndShellHeaders===true){r.shellUIService=this.oShellUIService.getInterface();}return new sap.ushell.components.container.ApplicationContainer('application'+A,r);},_saveHomePageComponent:function(){if(this.oHomeApp){return;}var t=this,e='sap.ushell.components.container.ApplicationContainer',l=function(E,g,D){t.oHomeApp=D.component;sap.ui.getCore().getEventBus().unsubscribe(e,'componentCreated',l);};sap.ui.getCore().getEventBus().subscribe(e,'componentCreated',l);},hashChangeFailure:function(h,M,D,e,E){this.reportError(M,D,e);this.closeLoadingScreen();this.delayedMessageError(sap.ushell.resources.i18n.getText('fail_to_start_app_try_later'));c=false;if(h===0){hasher.setHash('');}else{if(jQuery.sap.getUriParameters().get('bFallbackToShellHome')){hasher.setHash('');}else{a=E;this._windowHistoryBack(1);}}},reportError:function(M,D,e){jQuery.sap.log.error(M,D,e);},delayedMessageError:function(M){setTimeout(function(){if(sap.ushell.Container!==undefined){sap.ushell.Container.getService('Message').error(M);}},0);},fixShellHash:function(S){if(!S){S='#';}else if(S.charAt(0)!=='#'){S='#'+S;}return S;},publishNavigationStateEvents:function(A,e){var g,i=A.getId?A.getId():'',t=this;var h=sap.ushell.services.AppConfiguration.getMetadata(),I=h.icon,T=h.title;A.addEventDelegate({onAfterRendering:this.onAppAfterRendering.bind(this,e)});g=A.exit;A.exit=function(){if(g){g.apply(this,arguments);}t._applyContentDensity();setTimeout(function(){e['appId']=i;e['usageIcon']=I;e['usageTitle']=T;sap.ui.getCore().getEventBus().publish('launchpad','appClosed',e);jQuery.sap.log.info('app was closed');},0);sap.ushell.renderers.fiori2.utils.publishExternalEvent('appClosed',e);};},_openAppNewWindow:function(U){var e=window.open(U);if(!e){var g=sap.ushell.resources.i18n.getText('fail_to_start_app_popup_blocker',[window.location.hostname]);this.delayedMessageError(g);}},_windowHistoryBack:function(S){window.history.back(S);},_changeWindowLocation:function(U){window.location.href=U;},setAppIcons:function(M){var e=jQuery.sap.getModulePath('sap.ushell'),l=(M&&M.homeScreenIconPhone)||(e+'/themes/base/img/launchicons/57_iPhone_Desktop_Launch.png'),L=(M&&M['homeScreenIconPhone@2'])||(e+'/themes/base/img/launchicons/114_iPhone-Retina_Web_Clip.png'),g=(M&&M.homeScreenIconTablet)||(e+'/themes/base/img/launchicons/72_iPad_Desktop_Launch.png'),h=(M&&M['homeScreenIconTablet@2'])||(e+'/themes/base/img/launchicons/144_iPad_Retina_Web_Clip.png'),F=(M&&M.favIcon)||(e+'/themes/base/img/launchpad_favicon.ico'),t=(M&&M.title)||'',i=this.getFavIconHref();if(sap.ui.Device.os.ios){jQuery.sap.setIcons({'phone':l,'phone@2':L,'tablet':g,'tablet@2':h,'favicon':F,'precomposed':true});}else if(i!==F){jQuery.sap.setIcons({'phone':'','phone@2':'','tablet':'','tablet@2':'','favicon':F,'precomposed':true});}window.document.title=t;},handleEndItemsOverflow:function(p){var e=this.getModel().getProperty('/currentState/headEndItems');if(p.name==='Desktop'&&e.indexOf('endItemsOverflowBtn')>-1){this.removeHeaderEndItem(['endItemsOverflowBtn'],false,['home','app']);var P=sap.ui.getCore().byId('headEndItemsOverflow');if(P){P.destroy();}}else if(p.name!=='Desktop'&&e.indexOf('endItemsOverflowBtn')===-1){this.addHeaderEndItem(['endItemsOverflowBtn'],false,['home','app']);}},isHeadEndItemOverflow:function(){var e=this.getModel().getProperty('/currentState/headEndItems');if(e.indexOf('endItemsOverflowBtn')===-1){return false;}else{return e.length>3;}},isHeadEndItemInOverflow:function(B){return B!=='ENDITEMSOVERFLOWBTN'&&!this.isHeadEndItemNotInOverflow(B);},isHeadEndItemNotInOverflow:function(B){if(this.isHeadEndItemOverflow()){if(B==='NOTIFICATIONSCOUNTBUTTON'||B==='ENDITEMSOVERFLOWBTN'){return true;}else{return false;}}else{if(B==='ENDITEMSOVERFLOWBTN'){return false;}else{return true;}}},pressEndItemsOverflow:function(e){if(!sap.ui.Device.system.desktop){var g=m.getProperty('/currentState').headerHiding;if(g){m.setProperty('/currentState/headerHiding',false);}}var p=sap.ui.getCore().byId('headEndItemsOverflow');function h(){p.close();}var i;if(p){i=p.getContent()[0];}else{var F=new sap.ui.model.Filter('','EQ','a');F.fnTest=this.isHeadEndItemInOverflow.bind(this);i=new sap.ui.layout.VerticalLayout({content:{path:'/currentState/headEndItems',filters:[F],factory:function(I,j){var k=sap.ui.getCore().byId(j.getObject());k.detachPress(h);k.attachPress(h);return k;}}});p=new sap.m.Popover('headEndItemsOverflow',{placement:sap.m.PlacementType.Bottom,showHeader:false,content:i});i.updateAggregation=this.getView().updateShellAggregation;p.setModel(m);this.getView().aDanglingControls.push(p);p.attachAfterClose(p,function(){if(!sap.ui.Device.system.desktop){if(g){m.setProperty('/currentState/headerHiding',g);}}});}if(p.isOpen()){p.close();}else{i.updateAggregation('content');p.openBy(e.getSource());}},getFavIconHref:function(){return jQuery('link').filter('[rel=\"shortcut icon\"]').attr('href')||'';},externalSearchTriggered:function(e,E,D){m.setProperty('/searchTerm',D.searchTerm);D.query=D.searchTerm;},onAfterNavigate:function(e){this.closeLoadingScreen();var h=this.oViewPortContainer.getInitialCenterViewPort(),F=e.getParameter('fromId'),g=e.getParameter('from');if(F&&F!==h){this.oViewPortContainer.removeCenterViewPort(F,true);g.destroy();}sap.ushell.utils.addTime('ShellController.onAfterNavigate');if(e.mParameters&&e.mParameters.toId===h){sap.ui.getCore().byId('configBtn').focus();if(this.oHomeApp&&this.oHomeApp.setInitialConfiguration){this.oHomeApp.setInitialConfiguration();}}},logApplicationUsage:function(e,N,A){if(o&&o.enableRecentActivity){var t=A.usageTitle,i=A.usageIcon,g='Application',I=A.appId,h=I,U=this.lastApplicationFullHash;if(I.indexOf('-')>0){h=I.substr(I.indexOf('-')+1);}this._logRecentActivity({icon:i,title:t,appType:g,appId:'#'+h,url:'#'+U});}},openLoadingScreen:function(){if(this.oApplicationLoadingScreen){this.oApplicationLoadingScreen.openLoadingScreen();}},closeLoadingScreen:function(){if(this.oApplicationLoadingScreen){this.oApplicationLoadingScreen.closeLoadingScreen();}},readNavigationEnd:function(){var A=document.getElementById('sapUshellLoadingAccessibilityHelper-loadingComplete');if(A){A.setAttribute('aria-live','polite');A.innerHTML=sap.ushell.resources.i18n.getText('loadingComplete');setTimeout(function(){A.setAttribute('aria-live','off');A.innerHTML='';},0);}},delayedCloseLoadingScreen:function(){setTimeout(function(){this.closeLoadingScreen();}.bind(this),600);},togglePane:function(e){var S=e.getSource(),g=S.getSelected();sap.ui.getCore().getEventBus().publish('launchpad','togglePane',{currentContent:S.getModel().getProperty('/currentState/paneContent')});if(e.getParameter('id')==='categoriesBtn'){S.getModel().setProperty('/currentState/showCurtainPane',!g);}else{S.getModel().setProperty('/currentState/showPane',!g);}},toggleNotificationsView:function(e){var S=e.getSource(),g=S.getSelected(),N,h,i=sap.ui.getCore().byId('notifications-preview-container');if(!sap.ui.getCore().byId('notificationsView')){N=sap.ui.view('notificationsView',{viewName:'sap.ushell.renderers.fiori2.notifications.Notifications',type:'JS',viewData:{}});if(sap.ui.Device.system.desktop){N.removeStyleClass('sapUiSizeCozy');N.addStyleClass('sapUiSizeCompact');}this.oViewPortContainer.addRightViewPort(N);}if(g){this.oViewPortContainer.switchState('Center');}else{h=sap.ushell.Container.getService('Notifications');h.notificationsSeen();this.getView().getModel().setProperty('/notificationsCount',0);if(i){i.setFloatingContainerItemsVisiblity(false);var j=i.getFloatingContainerItems().length;setTimeout(function(){this.oViewPortContainer.navTo('rightViewPort','notificationsView','show');this.oViewPortContainer.switchState('RightCenter');sap.ui.getCore().getEventBus().publish('launchpad','notificationViewOpened');}.bind(this),300+(j*100));}else{this.oViewPortContainer.navTo('rightViewPort','notificationsView','show');this.oViewPortContainer.switchState('RightCenter');sap.ui.getCore().getEventBus().publish('launchpad','notificationViewOpened');}}h=sap.ushell.Container.getService('Notifications');h.notificationsSeen();this.getView().getModel().setProperty('/notificationsCount',0);},toggleMeAreaView:function(e){var S=e.getSource(),g=S.getSelected(),M;if(g){this.oViewPortContainer.switchState('Center');}else{this.oViewPortContainer.switchState('LeftCenter');if(!sap.ui.getCore().byId('meArea')&&!this.bMeAreaLoaded){this.bMeAreaLoaded=true;M=sap.ui.view('meArea',{viewName:'sap.ushell.renderers.fiori2.meArea.MeArea',type:'JS',viewData:this.getView().getViewData()});this.oViewPortContainer.addLeftViewPort(M);this.oViewPortContainer.navTo('leftViewPort',M.getId());this._createActionButtons();}}this.bMeAreaSelected=!g;this.validateShowLogo();this.handleHomeButtonVisibility();},onScreenSizeChange:function(p){this.validateShowLogo(p);this.handleHomeButtonVisibility(p);this.handleEndItemsOverflow(p);},handleHomeButtonVisibility:function(p){var e=sap.ui.Device.media.getCurrentRange(sap.ui.Device.media.RANGESETS.SAP_STANDARD).name,h=sap.ui.getCore().byId('homeBtn'),v=true,g=m.getProperty('/currentState');if(!h){return;}if((e==='Phone'&&this.bMeAreaSelected)||(e!=='Phone'&&g&&(g.stateName==='home'))){v=false;}h.setVisible(v);},validateShowLogo:function(p){var e;if(p){e=p.name;}else{e=sap.ui.Device.media.getCurrentRange(sap.ui.Device.media.RANGESETS.SAP_STANDARD).name;}var S=true;if(e==='Phone'&&!this.bMeAreaSelected){S=false;}this._setShowLogoProperty(S);},navigateFromShellApplicationNavigationMenu:function(i){this.oViewPortContainer.switchState('Center');hasher.setHash(i);var S=sap.ui.getCore().byId('shellAppTitle');if(S){S.close();}},loadUserImage:function(){if(!this.bUserImageAlreadyLoaded){this.getView().loadUserImage();this.bUserImageAlreadyLoaded=true;}},_loadCoreExtNWBC:function(S,e,A){if(A&&A.applicationType=='NWBC'){setTimeout(this._loadCoreExt,2000);}},_loadCoreExt:function(){var A=jQuery.sap.isDeclared('sap.fiori.core',true)||jQuery.sap.isDeclared('sap.fiori.core-ext-light',true),M=window['sap-ui-debug']?'sap/fiori/core-ext-light-dbg.js':'sap/fiori/core-ext-light.js',t=this;function l(){if(!t._pluginLoadingTriggered){t._pluginLoadingTriggered=true;jQuery.sap.log.info(\"Triggering load of 'RendererExtension' plug-ins after loading core-ext module (after home page content rendered)\",null,'sap.ushell.renderers.fiori2.Shell');sap.ushell.Container.getService('PluginManager').loadPlugins('RendererExtensions');}}if(A){l();return;}this.oCoreExtLoadingDeferred=new jQuery.Deferred();jQuery.sap._loadJSResourceAsync(M).then(function(){l();t.oCoreExtLoadingDeferred.resolve();t._publishCoreExtLoadedEvent();}).catch(function(){l();jQuery.sap.log.warning('failed to load sap.fiori.core-ext-light');t.oCoreExtLoadingDeferred.reject();});},_publishCoreExtLoadedEvent:function(){setTimeout(function(){sap.ui.getCore().getEventBus().publish('launchpad','coreExtLoaded');},0);},isFiori2:function(){return o.enableMergeAppAndShellHeaders;},addEntryInShellStates:function(e,g,A,r,S){var i,h;if(!b[e]){b[e]={fnAdd:A,fnHide:r};var j=this._getStatesList();for(i=0;i<j.length;i++){h=j[i];m.setProperty('/states/'+h+'/'+e,S[h]);}this['remove'+g]=r;this['add'+g]=A;}else{throw new Error('State entry already exsists:'+e);}},validStateEntry:function(N){return!!b[N];},removeCustomItems:function(S,i,e,g){if(this.validStateEntry(S)){this.validStateEntry(S).fnRemove(i,e,g);}else{throw new Error('Invalid state entry:'+S);}},addCustomItems:function(S,i,e,g){if(this.validStateEntry(S)){this.validStateEntry(S).fnAdd(i,e,g);}else{throw new Error('Invalid state entry:'+S);}},showRightFloatingContainer:function(S){this._showRightFloatingContainer(S);},setHeaderHiding:function(h){this._setHeaderHiding(h)},removeHeaderItem:function(i,e,S){this._removeShellItem('headItems',i,e,S);},removeToolAreaItem:function(i,e,S){this._removeShellItem('toolAreaItems',i,e,S);},removeHeaderEndItem:function(i,e,S){this._removeShellItem('headEndItems',i,e,S);},removeRightFloatingContainerItem:function(i,e,S){this._removeShellItem('RightFloatingContainerItems',i,e,S);},removeSubHeader:function(i,e,S){this._removeShellItem('subHeader',i,e,S);},removeActionButton:function(i,e,S){this._removeShellItem('actions',i,e,S);},removeLeftPaneContent:function(i,e,S){this._removeShellItem('paneContent',i,e,S);},removeFloatingActionButton:function(i,e,S){this._removeShellItem('floatingActions',i,e,S);},applyExtendedShellState:function(S){this.extendedShellState=S;this.renderShellState();},renderShellState:function(){var B=m.getProperty('/currentState/stateName'),p=B[0]==='/'?B:'/states/'+B,t,T,S=jQuery.extend(true,{},{},m.getProperty(p)),e=this.oExtensionShellStates[B],g=e.customShellState.getProperty('/currentState');var h=new sap.ui.model.json.JSONModel({'currentState':jQuery.extend(true,{},{},S)});s=h;this.bUpdateCustom=false;if(this.extendedShellState){t=e.extendedShellStates[this.extendedShellState].customState;T=t.getProperty('/currentState');this.addCustomShellStates(T);}this.addCustomShellStates(g);s=m;m.setProperty('/currentState',h.getProperty('/currentState'));this.bUpdateCustom=true;h.destroy();},addCustomShellStates:function(t){this.addHeaderItem(t.headItems,true);this.addToolAreaItem(t.toolAreaItems,true);this.addHeaderEndItem(t.headEndItems,true);this.addSubHeader(t.subHeader,true);this.addActionButton(t.actions,true,undefined,false);this.addLeftPaneContent(t.paneContent,true);this.addFloatingActionButton(t.floatingActions,true);this.setCurrentApplicationInformation(t.application);this.showRightFloatingContainer(t.showRightFloatingContainer);this.setHeaderHiding(t.headerHiding);this.setHeaderVisibility(t.headerVisible,true);},createCustomShellState:function(S){return new sap.ui.model.json.JSONModel({'currentState':{'stateName':S,'headEndItems':[],'paneContent':[],'headItems':[],'actions':[],'floatingActions':[],'subHeader':[],'toolAreaItems':[],'RightFloatingContainerItems':[],'application':{},'showRightFloatingContainer':true,'headerHiding':undefined}});},createExtendedShellState:function(S,e){var B=m.getProperty('/currentState/stateName'),g,h=this.createCustomShellState(S);if(!this.oExtensionShellStates[B]){this.oExtensionShellStates[B]={extendedShellStates:{},customShellState:this.createCustomShellState('custom')};}g=this.oExtensionShellStates[B].extendedShellStates;if(g[S]){return false;}s=h;e();if(g[S]){g[S].customState=h;}else{g[S]={managedObjects:[],customState:h};}s=m;return true;},getCurrentViewportState:function(){var m=this.getModel(),v=m.getProperty('/currentViewPortState');return v;},addHeaderItem:function(i,e,S){if(i.length){this._addUpToThreeItem('headItems',i,e,S);}},addToolAreaItem:function(i,e,S){if(i.length){this._addToolAreaItem('toolAreaItems',i,e,S);}},addRightFloatingContainerItem:function(i,e,S){if(i.length){this._addRightFloatingContainerItem('RightFloatingContainerItems',i,e,S);}},addHeaderEndItem:function(i,e,S){if(i.length){this._addUpToThreeItem('headEndItems',i,e,S);}},addSubHeader:function(i,e,S){if(i.length){this._addShellItem('subHeader',i,e,S);}},addActionButton:function(i,e,S,I){if(i.length){if(I){this._addActionButtonAtStart('actions',i,e,S);}else{this._addActionButton('actions',i,e,S);}}},addLeftPaneContent:function(i,e,S){if(i.length){this._addShellItem('paneContent',i,e,S);}},addFloatingActionButton:function(i,e,S){if(i.length){this._addShellItem('floatingActions',i,e,S);}},setCurrentApplicationInformation:function(A){if(!A){A={};}this._updateShellProperty('application',A,true);},_showRightFloatingContainer:function(S){var v=function(A,i,e){return true;},U=function(e,V,g){g.setProperty(e,V);};this._setShellItem('showRightFloatingContainer',S,true,[],v,U);},_setShowLogoProperty:function(v){var V=function(A,i,S){return true;},U=function(e,v,g){g.setProperty(e,v);};this._setShellItem('showLogo',v,false,['home','app'],V,U);},_addActionButtonAtStart:function(p,i,e,S){var v=function(A,i,g){return true;},U=function(g,I,h){var A=h.getProperty(g),j=I.slice(0);h.setProperty(g,j.concat(A));};this._setShellItem(p,i,e,S,v,U);},_addActionButton:function(p,i,e,S){var v=function(A,i,g){return true;},U=function(g,I,h){var A=h.getProperty(g);var l=A.indexOf('logoutBtn');if(l>-1){A.splice.apply(A,[l,0].concat(I));}else{A=A.concat(I);}h.setProperty(g,A);};this._setShellItem(p,i,e,S,v,U);},_makeEndUserFeedbackAnonymousByDefault:function(e){this.oEndUserFeedbackConfiguration.anonymousByDefault=e;},_showEndUserFeedbackLegalAgreement:function(S){this.oEndUserFeedbackConfiguration.showLegalAgreement=S;},_setFloatingContainerDragSelector:function(e){if(this.oFloatingUIActions){this.oFloatingUIActions.delete();}this.oFloatingUIActions=new sap.ushell.UIActions({containerSelector:'#shell',wrapperSelector:'.sapUshellShellFloatingContainerWrapper',draggableSelector:'.sapUshellShellFloatingContainerWrapper',rootSelector:'#shell',cloneClass:'sapUshellFloatingContainer-clone',dragCallback:this._handleFloatingContainerUIStart.bind(this),endCallback:this._handleFloatingContainerDrop.bind(this),moveTolerance:3,switchModeDelay:1000,isLayoutEngine:false,isTouch:false,elementToCapture:e,debug:jQuery.sap.debug()}).enable();},_setFloatingContainerContent:function(p,i,e,S){var v=function(I,i,k){return i.length===1;};var U=function(k,i){var I=m.getProperty(k),q=I.slice(0);m.setProperty(k,q.concat(i));};var g=document.querySelector('.sapUshellShellFloatingContainerWrapper'),h=jQuery.sap.storage(jQuery.sap.storage.Type.local,'com.sap.ushell.adapters.local.FloatingContainer');if(h.get('floatingContainerStyle')){g.setAttribute('style',h.get('floatingContainerStyle'));}else{var j=parseFloat(jQuery('body').css('font-size'));var l=jQuery(window).width()-jQuery('#shell-floatingContainer').width()-2*j;g.setAttribute('style','left:'+l/jQuery(window).width()+'%;top:0;position:absolute;');}this._setShellItem(p,i,e,S,v,U);},_handleFloatingContainerDrop:function(e,g,D){var h=document.querySelector('.sapUshellShellFloatingContainerWrapper'),i=jQuery.sap.storage(jQuery.sap.storage.Type.local,'com.sap.ushell.adapters.local.FloatingContainer'),w=jQuery(window).width(),W=jQuery(window).height(),p=D.deltaX/w,P=D.deltaY/W,O=h.style.visibility,j=h.style.display,k=parseFloat(h.style.left.replace('%','')),l=parseFloat(h.style.top.replace('%',''));h.style.visibility='hidden';h.style.display='block';if(k){p=k+100*D.deltaX/w;}if(l){P=l+100*D.deltaY/W;}h.setAttribute('style','left:'+p+'%;top:'+P+'%;position:absolute;');h.visibility=O;h.display=j;i.put('floatingContainerStyle',h.getAttribute('style'));},_handleFloatingContainerUIStart:function(g,h){var i=h;i.style.display='none';if(window.getSelection){var j=window.getSelection();try{j.removeAllRanges();}catch(e){}}},_setFloatingContainerVisibility:function(v){this.getView().getOUnifiedShell().setFloatingContainerVisible(v);},_getFloatingContainerVisibility:function(){return this.getView().getOUnifiedShell().getFloatingContainerVisible();},_getRightFloatingContainerVisibility:function(){var r=this.getView().getOUnifiedShell().getRightFloatingContainer(),R=r&&r.getVisible();return R;},_addUpToThreeItem:function(p,i,e,S){var v=function(I,g,h){var j=0,k,l;if(g.length===1&&g[0]==='endItemsOverflowBtn'){return true;}for(k=0;k<I.length;k++){l=I[k];if(l==='actionsBtn'){j+=2;}else if(l!=='endItemsOverflowBtn'){j++;}if(j+g.length>3){jQuery.sap.log.warning('maximum of three items has reached, cannot add more items.');return false;}}return true;},U=function(g,I,h){var j=h.getProperty(g),k=j.slice(0);if(k[k.length-1]==='NotificationsCountButton'){k.splice.apply(k,[k.length-1,0].concat(I));}else{k=k.concat(I);}h.setProperty(g,k);};this._setShellItem(p,i,e,S,v,U);},_addShellItem:function(p,i,e,S){var v=function(I,i,g){if(I.length>0){jQuery.sap.log.warning('You can only add one item. Replacing existing item: '+I[0]+' in state: '+g+', with the new item: '+i[0]+'.');}return true;},U=function(g,I,h){h.setProperty(g,i.slice(0));};this._setShellItem(p,i,e,S,v,U);},_updateShellProperty:function(p,v,e,S){var V=function(i,g,h){return g!=undefined;},U=function(g,v,h){h.setProperty(g,v);};this._setShellItem(p,v,e,S,V,U);},_addRightFloatingContainerItem:function(p,i,e,S){var v=function(){return true;},U=function(g,i,h){var I=h.getProperty(g);I.unshift(i);h.setProperty(g,I);};this._setShellItem(p,i,e,S,v,U);},_addToolAreaItem:function(p,i,e,S){var v=function(){return true;},U=function(h,i,j){var I=j.getProperty(h);I.push(i);j.setProperty(h,I);};var g,P=this._getPassStates(S);for(g=0;g<P.length;g++){this.showShellItem('/toolAreaVisible',P[g],true);}this._setShellItem(p,i,e,S,v,U);},_removeShellItem:function(p,i,e,S){var v=function(I,g){var l,i,h;for(h=0;h<g.length;h++){i=g[h];l=I.indexOf(i);if(l<0){jQuery.sap.log.warning('You cannot remove Item: '+i+', the headItem does not exists.');return false;}}return true;},U=function(g,I,h){var j=m.getProperty(g),l,i,k;for(k=0;k<I.length;k++){i=I[k];l=j.indexOf(i);if(l>-1){j.splice(l,1);}}h.setProperty(g,j);};this._setShellItem(p,i,e,S,v,U);},_setShellItem:function(p,I,e,S,v,U){var g,h,k=s;if(e===true){g='/currentState/'+p;h=k.getProperty(g);if(v(h,I,'currentState')===false){return;}U(g,I,k);if(s===m&&this.bUpdateCustom===true){U(g,I,C);}}else{var P=this._getPassStates(S),i,l=k.getProperty('/currentState/stateName');for(i=0;i<P.length;i++){var q=P[i],j;g='/states/'+q+'/'+p;h=k.getProperty(g);if(v(h,I,q)===false){return;}var M=this._getModelStates(q);for(j=0;j<M.length;j++){g='/states/'+M[j]+'/'+p;U(g,I,k);if(l===M[j]){if(this.bUpdateCustom){this.renderShellState();}}}}}},_getPassStates:function(S){var p=[],i;S=S||[];for(i=0;i<S.length;i++){if(S[i]!==undefined){if(S[i]!=='home'&&S[i]!=='app'){throw new Error('sLaunchpadState value is invalid');}p.push(S[i]);}}if(!p.length){p=['app','home'];}return p;},_getModelStates:function(S){var M=[];if(S==='app'){var e=['app','minimal','standalone','embedded','headerless'];M=M.concat(e);}else{M.push(S);}return M;},_getStatesList:function(){var S=m.getProperty('/states');return Object.keys(S);},showShellItem:function(p,S,v){var M,e,g=this._getModelStates(S),h=this.getModel().getData().states,j='/currentState'+p;for(var i=0;i<g.length;i++){e=h[g[i]];M='/states/'+e.stateName+p;s.setProperty(M,v);}if(s.getProperty('/currentState/stateName')===S){s.setProperty(j,v);}},_setHeaderTitle:function(t,i){if(typeof t!=='string'){throw new Error('sTitle type is invalid');}this.getView().getOUnifiedShell().getHeader().setTitleControl(t,i);},_setHeaderHiding:function(h){this._updateShellProperty('headerHiding',h,true);},addEndUserFeedbackCustomUI:function(e,S){if(e){this.oEndUserFeedbackConfiguration.customUIContent=e;}if(S===false){this.oEndUserFeedbackConfiguration.showCustomUIContent=S;}},setHeaderVisibility:function(v,e,S){this._updateShellProperty('headerVisible',v,e,S);},setFooter:function(F){if(typeof F!=='object'||!F.getId){throw new Error('oFooter value is invalid');}if(this.getView().oShellPage.getFooter()!==null){jQuery.sap.log.warning('You can only set one footer. Replacing existing footer: '+this.getView().oShellPage.getFooter().getId()+', with the new footer: '+F.getId()+'.');}this.getView().oShellPage.setFooter(F);},removeFooter:function(){if(this.getView().oShellPage.getFooter()===null){jQuery.sap.log.warning('There is no footer to remove.');return;}this.getView().oShellPage.setFooter(null);},addUserPreferencesEntry:function(e){this._validateUserPrefEntryConfiguration(e);this._updateUserPrefModel(e);},_validateUserPrefEntryConfiguration:function(e){if((!e)||(typeof e!=='object')){throw new Error('object oConfig was not provided');}if(!e.title){throw new Error('title was not provided');}if(!e.value){throw new Error('value was not provided');}if(typeof e.entryHelpID!=='undefined'){if(typeof e.entryHelpID!=='string'){throw new Error('entryHelpID type is invalid');}else{if(e.entryHelpID===''){throw new Error('entryHelpID type is invalid');}}}if(e.title&&typeof e.title!=='string'){throw new Error('title type is invalid');}if(typeof e.value!=='function'&&typeof e.value!=='string'&&typeof e.value!=='number'){throw new Error('value type is invalid');}if(e.onSave&&typeof e.onSave!=='function'){throw new Error('onSave type is invalid');}if(e.content&&typeof e.content!=='function'){throw new Error('content type is invalid');}if(e.onCancel&&typeof e.onCancel!=='function'){throw new Error('onCancel type is invalid');}},addElementToManagedQueue:function(i){var S=s.getProperty('/currentState/stateName'),B=m.getProperty('/currentState/stateName'),e,I=i.getId();if(!this.oExtensionShellStates[B]){this.oExtensionShellStates[B]={extendedShellStates:{},customShellState:this.createCustomShellState('custom')};}e=this.oExtensionShellStates[B].extendedShellStates;if(!e[S]){e[S]={managedObjects:[],customState:undefined};}e[S].managedObjects.push(I);var M=this.managedElements[I];if(M){M.nRefCount++;}else{M={oItem:i,nRefCount:1};this.managedElements[I]=M;}},destroyManageQueue:function(e){var S,g,E,M,B,h,i;for(S in this.oExtensionShellStates){if(this.oExtensionShellStates.hasOwnProperty(S)){if(!e||e.indexOf(S)===-1){B=this.oExtensionShellStates[S].extendedShellStates;for(h in B){if(B.hasOwnProperty(h)){i=B[h].managedObjects;for(g=0;g<i.length;g++){E=i[g];M=this.managedElements[E];M.nRefCount--;if(M.nRefCount===0){M.oItem.destroy();}}delete B[h];}}delete this.oExtensionShellStates[S];}}}},switchViewState:function(S,e){var p=S[0]==='/'?S:'/states/'+S,g=m.getProperty(p),h=m.getProperty('/currentState')||{},i=['home'];if(!!e){m.setProperty('/lastState',h);}this.destroyManageQueue(i);m.setProperty('/currentState',jQuery.extend(true,{},{},g));if(!this.oExtensionShellStates[S]){this.oExtensionShellStates[S]={extendedShellStates:{},customShellState:this.createCustomShellState(S)};}C=this.oExtensionShellStates[S].customShellState;this.extendedShellState=undefined;this.renderShellState();if(S==='searchResults'){m.setProperty('/lastSearchScreen','');if(!hasher.getHash().indexOf('Action-search')===0){var j=sap.ui.getCore().getModel('searchModel');hasher.setHash('Action-search&/searchTerm='+j.getProperty('/uiFilter/searchTerms')+'&dataSource='+JSON.stringify(j.getProperty('/uiFilter/dataSource').getJson()));}}sap.ui.getCore().getEventBus().publish('launchpad','shellViewStateChanged',g);},_navBack:function(){this.bMeAreaSelected=false;this.oViewPortContainer.switchState('Center');window.history.back();},_updateUserPrefModel:function(e){var g={'entryHelpID':e.entryHelpID,'title':e.title,'editable':e.content?true:false,'valueArgument':e.value,'valueResult':null,'onSave':e.onSave,'onCancel':e.onCancel,'contentFunc':e.content,'contentResult':null};var h=m.getProperty('/userPreferences/entries');h.push(g);m.setProperty('/userPreferences/entries',h);},pressActionBtn:function(e){if(!sap.ui.Device.system.desktop){var g=m.getProperty('/currentState').headerHiding;if(g){m.setProperty('/currentState/headerHiding',false);}}var A=sap.ui.getCore().byId('headActions');if(!A){this._createActionButtons();var F=new sap.ui.model.Filter('','EQ','a');F.fnTest=function(B){var h=m.getProperty('/currentState/actions'),i,j;for(j=0;j<h.length;j++){i=h[j];if(i.toUpperCase()==B){return!!sap.ui.getCore().byId(i);}}};A=new sap.m.ActionSheet('headActions',{placement:sap.m.PlacementType.Bottom,buttons:{path:'/currentState/actions',filters:[F],factory:function(i,h){var j=sap.ui.getCore().byId(h.getObject());if(j&&j.setActionType){j.setActionType('standart');}return j;}}});A.updateAggregation=this.getView().updateShellAggregation;A.setModel(m);this.getView().aDanglingControls.push(A);A.attachAfterClose(A,function(){if(!sap.ui.Device.system.desktop){if(g){m.setProperty('/currentState/headerHiding',g);}}});}A.updateAggregation('buttons');A.openBy(e.getSource());},_setUserPrefModel:function(){var e=m.getProperty('/userPreferences/entries');var D=this._getUserPrefDefaultModel();D.entries=D.entries.concat(e);m.setProperty('/userPreferences',D);},_getUserPrefDefaultModel:function(){var t=this;var U=sap.ushell.Container.getUser();var l=U.getLanguage();var e=window.location.host;var g=sap.ushell.resources.i18n.getText('languageFld');var h=sap.ushell.resources.i18n.getText('serverFld');jQuery.sap.require('sap.ushell.renderers.fiori2.search.userpref.SearchPrefs');var S=sap.ushell.renderers.fiori2.search.userpref.SearchPrefs;var i=S.getEntry();i.isSearchPrefsActive().done(function(v){if(!v){return;}t.addUserPreferencesEntry(i);});function T(){this.view=null;this.getView=function(){if(!this.view||!sap.ui.getCore().byId('userPrefThemeSelector')){this.view=sap.ui.jsview('userPrefThemeSelector','sap.ushell.renderers.fiori2.theme_selector.ThemeSelector');}return this.view;};var v=function(){var A=this.getView().getController().onSave();A.done(function(){if(m.getProperty('/tilesOpacity')===true){sap.ushell.utils.handleTilesOpacity();}});return A;}.bind(this);var w=function(){return this.getView().getController().onCancel();}.bind(this);var x=function(){return this.getView().getController().getContent();}.bind(this);var y=function(){return this.getView().getController().getValue();}.bind(this);var z;if(m.getProperty('/setTheme')!==undefined){z=m.getProperty('/setTheme')&&U.isSetThemePermitted();}else{z=U.isSetThemePermitted();}return{entryHelpID:'themes',title:sap.ushell.resources.i18n.getText('theme'),editable:z,valueArgument:y,valueResult:null,onSave:v,onCancel:w,contentFunc:x,contentResult:null};}var j=new T();function k(){this.view=null;this.getView=function(){if(!this.view||!sap.ui.getCore().byId('userPrefUsageAnalyticsSelector')){this.view=sap.ui.jsview('userPrefUsageAnalyticsSelector','sap.ushell.renderers.fiori2.usageAnalytics_selector.UsageAnalyticsSelector');}return this.view;};var v=function(){return this.getView().getController().onSave();}.bind(this);var w=function(){return this.getView().getController().getContent();}.bind(this);var x=function(){return this.getView().getController().getValue();}.bind(this);return{entryHelpID:'usageAnalytics',title:sap.ushell.resources.i18n.getText('usageAnalytics'),editable:sap.ushell.Container.getService('UsageAnalytics').isSetUsageAnalyticsPermitted(),valueArgument:x,valueResult:null,onSave:v,onCancel:null,contentFunc:w,contentResult:null};}var p=new k();function q(){this.view=null;this.getView=function(){if(!this.view||!sap.ui.getCore().byId('userPrefCompactCozySelector')){this.view=sap.ui.jsview('userPrefCompactCozySelector','sap.ushell.renderers.fiori2.compactCozy_selector.CompactCozySelector');}return this.view;};var v=function(){return this.getView().getController().onSave();}.bind(this);var w=function(){return this.getView().getController().onCancel();}.bind(this);var x=function(){return this.getView().getController().getContent();}.bind(this);var y=function(){return this.getView().getController().getValue();}.bind(this);return{entryHelpID:'contentDensity',title:sap.ushell.resources.i18n.getText('displayDensity'),editable:true,valueArgument:y,valueResult:null,onSave:v,onCancel:w,contentFunc:x,contentResult:null};}function D(){this.view=null;this.getView=function(){if(!this.view||!sap.ui.getCore().byId('defaultParametersSelector')){this.view=sap.ui.jsview('defaultParametersSelector','sap.ushell.renderers.fiori2.defaultParameters_selector.DefaultParameters');}return this.view;};var v=function(){return this.getView().getController().onSave();}.bind(this);var w=function(){return this.getView().getController().onCancel();}.bind(this);var x=function(){return this.getView().getController().getContent();}.bind(this);var y=function(){return this.getView().getController().getValue();}.bind(this);return{title:sap.ushell.resources.i18n.getText('userDefaults'),editable:true,visible:false,valueArgument:y,valueResult:null,onSave:v,onCancel:w,contentFunc:x,contentResult:null};}var r=[{entryHelpID:'serverName',title:h,editable:false,valueArgument:e,valueResult:null},{entryHelpID:'language',title:g,editable:false,valueArgument:l,valueResult:null},j];if(sap.ushell.Container.getService('UsageAnalytics').systemEnabled()&&sap.ushell.Container.getService('UsageAnalytics').isSetUsageAnalyticsPermitted()){r.push(p);}if(sap.ui.Device.system.combi&&m.getProperty('/contentDensity')){r.push(new q());}if(m.getProperty('/userDefaultParameters')){r.push(new D());}return{dialogTitle:sap.ushell.resources.i18n.getText('userPreferences'),isDetailedEntryMode:false,activeEntryPath:null,entries:r};},onAfterViewPortSwitchState:function(e){var t=e.getParameter('to');var S=sap.ui.getCore().byId('shellAppTitle');m.setProperty('/currentViewPortState',t);sap.ui.getCore().getEventBus().publish('launchpad','afterSwitchState',e);if(t==='Center'){S.setVisible(true);}else{S.setVisible(false);}},getModel:function(){return m;},_getConfig:function(){return o?o:{};},_createWaitForRendererCreatedPromise:function(){var p,r;r=sap.ushell.Container.getRenderer();if(r){jQuery.sap.log.debug('Shell controller._createWaitForRendererCreatedPromise: shell renderer already created, return empty array.');return[];}else{p=new Promise(function(e,g){var O;O=function(){jQuery.sap.log.info('Shell controller: resolving component waitFor promise after shell renderer created event fired.');e();sap.ushell.Container.detachRendererCreatedEvent(O);};r=sap.ushell.Container.getRenderer();if(r){jQuery.sap.log.debug('Shell controller: resolving component waitFor promise immediately (shell renderer already created');e();}else{sap.ushell.Container.attachRendererCreatedEvent(O);}});return[p];}}});}());\n",
	"sap/ushell/renderers/fiori2/Shell.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.Navigation');jQuery.sap.require('sap.ushell.ui.shell.ShellLayout');jQuery.sap.require('sap.ushell.UserActivityLog');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItem');jQuery.sap.require('sap.ushell.ui.launchpad.ViewPortContainer');jQuery.sap.require('sap.ushell.ui.shell.FloatingContainer');jQuery.sap.require('sap.ushell.ui.shell.NavigationMiniTile');jQuery.sap.require('sap.ushell.ui.launchpad.AccessibilityCustomData');sap.ui.jsview('sap.ushell.renderers.fiori2.Shell',{createContent:function(c){var t=this,v=this.getViewData()||{},C=v.config||{},s=(C.appState==='embedded')?true:false,S=(C.appState==='headerless')?true:false,f=function(I,z){return sap.ui.getCore().byId(z.getObject());},l=new sap.ushell.ui.launchpad.LoadingOverlay({id:'loadingDialog'}),o=new sap.ushell.ui.shell.ShellHeadItem({id:'configBtn',tooltip:'{i18n>showGrpsBtn_tooltip}',ariaLabel:'{i18n>showGrpsBtn_tooltip}',icon:sap.ui.core.IconPool.getIconURI('menu2'),selected:{path:'/currentState/showPane'},press:[c.togglePane,c]}),h,V;if(C.enableMergeAppAndShellHeaders===true){var b=sap.ui.getCore().getConfiguration().getRTL()?'feeder-arrow':'nav-back';h=new sap.ushell.ui.shell.ShellHeadItem({id:'homeBtn',tooltip:'{i18n>backBtn_tooltip}',ariaLabel:'{i18n>backBtn_tooltip}',icon:sap.ui.core.IconPool.getIconURI(b),press:c._navBack.bind(c)});}else{h=new sap.ushell.ui.shell.ShellHeadItem({id:'homeBtn',tooltip:'{i18n>homeBtn_tooltip}',ariaLabel:'{i18n>homeBtn_tooltip}',icon:sap.ui.core.IconPool.getIconURI('home'),target:C.rootIntent?'#'+C.rootIntent:'#'});}if(C.enableMeArea){h.setShowSeparator(false);}h.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'aria-disabled',value:'false',writeToDom:true}));h.addEventDelegate({onsapskipback:function(E){if(sap.ushell.renderers.fiori2.AccessKeysHandler.getAppKeysHandler()){E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;}},onsapskipforward:function(E){if(sap.ushell.renderers.fiori2.AccessKeysHandler.getAppKeysHandler()){E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;}}});o.addEventDelegate({onsapskipforward:function(E){if(sap.ushell.renderers.fiori2.AccessKeysHandler.getAppKeysHandler()){E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;}},onfocusin:function(){sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=true;sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusPassedToExternalHandlerFirstTime=true;}});this.aDanglingControls=[];var a;if(s){new sap.ushell.ui.shell.ShellHeadItem({id:'standardActionsBtn',tooltip:'{i18n>headerActionsTooltip}',icon:sap.ui.core.IconPool.getIconURI('account'),press:[c.pressActionBtn,c]});}else if(!S&&!C.enableMeArea){a=new sap.ushell.ui.shell.ShellHeadUserItem({id:'actionsBtn',username:sap.ushell.Container.getUser().getFullName(),tooltip:'{i18n>headerActionsTooltip}',ariaLabel:sap.ushell.Container.getUser().getFullName(),image:sap.ui.core.IconPool.getIconURI('account'),press:[c.pressActionBtn,c]});a.addEventDelegate({onsaptabnext:function(E){if(sap.ushell.renderers.fiori2.AccessKeysHandler.getAppKeysHandler()){E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;}},onsapskipforward:function(E){if(sap.ushell.renderers.fiori2.AccessKeysHandler.getAppKeysHandler()){E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;}}});}V=this.initViewPortContainer(c);if(C.enableNotificationsUI===true){var n=new sap.ushell.ui.shell.ShellHeadItem({id:'NotificationsCountButton',tooltip:'{i18n>notificationsBtn_tooltip}',selected:{path:'/currentViewPortState',formatter:function(z){if(z==='RightCenter'){return true;}else{return false;}}},icon:sap.ui.core.IconPool.getIconURI('ui-notifications'),floatingNumber:'{/notificationsCount}',visible:'{/enableNotifications}',press:[c.toggleNotificationsView,c],showSeparator:false});this.aDanglingControls.push(n);}if(C.enableMeArea===true){var m=new sap.ushell.ui.shell.ShellHeadItem({id:'meAreaHeaderButton',tooltip:'{i18n>meAreaBtn_tooltip}',icon:'sap-icon://person-placeholder',selected:{path:'/currentViewPortState',formatter:function(z){if(z==='LeftCenter'){return true;}else{return false;}}},press:[c.toggleMeAreaView,c],visible:true,showSeparator:false});this.aDanglingControls.push(m);var e=new sap.ushell.ui.shell.ShellHeadItem({id:'endItemsOverflowBtn',tooltip:'{i18n>meAreaBtn_tooltip}',icon:'sap-icon://overflow',press:[c.pressEndItemsOverflow,c],visible:true,showSeparator:false});this.aDanglingControls.push(e);}var d=new sap.ushell.ui.shell.SplitContainer({id:'shell-split',showSecondaryContent:{path:'/currentState/showPane'},secondaryContent:{path:'/currentState/paneContent',factory:f},content:V,subHeader:{path:'/currentState/subHeader',factory:f}});var g=new sap.ushell.ui.shell.ToolArea({id:'shell-toolArea',toolAreaItems:{path:'/currentState/toolAreaItems',factory:f}});var r=new sap.ushell.ui.shell.RightFloatingContainer({id:'right-floating-container',top:'10',hideItemsAfterPresentation:true,visible:'{/currentState/showRightFloatingContainer}',floatingContainerItems:{path:'/currentState/RightFloatingContainerItems',factory:f}});var i=new sap.ushell.ui.shell.FloatingContainer({id:'shell-floatingContainer',content:{path:'/currentState/floatingContainerContent',factory:f}});var j=new sap.ushell.ui.shell.ShellTitle('shellTitle',{text:{path:'/title'}});var k;if(C.enableMergeAppAndShellHeaders===true){var H=function(I,z){var A=z.getProperty('icon');var T=z.getProperty('title');var B=z.getProperty('subtitle');var D=z.getProperty('intent');if(!A){A='sap-icon://folder';}return(new sap.m.StandardListItem({type:sap.m.ListType.Active,title:T,description:B,icon:A,customData:[new sap.ui.core.CustomData({key:'intent',value:D})],press:function(E){var L=E.getSource();if(L.getCustomData()&&L.getCustomData().length===1){var G=L.getCustomData()[0].getValue();if(G&&G[0]==='#'){c.navigateFromShellApplicationNavigationMenu(G);}}}})).addStyleClass('sapUshellNavigationMenuListItems');};var R=function(I,z){var A=z.getProperty('icon');var T=z.getProperty('title');var B=z.getProperty('subtitle');var D=z.getProperty('intent');if(!B&&!A){A='sap-icon://documents';}return new sap.ushell.ui.shell.NavigationMiniTile({title:T,subtitle:B,icon:A,intent:D,press:function(){var E=this.getIntent();if(E&&E[0]==='#'){c.navigateFromShellApplicationNavigationMenu(E);}}});};var p=new sap.ushell.ui.shell.ShellNavigationMenu('shellNavigationMenu',{items:{path:'/currentState/application/hierarchy',factory:H.bind(this)},miniTiles:{path:'/currentState/application/relatedApps',factory:R.bind(this)}});this.oShellNavigationMenu=p;k=new sap.ushell.ui.shell.ShellAppTitle({id:'shellAppTitle',text:'{/currentState/application/title}',tooltip:sap.ushell.resources.i18n.getText('shellNavMenu_openMenuTooltip'),navigationMenu:p});k.addEventDelegate({onsapskipforward:function(E){if(sap.ushell.renderers.fiori2.AccessKeysHandler.getAppKeysHandler()){E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;}}});}var F=new sap.ui.model.Filter('','EQ','a'),q,u,w;F.fnTest=c.isHeadEndItemNotInOverflow.bind(c);q=new sap.ushell.ui.shell.ShellHeader({id:'shell-header',showLogo:{path:'/currentState/showLogo'},headItems:{path:'/currentState/headItems',factory:f},headEndItems:{path:'/currentState/headEndItems',factory:f,filters:[F]},title:j,appTitle:k,showSeparators:!C.enableMeArea});w=new sap.ushell.ui.shell.ShellFloatingActions({id:'shell-floatingActions',floatingActions:{path:'/currentState/floatingActions',factory:f}});u=new sap.ushell.ui.shell.ShellLayout({id:'shell',header:q,toolArea:g,rightFloatingContainer:r,floatingContainerVisible:false,floatingContainer:i,canvasSplitContainer:d,toolAreaVisible:{path:'/currentState/toolAreaVisible'},floatingActionsContainer:w,headerHiding:{path:'/currentState/headerHiding'},headerVisible:{path:'/currentState/headerVisible'},backgroundColorForce:!C.enableMeArea,showBrandLine:!C.enableMeArea,showAnimation:!C.enableMeArea});u._setStrongBackground(true);this.setOUnifiedShell(u);if(a){q.setUser(a);}if(q){var x=q.onAfterRendering;q.onAfterRendering=function(){if(x){x.apply(this,arguments);}if(this.getModel().getProperty('/enableHelp')){jQuery('#actionsBtn').addClass('help-id-actionsBtn');jQuery('#configBtn').addClass('help-id-configBtn');jQuery('#homeBtn').addClass('help-id-homeBtn');}jQuery('.sapUshellHeadTitle').removeAttr('tabindex',0);};}this.oShellPage=this.pageFactory('shellPage',u,true);if(s){q.setLogo(sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'));}else{this.initShellBarLogo(q);}this.setDisplayBlock(true);this.aDanglingControls=this.aDanglingControls.concat([sap.ui.getCore().byId('viewPortContainer'),this.oShellPage,l,h,o]);u.updateAggregation=this.updateShellAggregation;q.updateAggregation=this.updateShellAggregation;g.updateAggregation=this.updateShellAggregation;r.updateAggregation=this.updateShellAggregation;i.updateAggregation=this.updateShellAggregation;w.updateAggregation=this.updateShellAggregation;d.updateAggregation=this.updateShellAggregation;if(sap.ui.Device.system.desktop){r.removeStyleClass('sapUiSizeCozy');r.addStyleClass('sapUiSizeCompact');}var y=(C.enableSearch!==false);if(y){t.oShellSearchBtn=new sap.ushell.ui.shell.ShellHeadItem({id:'sf',tooltip:'{i18n>searchbox_tooltip}',text:'{i18n>searchBtn}',ariaLabel:'{i18n>searchbox_tooltip}',icon:sap.ui.core.IconPool.getIconURI('search'),visible:true,showSeparator:false,press:function(z){if(!t.searchShellHelper){jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchShellHelper');t.searchShellHelper=sap.ushell.renderers.fiori2.search.SearchShellHelper;}t.searchShellHelper.onShellSearchButtonPressed(z);}});if(C.openSearchAsDefault){if(!t.searchShellHelper){jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchShellHelper');t.searchShellHelper=sap.ushell.renderers.fiori2.search.SearchShellHelper;t.searchShellHelper.init();}t.searchShellHelper.setDefaultOpen(true);t.searchShellHelper.openSearch(false,false);}t.oShellSearchBtn.addEventDelegate({onsapskipforward:function(E){if(sap.ushell.renderers.fiori2.AccessKeysHandler.getAppKeysHandler()){E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;}}});t.aDanglingControls.push(t.oShellSearchBtn);}this.logonIFrameReference=null;return new sap.m.App({pages:this.oShellPage});},getOUnifiedShell:function(){return this.oUnifiedShell;},setOUnifiedShell:function(u){this.oUnifiedShell=u;},loadUserImage:function(){var u=sap.ushell.Container.getUser(),i=u.getImage();if(i){this._setUserImage(i);}u.attachOnSetImage(this._setUserImage);},_setUserImage:function(p){var u=typeof(p)==='string'?p:p.mParameters,a=sap.ui.getCore().byId('actionsBtn'),m=sap.ui.getCore().byId('meAreaHeaderButton'),h={'Cache-Control':'no-cache, no-store, must-revalidate','Pragma':'no-cache','Expires':'0'};jQuery.ajax({url:u,headers:h,success:function(){if(a){a.setImage(u);}if(m){m.setIcon(u);}},error:function(){jQuery.sap.log.error('Could not load user image from: '+u,'','sap.ushell.renderers.fiori2.Shell.view');}});},_getIconURI:function(i){var r=null;if(i){var m=/url[\\s]*\\('?\"?([^\\'\")]*)'?\"?\\)/.exec(i);if(m){r=m[1];}}return r;},initShellBarLogo:function(s){var v=this.getViewData()||{},c=v.config||{},m=jQuery.sap.getModulePath('sap.ushell');jQuery.sap.require('sap.ui.core.theming.Parameters');var i=sap.ui.core.theming.Parameters.get('sapUiGlobalLogo');if(i){i=this._getIconURI(i);if(!i){if(c.enableMergeAppAndShellHeaders===true){s.setLogo(m+'/themes/base/img/sap_55x27.png');}else{s.setLogo(sap.ui.resource('sap.ui.core','mimes/logo/sap_50x26.png'));}}}var t=this;sap.ui.getCore().attachThemeChanged(function(){if(s.bIsDestroyed){return;}var n=sap.ui.core.theming.Parameters.get('sapUiGlobalLogo');if(n){n=t._getIconURI(n);if(n){s.setLogo(n);}else{if(c.enableMergeAppAndShellHeaders===true){s.setLogo(m+'/themes/base/img/sap_55x27.png');}else{s.setLogo(sap.ui.resource('sap.ui.core','mimes/logo/sap_50x26.png'));}}}else{if(c.enableMergeAppAndShellHeaders===true){s.setLogo(m+'/themes/base/img/sap_55x27.png');}else{s.setLogo(sap.ui.resource('sap.ui.core','mimes/logo/sap_50x26.png'));}}});},initViewPortContainer:function(c){var v=new sap.ushell.ui.launchpad.ViewPortContainer({id:'viewPortContainer',defaultState:sap.ushell.ui.launchpad.ViewPortState.Center,afterNavigate:jQuery.proxy(c.onAfterNavigate,c),afterSwitchState:jQuery.proxy(c.onAfterViewPortSwitchState,c)});return v;},updateShellAggregation:function(n){var b=this.mBindingInfos[n],a=this.getMetadata().getJSONKeys()[n],c;jQuery.each(this[a._sGetter](),jQuery.proxy(function(i,v){this[a._sRemoveMutator](v);},this));jQuery.each(b.binding.getContexts(),jQuery.proxy(function(i,v){c=b.factory(this.getId()+'-'+i,v)?b.factory(this.getId()+'-'+i,v).setBindingContext(v,b.model):'';this[a._sMutator](c);},this));},disableBouncing:function(p){p.onBeforeRendering=function(){sap.m.Page.prototype.onBeforeRendering.apply(p);var s=this._oScroller,o=s.onAfterRendering;s.onAfterRendering=function(){o.apply(s);if(s._scroller){s._scroller.options.bounce=false;}};};return p;},getControllerName:function(){return'sap.ushell.renderers.fiori2.Shell';},pageFactory:function(i,c,d){var p=new sap.m.Page({id:i,showHeader:false,content:c,enableScrolling:!!sap.ui.Device.system.desktop}),e=['onAfterHide','onAfterShow','onBeforeFirstShow','onBeforeHide','onBeforeShow'],D={};jQuery.each(e,function(I,E){D[E]=jQuery.proxy(function(a){jQuery.each(this.getContent(),function(I,c){c._handleEvent(a);});},p);});p.addEventDelegate(D);if(d&&sap.ui.Device.system.desktop){this.disableBouncing(p);}return p;},createIFrameDialog:function(){var d=null,l=this.logonIFrameReference,c;var _=function(){if(l){l.remove();}return jQuery('<iframe id=\"SAMLDialogFrame\" src=\"\" frameborder=\"0\" height=\"100%\" width=\"100%\"></iframe>');};var a=function(){d.addStyleClass('sapUshellSamlDialogHidden');jQuery('#sap-ui-blocklayer-popup').addClass('sapUshellSamlDialogHidden');};this.destroyIFrameDialog();var b=new sap.m.Button({text:sap.ushell.resources.i18n.getText('samlCloseBtn'),press:function(){sap.ushell.Container.cancelLogon();}});var h=new sap.ui.core.HTML('SAMLDialogFrame');this.logonIFrameReference=_();h.setContent(this.logonIFrameReference.prop('outerHTML'));d=new sap.m.Dialog({id:'SAMLDialog',title:sap.ushell.resources.i18n.getText('samlDialogTitle'),contentWidth:'50%',contentHeight:'50%',rightButton:b}).addStyleClass('sapUshellIframeDialog');c=sap.ushell.Container.getService('SupportTicket').isEnabled();if(c){jQuery.sap.require('sap.ushell.ui.footerbar.ContactSupportButton');var C=new sap.ushell.ui.footerbar.ContactSupportButton();C.setWidth('150px');C.setIcon('');d.setLeftButton(C);}d.addContent(h);d.open();a();this.logonIFrameReference=jQuery('#SAMLDialogFrame');return this.logonIFrameReference[0];},destroyIFrameDialog:function(){var d=sap.ui.getCore().byId('SAMLDialog');if(d){d.destroy();}this.logonIFrameReference=null;},showIFrameDialog:function(){var d=sap.ui.getCore().byId('SAMLDialog');if(d){d.removeStyleClass('sapUshellSamlDialogHidden');jQuery('#sap-ui-blocklayer-popup').removeClass('sapUshellSamlDialogHidden');}}});}());\n",
	"sap/ushell/renderers/fiori2/compactCozy_selector/CompactCozySelector.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.controller('sap.ushell.renderers.fiori2.compactCozy_selector.CompactCozySelector',{onInit:function(){try{this.userInfoService=sap.ushell.Container.getService('UserInfo');this.oUser=this.userInfoService.getUser();}catch(e){jQuery.sap.log.error('Getting UserInfo service failed.');this.oUser=sap.ushell.Container.getUser();}this.translationBundle=sap.ushell.resources.i18n;this.oModel=new sap.ui.model.json.JSONModel({options:[{id:'cozy',name:this.translationBundle.getText('cozy'),isSelected:true},{id:'compact',name:this.translationBundle.getText('compact'),isSelected:false}]});this.getView().setModel(this.oModel);this.currentContentDensity=this.oUser.getContentDensity();this.origContentDensity=this.currentContentDensity;this.isContentLoaded=false;},getContent:function(){var o=this.oModel.getProperty('/options');for(var i=0;i<o.length;i++){if(o[i].id==this.currentContentDensity){o[i].isSelected=true;}else{o[i].isSelected=false;}}this.oModel.setProperty('/options',o);return jQuery.Deferred().resolve(this.getView());},getValue:function(){return jQuery.Deferred().resolve(this._getModeNameById(this.currentContentDensity));},onCancel:function(){this.currentContentDensity=this.oUser.getContentDensity();},onSave:function(){var d=jQuery.Deferred();var u;if(this.oUser.getContentDensity()!=this.currentContentDensity){if(this.currentContentDensity){this.oUser.setContentDensity(this.currentContentDensity);u=this.userInfoService.updateUserPreferences(this.oUser);u.done(function(){this.oUser.resetChangedProperties();this.origContentDensity=this.currentContentDensity;sap.ui.getCore().getEventBus().publish('launchpad','toggleContentDensity',{contentDensity:this.currentContentDensity});d.resolve();}.bind(this));u.fail(function(e){this.oUser.setContentDensity(this.origContentDensity);this.oUser.resetChangedProperties();this.currentContentDensity=this.origContentDensity;jQuery.sap.log.error(e);d.reject(e);}.bind(this));}else{d.reject('Could not find mode: '+this.currentContentDensity);}}else{d.resolve();}return d.promise();},getCurrentContentDensity:function(){return this.currentContentDensity;},setCurrentContentDensity:function(n){this.currentContentDensity=n;},_getModeNameById:function(c){var d=this.getModel().getProperty('/options');for(var i=0;i<d.length;i++){if(d[i].id==c){return d[i].name;}}return c;},getModel:function(){return this.oModel;}});}());\n",
	"sap/ushell/renderers/fiori2/compactCozy_selector/CompactCozySelector.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ushell.services.Container');sap.ui.jsview('sap.ushell.renderers.fiori2.compactCozy_selector.CompactCozySelector',{createContent:function(c){var C=this._getCompactCozyListItemTemplate();this.translationBundle=sap.ushell.resources.i18n;this.oList=new sap.m.List('compactCozySelectorList',{includeItemInSelection:true,mode:'SingleSelectLeft',items:{path:'/options',template:C}});this.info=new sap.m.Text({text:this.translationBundle.getText('displayDensityInfo')}).addStyleClass('sapUiSmallMargin');return[this.oList,this.info];},getControllerName:function(){return'sap.ushell.renderers.fiori2.compactCozy_selector.CompactCozySelector';},_getCompactCozyListItemTemplate:function(){var t=this;var o=function(e){var i=e.srcControl;t.oController.setCurrentContentDensity(i.getBindingContext().getProperty('id'));};var i=new sap.m.StandardListItem({title:'{name}',selected:'{isSelected}'});i.addEventDelegate({onclick:o});return i;}});}());\n",
	"sap/ushell/renderers/fiori2/defaultParameters_selector/DefaultParameters.controller.js":"(function(){'use strict';sap.ui.controller('sap.ushell.renderers.fiori2.defaultParameters_selector.DefaultParameters',{onInit:function(){this.oModelRecords={};this.oChangedParameters={};this.oBlockedParameters={};this.aDisplayedUserDefaults=[];this.DefaultParametersService=sap.ushell.Container.getService('UserDefaultParameters');},overrideOdataModelValue:function(e){var u=e.getParameter('url'),m=e.getSource(),f,F,t=this;this.aDisplayedUserDefaults.forEach(function(r){if(r.editorMetadata&&r.editorMetadata.editorInfo){F=r.editorMetadata.editorInfo.odataURL+r.editorMetadata.editorInfo.bindingPath;if(F===u){f=r.editorMetadata.editorInfo.bindingPath+'/'+r.editorMetadata.editorInfo.propertyName;if(m.getProperty(f)!==r.valueObject.value){m.setProperty(f,r.valueObject.value);}t.oBlockedParameters[r.parameterName]=false;}}});},getOrCreateModelForODataService:function(u){if(!this.oModelRecords[u]){var p={metadataUrlParams:{'sap-documentation':'heading,quickinfo','sap-value-list':'none'},json:true};var m=new sap.ui.model.odata.ODataModel(u,p);m.setDefaultCountMode('None');m.setDefaultBindingMode('TwoWay');m.attachRequestCompleted(this.overrideOdataModelValue.bind(this));this.oModelRecords[u]=m;}return this.oModelRecords[u];},constructControlSet:function(p){var u=[];for(var P in p){for(var n=0;n<u.length;n++){if(u[n].parameterName===P){u.splice(n,1);}}p[P].parameterName=P;u.push(p[P]);}this.sortParametersByGroupIdParameterIndex(u);this.aDisplayedUserDefaults=u;this.sForm=new sap.ui.comp.smartform.SmartForm({editable:true});this.getView().addContent(this.sForm);},getValue:function(){var d=jQuery.Deferred();var h=sap.ushell.Container.getService('UserDefaultParameters').hasRelevantMaintainableParameters();h.done(function(H){d.resolve({value:H?1:0,displayText:''});});h.fail(function(e){d.reject(e);});return d.promise();},createPlainModel:function(g,r){r.modelBind.model=this.oMdlParameter;r.modelBind.extendedModel=this.oMdlParameter;g.setModel(r.modelBind.model);var m='/sUserDef_'+r.nr+'_';r.modelBind.sFullPropertyPath=m;r.modelBind.sPropertyName='{'+m+'}';r.modelBind.model.setProperty(r.modelBind.sFullPropertyPath,r.valueObject.value);},revertToPlainModelControls:function(g,r){jQuery.sap.log.error('Metadata loading for parameter '+r.parameterName+' failed'+JSON.stringify(r.editorMetadata));r.modelBind.isOdata=false;this.createPlainModel(g,r);this.createAppropriateControl(g,r);},getContent:function(){var t=this;var d=new jQuery.Deferred();this.DefaultParametersService.editorGetParameters().done(function(p){t.oMdlParameter=new sap.ui.model.json.JSONModel(p);t.oMdlParameter.setDefaultBindingMode('TwoWay');t.getView().setModel(t.oMdlParameter,'MdlParameter');t.oOriginalParameters=jQuery.extend(true,{},p);t.oCurrentParameters=jQuery.extend(true,{},p);t.constructControlSet(p);jQuery.sap.require('sap.ui.model.odata.ODataModel');var l='nevermore';var g;t.aChangedParameters=[];t.oBindingContexts={};t.setPropValue=function(r){r.modelBind.model.setProperty(r.modelBind.sFullPropertyPath,r.valueObject.value);t.oBlockedParameters[r.parameterName]=false;};t.oMdlParameter.setProperty('/sUser');for(var i=0;i<t.aDisplayedUserDefaults.length;++i){var r=t.aDisplayedUserDefaults[i];r.nr=i;r.editorMetadata=r.editorMetadata||{};r.valueObject=r.valueObject||{value:''};var a=new sap.ui.comp.smartform.GroupElement({});if(l!=r.editorMetadata.groupId){g=new sap.ui.comp.smartform.Group({label:r.editorMetadata.groupTitle||sap.ushell.resources.i18n.getText('userDefaultsGeneralGroup'),'editable':true});l=r.editorMetadata.groupId;t.sForm.addGroup(g);}g.addGroupElement(a);r.modelBind={model:undefined,sModelPath:undefined,sPropertyName:undefined,sFullPropertyPath:undefined};r.valueObject.value=r.valueObject.value||'';if(r.editorMetadata.editorInfo&&r.editorMetadata.editorInfo.propertyName){r.modelBind.isOdata=true;var u=r.editorMetadata.editorInfo.odataURL;r.modelBind.model=t.getOrCreateModelForODataService(u);a.setModel(r.modelBind.model);if(!t.oBindingContexts[u]){a.bindElement(r.editorMetadata.editorInfo.bindingPath);t.oBindingContexts[u]=r.modelBind.model.getContext(r.editorMetadata.editorInfo.bindingPath);}else{a.setBindingContext(t.oBindingContexts[u]);}r.modelBind.sPropertyName='{'+r.editorMetadata.editorInfo.propertyName+'}';r.modelBind.sFullPropertyPath=r.editorMetadata.editorInfo.bindingPath+'/'+r.editorMetadata.editorInfo.propertyName;r.modelBind.extendedModel=t.oMdlParameter;}else{t.createPlainModel(a,r);}r.valueObject.value=r.valueObject.value||'';r.modelBind.model.setProperty(r.modelBind.sFullPropertyPath,r.valueObject.value);if(r.modelBind.isOdata){t.oBlockedParameters[r.parameterName]=true;r.modelBind.model.attachMetadataLoaded(t.createAppropriateControl.bind(t,a,r));r.modelBind.model.attachMetadataFailed(t.revertToPlainModelControls.bind(t,a,r));}else{t.createAppropriateControl(a,r);}r.modelBind.model.bindTree(r.modelBind.sFullPropertyPath).attachChange(t.storeChangedData.bind(t));}t.oMdlParameter.bindTree('/').attachChange(t.storeChangedData.bind(t));d.resolve(t.getView());});return d.promise();},createAppropriateControl:function(g,r){var s,l,e,a;if(r.editorMetadata.extendedUsage){var t=this;e=new sap.m.Button({text:sap.ushell.resources.i18n.getText('userDefaultsExtendedParametersTitle'),tooltip:sap.ushell.resources.i18n.getText('userDefaultsExtendedParametersTooltip'),type:{parts:['MdlParameter>/'+r.parameterName+'/valueObject/extendedValue/Ranges'],formatter:function(R){return R&&R.length?sap.m.ButtonType.Emphasized:sap.m.ButtonType.Default;}},press:function(o){t.openExtendedValueDialog(o,r);}}).addStyleClass('sapUshellExtendedDefaultParamsButton');}jQuery.sap.log.debug('Creating controls for parameter'+r.parameterName+' type '+r.modelBind.isOdata);var E=g.getElements().slice();E.forEach(function(o){g.removeElement(o);});var f=g.getFields().slice();f.forEach(function(o){g.removeField(o);});l=new sap.ui.comp.smartfield.SmartLabel({text:r.editorMetadata.displayText||r.parameterName,tooltip:r.editorMetadata.description||r.parameterName});if(r.modelBind.isOdata&&r.editorMetadata.editorInfo){s=new sap.ui.comp.smartfield.SmartField({value:r.modelBind.sPropertyName,name:r.parameterName});}else{s=new sap.m.Input({name:r.parameterName,value:r.modelBind.sPropertyName,type:'Text'});this.setPropValue(r);}l.setLabelFor(s);g.addElement(l);s.addStyleClass('sapUshellDefaultParametersField');s.attachChange(this.storeChangedData.bind(this));a=new sap.m.HBox({items:[s,e]});g.addElement(a);},openExtendedValueDialog:function(e,d){var t=this,p='/'+d.parameterName+'/valueObject/extendedValue/Ranges',m=d.modelBind.extendedModel,r=m.getProperty(p)||[],l,n;if(d.modelBind.isOdata){n=this._getMetadataNameSpace(d.editorMetadata.editorInfo.odataURL);var E=d.modelBind.model.getMetaModel().getODataEntityType(n+'.'+d.editorMetadata.editorInfo.entityName);if(E){l=d.modelBind.model.getMetaModel().getODataProperty(E,d.editorMetadata.editorInfo.propertyName)['sap:label'];}}var v=new sap.ui.comp.valuehelpdialog.ValueHelpDialog({basicSearchText:d.editorMetadata.displayText||l||d.parameterName,title:d.editorMetadata.displayText||l||d.parameterName,supportRanges:true,supportRangesOnly:true,key:d.modelBind.sPropertyName,displayFormat:'UpperCase',descriptionKey:d.editorMetadata.displayText||l||d.parameterName,filterMode:true,stretch:sap.ui.Device.system.phone,ok:function(c){t.saveExtendedValue(c,d,m,v);},cancel:function(c){v.close();},afterClose:function(){v.destroy();}});v.setIncludeRangeOperations(this.getListOfSupportedRangeOperations());this.addTokensToValueHelpDialog(v,r,d.parameterName);var k=[];k.push({label:v.getTitle(),key:d.parameterName});v.setRangeKeyFields(k);v.open();},saveExtendedValue:function(c,d,m,v){this.aTokens=c.getParameters().tokens;var t=[],p='/'+d.parameterName+'/valueObject/extendedValue/Ranges',f,a={extendedValue:{'Ranges':[]}};jQuery.extend(this.oCurrentParameters[d.parameterName].valueObject,a);for(var b in this.aTokens){if(this.aTokens.hasOwnProperty(b)){t.push(this.aTokens[b].data('range'));}}f=t.map(function(b){return{Sign:b.exclude?'E':'I',Option:b.operation!=='Contains'?b.operation:'CP',Low:b.value1,High:b.value2||null};});if(!m.getProperty('/'+d.parameterName+'/valueObject/extendedValue')){m.setProperty('/'+d.parameterName+'/valueObject/extendedValue',{});}m.setProperty(p,f);this.oChangedParameters[d.parameterName]=true;v.close();},getListOfSupportedRangeOperations:function(){var s=Object.keys(sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation);return s.filter(function(o){return o!=='StartsWith'&&o!=='EndsWith'&&o!=='Initial';});},_getMetadataNameSpace:function(s){var S=s.split('/'),n;n=S[S.length-1];return n;},addTokensToValueHelpDialog:function(d,r,p){var t=[],f;r.forEach(function(R){if(R){f={};f.exclude=R.Sign==='E';f.keyField=p;f.operation=R.Option!=='CP'?R.Option:'Contains';f.value1=R.Low;f.value2=R.High;t.push(new sap.m.Token({}).data('range',f));}});d.setTokens(t);},sortParametersByGroupIdParameterIndex:function(u){function c(d,D){if(!(D.editorMetadata&&D.editorMetadata.groupId)){return-1;}if(!(d.editorMetadata&&d.editorMetadata.groupId)){return 1;}if(d.editorMetadata.groupId<D.editorMetadata.groupId){return-1;}if(d.editorMetadata.groupId>D.editorMetadata.groupId){return 1;}return 0;}function a(d,D){if(!(D.editorMetadata&&D.editorMetadata.parameterIndex)){return-1;}if(!(d.editorMetadata&&d.editorMetadata.parameterIndex)){return 1;}return d.editorMetadata.parameterIndex-D.editorMetadata.parameterIndex;}u.sort(function(d,D){var r=c(d,D);if(r===0){return a(d,D);}return r;});},storeChangedData:function(){var i=0,t=this,a=t.aDisplayedUserDefaults,c=this.sForm.check(),s=sap.ui.getCore().byId('saveButton');s.setEnabled(!c.length);for(i=0;i<a.length;++i){var p=a[i].parameterName;if(!t.oBlockedParameters[p]){var o={value:t.oCurrentParameters[p].valueObject&&t.oCurrentParameters[p].valueObject.value,extendedValue:t.oCurrentParameters[p].valueObject&&t.oCurrentParameters[p].valueObject.extendedValue&&t.oCurrentParameters[p].valueObject.extendedValue};if(a[i].modelBind&&a[i].modelBind.model){var m=a[i].modelBind.model;var M=a[i].modelBind.extendedModel;var P=a[i].modelBind.sFullPropertyPath;var A=m.getProperty(P);var n={value:m.getProperty(P),extendedValue:M.getProperty('/'+p+'/valueObject/extendedValue')};if(this.isValueDifferent(n,o)){t.oCurrentParameters[p].valueObject.value=A;if(n.extendedValue){jQuery.extend(t.oCurrentParameters[p].valueObject.extendedValue,n.extendedValue);}t.oChangedParameters[p]=true;}}}}},onCancel:function(){sap.ui.getCore().byId('saveButton').setEnabled(true);},isValueDifferent:function(v,V){var i=false,s=v?JSON.stringify(v):v,a=V?JSON.stringify(V):V,e,E;if(s===a){return false;}if(v===undefined){return false;}if(V===undefined){return false;}e=v.extendedValue?JSON.stringify(v.extendedValue):v.extendedValue;E=V.extendedValue?JSON.stringify(V.extendedValue):V.extendedValue;if((v.value===''&&V.value===undefined)||(V.value===''&&v.value===undefined)){i=true;}if(i&&(e===E)){return false;}return(!i&&(v.value!==V.value))||(e!==E);},onSave:function(){var d=new jQuery.Deferred(),i,c=Object.keys(this.oChangedParameters).sort(),s,p;for(i=0;i<c.length;i++){p=c[i];if(this.isValueDifferent(this.oOriginalParameters[p].valueObject,this.oCurrentParameters[p].valueObject)){if((this.oCurrentParameters[p].valueObject&&this.oCurrentParameters[p].valueObject.value===null)||(this.oCurrentParameters[p].valueObject&&this.oCurrentParameters[p].valueObject.value==='')){this.oCurrentParameters[p].valueObject.value=undefined;}if(this.oCurrentParameters[p].valueObject&&this.oCurrentParameters[p].valueObject.extendedValue&&jQuery.isArray(this.oCurrentParameters[p].valueObject.extendedValue.Ranges)&&(this.oCurrentParameters[p].valueObject.extendedValue.Ranges.length===0)){this.oCurrentParameters[p].valueObject.extendedValue=undefined;}s=sap.ushell.Container.getService('UserDefaultParameters').editorSetValue(p,this.oCurrentParameters[p].valueObject);s.done(d.resolve);s.fail(d.reject);}}return d.promise();}});}());\n",
	"sap/ushell/renderers/fiori2/defaultParameters_selector/DefaultParameters.view.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ushell.services.Container');jQuery.sap.require('sap.ui.comp.smartform.SmartForm');jQuery.sap.require('sap.ui.comp.smartfield.SmartField');jQuery.sap.require('sap.ui.comp.valuehelpdialog.ValueHelpDialog');sap.ui.jsview('sap.ushell.renderers.fiori2.defaultParameters_selector.DefaultParameters',{createContent:function(c){},getControllerName:function(){return'sap.ushell.renderers.fiori2.defaultParameters_selector.DefaultParameters';}});}());\n",
	"sap/ushell/renderers/fiori2/meArea/MeArea.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';var m=new sap.ui.model.json.JSONModel({actions:[],userPreferences:{entries:[]},apps:{recentActivities:[]}});sap.ui.controller('sap.ushell.renderers.fiori2.meArea.MeArea',{onInit:function(){this.aControlsWithPressHandler=[];this.getView().setModel(m,'meAreaModel');this._addActionItemToOverflowSupport();},onBeforeRendering:function(){if(m.getProperty('/apps/recentActivities')&&m.getProperty('/apps/recentActivities').length){return;}this.refreshUserActivities();},refreshUserActivities:function(){var u=sap.ushell.Container.getService('UserRecents');u.getRecentActivity().done(function(a){a.forEach(function(i){i.timestamp=sap.ushell.utils.formatDate(i.timestamp);});m.setProperty('/apps/recentActivities',a);});},createViewByName:function(e,n,v){var V=v?sap.ui.getCore().byId(v):null;if(!V){var s=e.getSource(),c=s.getBindingContext(),p=c?c.getPath():'',a=n||c.getModel().getProperty(p+'/viewName');v=v||c.getModel().getProperty(p+'/id');V=sap.ui.view(v,{viewName:a,type:'JS',viewData:{}});}return V;},logout:function(){jQuery.sap.require('sap.m.MessageBox');var l=new sap.ushell.ui.launchpad.LoadingDialog({text:''}),s=true,i=false,L={};sap.ushell.Container.getGlobalDirty().done(function(d){s=false;if(i===true){l.exit();l=new sap.ushell.ui.launchpad.LoadingDialog({text:''});}var _=function(d){var L={},r=sap.ushell.resources.i18n;if(d===sap.ushell.Container.DirtyState.DIRTY){L.message=r.getText('unsaved_data_warning_popup_message');L.icon=sap.m.MessageBox.Icon.WARNING;L.messageTitle=r.getText('unsaved_data_warning_popup_title');}else{L.message=r.getText('logoutConfirmationMsg');L.icon=sap.m.MessageBox.Icon.QUESTION;L.messageTitle=r.getText('logoutMsgTitle');}return L;};L=_(d);sap.m.MessageBox.show(L.message,L.icon,L.messageTitle,[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],function(a){if(a===sap.m.MessageBox.Action.OK){l.openLoadingScreen();l.showAppInfo(sap.ushell.resources.i18n.getText('beforeLogoutMsg'),null);sap.ushell.Container.logout();}},sap.ui.core.ElementMetadata.uid('confirm'));});if(s===true){l.openLoadingScreen();i=true;}},_addPressHandlerToActions:function(c){if(this.aControlsWithPressHandler.indexOf(c.getId())===-1){this.aControlsWithPressHandler.push(c.getId());c.attachPress(function(){sap.ui.getCore().byId('viewPortContainer').switchState('Center');});}},_getControlsWithPressHandler:function(){return this.aControlsWithPressHandler;},_addActionItemToOverflowSupport:function(){if(sap.m._overflowToolbarHelpers&&sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopoverControls._mSupportedControls){var s=sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopoverControls._mSupportedControls;var p=sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopoverControls.prototype;var c=['sap.ushell.ui.launchpad.ActionItem','sap.ushell.ui.footerbar.AboutButton','sap.ushell.ui.footerbar.ContactSupportButton','sap.ushell.ui.footerbar.EndUserFeedback','sap.ushell.ui.footerbar.HideGroupsButton','sap.ushell.ui.footerbar.LogoutButton','sap.ushell.ui.footerbar.UserPreferencesButton','sap.m.Button'];var C=function(n){return n.substring(0,1).toUpperCase()+n.substring(1);};var S={canOverflow:true,listenForEvents:['press'],noInvalidationProps:['enabled','type']};var P=function(o){o.setActionType('standard');var t=o.getType();if(t!==sap.m.ButtonType.Accept&&t!==sap.m.ButtonType.Reject){o.setType(sap.m.ButtonType.Transparent);}};var f=function(o){o.setActionType('action');};c.forEach(function(n){s[n]=S;var a=n.split('.').map(C).join('');var b='_preProcess';var d='_postProcess';p[b+a]=P;p[d+a]=f;});}}});}());\n",
	"sap/ushell/renderers/fiori2/meArea/MeArea.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.jsview('sap.ushell.renderers.fiori2.meArea.MeArea',{createContent:function(c){jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.m.OverflowToolbar');jQuery.sap.require('sap.ushell.resources');this.addStyleClass('sapUshellMeAreaView');var u=sap.ushell.Container.getUser().getFullName();var U=new sap.m.VBox({items:[new sap.m.Text({text:u}).addStyleClass('sapUshellMeAreaUserName'),new sap.m.Button({type:sap.m.ButtonType.Unstyled,icon:'sap-icon://log',text:sap.ushell.resources.i18n.getText('logoutBtn_title'),tooltip:sap.ushell.resources.i18n.getText('logoutBtn_tooltip'),press:[c.logout,c]}).addStyleClass('sapUshellLogoutButton')]}).addStyleClass('sapUshellUserArea');var a=sap.ushell.Container.getUser().getImage(),b;if(!a){b=new sap.ui.core.Icon({src:sap.ui.core.IconPool.getIconURI('person-placeholder'),size:'4rem'});}else{b=new sap.m.Image({src:a,width:'4rem',height:'4rem'});}b.addStyleClass('sapUshellMeAreaUserImage');var o=new sap.m.HBox({items:[b,U]});o.addStyleClass('sapUshellMeAreaUserInfo');o.addStyleClass('sapContrastPlus');var A=new sap.m.OverflowToolbar({id:'overflowActions',design:sap.m.ToolbarDesign.Transparent,content:{path:'/currentState/actions',factory:function(i,C){var h=sap.ui.getCore().byId(C.getObject());if(h&&h.setActionType){h.setActionType('action');c._addPressHandlerToActions(h);}return h;}}}).addStyleClass('sapContrastPlus');if(A._getOverflowButton){var d=A._getOverflowButton();if(d){var e=d.onAfterRendering;d.onAfterRendering=function(){if(e){e.apply(this,arguments);}this.addStyleClass('sapUshellActionItem');this.setText(sap.ushell.resources.i18n.getText('meAreaMoreActions'));};}}A.updateAggregation=function(n){var B=this.mBindingInfos[n],h=this.getMetadata().getJSONKeys()[n],C;jQuery.each(this[h._sGetter](),jQuery.proxy(function(i,v){this[h._sRemoveMutator](v);},this));jQuery.each(B.binding.getContexts(),jQuery.proxy(function(i,v){C=B.factory(this.getId()+'-'+i,v)?B.factory(this.getId()+'-'+i,v).setBindingContext(v,B.model):'';this[h._sMutator](C);},this));};jQuery.sap.require('sap.m.StandardListItem');var f=new sap.m.StandardListItem({title:'{meAreaModel>title}',description:{path:'meAreaModel>appType',formatter:function(s){return sap.ushell.services.AppType.getDisplayName(s);}},icon:'{meAreaModel>icon}',type:sap.m.ListType.Active,info:'{meAreaModel>timestamp}'});f.addStyleClass('sapUshellMeAreaActivityItem');var I=new sap.m.IconTabBar('meAreaIconTabBar',{backgroundDesign:sap.m.BackgroundDesign.Transparent,expandable:false,items:[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText('recentActivities'),content:new sap.m.List({items:{path:'meAreaModel>/apps/recentActivities',template:f},itemPress:function(E){var m=this.getModel('meAreaModel'),v=sap.ui.getCore().byId('viewPortContainer');if(v){v.switchState('Center');}var p=E.getParameter('listItem').getBindingContextPath();setTimeout(function(){hasher.setHash(m.getProperty(p).url);},200);}})})]}).addStyleClass('sapUshellMeAreaTabBar');var g=I.onAfterRendering;I.onAfterRendering=function(){if(g){g.apply(this,arguments);}var t=sap.ui.getCore().byId('meAreaIconTabBar--header');if(t){t.addStyleClass('sapContrastPlus');}};this.actionBox=A;return new sap.m.ScrollContainer({vertical:true,horizontal:false,height:'100%',content:new sap.m.VBox({items:[o,A,I]})});},onViewStateShow:function(){this.getController().refreshUserActivities();this.actionBox.updateAggregation('content');},getControllerName:function(){return'sap.ushell.renderers.fiori2.meArea.MeArea';}});}());\n",
	"sap/ushell/renderers/fiori2/notifications/Notifications.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.utils');sap.ui.controller('sap.ushell.renderers.fiori2.notifications.Notifications',{onInit:function(){this.getView().setModel(new sap.ui.model.json.JSONModel());this.oNotificationsService=sap.ushell.Container.getService('Notifications');this.notificationsUpdateCallback();},onBeforeRendering:function(){this.oNotificationsService.registerNotificationsUpdateCallback(this.notificationsUpdateCallback.bind(this));},notificationsUpdateCallback:function(){var t=this,T,s=false,i;this.oNotificationsService.getNotifications().done(function(n){if(!n){return;}for(i=0;i<n.length;i++){if(n[i].Priority===undefined||n[i].Priority===''){n[i].Priority='MEDIUM';}}T=t.getView().oPressedToolbarButton.getId();if(T==='CreatedAt'){s=t.getView().bSortByDateAscending;if(s){n=t.ascendingSortBy(n,'CreatedAt');}else{n=t.descendingSortBy(n,'CreatedAt');}}else if(T==='NotificationTypeId'){t.getNotificationsByTypeWithGroupHeaders();}else{n=t.descendingSortBy(n,T);}t.getView().getModel().setProperty('/aNotifications',n);}).fail(function(d){jQuery.sap.log.error('Notifications control - call to notificationsService.getNotifications failed: ',d,'sap.ushell.renderers.fiori2.notifications.Notifications');});},executeAction:function(n,a){var p=this.oNotificationsService.executeAction(n,a),t=this,r;p.fail(function(){sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedExecuteAction'));if(r){t.addNotificationToModel(r.obj,r.index);}});r=this.removeNotificationFromModel(n);},executeBulkAction:function(n,a,g){var r=this.removeGroupFromModel(g),p=this.oNotificationsService.executeBulkAction(n,a),R=r.oGroup.notifications;p.fail(function(o){sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedExecuteBulkAction'));if(o.failedNotifications&&o.failedNotifications.length>0){var N=R.filter(function(b,i,A){return o.failedNotifications.indexOf(b.Id)>-1;});r.oGroup.notifications=N;this.reAddFailedGroup(r);}}.bind(this));},dismissBulkNotifications:function(n,g){var r=this.removeGroupFromModel(g),p=this.oNotificationsService.dismissBulkNotifications(n),R=r.oGroup.notifications;p.fail(function(o){sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedExecuteBulkAction'));if(o.failedNotifications&&o.failedNotifications.length>0){var N=R.filter(function(a,i,A){return o.failedNotifications.indexOf(a.Id)>-1;});r.oGroup.notifications=N;this.reAddFailedGroup(r);}}.bind(this));},reAddFailedGroup:function(g){var m=this.getView().getModel(),G=m.getProperty('/aNotificationsByType');G.splice(g.removedGroupIndex,0,g.oGroup);m.setProperty('/aNotificationsByType',G);},removeGroupFromModel:function(g){var m=this.getView().getModel(),G=m.getProperty('/aNotificationsByType'),r={oGroup:g,removedGroupIndex:undefined};G.some(function(o,i){if(o.Id===g.Id){r.removedGroupIndex=i;G.splice(i,1);m.setProperty('/aNotificationsByType',G);return true;}return false;});return r;},getNotificationsByTypeWithGroupHeaders:function(){var p=this.oNotificationsService.getNotificationsByTypeWithGroupHeaders(),t=this;p.fail(function(){sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedLoadingByType'));});p.done(function(n){var j=JSON.parse(n),a=j.value,r=[],l=-1;a.forEach(function(i,b){if(i.IsGroupHeader){r.push(i);l=l+1;}else{if(r[l]){if(!r[l]['notifications']){r[l]['notifications']=[];}r[l]['notifications'].push(i);}}});t.getView().getModel().setProperty('/aNotificationsByType',r);});},onListItemPress:function(n,s,a,p){var v=sap.ui.getCore().byId('viewPortContainer');if(hasher.getHash()===s+'-'+a){v.switchState('Center');}else{sap.ushell.utils.toExternalWithParameters(s,a,p);}this.markRead(n);},addNotificationToModel:function(n,i){var m=this.getView().getModel(),a=m.getProperty('/aNotifications'),t=this.getView().oPressedToolbarButton.getId();a.splice(i,0,n);m.setProperty('/aNotifications',a);if(t==='NotificationTypeId'){this.getNotificationsByTypeWithGroupHeaders();}},removeNotificationFromModel:function(n){var m=this.getView().getModel(),t=this.getView().oPressedToolbarButton.getId();if(t==='CreatedAt'||t==='Priority'){var r={},a=m.getProperty('/aNotifications');a.some(function(b,c,d){if(b.Id&&b.Id===n){r.obj=d.splice(c,1)[0];r.index=c;return true;}});m.setProperty('/aNotifications',a);return r;}else{var r={},g=m.getProperty('/aNotificationsByType');for(var i=0;i<g.length;i++){var a=g[i].notifications;if(a.length==1&&a[0].Id===n){g.splice(i,1);}else{a.some(function(b,c,d){if(b.Id&&b.Id===n){r.obj=d.splice(c,1)[0];r.index=c;return true;}});g[i].notifications=a;}}m.setProperty('/aNotificationsByType',g);return r;}},dismissNotification:function(n){var p=this.oNotificationsService.dismissNotification(n);p.fail(function(){sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedDismiss'));var l=sap.ui.getCore().byId('notificationsList');if(l){l.updateItems();}});},setMarkReadOnModel:function(n,i){var m=this.getView().getModel(),a=m.getProperty('/aNotifications');a.some(function(b,c,d){if(b.Id&&b.Id===n){b.IsRead=i;return true;}});m.setProperty('/aNotifications',a);},markRead:function(n){var p=this.oNotificationsService.markRead(n),t=this;p.fail(function(){sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedMarkRead'));t.setMarkReadOnModel(n,false);});this.setMarkReadOnModel(n,true);},ascendingSortBy:function(n,p){n.sort(function(x,y){var v=x[p],a=y[p];if(v===a){v=x.id;a=y.id;}return a>v?-1:1;});return n;},descendingSortBy:function(n,p){n.sort(function(x,y){var v=x[p],a=y[p];if(v===a){if(p==='Priority'){v=x['CreatedAt'];a=y['CreatedAt'];}else{v=x.id;a=y.id;}return v>a?-1:1;}if(p==='Priority'){if(v==='HIGH'){return-1;}if(a==='HIGH'){return 1;}if(v==='MEDIUM'){return-1;}return 1;}return v>a?-1:1;});return n;}});}());\n",
	"sap/ushell/renderers/fiori2/notifications/Notifications.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.m.NotificationListItem');sap.ui.jsview('sap.ushell.renderers.fiori2.notifications.Notifications',{createContent:function(c){var s,t=this;this.oActionListItemTemplate=new sap.m.Button({text:'{ActionText}',type:{parts:['Nature'],formatter:function(b){return b==='POSITIVE'?'Accept':'Reject';}},press:function(e){var N=this.getBindingContext().getPath(),o=this.getModel().getProperty(N),p=N.split('/'),T=t.oPressedToolbarButton.getId(),P=T==='NotificationTypeId'?'/'+p[1]+'/'+p[2]+'/'+p[3]+'/'+p[4]:'/'+p[1]+'/'+p[2],b=this.getModel().getProperty(P),d=b.Id;c.executeAction(d,o.ActionId);}});this.oActionGroupItemTemplate=new sap.m.Button({text:'{GroupActionText}',type:{parts:['Nature'],formatter:function(b){return b==='POSITIVE'?'Accept':'Reject';}},press:function(e){var N=this.getBindingContext().getPath(),o=this.getModel().getProperty(N),p=N.split('/'),P='/'+p[1]+'/'+p[2],b=this.getModel().getProperty(P),d=[];b.notifications.forEach(function(f,g){d.push(f.Id);});c.executeBulkAction(d,o.ActionId,b);}});this.addStyleClass('sapUshellNotificationsView');this.bSortByDateAscending=false;this.oNotificationListItemTemplate=new sap.m.NotificationListItem({press:function(e){var b=this.getBindingContext(),m=b.sPath,M=this.getModel().getProperty(m),S=M.NavigationTargetObject,A=M.NavigationTargetAction,p=M.NavigationTargetParams,N=M.Id;c.onListItemPress(N,S,A,p).bind(c);},datetime:{path:'CreatedAt',formatter:sap.ushell.utils.formatDate.bind(c)},description:'{SensitiveText}',title:'{Text}',buttons:{path:'Actions',templateShareable:true,sorter:new sap.ui.model.Sorter('Nature',true),template:this.oActionListItemTemplate},unread:{parts:['IsRead'],formatter:function(b){return!b;}},close:function(e){var N=this.getBindingContext().getPath(),p=N.split('/'),P='/'+p[1]+'/'+p[2],o=this.getModel().getProperty(P),b=o.Id;c.dismissNotification(b);},priority:{parts:['Priority'],formatter:function(p){if(p){p=p.charAt(0)+p.substr(1).toLowerCase();return sap.ui.core.Priority[p];}}}}).addStyleClass('sapUshellNotificationsListItem');this.oNotificationGroupTemplate=new sap.m.NotificationListGroup({title:'{GroupHeaderText}',description:'{GroupHeaderText}',collapsed:true,datetime:{path:'CreatedAt',formatter:sap.ushell.utils.formatDate.bind(c)},buttons:{path:'Actions',templateShareable:true,sorter:new sap.ui.model.Sorter('Nature',true),template:this.oActionGroupItemTemplate},items:{path:'notifications',template:this.oNotificationListItemTemplate},close:function(e){var N=this.getBindingContext().getPath(),p=N.split('/'),P='/'+p[1]+'/'+p[2],o=this.getModel().getProperty(P),b=[];o.notifications.forEach(function(d,f){b.push(d.Id);});c.dismissBulkNotifications(b,o);},priority:{parts:['Priority'],formatter:function(p){if(p){p=p.charAt(0)+p.substr(1).toLowerCase();return sap.ui.core.Priority[p];}}}});this.oNotificationsList=new sap.m.List({mode:sap.m.ListMode.SingleSelect,noDataText:sap.ushell.resources.i18n.getText('noNotifications'),items:{path:'/aNotifications',template:this.oNotificationListItemTemplate,templateShareable:true}}).addStyleClass('sapUshellNotificationsList').addStyleClass('sapContrastPlus').addStyleClass('sapContrast');s=new sap.m.ScrollContainer('notificationsScrollContainer',{content:this.oNotificationsList,vertical:true});var C=new sap.m.Button('CreatedAt',{type:'Transparent',iconFirst:false,text:sap.ushell.resources.i18n.getText('notificationsSortByDate'),tooltip:sap.ushell.resources.i18n.getText('notificationsSortByDateDescendingTooltip'),icon:'sap-icon://sort-descending',press:function(){var I,N=this.getModel().getProperty('/aNotifications');t.oNotificationsList.bindItems('/aNotifications',t.oNotificationListItemTemplate);if(t.oPressedToolbarButton===this){t.bSortByDateAscending=!t.bSortByDateAscending;I=t.bSortByDateAscending?'sap-icon://sort-ascending':'sap-icon://sort-descending';if(t.bSortByDateAscending){this.setTooltip(sap.ushell.resources.i18n.getText('notificationsSortByDateAscendingTooltip'));}else{this.setTooltip(sap.ushell.resources.i18n.getText('notificationsSortByDateDescendingTooltip'));}this.setIcon(I);}else{this.addStyleClass('bStyleActive');t.oPressedToolbarButton.removeStyleClass('bStyleActive');t.oPressedToolbarButton=this;}if(t.bSortByDateAscending){N=t.getController().ascendingSortBy(N,'CreatedAt');}else{N=t.getController().descendingSortBy(N,'CreatedAt');}this.getModel().setProperty('/aNotifications',N);}}),i=new sap.m.Button('NotificationTypeId',{type:'Transparent',iconFirst:false,text:sap.ushell.resources.i18n.getText('notificationsSortByType'),tooltip:sap.ushell.resources.i18n.getText('notificationsSortByTypeTooltip'),press:function(){this.addStyleClass('bStyleActive');if(t.oPressedToolbarButton!==undefined){t.oPressedToolbarButton.removeStyleClass('bStyleActive');}t.oPressedToolbarButton=this;t.getController().getNotificationsByTypeWithGroupHeaders();t.oNotificationsList.bindItems('/aNotificationsByType',t.oNotificationGroupTemplate);}}),a=new sap.m.Button('Priority',{type:'Transparent',iconFirst:false,text:sap.ushell.resources.i18n.getText('notificationsSortByPriority'),tooltip:sap.ushell.resources.i18n.getText('notificationsSortByPriorityTooltip'),press:function(){t.oNotificationsList.bindItems('/aNotifications',t.oNotificationListItemTemplate);this.addStyleClass('bStyleActive');if(t.oPressedToolbarButton!==undefined){t.oPressedToolbarButton.removeStyleClass('bStyleActive');}t.oPressedToolbarButton=this;var N=this.getModel().getProperty('/aNotifications');N=t.getController().descendingSortBy(N,'Priority');this.getModel().setProperty('/aNotifications',N);}});this.oPressedToolbarButton=C;C.addStyleClass('bStyleActive');var n=new sap.m.Page('notificationsSorter',{expanded:true,backgroundDesign:'Transparent',content:[s],headerContent:new sap.m.Toolbar('sortingToolbar',{content:[C,i,a]}).addStyleClass('sapUshellNotificationToolBar')}).addStyleClass('myPanel');return[n];},getControllerName:function(){return'sap.ushell.renderers.fiori2.notifications.Notifications';}});}());\n",
	"sap/ushell/renderers/fiori2/search/SearchConfiguration.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchConfiguration');var D='sap.ushell.renderers.fiori2.search.controls.SearchResultListItem';jQuery.sap.require(D);var a=jQuery.sap.getObject(D);var b='sap.ushell.renderers.fiori2.search.controls.SearchResultListSelectionHandler';jQuery.sap.require(b);var c=jQuery.sap.getObject(b);var u={multiSelect:{type:'bool'},odataProvider:{type:'bool'},searchBusinessObjects:{type:'bool'},charts:{type:'bool'}};var S=sap.ushell.renderers.fiori2.search.SearchConfiguration=function(){this.init.apply(this,arguments);};S.prototype={init:function(p){try{var d=window['sap-ushell-config'].renderers.fiori2.componentData.config.esearch;jQuery.extend(true,this,d);}catch(e){}this.handleOutdatedConfigurationParameters();this.setDefaults();this.readUrlParameters();this.setModulePaths();},setModulePaths:function(){if(!this.modulePaths){return;}for(var i=0;i<this.modulePaths.length;++i){var m=this.modulePaths[i];jQuery.sap.registerModulePath(m.moduleName,m.urlPrefix);}},handleOutdatedConfigurationParameters:function(){try{var d=window['sap-ushell-config'].renderers.fiori2.componentData.config;if(d.searchBusinessObjects!==undefined&&this.searchBusinessObjects===undefined){if(d.searchBusinessObjects==='hidden'||d.searchBusinessObjects===false){this.searchBusinessObjects=false;}else{this.searchBusinessObjects=true;}}if(d.enableSearch!==undefined&&this.enableSearch===undefined){this.enableSearch=d.enableSearch;}}catch(e){}},setDefaults:function(){if(this.searchBusinessObjects===undefined){this.searchBusinessObjects=true;}if(this.odataProvider===undefined){this.odataProvider=false;}if(this.multiSelect===undefined){this.multiSelect=true;}if(this.charts===undefined){this.charts=true;}if(this.dataSources===undefined){this.dataSources={};}if(this.enableSearch===undefined){this.enableSearch=true;}},readUrlParameters:function(){var p=this.parseUrlParameters();for(var d in p){var e=u[d];if(!e){continue;}var v=p[d];switch(e.type){case'bool':v=(v==='true'||v==='');break;default:}this[d]=v;}},parseUrlParameters:function(){var U=sap.ushell.Container.getService('URLParsing');var p=U.parseParameters(window.location.search);var n={};for(var k in p){var v=p[k];if(v.length!==1){continue;}v=v[0];if(typeof v!=='string'){continue;}n[k]=v;}return n;},getDataSourceConfig:function(d){var f;var s=d.semanticObjectType;if(!s&&d.semanticObjectTypes&&d.semanticObjectTypes.length==1){s=d.semanticObjectTypes[0];}if(this.semanticObjects&&s){f=this.semanticObjects[s];}if(!f){if(!this._defaultConfig){this._defaultConfig={searchResultListItem:D,searchResultListItemControl:a,searchResultListSelectionHandler:b,searchResultListSelectionHandlerControl:c};}f=this._defaultConfig;if(s){this.semanticObjects=this.semanticObjects||[];this.semanticObjects[s]=f;}}f.searchResultListItem=f.searchResultListItem||D;try{if(!f.searchResultListItemControl){jQuery.sap.require(f.searchResultListItem);f.searchResultListItemControl=jQuery.sap.getObject(f.searchResultListItem);}}catch(e){}f.searchResultListSelectionHandler=f.searchResultListSelectionHandler||b;try{if(!f.searchResultListSelectionHandlerControl){jQuery.sap.require(f.searchResultListSelectionHandler);f.searchResultListSelectionHandlerControl=jQuery.sap.getObject(f.searchResultListSelectionHandler);}}catch(e){}return f;}};})();\n",
	"sap/ushell/renderers/fiori2/search/SearchFacetDialogModel.js":"(function(g){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchModel');sap.ushell.renderers.fiori2.search.SearchModel.extend('sap.ushell.renderers.fiori2.search.SearchFacetDialogModel',{constructor:function(){var t=this;sap.ushell.renderers.fiori2.search.SearchModel.prototype.constructor.apply(t,[]);t.aAllowedAccessUsage=['AutoFacet'];t.facetQuery=t.sina.createPerspectiveQuery({templateFactsheet:true});t.chartQuery=t.sina.createChartQuery();t.aFilters=[];},prepareFacetList:function(){var t=this;var m=t.getDataSource().getMetaDataSync();t.setProperty('/facetDialog',t.oFacetFormatter.getDialogFacetsFromMetaData(m,t));},facetDialogSingleCall:function(p){var t=this;t.chartQuery.setDataSource(t.getDataSource());t.chartQuery.setSkip(0);t.chartQuery.setTop(1);t.chartQuery.dimensions=[];t.chartQuery.addDimension(p.sAttribute);return t.chartQuery.getResultSet().then(function(r){var f=t.oFacetFormatter.getDialogFacetsFromChartQuery(r,t);t.setProperty(p.sBindingPath+'/items',f.items);});},resetFacetQueryFilterConditions:function(){var t=this;t.facetQuery.resetFilterConditions();},resetChartQueryFilterConditions:function(){var t=this;t.chartQuery.resetFilterConditions();},hasFilterCondition:function(f){var t=this;for(var i=0;i<t.aFilters.length;i++){if(t.aFilters[i].filterCondition.equals&&t.aFilters[i].filterCondition.equals(f)){return true;}}return false;},hasFilter:function(i){var t=this;var f=i.filterCondition;return t.hasFilterCondition(f);},addFilter:function(i){var t=this;if(!t.hasFilter(i)){t.aFilters.push(i);}},removeFilter:function(a){var t=this;var f=a.filterCondition;for(var i=0;i<t.aFilters.length;i++){if(t.aFilters[i].filterCondition.equals&&t.aFilters[i].filterCondition.equals(f)){t.aFilters.splice(i,1);return;}}},changeFilterAdvaced:function(a,A){var t=this;var f=a.filterCondition;for(var i=0;i<t.aFilters.length;i++){if(t.aFilters[i].filterCondition.equals&&t.aFilters[i].filterCondition.equals(f)){t.aFilters[i].advanced=A;return;}}}});})(window);\n",
	"sap/ushell/renderers/fiori2/search/SearchHelper.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchHelper');var m=sap.ushell.renderers.fiori2.search.SearchHelper={};jQuery.sap.require('jquery.sap.storage');m.Tester=function(){this.init.apply(this,arguments);};m.Tester.prototype={init:function(s,h,S,d){this.alphaNumeric='[a-zA-Z0-9]';this.nonAlphaNumeric='[^a-zA-Z0-9]';this.PL='(?:[\\0-@\\[-`\\{-\\xA9\\xAB-\\xB4\\xB6-\\xB9\\xBB-\\xBF\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u036F\\u0375\\u0378\\u0379\\u037E\\u0380-\\u0385\\u0387\\u038B\\u038D\\u03A2\\u03F6\\u0482-\\u0489\\u0530\\u0557\\u0558\\u055A-\\u0560\\u0588-\\u05CF\\u05EB-\\u05EF\\u05F3-\\u061F\\u064B-\\u066D\\u0670\\u06D4\\u06D6-\\u06E4\\u06E7-\\u06ED\\u06F0-\\u06F9\\u06FD\\u06FE\\u0700-\\u070F\\u0711\\u0730-\\u074C\\u07A6-\\u07B0\\u07B2-\\u07C9\\u07EB-\\u07F3\\u07F6-\\u07F9\\u07FB-\\u07FF\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u083F\\u0859-\\u089F\\u08B5\\u08BE-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962-\\u0970\\u0981-\\u0984\\u098D\\u098E\\u0991\\u0992\\u09A9\\u09B1\\u09B3-\\u09B5\\u09BA-\\u09BC\\u09BE-\\u09CD\\u09CF-\\u09DB\\u09DE\\u09E2-\\u09EF\\u09F2-\\u0A04\\u0A0B-\\u0A0E\\u0A11\\u0A12\\u0A29\\u0A31\\u0A34\\u0A37\\u0A3A-\\u0A58\\u0A5D\\u0A5F-\\u0A71\\u0A75-\\u0A84\\u0A8E\\u0A92\\u0AA9\\u0AB1\\u0AB4\\u0ABA-\\u0ABC\\u0ABE-\\u0ACF\\u0AD1-\\u0ADF\\u0AE2-\\u0AF8\\u0AFA-\\u0B04\\u0B0D\\u0B0E\\u0B11\\u0B12\\u0B29\\u0B31\\u0B34\\u0B3A-\\u0B3C\\u0B3E-\\u0B5B\\u0B5E\\u0B62-\\u0B70\\u0B72-\\u0B82\\u0B84\\u0B8B-\\u0B8D\\u0B91\\u0B96-\\u0B98\\u0B9B\\u0B9D\\u0BA0-\\u0BA2\\u0BA5-\\u0BA7\\u0BAB-\\u0BAD\\u0BBA-\\u0BCF\\u0BD1-\\u0C04\\u0C0D\\u0C11\\u0C29\\u0C3A-\\u0C3C\\u0C3E-\\u0C57\\u0C5B-\\u0C5F\\u0C62-\\u0C7F\\u0C81-\\u0C84\\u0C8D\\u0C91\\u0CA9\\u0CB4\\u0CBA-\\u0CBC\\u0CBE-\\u0CDD\\u0CDF\\u0CE2-\\u0CF0\\u0CF3-\\u0D04\\u0D0D\\u0D11\\u0D3B\\u0D3C\\u0D3E-\\u0D4D\\u0D4F-\\u0D53\\u0D57-\\u0D5E\\u0D62-\\u0D79\\u0D80-\\u0D84\\u0D97-\\u0D99\\u0DB2\\u0DBC\\u0DBE\\u0DBF\\u0DC7-\\u0E00\\u0E31\\u0E34-\\u0E3F\\u0E47-\\u0E80\\u0E83\\u0E85\\u0E86\\u0E89\\u0E8B\\u0E8C\\u0E8E-\\u0E93\\u0E98\\u0EA0\\u0EA4\\u0EA6\\u0EA8\\u0EA9\\u0EAC\\u0EB1\\u0EB4-\\u0EBC\\u0EBE\\u0EBF\\u0EC5\\u0EC7-\\u0EDB\\u0EE0-\\u0EFF\\u0F01-\\u0F3F\\u0F48\\u0F6D-\\u0F87\\u0F8D-\\u0FFF\\u102B-\\u103E\\u1040-\\u104F\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F-\\u109F\\u10C6\\u10C8-\\u10CC\\u10CE\\u10CF\\u10FB\\u1249\\u124E\\u124F\\u1257\\u1259\\u125E\\u125F\\u1289\\u128E\\u128F\\u12B1\\u12B6\\u12B7\\u12BF\\u12C1\\u12C6\\u12C7\\u12D7\\u1311\\u1316\\u1317\\u135B-\\u137F\\u1390-\\u139F\\u13F6\\u13F7\\u13FE-\\u1400\\u166D\\u166E\\u1680\\u169B-\\u169F\\u16EB-\\u16F0\\u16F9-\\u16FF\\u170D\\u1712-\\u171F\\u1732-\\u173F\\u1752-\\u175F\\u176D\\u1771-\\u177F\\u17B4-\\u17D6\\u17D8-\\u17DB\\u17DD-\\u181F\\u1878-\\u187F\\u1885\\u1886\\u18A9\\u18AB-\\u18AF\\u18F6-\\u18FF\\u191F-\\u194F\\u196E\\u196F\\u1975-\\u197F\\u19AC-\\u19AF\\u19CA-\\u19FF\\u1A17-\\u1A1F\\u1A55-\\u1AA6\\u1AA8-\\u1B04\\u1B34-\\u1B44\\u1B4C-\\u1B82\\u1BA1-\\u1BAD\\u1BB0-\\u1BB9\\u1BE6-\\u1BFF\\u1C24-\\u1C4C\\u1C50-\\u1C59\\u1C7E\\u1C7F\\u1C89-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF7-\\u1CFF\\u1DC0-\\u1DFF\\u1F16\\u1F17\\u1F1E\\u1F1F\\u1F46\\u1F47\\u1F4E\\u1F4F\\u1F58\\u1F5A\\u1F5C\\u1F5E\\u1F7E\\u1F7F\\u1FB5\\u1FBD\\u1FBF-\\u1FC1\\u1FC5\\u1FCD-\\u1FCF\\u1FD4\\u1FD5\\u1FDC-\\u1FDF\\u1FED-\\u1FF1\\u1FF5\\u1FFD-\\u2070\\u2072-\\u207E\\u2080-\\u208F\\u209D-\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F-\\u2182\\u2185-\\u2BFF\\u2C2F\\u2C5F\\u2CE5-\\u2CEA\\u2CEF-\\u2CF1\\u2CF4-\\u2CFF\\u2D26\\u2D28-\\u2D2C\\u2D2E\\u2D2F\\u2D68-\\u2D6E\\u2D70-\\u2D7F\\u2D97-\\u2D9F\\u2DA7\\u2DAF\\u2DB7\\u2DBF\\u2DC7\\u2DCF\\u2DD7\\u2DDF-\\u2E2E\\u2E30-\\u3004\\u3007-\\u3030\\u3036-\\u303A\\u303D-\\u3040\\u3097-\\u309C\\u30A0\\u30FB\\u3100-\\u3104\\u312E-\\u3130\\u318F-\\u319F\\u31BB-\\u31EF\\u3200-\\u33FF\\u4DB6-\\u4DFF\\u9FD6-\\u9FFF\\uA48D-\\uA4CF\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA620-\\uA629\\uA62C-\\uA63F\\uA66F-\\uA67E\\uA69E\\uA69F\\uA6E6-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA7AF\\uA7B8-\\uA7F6\\uA802\\uA806\\uA80B\\uA823-\\uA83F\\uA874-\\uA881\\uA8B4-\\uA8F1\\uA8F8-\\uA8FA\\uA8FC\\uA8FE-\\uA909\\uA926-\\uA92F\\uA947-\\uA95F\\uA97D-\\uA983\\uA9B3-\\uA9CE\\uA9D0-\\uA9DF\\uA9E5\\uA9F0-\\uA9F9\\uA9FF\\uAA29-\\uAA3F\\uAA43\\uAA4C-\\uAA5F\\uAA77-\\uAA79\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAC3-\\uAADA\\uAADE\\uAADF\\uAAEB-\\uAAF1\\uAAF5-\\uAB00\\uAB07\\uAB08\\uAB0F\\uAB10\\uAB17-\\uAB1F\\uAB27\\uAB2F\\uAB5B\\uAB66-\\uAB6F\\uABE3-\\uABFF\\uD7A4-\\uD7AF\\uD7C7-\\uD7CA\\uD7FC-\\uD7FF\\uE000-\\uF8FF\\uFA6E\\uFA6F\\uFADA-\\uFAFF\\uFB07-\\uFB12\\uFB18-\\uFB1C\\uFB1E\\uFB29\\uFB37\\uFB3D\\uFB3F\\uFB42\\uFB45\\uFBB2-\\uFBD2\\uFD3E-\\uFD4F\\uFD90\\uFD91\\uFDC8-\\uFDEF\\uFDFC-\\uFE6F\\uFE75\\uFEFD-\\uFF20\\uFF3B-\\uFF40\\uFF5B-\\uFF65\\uFFBF-\\uFFC1\\uFFC8\\uFFC9\\uFFD0\\uFFD1\\uFFD8\\uFFD9\\uFFDD-\\uFFFF]|\\uD800[\\uDC0C\\uDC27\\uDC3B\\uDC3E\\uDC4E\\uDC4F\\uDC5E-\\uDC7F\\uDCFB-\\uDE7F\\uDE9D-\\uDE9F\\uDED1-\\uDEFF\\uDF20-\\uDF2F\\uDF41\\uDF4A-\\uDF4F\\uDF76-\\uDF7F\\uDF9E\\uDF9F\\uDFC4-\\uDFC7\\uDFD0-\\uDFFF]|\\uD801[\\uDC9E-\\uDCAF\\uDCD4-\\uDCD7\\uDCFC-\\uDCFF\\uDD28-\\uDD2F\\uDD64-\\uDDFF\\uDF37-\\uDF3F\\uDF56-\\uDF5F\\uDF68-\\uDFFF]|\\uD802[\\uDC06\\uDC07\\uDC09\\uDC36\\uDC39-\\uDC3B\\uDC3D\\uDC3E\\uDC56-\\uDC5F\\uDC77-\\uDC7F\\uDC9F-\\uDCDF\\uDCF3\\uDCF6-\\uDCFF\\uDD16-\\uDD1F\\uDD3A-\\uDD7F\\uDDB8-\\uDDBD\\uDDC0-\\uDDFF\\uDE01-\\uDE0F\\uDE14\\uDE18\\uDE34-\\uDE5F\\uDE7D-\\uDE7F\\uDE9D-\\uDEBF\\uDEC8\\uDEE5-\\uDEFF\\uDF36-\\uDF3F\\uDF56-\\uDF5F\\uDF73-\\uDF7F\\uDF92-\\uDFFF]|\\uD803[\\uDC49-\\uDC7F\\uDCB3-\\uDCBF\\uDCF3-\\uDFFF]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC82\\uDCB0-\\uDCCF\\uDCE9-\\uDD02\\uDD27-\\uDD4F\\uDD73-\\uDD75\\uDD77-\\uDD82\\uDDB3-\\uDDC0\\uDDC5-\\uDDD9\\uDDDB\\uDDDD-\\uDDFF\\uDE12\\uDE2C-\\uDE7F\\uDE87\\uDE89\\uDE8E\\uDE9E\\uDEA9-\\uDEAF\\uDEDF-\\uDF04\\uDF0D\\uDF0E\\uDF11\\uDF12\\uDF29\\uDF31\\uDF34\\uDF3A-\\uDF3C\\uDF3E-\\uDF4F\\uDF51-\\uDF5C\\uDF62-\\uDFFF]|\\uD805[\\uDC35-\\uDC46\\uDC4B-\\uDC7F\\uDCB0-\\uDCC3\\uDCC6\\uDCC8-\\uDD7F\\uDDAF-\\uDDD7\\uDDDC-\\uDDFF\\uDE30-\\uDE43\\uDE45-\\uDE7F\\uDEAB-\\uDEFF\\uDF1A-\\uDFFF]|\\uD806[\\uDC00-\\uDC9F\\uDCE0-\\uDCFE\\uDD00-\\uDEBF\\uDEF9-\\uDFFF]|\\uD807[\\uDC09\\uDC2F-\\uDC3F\\uDC41-\\uDC71\\uDC90-\\uDFFF]|\\uD808[\\uDF9A-\\uDFFF]|\\uD809[\\uDC00-\\uDC7F\\uDD44-\\uDFFF]|[\\uD80A\\uD80B\\uD80E-\\uD810\\uD812-\\uD819\\uD823-\\uD82B\\uD82D\\uD82E\\uD830-\\uD834\\uD836-\\uD839\\uD83C-\\uD83F\\uD874-\\uD87D\\uD87F-\\uDBFF][\\uDC00-\\uDFFF]|\\uD80D[\\uDC2F-\\uDFFF]|\\uD811[\\uDE47-\\uDFFF]|\\uD81A[\\uDE39-\\uDE3F\\uDE5F-\\uDECF\\uDEEE-\\uDEFF\\uDF30-\\uDF3F\\uDF44-\\uDF62\\uDF78-\\uDF7C\\uDF90-\\uDFFF]|\\uD81B[\\uDC00-\\uDEFF\\uDF45-\\uDF4F\\uDF51-\\uDF92\\uDFA0-\\uDFDF\\uDFE1-\\uDFFF]|\\uD821[\\uDFED-\\uDFFF]|\\uD822[\\uDEF3-\\uDFFF]|\\uD82C[\\uDC02-\\uDFFF]|\\uD82F[\\uDC6B-\\uDC6F\\uDC7D-\\uDC7F\\uDC89-\\uDC8F\\uDC9A-\\uDFFF]|\\uD835[\\uDC55\\uDC9D\\uDCA0\\uDCA1\\uDCA3\\uDCA4\\uDCA7\\uDCA8\\uDCAD\\uDCBA\\uDCBC\\uDCC4\\uDD06\\uDD0B\\uDD0C\\uDD15\\uDD1D\\uDD3A\\uDD3F\\uDD45\\uDD47-\\uDD49\\uDD51\\uDEA6\\uDEA7\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3\\uDFCC-\\uDFFF]|\\uD83A[\\uDCC5-\\uDCFF\\uDD44-\\uDFFF]|\\uD83B[\\uDC00-\\uDDFF\\uDE04\\uDE20\\uDE23\\uDE25\\uDE26\\uDE28\\uDE33\\uDE38\\uDE3A\\uDE3C-\\uDE41\\uDE43-\\uDE46\\uDE48\\uDE4A\\uDE4C\\uDE50\\uDE53\\uDE55\\uDE56\\uDE58\\uDE5A\\uDE5C\\uDE5E\\uDE60\\uDE63\\uDE65\\uDE66\\uDE6B\\uDE73\\uDE78\\uDE7D\\uDE7F\\uDE8A\\uDE9C-\\uDEA0\\uDEA4\\uDEAA\\uDEBC-\\uDFFF]|\\uD869[\\uDED7-\\uDEFF]|\\uD86D[\\uDF35-\\uDF3F]|\\uD86E[\\uDC1E\\uDC1F]|\\uD873[\\uDEA2-\\uDFFF]|\\uD87E[\\uDE1E-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])';this.nonepL='(?:[^A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF30-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D])';this.pL='(?:[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF30-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D])';s=s||'*';if(this.onlyAsteriskRegExp.test(s)){this.onlyAsterisk=true;}s=s.replace(/([.^=!:${}()|\\+\\-\\[\\]\\/\\\\])/g,'\\\\$1');this.aSearchTerms=this.tokenizeSearchTerms(s);for(var j=0;j<this.aSearchTerms.length;++j){var a=this.aSearchTerms[j];a=a.replace(/\\?/g,'.');a=a.replace(/\\*/g,'.*?');var i=a.match(/[\\u3400-\\u9faf]/)!==null?true:false;if(i){a=new RegExp(a,'gi');}else{if(a.substr(-3)==='.*?'){a=a.substr(0,a.length-3)+this.pL+'*';}a=new RegExp('('+this.nonepL+'|^|\\\\s)('+a+')()','gi');}this.aSearchTerms[j]=a;}this.highlightStyle=h;if(!d){d='and';}this.bDisjunctionType=d;},onlyAsteriskRegExp:new RegExp('^[\\\\s*]*$'),test:function(t){var r={bMatch:false,sHighlightedText:''};if(!t){return r;}this.initializeBoldArray(t);this.globalBold=false;var R;var M;for(var j=0;j<this.aSearchTerms.length;++j){R=this.aSearchTerms[j];var l=-1;var L=false;while((M=R.exec(t))!==null){L=true;if(R.lastIndex===l){break;}l=R.lastIndex;var s=this.calStartIndex(t,M.index);if(s<0){continue;}l=this.calLastIndex(t,s,R.lastIndex);this.markBoldArray(s,l);}switch(this.bDisjunctionType){case'or':if(L){r.bMatch=true;}break;case'and':default:if(!L){return r;}break;}}r.bMatch=true;if(this.onlyAsterisk){r.sHighlightedText=t;}else{r.sHighlightedText=this.render(t);}return r;},calStartIndex:function(t,s){t=t.substring(s);var r=new RegExp(this.pL);var a=r.exec(t);if(!a){return s;}return a.index+s;},calLastIndex:function(t,s,l){t=t.substring(l,l);var r=new RegExp(this.nonepL);var a=r.exec(t);if(!a){return l;}return l-1;},tokenizeSearchTerms:function(t){var a=t.split(' ');var n=[];$.each(a,function(i,b){b=$.trim(b);if(b.length>0&&b!=='.*'){n.push(b);}});return n;},initializeBoldArray:function(t){this.bold=new Array(t.length);for(var i=0;i<this.bold.length;++i){this.bold[i]=false;}},markBoldArray:function(n,a){for(var i=n;i<a;i++){this.bold[i]=true;this.globalBold=true;}},render:function(o){if(!this.globalBold){return o;}var b=false;var r=[];var s=0;var i;for(i=0;i<o.length;++i){if((!b&&this.bold[i])||(b&&!this.bold[i])){r.push(o.substring(s,i));if(b){r.push('</b>');}else{if(this.highlightStyle){r.push('<b class=\"'+this.highlightStyle+'\">');}else{r.push('<b>');}}b=!b;s=i;}}r.push(o.substring(s,i));if(b){r.push('</b>');}return r.join('');}};m.delayedExecution=function(o,d){var t=null;var a=function(){var b=arguments;var c=this;if(t){window.clearTimeout(t);}t=window.setTimeout(function(){t=null;o.apply(c,b);},d);};a.abort=function(){if(t){window.clearTimeout(t);}};return a;};m.refuseOutdatedRequests=function(o,r){var l=0;var d=function(){var a=arguments;var t=this;var b=++l;var c=new jQuery.Deferred();o.apply(t,a).done(function(){if(b!==l){return;}c.resolve.apply(c,arguments);}).fail(function(){if(b!==l){return;}c.reject.apply(c,arguments);});return c;};d.abort=function(){++l;};if(r){m.outdatedRequestAdministration.registerDecorator(r,d);}return d;};m.abortRequests=function(r){var d=m.outdatedRequestAdministration.getDecorators(r);for(var i=0;i<d.length;++i){var a=d[i];a.abort();}};m.outdatedRequestAdministration={decoratorMap:{},registerDecorator:function(r,d){var a=this.decoratorMap[r];if(!a){a=[];this.decoratorMap[r]=a;}a.push(d);},getDecorators:function(r){var d=this.decoratorMap[r];if(!d){d=[];}return d;}};m.boldTagUnescaper=function(d,h){var i=d.innerHTML;var b='';var a='';if(h){b='&lt;b class=\"'+h+'\"&gt;';a='<b class=\"'+h+'\">';}else{b='&lt;b&gt;';a='<b>';}var c='&lt;/b&gt;';var e='</b>';while(i.indexOf(b)+i.indexOf(c)>=-1){i=i.replace(b,a);i=i.replace(c,e);}while(i.indexOf('&lt;i&gt;')+i.indexOf('&lt;/i&gt;')>=-1){i=i.replace('&lt;i&gt;','<i>');i=i.replace('&lt;/i&gt;','</i>');}d.innerHTML=i;};m.boldTagUnescaperByText=function(d){var a=$(d);var s=a.text().replace(/<b>/gi,'').replace(/<\\/b>/gi,'');if(s.indexOf('<')===-1){a.html(a.text());}};m.forwardEllipsis4Whyfound=function(d){var a=$(d);var p=a.html().indexOf('<b>');if(p>2&&d.offsetWidth+3<d.scrollWidth){var e='...'+a.html().substring(p);a.html(e);}};m.getHashFromUrl=function(){return'#'+(window.location.href.split('#')[1]||'');};m.isSearchAppActive=function(){if(m.getHashFromUrl().substr(1,13)==='Action-search'){return true;}else{return false;}};m.hasher={hash:null,setHash:function(h){if(decodeURIComponent(m.getHashFromUrl())!==decodeURIComponent(h)){try{window.location.hash=h;}catch(e){this.showUrlUpdateError(e);}}this.hash=h;},reset:function(){this.hash=null;},hasChanged:function(){if(decodeURIComponent(this.hash)!==decodeURIComponent(m.getHashFromUrl())){return true;}return false;},showUrlUpdateError:function(e){if(this.urlError){return;}this.urlError=true;jQuery.sap.require('sap.m.MessageBox');var a=sap.ushell.resources.i18n.getText('searchUrlErrorMessage',e.toString());sap.m.MessageBox.alert(a,{title:sap.ushell.resources.i18n.getText('searchUrlErrorTitle'),icon:sap.m.MessageBox.Icon.ERROR});}};m.loadFilterButtonStatus=function(){if(jQuery.sap.storage&&jQuery.sap.storage.isSupported()){var f=jQuery.sap.storage.get('showSearchFacets');if(!f){return false;}else{return true;}}else{return false;}};m.saveFilterButtonStatus=function(a){if(jQuery.sap.storage.isSupported()){jQuery.sap.storage.put('showSearchFacets',a);}};m.idMap={};m.subscribeOnlyOnce=function(i,e,c,s){if(m.idMap[i]){m.idMap[i].unsubscribe();}var w=function(){c.apply(s);sap.ui.getCore().getEventBus().unsubscribe(e,w,s);};sap.ui.getCore().getEventBus().subscribe(e,w,s);m.idMap[i]={unsubscribe:function(){sap.ui.getCore().getEventBus().unsubscribe(e,w,s);}};};m._isDisplayed=function(c){if(c&&c.getDomRef&&c.getDomRef()){return true;}return false;};m.SearchFocusHandler=function(){this.init.apply(this,arguments);};m.SearchFocusHandler.prototype={init:function(s){this.oSearchView=s;},get2BeFocusedControlDomRef:function(){if(!this.oModel){this.oModel=this.oSearchView.getModel();}var i=0;var c=null;var a=null;var b=false;if(this.oModel.getDataSource()!==this.oModel.appDataSource){if(this.oModel.getProperty('/boCount')>0&&this.oModel.getProperty('/appCount')>0){i=this.oModel.getProperty('/focusIndex');i=(i>0)?i+1:i;c=this.oSearchView.resultList.getItems()[i];if(c&&c.getDomRef){a=c.getDomRef();}}else if(this.oModel.getProperty('/boCount')>0&&this.oModel.getProperty('/appCount')===0){i=this.oModel.getProperty('/focusIndex');b=this.oModel.getResultToDisplay()==='searchResultTable';if(!b){c=this.oSearchView.resultList.getItems()[i];}else{c=this.oSearchView.searchResultTable.getItems()[i];}if(c&&c.getDomRef){a=c.getDomRef();}}else if(this.oModel.getProperty('/boCount')===0&&this.oModel.getProperty('/appCount')>0){var f=this.oSearchView.resultList.getItems()[0];if(!m._isDisplayed(f)){return null;}var t=f.getContent()[0];if(!m._isDisplayed(t)){return null;}c=t.getTiles()[0];if(!m._isDisplayed(c)){return null;}a=m.getFocusableTileDomRef(c.getDomRef());}}else{var T=this.oSearchView.appSearchResult;if(T.getDomRef()===null){return null;}i=this.oModel.getProperty('/focusIndex');c=T.getTiles()[i];if(m._isDisplayed(c)){a=m.getFocusableTileDomRef(c.getDomRef());}}return a;},setFocus:function(){var t=this;var r=10;var d=function(){t.focusSetter=null;var c=t.get2BeFocusedControlDomRef();if(!c||sap.ui.getCore().getUIDirty()||sap.ui.getCore().byId('loadingDialog').isOpen()||jQuery('.sapUshellSearchTileContainerDirty').length>0||jQuery('.sapMBusyDialog').length>0){if(--r){t.focusSetter=setTimeout(d,100);}return;}c.focus();if(t.oModel.getProperty('/focusIndex')===0){var a=sap.ui.getCore().byId(c.getAttribute('id'));if(a&&a.getContent&&a.getContent()[0]){var b=a.getContent()[0];if(b.showDetails){b.showDetails();}}}t.oSearchView.resultList.collectListItemsForNavigation();};if(this.focusSetter){clearTimeout(this.focusSetter);this.focusSetter=null;}d();}};m.getFocusableTileDomRef=function(t){return jQuery(t).find('[tabindex], button')[0];};m.attachEventHandlersForTooltip=function(e){$(e).find('.sapUshellSearchResultListItem-MightOverflow').on('mouseenter',function(){var a=$(this);var t=a.attr('title');if((this.offsetWidth<this.scrollWidth||this.offsetHeight<this.scrollHeight)&&!a.attr('title')){a.attr('title',a.text());}else if(t===a.text()){a.removeAttr('title');}}).on('mouseout',function(){var a=$(this);var t=a.attr('title');if(t===a.text()){a.removeAttr('title');}});}})();\n",
	"sap/ushell/renderers/fiori2/search/SearchIntentsResolver.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchIntentsResolver');var m=sap.ushell.renderers.fiori2.search.SearchIntentsResolver=function(){this.init.apply(this,arguments);};m.prototype={init:function(a){this._oCrossAppNav=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('CrossApplicationNavigation');this._model=a;},resolveIntents:function(r){var t=this;var d=new $.Deferred();t._model.sina.sinaSystem().getServerInfo().then(function(s){var a=false;if(s&&s.rawServerInfo&&s.rawServerInfo.Services){for(var i=0;i<s.rawServerInfo.Services.length;++i){var b=s.rawServerInfo.Services[i];if(b.Service==='Search'){for(var j=0;j<b.Capabilities.length;++j){var c=b.Capabilities[j];if(c.Capability==='SemanticObjectType'){a=true;break;}}break;}}}else{a=true;}if(!a){d.resolve();}else{t.fioriFrontendSystemInfo={systemId:sap.ushell.Container.getLogonSystem().getName(),client:sap.ushell.Container.getLogonSystem().getClient()};var p=[];for(var k=0;k<r.length;k++){var e=r[k];if(e.semanticObjectType&&e.semanticObjectType.length>0){var f=t._doResolveIntents(e);p.push(f);}}$.when.apply(null,p).always(function(g){d.resolve();});}});return d.promise();},_doResolveIntents:function(r){var t=this;r.uri='';for(var i=0;i<r.itemattributes.length;i++){if(r.itemattributes[i].uri){r.itemattributes[i].uri='';}}var o=new $.Deferred();var p=t._oCrossAppNav.getSemanticObjectLinks(r.semanticObjectType,r.semanticObjectTypeAttrs);p.done(function(a){var f='-displayFactSheet';var b=false;var s;if(r.systemId&&r.client&&!(t.fioriFrontendSystemInfo.systemId==r.systemId&&t.fioriFrontendSystemInfo.client==r.client)){s='sap-system=sid('+r.systemId+'.'+r.client+')';}r.intents=[];for(var i=0;i<a.length;i++){var c=a[i];var d=c.intent;if(s){var w=d.indexOf('?');if(w===-1){d+='?'+s;}else{w+=1;var e=d.substring(0,w);var g=d.substring(w);d=e+s;if(g&&g.length>0){d+='&'+g;}}}var h={target:{shellHash:d}};var k=t._oCrossAppNav.hrefForExternal(h);if(!b&&c.intent.substr(c.intent.indexOf('-'),f.length)===f){r.uri=k;r.titleUriIsIntent=true;for(var j=0;j<r.itemattributes.length;j++){if(r.itemattributes[j].isTitle){r.itemattributes[j].uri=k;}}b=true;}else{c.target=h.target;c.externalHash=k;r.intents.push(c);}}o.resolve();});p.fail(function(a){o.resolve();});return o;}};})();\n",
	"sap/ushell/renderers/fiori2/search/SearchLogger.js":"(function(g){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchLogger');var m=sap.ushell.renderers.fiori2.search.SearchLogger={};m.NavigationEvent=function(){this.init.apply(this,arguments);};m.NavigationEvent.prototype={init:function(p){this.sina=sap.ushell.Container.getService('Search').getSina();},_createUserHistoryEntry:function(t){function a(p){var n=p;for(var i=0,o=n.length;i<o;i++){var q=n[i];if(q.indexOf('sap-system')!==-1){var r=q.split('=');return{'System':r[1].slice(4,7),'Client':r[1].slice(8,-1)};}}}function b(H){return H.split('-')[0];}function c(H){return H.split('-')[1].split('&')[0];}function d(p){var n=p;var o=[];for(var i=0,q=n.length;i<q;i++){var r=n[i];if(r.indexOf('sap-system')!==-1){continue;}var v=r.split('=')[0];var w=r.split('=')[1];o.push({'Name':v,Value:w});}return o;}var u={'NavigationEventList':[{'SourceApplication':{'SemanticObjectType':'','Intent':'','ParameterList':[]}},{'TargetApplication':{'SemanticObjectType':'','Intent':'','ParameterList':[]}}]};var h=window.hasher.getHashAsArray();var s=b(h[0]);u.NavigationEventList[0].SourceApplication.SemanticObjectType=s;var e=c(h[0]);u.NavigationEventList[0].SourceApplication.Intent=e;var f=d(h[1].split('&'));u.NavigationEventList[0].SourceApplication.ParameterList=f;h=t.split('?');var j=b(h[0]).split('#')[1];u.NavigationEventList[1].TargetApplication.SemanticObjectType=j;var k=c(h[0]);u.NavigationEventList[1].TargetApplication.Intent=k;var l=d(h[1].split('&'));u.NavigationEventList[1].TargetApplication.ParameterList=l;var S=a(h[1].split('&'));u.NavigationEventList[1].TargetApplication=jQuery.extend(u.NavigationEventList[1].TargetApplication,S);return u;},addUserHistoryEntry:function(t){if(!t){return;}if(t.indexOf('#')===-1){return;}var s=this.sina.getSystem().getServices();if(s.PersonalizedSearch&&s.PersonalizedSearch.capabilities&&s.PersonalizedSearch.capabilities.SetUserStatus){var u=this._createUserHistoryEntry(t);this.sina.addUserHistoryEntry(u).done(function(d){}).fail(function(e){});}}};}(window));\n",
	"sap/ushell/renderers/fiori2/search/SearchModel.js":"(function(g){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchResultListFormatter');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchFacetsFormatter');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchTabStripsFormatter');jQuery.sap.require('sap.ushell.renderers.fiori2.search.FacetItem');jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionHandler');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchIntentsResolver');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchConfiguration');var s=g.sap;var S=s.ushell.renderers.fiori2.search.SearchHelper;var c=s.ushell.renderers.fiori2.search.SearchResultListFormatter;var T=s.ushell.renderers.fiori2.search.SearchTabStripsFormatter.Formatter;var d=s.ushell.renderers.fiori2.search.suggestions.SuggestionHandler;var f=s.ushell.renderers.fiori2.search.SearchConfiguration;s.ushell.renderers.fiori2.search.getModelSingleton=function(){if(!s.ushell.renderers.fiori2.search.oModel){s.ushell.renderers.fiori2.search.oModel=new s.ushell.renderers.fiori2.search.SearchModel();}return s.ushell.renderers.fiori2.search.oModel;};s.ui.model.json.JSONModel.extend('sap.ushell.renderers.fiori2.search.SearchModel',{constructor:function(p){var t=this;p=p||{};s.ui.model.json.JSONModel.prototype.constructor.apply(t,[]);t.config=new f();t.setSizeLimit(200);t.sina=s.ushell.Container.getService('Search').getSina();this.suggestionQuery=this.sina.createSuggestionQuery();t.suggestionHandler=new d({model:this});t.query=t.sina.createPerspectiveQuery({templateFactsheet:true});if(t.config.multiSelect){t.query.setIncludeFacetsWithFilters(true);}t.setProperty('/uiFilter',t.sina.createFilter());t.resetFilterConditions(false);t.createAllAndAppDataSource();t.query.getResultSet=S.refuseOutdatedRequests(t.query.getResultSet,'search');t.searchApplications=S.refuseOutdatedRequests(t.searchApplications,'search');t.oFacetFormatter=new s.ushell.renderers.fiori2.search.SearchFacetsFormatter();t.tabStripFormatter=new T(t.allDataSource);t.dataSourceTree=t.tabStripFormatter.tree;t.pageSize=10;t.appTopDefault=20;t.boTopDefault=t.pageSize;t.setProperty('/isQueryInvalidated',true);t.setProperty('/isBusy',false);t.setProperty('/tableColumns',[]);t.setProperty('/tableSortItems',[]);t.setProperty('/results',[]);t.setProperty('/appResults',[]);t.setProperty('/boResults',[]);t.setProperty('/count',0);t.setProperty('/boCount',0);t.setProperty('/appCount',0);t.setProperty('/facets',[]);t.setProperty('/dataSources',[t.allDataSource,t.appDataSource]);t.setProperty('/persoServiceProviders',[]);t.setProperty('/businessObjSearchEnabled',true);t.setProperty('/initializingObjSearch',false);t.setProperty('/suggestions',[]);t.setProperty('/resultToDisplay','searchResultList');t.setProperty('/displaySwitchVisibility',false);t.setProperty('/documentTitle','Search');t.setProperty('/top',t.boTopDefault);t.setProperty('/orderBy',{});t.setProperty('/facetVisibility',S.loadFilterButtonStatus());t.setProperty('/focusIndex',0);t.setProperty('/fuzzy',false);t.setProperty('/errors',[]);t.resetDataSource(false);t.setProperty('/multiSelectionAvailable',false);t.setProperty('/multiSelectionEnabled',false);t.setProperty('/multiSelection/actions',[]);t.initBusinessObjSearch();try{t.analytics=s.ushell.Container.getService('UsageAnalytics');}catch(e){}if(!t.analytics){t.analytics={logCustomEvent:function(){}};}},initBusinessObjSearch:function(){var t=this;if(t._initBusinessObjSearchProm){return t._initBusinessObjSearchProm;}t._initBusinessObjSearchProm=$.Deferred();if(!t.config.searchBusinessObjects){t.setDataSource(t.appDataSource,false);t.setProperty('/businessObjSearchEnabled',false);t.setProperty('/facetVisibility',false);return t._initBusinessObjSearchProm.resolve();}t.setProperty('/initializingObjSearch',true);var a={labelPlural:s.ushell.resources.i18n.getText('genericLoading'),enabled:false,key:t.getProperty('/uiFilter/dataSource/key'),equals:function(){return true;}};t.setProperty('/dataSource',a);t.setProperty('/dataSources',[a]);t.sina.sinaSystem().getServerInfo().done(function(b){t.serverInfo=b;if(t._isBusinessObjSearchEnabledOnBackend(b)){t.loadDataSources().done(function(){t.setProperty('/initializingObjSearch',false);if(!s.ushell.renderers.fiori2.search.SearchShellHelper){jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchShellHelper');}t._initBusinessObjSearchProm.resolve();});}else{t.setDataSource(t.appDataSource,false);t.setProperty('/businessObjSearchEnabled',false);t.setProperty('/facetVisibility',false);t.setProperty('/defaultDataSource',t.appDataSource);t.setProperty('/initializingObjSearch',false);t.config.searchBusinessObjects=false;t._initBusinessObjSearchProm.resolve();}}).fail(function(){t.setDataSource(t.appDataSource,false);t.setProperty('/businessObjSearchEnabled',false);t.setProperty('/facetVisibility',false);t.setProperty('/initializingObjSearch',false);t.config.searchBusinessObjects=false;t._initBusinessObjSearchProm.resolve();});return t._initBusinessObjSearchProm;},_isBusinessObjSearchEnabledOnBackend:function(a){a=a.rawServerInfo;for(var i=0;i<a.Services.length;++i){var b=a.Services[i];if(b.Service.toLowerCase()=='search'){return true;}}return false;},isBusinessObjSearchConfigured:function(){try{var a=window['sap-ushell-config'].renderers.fiori2.componentData.config;return a.searchBusinessObjects!=='hidden';}catch(e){return true;}},isBusinessObjSearchEnabled:function(){return this.getProperty('/businessObjSearchEnabled');},setProperty:function(n,v,C,a){var t=this;var r=s.ui.model.json.JSONModel.prototype.setProperty.apply(this,arguments);switch(n){case'/boResults':case'/appResults':t.calculateResultList();break;case'/appCount':case'/boCount':r=t.setProperty('/count',t.getProperty('/appCount')+t.getProperty('/boCount'));break;default:break;}return r;},setFuzzy:function(a){var b='Fuzzy';var r=this.query.getRequestedEntities().slice(0);var i=r.indexOf(b);if(a===true){if(i===-1){r.push(b);}}else if(i>-1){r.splice(i,1);}this.query.setRequestedEntities(r);this.setProperty('/fuzzy',a);},getSearchBoxTerm:function(){return this.getProperty('/uiFilter/searchTerms');},setSearchBoxTerm:function(a,b){var t=this;var e=a.replace(/^\\s+/,'');this.setProperty('/uiFilter/searchTerms',e);if(e.length===0){return;}if(b||b===undefined){t._firePerspectiveQuery();}},getLastSearchTerm:function(){return this.query.getSearchTerms();},setFacetVisibility:function(v,a){this.setProperty('/facetVisibility',v);S.saveFilterButtonStatus(v);if((a||a===undefined)&&v){this._firePerspectiveQuery();}},getFacetVisibility:function(){return this.getProperty('/facetVisibility');},getTop:function(){return this.getProperty('/top');},setTop:function(t,a){this.setProperty('/top',t);if(a||a===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},resetTop:function(){this.setProperty('/focusIndex',0);if(this.isAppCategory()){this.setTop(this.appTopDefault,false);}else{this.setTop(this.boTopDefault,false);}},getOrderBy:function(){return this.getProperty('/orderBy');},setOrderBy:function(o,a){this.setProperty('/orderBy',o);if(a||a===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},resetOrderBy:function(a){this.setProperty('/orderBy',{});if(a||a===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},isEqualOrderBy:function(o,a){if(jQuery.isEmptyObject(o)&&jQuery.isEmptyObject(a)){return true;}else if(o.orderBy===a.orderBy&&o.sortOrder===a.sortOrder){return true;}else{return false;}},getDocumentTitle:function(){var a=this.getSearchBoxTerm();var b=this.getDataSource().label;var t;if(this.getDataSource().equals(this.allDataSource)){t=s.ushell.resources.i18n.getText('searchTileTitleProposalAll',[a]);}else{t=s.ushell.resources.i18n.getText('searchTileTitleProposal',[a,b]);}return t;},resetQuery:function(){S.hasher.reset();this.resetTop();this.setSearchBoxTerm('');this.resetDataSource(false);this.resetFilterConditions(false);this.query.resetFilterConditions();this.query.setSearchTerms('random-jgfhfdskjghrtekjhg');this.setProperty('/facets',[]);this.setProperty('/results',[]);this.setProperty('/appResults',[]);this.setProperty('/boResults',[]);this.setProperty('/count',0);this.setProperty('/boCount',0);this.setProperty('/appCount',0);},createAllAndAppDataSource:function(){this.allDataSource=this.sina.getRootDataSource();this.allDataSource.label=s.ushell.resources.i18n.getText('label_all');this.allDataSource.labelPlural=s.ushell.resources.i18n.getText('label_all');this.appDataSource=this.sina.createDataSource({objectName:'$$APPS$$',label:s.ushell.resources.i18n.getText('label_apps'),labelPlural:s.ushell.resources.i18n.getText('label_apps'),type:'Apps',name:'Apps',sina:this.sina});},loadDataSources:function(){var t=this;var p=$.Deferred();t.getServerDataSources().done(function(a){if(!jQuery.isArray(a)||a.length==0){t.setDataSource(t.appDataSource,false);t.setProperty('/businessObjSearchEnabled',false);t.setProperty('/facetVisibility',false);t.setProperty('/defaultDataSource',t.appDataSource);t.config.searchBusinessObjects=false;p.resolve();return;}a=a.slice();a.splice(0,0,t.appDataSource);a.splice(0,0,t.allDataSource);a=t._concatenateLabelAndRemoteSystem(a);t.setProperty('/dataSources',a);t.updateDataSourceList(t.getDataSource());t.setProperty('/searchTermPlaceholder',t.calculatePlaceholder());var b=t.getProperty('/uiFilter/dataSource/key');t.setProperty('/uiFilter/dataSource/key','');t.setProperty('/uiFilter/dataSource/key',b);p.resolve();}).fail(function(){t.setDataSource(t.appDataSource,false);t.setProperty('/businessObjSearchEnabled',false);t.setProperty('/facetVisibility',false);t.setProperty('/defaultDataSource',t.appDataSource);t.config.searchBusinessObjects=false;p.resolve();});return p;},resetDataSource:function(a){if(this.getProperty('/businessObjSearchEnabled')){this.setDataSource(this.allDataSource,a);}else{this.setDataSource(this.appDataSource,a);}},isAllCategory:function(){var a=this.getProperty('/uiFilter/dataSource');return a.equals(this.allDataSource);},isOtherCategory:function(){var a=this.getProperty('/uiFilter/dataSource');return a.getType().toLowerCase()==='category'&&!this.isAllCategory();},isAppCategory:function(){var a=this.getProperty('/uiFilter/dataSource');return a.equals(this.appDataSource);},getDataSource:function(){return this.getProperty('/uiFilter/dataSource');},setDataSource:function(a,b){this.updateDataSourceList(a);this.getProperty('/uiFilter').setDataSource(a);this.setProperty('/searchTermPlaceholder',this.calculatePlaceholder());this.resetTop();if(b||b===undefined){this._firePerspectiveQuery();}},getServerDataSources:function(){var t=this;if(t.getDataSourcesDeffered){return t.getDataSourcesDeffered;}t.getDataSourcesDeffered=t.sina.getDataSources().then(function(a){return jQuery.grep(a,function(b){return b.getType()!=='Category';});});return t.getDataSourcesDeffered;},notifyFilterChanged:function(){jQuery.each(this.aBindings,function(i,b){if(b.sPath==='/uiFilter/defaultConditionGroup/conditions'){b.checkUpdate(true);}});},addFilterCondition:function(a,b){if(a.attribute||a.conditions){this.getProperty('/uiFilter').addFilterCondition(a);}else{this.setDataSource(a,false);}if(b||b===undefined){this._firePerspectiveQuery();}this.notifyFilterChanged();},removeFilterCondition:function(a,b){if(a.attribute||a.conditions){this.getProperty('/uiFilter').removeFilterCondition(a);}else{this.setDataSource(a,false);}if(b||b===undefined){this._firePerspectiveQuery();}this.notifyFilterChanged();},resetFilterConditions:function(a){this.getProperty('/uiFilter').resetFilterConditions();if(a||a===undefined){this._firePerspectiveQuery();}this.notifyFilterChanged();},doSuggestion:function(){this.suggestionQuery.setFilter(this.getProperty('/uiFilter').clone());this.suggestionHandler.doSuggestion();},abortSuggestions:function(){this.suggestionHandler.abortSuggestions();},_firePerspectiveQuery:function(a,p){var t=this;this.setProperty('/isBusy',true);this.initBusinessObjSearch().then(function(){t._doFirePerspectiveQuery(a,p);});},_doFirePerspectiveQuery:function(a,p){var t=this;var b,e;if(jQuery.isPlainObject(a)){b=a.deserialization;e=a.preserveFormerResults;}else{b=a?a:undefined;e=p?p:undefined;}var u=this.getProperty('/uiFilter');if(u.equals(this.query.getFilter())&&this.getTop()===this.query.getTop()&&this.isEqualOrderBy(this.getOrderBy(),this.query.getOrderBy())&&this.calculateRequestsEntities().length===this.query.requestedEntities.length&&!this.getProperty('/isQueryInvalidated')){t.setProperty('/isBusy',false);return;}if((this.query.getFilter().getDataSource()&&!u.getDataSource().equals(this.query.getFilter().getDataSource()))||(this.query.getFilter().getSearchTerms()&&u.getSearchTerms()!==this.query.getFilter().getSearchTerms())){this.resetOrderBy(false);}if(!b){if(u.getSearchTerms()!==this.query.getFilter().getSearchTerms()||!u.defaultConditionGroup.equals(this.query.getFilter().defaultConditionGroup)||!u.getDataSource().equals(this.query.getFilter().getDataSource())){this.resetTop();}}if(u.getSearchTerms()!==this.query.getFilter().getSearchTerms()||!u.defaultConditionGroup.equals(this.query.getFilter().defaultConditionGroup)){this.tabStripFormatter.invalidate(this.getDataSource());}if(this.getProperty('/isQueryInvalidated')===true){this.query.resetResultSet();this.setProperty('/isQueryInvalidated',false);}this.query.setFilter(this.getProperty('/uiFilter').clone());this.query.setTop(this.getTop());this.query.setOrderBy(this.getOrderBy());this.query.setRequestedEntities(this.calculateRequestsEntities());this.cleanErrors();this.setProperty('/queryFilter',this.query.getFilter());s.ui.getCore().getEventBus().publish('allSearchStarted');this.abortSuggestions();S.abortRequests('search');this.calculateVisibility();this.updateSearchURLSilently();this.analytics.logCustomEvent('FLP: Search','Search',[this.getProperty('/uiFilter/searchTerms'),this.getProperty('/uiFilter/dataSource').key]);var h=this.getDataSource();this.setProperty('/isBusy',true);jQuery.when.apply(null,[this.normalSearch(e),this.appSearch()]).done(function(){t.setProperty('/tabStrips',t.tabStripFormatter.format(h,t.perspective,t));t.setProperty('/facets',t.oFacetFormatter.getFacets(h,t.perspective,t));}).always(function(){document.title=t.getDocumentTitle();t.setProperty('/isBusy',false);s.ui.getCore().getEventBus().publish('allSearchFinished');});},calculateRequestsEntities:function(){if(this.getDataSource().getType()==='Category'||this.getFacetVisibility()){return['SearchResults','Facets','TotalCount'];}else{return['SearchResults','TotalCount'];}},appSearch:function(){var t=this;this.setProperty('/appResults',[]);this.setProperty('/appCount',0);if(!this.isAllCategory()&&!this.isAppCategory()){return jQuery.when(true);}var a=this.query.getFilter().getDataSource().equals(this.allDataSource)?this.appTopDefault:this.query.getTop();return this.searchApplications(this.query.getFilter().getSearchTerms(),a,0).then(function(r){t.setProperty('/appCount',r.totalResults);t.setProperty('/appResults',r.getElements());},function(){return jQuery.when(true);});},searchApplications:function(a,t,b){return s.ushell.Container.getService('Search').queryApplications({searchTerm:a,searchInKeywords:true,top:t,skip:b});},normalSearch:function(p){var t=this;if(!p){t.resetAndDisableMultiSelection();}if(!t.isBusinessObjSearchEnabled()||t.isAppCategory()){this.setProperty('/boResults',[]);this.setProperty('/boCount',0);return jQuery.when(true);}t.setFuzzy(false);return this.query.getResultSet().then(function(a){if(a.getSearchResultSet().totalcount<1&&t.serverInfo.services.Search.capabilities['OptionFuzzy']){t.setProperty('/boResults',[]);t.setProperty('/boCount',0);t.setFuzzy(true);return t.query.getResultSet().then(function(b){t.perspective=b;return t._afterSearchPrepareResultList(t.perspective,p);},function(e){t.normalSearchErrorHandling(e);t.perspective=null;return jQuery.when(true);});}t.perspective=a;return t._afterSearchPrepareResultList(t.perspective,p);},function(e){t.normalSearchErrorHandling(e);t.perspective=null;return jQuery.when(true);});},_afterSearchPrepareResultList:function(p,a){var t=this;var i;var b=[];if(a){var _=t.getProperty('/boResults');for(i=0;i<_.length;i++){if(_[i].expanded||_[i].selected){b.push(_[i]);}}}t.setProperty('/boResults',[]);t.setProperty('/boCount',0);var e=new c();var n=e.format(p.getSearchResultSet(),this.query.filter.searchTerms);if(n[0]){var h=[];var k=[];var l=n[0].itemattributes;for(i=0;i<l.length;i++){if(l[i].key!==undefined){var m=escape(l[i].key).replace(/[^\\w\\s]/gi,'-');h.push({'name':l[i].name,'key':m,'index':i});if(i===0){k.push({'name':s.ushell.resources.i18n.getText('defaultRank'),'key':'ushellSearchDefaultSortItem','selected':jQuery.isEmptyObject(t.getProperty('/orderBy'))});}else{k.push({'name':l[i].name,'key':m,'selected':t.getProperty('/orderBy').orderBy===m});}}}t.setProperty('/tableColumns',h);t.setProperty('/tableSortItems',k);}var o=new s.ushell.renderers.fiori2.search.SearchIntentsResolver(t);var q=o.resolveIntents(n);q.done(function(r){if(b&&b.length>0){var R=t.sina.ResultElementKeyStatus;var u=[];for(i=0;i<n.length;i++){var v=n[i];if(v.keystatus===R.OK){for(var j=0;j<b.length;j++){var w=b[j];if(w.keystatus===R.OK&&w.key===v.key){v.selected=w.selected;v.expanded=w.expanded;b.splice(j,1);break;}}}else{u.push(v);}}if(u.length>0){var x=[];var y='';for(i=0;i<u.length;i++){var z=u[i].dataSource.key;if(jQuery.inArray(z,x)<0){x.push(z);y+=z+'\\n';}}t.pushError({type:'warning',title:s.ushell.resources.i18n.getText('preserveFormerResultErrorTitle'),description:s.ushell.resources.i18n.getText('preserveFormerResultErrorDetails',y)});}}var A=t.getDataSource();if(A.getType().toLowerCase()==='businessobject'){var B=[];for(i=0;i<n.length;i++){var C=n[i];var D=C.semanticObjectType;if(!D){B=[];break;}if(jQuery.inArray(D,B)==-1){B.push(D);}}if(B.length==1){A.semanticObjectType=B[0];}else if(B.length>1){A.semanticObjectTypes=B;}}if(n.length<p.getSearchResultSet().totalcount){var E={};E.type='footer';n.push(E);}t.setProperty('/boCount',p.getSearchResultSet().totalcount);t.setProperty('/boResults',n);t.enableOrDisableMultiSelection();});return q;},resetAndDisableMultiSelection:function(){this.setProperty('/multiSelectionAvailable',false);this.setProperty('/multiSelectionEnabled',false);},enableOrDisableMultiSelection:function(){var a=this.getDataSource();var b=this.config.getDataSourceConfig(a);var e=new b.searchResultListSelectionHandlerControl();if(e){this.setProperty('/multiSelectionAvailable',e.isMultiSelectionAvailable());}else{this.setProperty('/multiSelectionAvailable',false);}},_concatenateLabelAndRemoteSystem:function(a){var t=this;var b=a;for(var i=0;i<b.length-1;i++){if(b[i].remoteSystem!==undefined&&b[i].remoteSystem!==''&&!t._endWith(b[i].label,b[i].remoteSystem)){b[i].label=b[i].label+' '+s.ushell.resources.i18n.getText('textIn')+' '+b[i].remoteSystem;b[i].labelPlural=b[i].labelPlural+' '+s.ushell.resources.i18n.getText('textIn')+' '+b[i].remoteSystem;}}return b;},_endWith:function(a,b){return a.indexOf(b,a.length-b.length)!==-1;},calculatePlaceholder:function(){var t=this;if(t.isAllCategory()){return s.ushell.resources.i18n.getText('search');}else{return s.ushell.resources.i18n.getText('searchInPlaceholder',t.getDataSource().labelPlural);}},updateDataSourceList:function(n){var a=this.getProperty('/dataSources');while(a.length>0&&!a[0].equals(this.allDataSource)){a.shift();}if(n.equals(this.allDataSource)||n.equals(this.appDataSource)){return;}if(n&&n.key){if(n.key.indexOf('~')>=0){return;}}for(var i=0;i<a.length;++i){var b=a[i];if(b.equals(n)){return;}}a.unshift(n);this.setProperty('/dataSources',a);},invalidateQuery:function(){this.setProperty('/isQueryInvalidated',true);},autoStartApp:function(){var t=this;if(t.getProperty('/appCount')&&t.getProperty('/appCount')===1&&t.getProperty('/count')&&t.getProperty('/count')===1){var a=t.getProperty('/appResults');if(a&&a.length>0&&a[0]&&a[0].url&&t.getProperty('/uiFilter/searchTerms')&&a[0].tooltip&&t.getProperty('/uiFilter/searchTerms').toLowerCase().trim()===a[0].tooltip.toLowerCase().trim()){if(a[0].url[0]==='#'){window.location.href=a[0].url;}else{window.open(a[0].url,'_blank');}}}},getResultToDisplay:function(){return this.getProperty('/resultToDisplay');},setResultToDisplay:function(t){this.setProperty('/resultToDisplay',t);},calculateVisibility:function(){var t=this;if(t.isAppCategory()){t.setResultToDisplay('appSearchResult');t.setProperty('/displaySwitchVisibility',false);}else if(t.isAllCategory()||t.isOtherCategory()){t.setResultToDisplay('searchResultList');t.setProperty('/displaySwitchVisibility',false);}else{var r=t.getResultToDisplay();if(!(r==='searchResultList'||r==='searchResultTable')){t.setResultToDisplay('searchResultList');}t.setProperty('/displaySwitchVisibility',true);}},calculateResultList:function(){var t=this;var r=[];var b=t.getProperty('/boResults');if(b&&b.length){r.push.apply(r,b);}var a=t.getProperty('/appResults');if(a&&a.length>0){var e={type:'appcontainer',tiles:a};if(r.length>0){if(r.length>3){r.splice(3,0,e);}else{r.push(e);}}else{r=[e];}}s.ui.model.json.JSONModel.prototype.setProperty.apply(this,['/results',r]);},getDebugInfo:function(){var t=['\\n'];if(this.serverInfo){t.push('Search Backend System:');t.push('System:'+this.serverInfo.systemid);t.push('Client:'+this.serverInfo.sapclient);t.push('');}t.push('See also Enterprise Search Setup Documentation:');t.push('http://help.sap.com/saphelp_uiaddon10/helpdata/en/57/7d77c891954c21a19c242694e83177/frameset.htm');return t.join('\\n');},getErrors:function(){return this.getProperty('/errors');},cleanErrors:function(){this.setProperty('/errors',[]);},pushError:function(e){var t=this;var a=this.getProperty('/errors');a.push(e);t.setProperty('/errors',a);},normalSearchErrorHandling:function(e){var a=['ESH_FED_MSG016'];if(e){if(e.status===500){jQuery.sap.log.error(e.responseText);this.pushError({type:'error',title:e.statusText,description:e.responseText+this.getDebugInfo()});}if(e.responseText){var b=true;var h=jQuery.parseJSON(e.responseText);var j='';var k='';if(h.Error){if(h.Error.Message){j+=''+h.Error.Message;}if(h.Error.Code){j+=' (Code '+h.Error.Code+').';}}if(h.ErrorDetails){k+='';for(var i=0;i<h.ErrorDetails.length;i++){k+=h.ErrorDetails[i].Message+' (Code '+h.ErrorDetails[i].Code+')';if(a.indexOf(h.ErrorDetails[i].Code)!==-1){b=false;}}}jQuery.sap.log.error(j+' Details: '+k);if(b){this.pushError({type:'error',title:j,description:k+this.getDebugInfo()});}}else{this.pushError({type:'error',title:e.toString(),description:e.toString()+this.getDebugInfo()});}}},parseUrlParameters:function(u){var p={};var k=[{'name':'filter','pos':-1,'value':''},{'name':'top','pos':-1,'value':''},{'name':'datasource','pos':-1,'value':''},{'name':'searchterm','pos':-1,'value':''}];for(var i=0;i<k.length;i++){k[i].pos=u.toLowerCase().indexOf(k[i].name+'=');}k.sort(function(a,b){return a.pos-b.pos;});for(var j=0;j<k.length;j++){if(k[j].pos!==-1){if(k[j+1]&&k[j+1].pos!==-1){k[j].value=u.substring(k[j].pos,k[j+1].pos);}else{k[j].value=u.substring(k[j].pos);}k[j].value=k[j].value.substring(k[j].name.length+1);if(k[j].value.charAt(k[j].value.length-1)==='&'){k[j].value=k[j].value.substring(0,k[j].value.length-1);}k[j].value=decodeURIComponent(k[j].value);p[k[j].name]=k[j].value;}}return p;},createSearchURL:function(){var h='#Action-search';var u=this.getProperty('/uiFilter').getJson();h+='&/searchterm='+encodeURIComponent(u.searchTerms);h+='&datasource='+encodeURIComponent(JSON.stringify(u.dataSource));h+='&top='+this.getTop();h+='&filter='+encodeURIComponent(JSON.stringify(u.defaultConditionGroup));return h;},updateSearchURLSilently:function(){var h=this.createSearchURL();S.hasher.setHash(h);},deserializeURL:function(){if(S.getHashFromUrl().indexOf('#Action-search')!==0){return;}if(!S.hasher.hasChanged()){return;}var u=s.ushell.Container.getService('URLParsing');var a=u.splitHash(S.getHashFromUrl()).appSpecificRoute;if(!a){return;}var p=this.parseUrlParameters(a.substring(2));var b={};if(p.searchterm){b.searchTerms=p.searchterm;}if(p.datasource){b.dataSource=JSON.parse(p.datasource);}else{this.resetDataSource(false);}if(p.top){var t=parseInt(p.top,10);this.setTop(t,false);}this.resetFilterConditions(false);if(p.filter){b.defaultConditionGroup=JSON.parse(p.filter);}this.getProperty('/uiFilter').setJson(b);if(b.dataSource&&b.dataSource.name&&b.dataSource.name==='Apps'){this.setDataSource(this.appDataSource,false);}this._firePerspectiveQuery(true);},buildPersoServiceProvider:function(k){var a=k.substring(k.lastIndexOf('/')+1);var p={container:'PC-'+a,item:'PI-'+a};var b=s.ushell.Container.getService('Personalization').getPersonalizer(p);return{key:k,provider:b}},pushPersoServiceProvider:function(p){var a=this.getProperty('/persoServiceProviders');a.push(p);this.setProperty('/persoServiceProviders',a);},getPersoServiceProvider:function(k){var p=jQuery.grep(this.getProperty('/persoServiceProviders'),function(a){return a.key==k;});return p[0];}});})(window);\n",
	"sap/ushell/renderers/fiori2/search/SearchResultListFormatter.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchResultListFormatter');var m=sap.ushell.renderers.fiori2.search.SearchResultListFormatter=function(){this.init.apply(this,arguments);};m.prototype={init:function(){},format:function(s,t){return this._doFormat(s.getElements(),t);},_getImageUrl:function(r){var i={imageUrl:'',name:''};for(var p in r){var a=r[p];var b=false;try{if(a.value&&(a.$$MetaData$$.presentationUsage.indexOf('Image')>=0||a.$$MetaData$$.presentationUsage.indexOf('Thumbnail')>=0)){b=true;}}catch(e){}if(!b){continue;}i.imageUrl=a.value;i.name=p;return i;}return i;},_moveWhyFound2ResponseAttr:function(w,p){var l=w.length;while(l--){if(w[l].labelRaw===p.labelRaw&&p!==undefined){p.value=w[l].value;p.whyfound=true;w.splice(l,1);}}},_appendRemainingWhyfounds2FormattedResultItem:function(w,i){var l=w.length;while(l--){if(w[l].labelRaw!==undefined){var I={};I.name=w[l].label;I.value=w[l].value;I.whyfound=true;i.push(I);w.splice(l,1);}}},_doFormat:function(r,t){var s=function(a,b){return a.displayOrder-b.displayOrder;};var f=[];for(var i=0;i<r.length;i++){var c=r[i];var u='';var d=c.$$RelatedActions$$;for(var e in d){if(d[e].type==='Navigation'){u=encodeURI(d[e].uri);}}var w=c.$$WhyFound$$||[];var g=[];var h=[];var j='';var k={};for(var p in c){if(!c[p].label||!c[p].$$MetaData$$){continue;}var l=c[p].$$MetaData$$.presentationUsage||[];if(l&&l.length>0){if(l.indexOf('Title')>-1&&c[p].value){this._moveWhyFound2ResponseAttr(w,c[p]);j=j+' '+c[p].value;}if(l.indexOf('Summary')>-1){g.push({property:p,displayOrder:c[p].$$MetaData$$.displayOrder});}else if(l.indexOf('Detail')>-1){h.push({property:p,displayOrder:c[p].$$MetaData$$.displayOrder});}}var n=c[p].$$MetaData$$.semanticObjectType;if(n&&n.length>0){k[n]=c[p].valueRaw;}}g.sort(s);h.sort(s);var o=g.concat(h);var q={};q.key=c.key;q.keystatus=c.keystatus;q.semanticObjectTypeAttrs=k;var v=this._getImageUrl(c);q.imageUrl=v.imageUrl;q.dataSourceName=c.$$DataSourceMetaData$$.label;q.dataSource=c.$$DataSourceMetaData$$;q.uri=u;q.titleUriIsIntent=false;q.semanticObjectType=c.$$DataSourceMetaData$$.semanticObjectType||'';q.$$Name$$='';q.systemId=c.$$DataSourceMetaData$$.systemId||'';q.client=c.$$DataSourceMetaData$$.client||'';var I=[];for(var z=0;z<o.length;z++){var x=o[z].property;var y={};if(x!==v.name){this._moveWhyFound2ResponseAttr(w,c[x]);y.name=c[x].label;y.value=c[x].value;y.key=x;y.isTitle=false;y.attributeIndex=z;if(c[x].whyfound){y.whyfound=c[x].whyfound;}I.push(y);}}I.unshift({name:q.dataSourceName,value:j.trim(),key:'DATASOURCE_AS_KEY',isTitle:true,uri:q.uri,isTableTitle:true});q.$$Name$$=j.trim();q.numberofattributes=o.length;q.title=c.title;q.itemattributes=I;q.selected=q.selected||false;q.expanded=q.expanded||false;this._appendRemainingWhyfounds2FormattedResultItem(w,q.itemattributes);f.push(q);}return f;}};})();\n",
	"sap/ushell/renderers/fiori2/search/SearchShellHelper.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup');var S=sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup;jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchModel');jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchShellHelper');var m=sap.ushell.renderers.fiori2.search.SearchShellHelper={};jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.extend(m,{init:function(){var t=this;t.oShell=sap.ui.getCore().byId('shell-header');t.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();t.oSearchFieldGroup=new S('searchFieldInShell');t.oSearchFieldGroup.setModel(t.oModel);t.oShell.setSearch(t.oSearchFieldGroup);t.oSearchInput=t.oSearchFieldGroup.getAggregation('input');t.oSearchSelect=t.oSearchFieldGroup.getAggregation('select');t.oSearchSelect.setTooltip(sap.ushell.resources.i18n.getText('searchInTooltip'));t.oSearchButton=t.oSearchFieldGroup.getAggregation('button');t.oSearchButton.setType(sap.m.ButtonType.Transparent);t.oSearchInput.setValue(t.oModel.getSearchBoxTerm());var i=false;t.oSearchSelect.addEventDelegate({onAfterRendering:function(e){if(!i){var a=jQuery('#shell-header-hdr-search').width()/parseFloat(jQuery('html').css('font-size'));if(a<=33){t.oSearchSelect.setDisplayMode('icon');t.oSearchSelect.setTooltip(sap.ushell.resources.i18n.getText('searchIn'));t.oSearchFieldGroup.addStyleClass('sapUshellSearchFieldGroupToShowSelectIcon');}i=true;}jQuery('#searchFieldInShell-select-icon').attr('title',sap.ushell.resources.i18n.getText('searchIn'));}},t.oSearchSelect);t.oSearchButton.attachPress(function(){t.handleClickSearchButton();});jQuery(document).on('keydown',function(e){if(e.keyCode===27){if(t.oSearchInput&&t.oSearchInput.getValue()===''&&!t.oSearchFieldGroup.hasStyleClass('sapUshellSearchFieldGroupInCenter')&&t.oSearchFieldGroup.hasStyleClass('sapUshellSearchFieldGroupMaximized')){t.closeSearch(true,false);}}});sap.ui.getCore().getEventBus().subscribe('allSearchFinished',t.onAllSearchFinished,t);sap.ui.getCore().byId('viewPortContainer').attachAfterNavigate(t.onAfterNavigate,t);},onShellSearchButtonPressed:function(e){var t=this;if(sap.ui.getCore().byId('searchFieldInShell')===undefined){t.init();t.oSearchButton.addEventDelegate({onAfterRendering:function(E){if(!t.afertFirstOpenSearch){t.openSearch(true,false);t.afertFirstOpenSearch=true;}}},t.oSearchButton);}else{t.openSearch(true,false);t.resetModel();t.afertFirstOpenSearch=true;}},openSearch:function(i,a){var t=this;t._openSearchFieldGroup(i);if(a){t._setSearchFieldGroupInCenter();}else{t._setSearchFieldGroupOnSide();}t.afertFirstOpenSearch=true;},closeSearch:function(i,a){var t=this;if(sap.ui.getCore().byId('searchFieldInShell')===undefined){return;}t._closeSearchFieldGroup(i);if(a){t._setSearchFieldGroupInCenter();}else{t._setSearchFieldGroupOnSide();}},getDefaultOpen:function(){return this.defaultOpen;},setDefaultOpen:function(d){this.defaultOpen=d;},onAfterNavigate:function(e){if(e.getParameter('toId')!=='shellPage-Action-search'&&e.getParameter('toId')!=='applicationShellPage-Action-search'){return;}var o=sap.ui.getCore().byId('searchContainerResultsView');if(o&&o.oFocusHandler){o.oFocusHandler.setFocus();}sap.ui.getCore().getEventBus().publish('searchLayoutChanged');},onAllSearchFinished:function(){this._setSearchFieldGroupInCenter();this.oSearchInput.setValue(this.oModel.getSearchBoxTerm());},_setOpenStyle:function(){this.oShell.setSearch(this.oSearchFieldGroup);sap.ui.getCore().byId('sf').setVisible(false);jQuery('#sf').removeClass('sapUshellSearchFieldElementDisplayInlineBlock');jQuery('#sf').addClass('sapUshellSearchFieldElementDisplayNone');this.oSearchButton.removeStyleClass('sapUshellSearchFieldElementDisplayNone');this.oSearchButton.addStyleClass('sapUshellSearchFieldElementDisplayBlock');this.oSearchFieldGroup.addStyleClass('sapUshellSearchFieldGroupMaximized');this.oSearchFieldGroup.removeStyleClass('sapUshellSearchFieldGroupMinimized');this.oSearchFieldGroup.removeStyleClass('sapUshellSearchFieldGroupNotVisible');},_setCloseStyle:function(){this._setSearchFieldGroupOnSide();this.oSearchFieldGroup.removeStyleClass('sapUshellSearchFieldGroupMaximized');this.oSearchFieldGroup.addStyleClass('sapUshellSearchFieldGroupMinimized');this.oSearchFieldGroup.addStyleClass('sapUshellSearchFieldGroupNotVisible');jQuery('#sf').removeClass('sapUshellSearchFieldElementDisplayNone');jQuery('#sf').addClass('sapUshellSearchFieldElementDisplayInlineBlock');sap.ui.getCore().byId('sf').setVisible(true);this.oSearchButton.removeStyleClass('sapUshellSearchFieldElementDisplayBlock');this.oSearchButton.addStyleClass('sapUshellSearchFieldElementDisplayNone');this.oShell.setSearch(null);},_setSearchFieldGroupInCenter:function(){this.oSearchFieldGroup.addStyleClass('sapUshellSearchFieldGroupInCenter');this.oSearchFieldGroup.removeStyleClass('sapUshellSearchFieldGroupOnSide');},_setSearchFieldGroupOnSide:function(){this.oSearchFieldGroup.removeStyleClass('sapUshellSearchFieldGroupInCenter');this.oSearchFieldGroup.addStyleClass('sapUshellSearchFieldGroupOnSide');},resetModel:function(){this.oSearchInput.setValue('');this.oModel.resetQuery();},_openSearchFieldGroup:function(h){var t=this;sap.ushell.Container.getService('Search')._getCatalogTiles();if(h){t._setOpenStyle();if(jQuery('#searchFieldInShell-select').length>0){jQuery('#searchFieldInShell-select').css('max-width','0%').animate({'max-width':'15rem'},{duration:200,complete:function(){jQuery(this).css('max-width','');}});}jQuery('#searchFieldInShell-input').css('max-width','0%').animate({'max-width':'35rem'},{duration:300,complete:function(){t._setOpenStyle();if(!sap.ui.Device.system.phone){t.oSearchInput.focus();}jQuery(this).css('max-width','');}});}else{t._setOpenStyle();if(!sap.ui.Device.system.phone){t.oSearchInput.focus();}}t.isSearchFieldGroupOpen=true;},_closeSearchFieldGroup:function(h){var t=this;if(h){t.oSearchFieldGroup.addStyleClass('sapUshellSearchFieldGroupOnSide');t.oSearchFieldGroup.removeStyleClass('sapUshellSearchFieldGroupInCenter');var i=jQuery('#searchFieldInShell-input').width()+'px';jQuery('#searchFieldInShell-input').css('max-width',i).animate({'max-width':'0%'},{duration:400,complete:function(){t._setCloseStyle();}});}else{t._setCloseStyle();}t.isSearchFieldGroupOpen=false;},handleClickSearchButton:function(){var t=this;if(!s.isSearchAppActive()){if(t.isSearchFieldGroupOpen){if(t.oSearchInput.getValue()===''&&t.oModel.getDataSource()===t.oModel.allDataSource&&t.getDefaultOpen()!==true){t._closeSearchFieldGroup(true);setTimeout(function(){sap.ui.getCore().byId('sf').focus();},1000);}}}}});})();\n",
	"sap/ushell/renderers/fiori2/search/SearchTabStripsFormatter.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchTabStripsFormatter');var m=sap.ushell.renderers.fiori2.search.SearchTabStripsFormatter={};m.Node=function(){this.init.apply(this,arguments);};m.Node.prototype={init:function(d,c){this.dataSource=d;this.children=[];this.parent=null;this.count=c;},equals:function(o){return this===o;},setCount:function(c){this.count=c;},getAncestors:function(){var a=[],c=this;while(c.parent){a.push(c.parent);c=c.parent;}return a;},getChildren:function(){var c=[];for(var i=0;i<this.children.length;++i){var a=this.children[i];if(a.unsureWhetherNodeisBelowRoot){continue;}c.push(a);}return c;},getChildrenSortedByCount:function(){var c=this.getChildren();c.sort(function(a,b){return b.count-a.count;});return c;},clearChildren:function(){for(var i=0;i<this.children.length;++i){var c=this.children[i];c.parent=null;}this.children=[];},appendNode:function(n){n.parent=this;this.children.push(n);},appendNodeAtIndex:function(n,i){n.parent=this;this.children.splice(i,0,n);},removeChildNode:function(n){var i=this.children.indexOf(n);if(i<0){return;}this.children.splice(i,1);n.parent=null;},hasChild:function(n){return this.children.indexOf(n)>-1;},hasSibling:function(n){if(this.equals(n)){return false;}var p=this.parent;if(!p){return false;}if(p.hasChild(n)){return true;}return false;},_findNode:function(d,r){if(this.dataSource.equals(d)){r.push(this);return;}for(var i=0;i<this.children.length;++i){var c=this.children[i];c._findNode(d,r);if(r.length>0){return;}}}};m.Tree=function(){this.init.apply(this,arguments);};m.Tree.prototype={init:function(r){this.rootNode=new m.Node(r,null);},reset:function(){this.rootNode=null;},invalidate:function(d){var n=this.findNode(d);if(!n){return;}var c=null;while(n){n.children=c?[c]:[];n.count=null;if(c){c.count=null;}c=n;n=n.parent;}},findNode:function(d){if(!this.rootNode){return null;}var r=[];this.rootNode._findNode(d,r);return r.length>0?r[0]:null;},hasChild:function(d,a){if(a.equals(this.rootNode.dataSource)){return false;}var n=this.findNode(d);if(!n){return false;}var b=this.findNode(a);if(!b){return false;}return n.hasChild(b);},hasSibling:function(d,a){if(a.equals(this.rootNode.dataSource)){return false;}var n=this.findNode(d);if(!n){return false;}var b=this.findNode(a);if(!b){return false;}return n.hasSibling(b);},updateFromPerspective:function(d,p,a){var c=null;try{c=p.getSearchFacet().getQuery().getResultSetSync().totalcount;}catch(e){}var b=this.findNode(d);if(!b){b=new m.Node(d,c);b.unsureWhetherNodeisBelowRoot=true;this.rootNode.appendNode(b);}b.setCount(c);if(d.equals(a.allDataSource)){b.setCount(b.count+a.getProperty('/appCount'));}this.updateFromPerspectiveChildDataSources(b,p);this.updateAppTreeNode(d,a);},updateAppTreeNode:function(d,a){if(!d.equals(a.allDataSource)&&!d.equals(a.appDataSource)){return;}var b=this.findNode(a.appDataSource);if(b){this.rootNode.removeChildNode(b);}var c=a.getProperty('/appCount');if(c===0&&!d.equals(a.appDataSource)){return;}b=new m.Node(a.appDataSource,c);this.rootNode.appendNodeAtIndex(b,0);},updateFromPerspectiveChildDataSources:function(c,p){if(!p){return;}var f=p.getChartFacets();if(f.length===0){return;}var d=f[0];if(d.facetType!=='datasource'){return;}var a=d.getQuery().getResultSetSync().getElements();c.clearChildren();for(var i=0;i<a.length;++i){var b=a[i];var e=b.dataSource;var g=this.findNode(e);if(!g){g=new m.Node(e,b.valueRaw);}if(g.unsureWhetherNodeisBelowRoot){g.unsureWhetherNodeisBelowRoot=false;this.rootNode.removeChildNode(g);}if(g.parent){g.parent.removeChildNode(g);}g.setCount(b.valueRaw);c.appendNode(g);}}};m.Formatter=function(){this.init.apply(this,arguments);};m.Formatter.prototype={init:function(r){this.tree=new m.Tree(r);},format:function(d,p,a){this.tree.updateFromPerspective(d,p,a);var t=this.generateTabStrips(d,a);return t;},invalidate:function(d){if(this.tree){this.tree.invalidate(d);}},generateTabStrips:function(d,a){var t=9999;var i,c,b;var e={strips:[],selected:null};var n=this.tree.findNode(d);if(!n){if(!d.equals(a.allDataSource)){e.strips.push(a.allDataSource);}e.strips.push(d);e.selected=d;return e;}if(n.dataSource.equals(a.allDataSource)){e.strips.push(a.allDataSource);b=n.getChildrenSortedByCount();for(i=0;i<b.length&&e.strips.length<t;++i){c=b[i];e.strips.push(c.dataSource);}e.selected=a.allDataSource;return e;}if(n.parent===this.tree.rootNode&&!n.unsureWhetherNodeisBelowRoot){e.strips.push(a.allDataSource);var f=false;b=this.tree.rootNode.getChildrenSortedByCount();for(i=0;i<b.length;++i){c=b[i];if(f){if(e.strips.length>=t){break;}e.strips.push(c.dataSource);}else{if(e.strips.length<t-1||n===c){e.strips.push(c.dataSource);if(n===c){f=true;}}}}if(b.length===0){e.strips.push(n.dataSource);}e.selected=n.dataSource;return e;}e.strips.push(a.allDataSource);e.strips.push(n.dataSource);e.selected=n.dataSource;return e;}};})();\n",
	"sap/ushell/renderers/fiori2/search/UXLog.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.UXLog');var m=sap.ushell.renderers.fiori2.search.UXLog={};jQuery.extend(m,{logLines:[],log:function(){this._log.apply(this,arguments);},_log:function(t){this.logLines.push(t);this._save();},_save:function(){jQuery.ajax({type:'PUT',url:'/uxlog.txt',data:this.logLines.join('\\n')+'\\n',contentType:'text/plain'});this.logLines=[];}});m._save=S.delayedExecution(m._save,2000);})();\n",
	"sap/ushell/renderers/fiori2/search/container/App.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\njQuery.sap.require('sap.m.MessageToast');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchShellHelper');var SearchShellHelper=sap.ushell.renderers.fiori2.search.SearchShellHelper;sap.ui.controller('sap.ushell.renderers.fiori2.search.container.App',{onInit:function(){'use strict';this.oShellNavigation=sap.ushell.Container.getService('ShellNavigation');this.oShellNavigation.hashChanger.attachEvent('hashChanged',this.hashChanged);if(SearchShellHelper.oSearchFieldGroup===undefined){SearchShellHelper.init();}SearchShellHelper.openSearch(false,true);if(sap.ui.Device.system.tablet||sap.ui.Device.system.phone){sap.ushell.services.AppConfiguration.setHeaderHiding(false);}},hashChanged:function(e){'use strict';var m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.deserializeURL();},onExit:function(){'use strict';this.oShellNavigation.hashChanger.detachEvent('hashChanged',this.hashChanged);if(SearchShellHelper.getDefaultOpen()!==true){SearchShellHelper.closeSearch(false,false);}else{SearchShellHelper.openSearch(false,false);}if(sap.ui.Device.system.tablet||sap.ui.Device.system.phone){sap.ushell.services.AppConfiguration.setHeaderHiding(true);}if(this.oView.oPage.oFacetDialog){this.oView.oPage.oFacetDialog.destroy();}}});\n",
	"sap/ushell/renderers/fiori2/search/container/App.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(g){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchShellHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchBar');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');sap.ui.jsview('sap.ushell.renderers.fiori2.search.container.App',{createContent:function(){var t=this;if(!this.oModel){this.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();}this.setModel(sap.ushell.resources.i18nModel,'i18n');this.oSearchResults=sap.ui.view({id:'searchContainerResultsView',tooltip:'{i18n>searchResultsView_tooltip}',viewName:'sap.ushell.renderers.fiori2.search.container.Search',type:sap.ui.core.mvc.ViewType.JS});this.oSearchResults.setModel(t.oModel);this.oSearchResults.setAppView(t);this.oModel.deserializeURL();this.oPage=this.pageFactory('searchPage',[this.oSearchResults]);return this.oPage;},beforeExit:function(){},pageFactory:function(i,c,d){var t=this;var s=new sap.ushell.renderers.fiori2.search.controls.SearchBar({oSearchLayout:t.oSearchResults.searchLayout,filterButtonPressed:t.oModel.getProperty('/facetVisibility'),filterButtonVisible:{parts:[{path:'/businessObjSearchEnabled'}],formatter:function(b){return!sap.ui.Device.system.phone&&b;}},contentMiddle:new sap.m.Label({text:{parts:[{path:'/count'}],formatter:function(a){if(typeof a!=='number'){return'';}var b=sap.ui.core.format.NumberFormat.getIntegerInstance({style:(Math.abs(a)>=99950?'short':'standard'),precision:3}).format(a);return sap.ushell.resources.i18n.getText('searchResults')+' ('+b+')';}},tooltip:{parts:[{path:'/count'}],formatter:function(a){if(typeof a!=='number'){return'';}return sap.ushell.resources.i18n.getText('searchResults')+' ('+a+')';}}})});s.setModel(t.oModel);var p=new sap.m.Page({id:i,customHeader:s,content:c,enableScrolling:true,showFooter:true});p.setModel(t.oModel);var e=['onAfterHide','onAfterShow','onBeforeFirstShow','onBeforeHide','onBeforeShow'];var D={};t.createFooter(p);jQuery.each(e,function(I,E){D[E]=jQuery.proxy(function(a){jQuery.each(this.getContent(),function(I,c){c._handleEvent(a);});},p);});p.addEventDelegate(D);if(!sap.ui.Device.system.desktop){p._bUseIScroll=true;}if(d){this.disableBouncing(p);}if(!sap.ui.Device.support.touch){var v=sap.ui.getCore().byId('searchContainerApp');v.addStyleClass('sapUiSizeCompact');}return p;},getControllerName:function(){return'sap.ushell.renderers.fiori2.search.container.App';},createFooter:function(p){var t=this;if(jQuery.device.is.phone){return;}var m=new sap.m.ToggleButton({icon:'sap-icon://multi-select',tooltip:sap.ushell.resources.i18n.getText('toggleSelectionModeBtn'),press:function(){var c=t.oBar.getContent();var i,d;if(this.getPressed()){t.oSearchResults.resultList.enableSelectionMode();t.oModel.setProperty('/multiSelectionEnabled',true);for(i=0;i<c.length;i++){d=c[i];if(d.hasStyleClass('sapUshellSearchResultList-multiSelectionActionButton')){t.oBar.removeContent(d);}}var h=t.oModel.getDataSource();var j=t.oModel.config.getDataSourceConfig(h);var k=new j.searchResultListSelectionHandlerControl();var l=k.actionsForDataSource();t.oModel.setProperty('/multiSelectionActions',l);for(i=0;i<l.length;i++){var n=l[i];var q=new sap.m.Button({text:n.text,press:function(){var r=t.oModel.getProperty('/results');var u=[];for(var i=0;i<r.length;i++){var v=r[i];if(v.selected){u.push(v);}}n.action(u);},visible:{parts:[{path:'/multiSelectionEnabled'}],mode:sap.ui.model.BindingMode.OneWay}});q.setModel(t.oModel);q.addStyleClass('sapUshellSearchResultList-multiSelectionActionButton');t.oBar.insertContent(q,2);}}else{t.oSearchResults.resultList.disableSelectionMode();t.oModel.setProperty('/multiSelectionEnabled',false);t.oModel.setProperty('/multiSelectionActions',undefined);for(i=0;i<c.length;i++){d=c[i];if(d.hasStyleClass('sapUshellSearchResultList-multiSelectionActionButton')){t.oBar.removeContent(d);}}}},visible:{parts:[{path:'/multiSelectionAvailable'}],mode:sap.ui.model.BindingMode.OneWay},pressed:{parts:[{path:'/multiSelectionEnabled'}],mode:sap.ui.model.BindingMode.OneWay}});m.setModel(this.oModel);m.addStyleClass('sapUshellSearchResultList-toggleMultiSelectionButton');var b=new sap.ushell.ui.footerbar.AddBookmarkButton({beforePressHandler:function(){var A={url:document.URL,title:t.oModel.getDocumentTitle(),icon:sap.ui.core.IconPool.getIconURI('search')};b.setAppData(A);}});b.setWidth('auto');var e=new sap.m.Button();e.setIcon('sap-icon://email');e.setText(sap.ushell.resources.i18n.getText('eMailFld'));e.attachPress(function(){sap.m.URLHelper.triggerEmail(null,t.oModel.getDocumentTitle(),document.URL);});e.setWidth('auto');var a=new sap.m.ActionSheet({placement:'Top',buttons:[b,e]});var s=new sap.m.Button({icon:'sap-icon://action',tooltip:sap.ushell.resources.i18n.getText('shareBtn'),press:function(){a.openBy(s);}});var E=new sap.m.MessagePopover({placement:'Top'}).setModel(this.oModel);E.bindAggregation('items','/errors',function(i,C){var d=new sap.m.MessagePopoverItem({title:'{title}',description:'{description}'});switch(C.oModel.getProperty(C.sPath).type.toLowerCase()){case'error':d.setType(sap.ui.core.MessageType.Error);break;case'warning':d.setType(sap.ui.core.MessageType.Warning);break;default:d.setType(sap.ui.core.MessageType.Information);}return d;});var o=new sap.m.Button('searchErrorButton',{icon:sap.ui.core.IconPool.getIconURI('alert'),text:{parts:[{path:'/errors/length'}],formatter:function(l){return l;}},visible:{parts:[{path:'/errors/length'}],formatter:function(l){return l>0;},mode:sap.ui.model.BindingMode.OneWay},type:sap.m.ButtonType.Emphasized,tooltip:sap.ushell.resources.i18n.getText('errorBtn'),press:function(){E.openBy(o);}});o.setLayoutData(new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}));m.setLayoutData(new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}));s.setLayoutData(new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}));var c=[o,new sap.m.ToolbarSpacer(),m,s];t.oBar=new sap.m.OverflowToolbar({content:c}).addStyleClass('MyBar');var f=p.getFooter();if(f&&f.destroy){f.destroy();}p.setFooter(t.oBar);}});}(window));\n",
	"sap/ushell/renderers/fiori2/search/container/Component.js":"jQuery.sap.declare('sap.ushell.renderers.fiori2.search.container.Component');jQuery.sap.require('sap.ui.core.UIComponent');sap.ui.core.UIComponent.extend('sap.ushell.renderers.fiori2.search.container.Component',{metadata:{version:'1.38.26',library:'sap.ushell.renderers.fiori2.search.container',includes:[],dependencies:{libs:['sap.m'],components:[]},config:{title:sap.ushell.resources.i18n.getText('searchAppTitle')}},createContent:function(){'use strict';return sap.ui.view({id:'searchContainerApp',viewName:'sap.ushell.renderers.fiori2.search.container.App',type:sap.ui.core.mvc.ViewType.JS});}});\n",
	"sap/ushell/renderers/fiori2/search/container/Search.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchModel');sap.ui.controller('sap.ushell.renderers.fiori2.search.container.Search',{onInit:function(){var t=this;sap.ui.getCore().getEventBus().subscribe('allSearchStarted',t.getView().onAllSearchStarted,t.getView());sap.ui.getCore().getEventBus().subscribe('allSearchFinished',t.getView().onAllSearchFinished,t.getView());},onExit:function(){var t=this;sap.ui.getCore().getEventBus().unsubscribe('allSearchStarted',t.getView().onAllSearchStarted,t.getView());sap.ui.getCore().getEventBus().unsubscribe('allSearchFinished',t.getView().onAllSearchFinished,t.getView());}});}());\n",
	"sap/ushell/renderers/fiori2/search/container/Search.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(g){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchLayout');jQuery.sap.require('sap.m.BusyDialog');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchResultListContainer');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchNoResultScreen');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchFacetFilter');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.DivContainer');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchResultList');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchResultTable');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchFilterBar');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchLabel');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchLink');jQuery.sap.require('sap.ushell.services.Personalization');jQuery.sap.require('sap.m.TablePersoController');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchLogger');var S=sap.ushell.renderers.fiori2.search.controls.SearchLayout;var a=sap.ushell.renderers.fiori2.search.controls.SearchResultListContainer;var b=sap.ushell.renderers.fiori2.search.controls.SearchResultList;var c=sap.ushell.renderers.fiori2.search.controls.SearchResultTable;var d=sap.ushell.renderers.fiori2.search.controls.SearchNoResultScreen;var s=sap.ushell.renderers.fiori2.search.SearchHelper;var f=sap.ushell.renderers.fiori2.search.controls.SearchLabel;var h=sap.ushell.renderers.fiori2.search.controls.SearchLink;var j=sap.ushell.renderers.fiori2.search.SearchLogger;sap.ui.jsview('sap.ushell.renderers.fiori2.search.container.Search',{createContent:function(C){var t=this;t.centerAreaHeader=t.assembleCenterAreaHeader();t.centerArea=t.assembleCenterArea();var e=new sap.ushell.renderers.fiori2.search.controls.SearchFilterBar({visible:{parts:[{path:'/facetVisibility'},{path:'/uiFilter/defaultConditionGroup'}],formatter:function(k,l){if(!k&&l&&l.conditions&&l.conditions.length>0){return true;}else{return false;}}}});var i=new sap.m.MessageStrip({text:sap.ushell.resources.i18n.getText('did_you_mean').replace('&1','{/queryFilter/searchTerms}'),showIcon:true,class:'sapUiMediumMarginBottom',visible:{parts:[{path:'/fuzzy'},{path:'/boCount'}],formatter:function(k,l){if(k==true&&l>0){return true;}else{return false;}}}});var r=new a({filterBar:e,centerAreaHeader:t.centerAreaHeader,centerArea:t.centerArea,didYouMeanBar:i,noResultScreen:new d({searchBoxTerm:{parts:[{path:'/queryFilter/searchTerms'}],formatter:function(k){return k;}},visible:{parts:[{path:'/count'},{path:'/isBusy'}],formatter:function(k,l){return k===0&&!l;}}})});t.searchLayout=new S({resultListContainer:r,busyIndicator:new sap.m.BusyDialog(),isBusy:'{/isBusy}',showFacets:'{/facetVisibility}',vertical:false,facets:new sap.ushell.renderers.fiori2.search.controls.SearchFacetFilter()});t.searchContainer=new sap.ushell.renderers.fiori2.search.controls.DivContainer({content:t.searchLayout,cssClass:'sapUshellSearchContainer'});t.oFocusHandler=new s.SearchFocusHandler(t);return t.searchContainer;},assembleCenterAreaHeader:function(){var t=this;var e=t.assembleDataSourceTapStrips();var i=t.assembleDisplaySwitchTapStrips();var k=new sap.m.Button('tablePersonalizeButton',{icon:'sap-icon://action-settings',tooltip:'{i18n>personalizeTable}',type:sap.m.ButtonType.Transparent,visible:{parts:[{path:'/resultToDisplay'}],formatter:function(r){return r==='searchResultTable';}},press:function(m){t.oTablePersoController.openDialog();}});var l=new sap.m.Toolbar({visible:{parts:[{path:'/count'}],formatter:function(m){return m!==0&&!sap.ui.Device.system.phone;}},content:[e,new sap.m.ToolbarSpacer({}),i,k]});l.addStyleClass('ushellSearchCenterAreaHeader');return l;},assembleDataSourceTapStrips:function(){var t=this;var e=new sap.m.OverflowToolbar({design:sap.m.ToolbarDesign.Transparent,visible:{parts:[{path:'/facetVisibility'},{path:'/count'},{path:'/businessObjSearchEnabled'}],formatter:function(i,k,l){return!i&&k>0&&l;}}});e.data('sap-ui-fastnavgroup','false',true);e.addStyleClass('searchTabStrips');t.tabBar=e;e.bindAggregation('content','/tabStrips/strips',function(I,C){return new sap.m.ToggleButton({text:'{labelPlural}',type:{parts:[{path:'/tabStrips/selected'}],formatter:function(i){var m=this.getBindingContext().getObject();if(m.equals(i)===true){return sap.m.ButtonType.Default;}else{return sap.m.ButtonType.Transparent;}}},pressed:{parts:[{path:'/tabStrips/selected'}],formatter:function(i){var m=this.getBindingContext().getObject();return m.equals(i);}},press:function(k){this.setType(sap.m.ButtonType.Default);if(this.getBindingContext().getObject().equals(t.getModel().getProperty('/tabStrips/selected'))){this.setPressed(true);return;}var B=t.tabBar.getContent();for(var i=0;i<B.length;i++){if(B[i].getId()!==this.getId()){B[i].setType(sap.m.ButtonType.Transparent);if(B[i].getPressed()===true){B[i].setPressed(false);}}}t.getModel().setDataSource(this.getBindingContext().getObject());}});});return e;},reorgTabBarSequence:function(){var e=new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.High});var n=new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow});var B=this.tabBar.getContent();for(var i=0;i<B.length;i++){if(this.getModel().getProperty('/tabStrips/selected').equals(B[i].getBindingContext().getObject())){B[i].setLayoutData(n);}else{B[i].setLayoutData(e);}}},assembleDisplaySwitchTapStrips:function(){var t=this;return new sap.m.SegmentedButton('ResultViewType',{selectedKey:{parts:[{path:'/resultToDisplay'}],formatter:function(r){if(r==='searchResultTable'){return'table';}else{return'list';}}},items:[new sap.m.SegmentedButtonItem({icon:'sap-icon://list',tooltip:'{i18n>listView}',key:'list'}),new sap.m.SegmentedButtonItem({icon:'sap-icon://table-view',tooltip:'{i18n>tableView}',key:'table'})],visible:{parts:[{path:'/displaySwitchVisibility'},{path:'/count'}],formatter:function(e,i){return e&&i!==0;}},select:function(e){var k=e.mParameters.key;var m=t.getModel();if(k==='table'){m.setProperty('/resultToDisplay','searchResultTable');m.resetAndDisableMultiSelection();}else{m.setProperty('/resultToDisplay','searchResultList');m.enableOrDisableMultiSelection();}}.bind(this)});},assembleCenterArea:function(){var t=this;var e=t.assembleSearchResultList();t.searchResultTable=t.assembleSearchResultTable();t.appSearchResult=t.assembleAppSearch();t.showMoreFooter=t.assembleShowMoreFooter();t.oTablePersoController=new sap.m.TablePersoController({table:sap.ui.getCore().byId('ushell-search-result-table')});return[t.tableSortDialog,e,t.searchResultTable,t.appSearchResult,t.showMoreFooter];},assembleSearchResultSortDialog:function(){var t=this;var e=new sap.m.ViewSettingsDialog({sortDescending:{parts:[{path:'/orderBy'}],formatter:function(o){return jQuery.isEmptyObject(o)||o.sortOrder==='DESC';}},confirm:function(i){var p=[];p=i.getParameters();if(p.sortItem){var C=t.getModel();if(p.sortItem.getKey()==='ushellSearchDefaultSortItem'){C.resetOrderBy();e.setSortDescending(true);}else{C.setOrderBy({orderBy:p.sortItem.getKey(),sortOrder:p.sortDescending===true?'DESC':'ASC'});}}}});e.bindAggregation('sortItems','/tableSortItems',function(p,D){return new sap.m.ViewSettingsItem({key:'{key}',text:'{name}',selected:'{selected}'});});return e;},assembleSearchResultTable:function(){var t=this;var r=new c('ushell-search-result-table',{visible:{parts:[{path:'/resultToDisplay'},{path:'/count'}],formatter:function(e,i){return e==='searchResultTable'&&i!==0;}}});r.bindAggregation('columns','/tableColumns',function(p,D){var e=D.getObject();var i=new sap.m.Column(e.key,{header:new sap.m.Label({text:'{name}',tooltip:'{name}'}),visible:{parts:[{path:'index'}],formatter:function(k){return k<4;}}});return i;});r.bindAggregation('items','/results',function(p,D){return t.assembleTableItems(D);});return r;},assembleTableItems:function(D){var t=this;var o=D.getObject();if(o.type==='footer'){t.showMoreFooter.setVisible(true);return new sap.m.CustomListItem();}else{return t.assembleTableMainItems(o,D.getPath());}},assembleTableMainItems:function(D,p){var e=p+'/itemattributes';var i=new sap.m.ColumnListItem();i.bindAggregation('cells',e,function(e,k){if(k.getObject().isTitle){return new h({text:'{value}',href:'{uri}',enabled:{parts:[{path:'uri'}],formatter:function(u){return u?true:false;}},press:function(){var t=k.getObject().uri?k.getObject().uri:'';var n=new j.NavigationEvent();n.addUserHistoryEntry(t);var m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.analytics.logCustomEvent('FLP: Search','Launch Object',[t]);}}).addStyleClass('sapUshellSearchResultListItem-MightOverflow');}else{return new f({text:'{value}'}).addStyleClass('sapUshellSearchResultListItem-MightOverflow');}});return i;},assembleShowMoreFooter:function(){var t=this;var e=new sap.m.Button({text:'{i18n>showMore}',type:sap.m.ButtonType.Transparent,press:function(){var C=t.getModel();C.setProperty('/focusIndex',C.getTop());var n=C.getTop()+C.pageSize;C.setTop(n);}});e.addStyleClass('sapUshellResultListMoreFooter');var i=new sap.m.FlexBox({visible:false,justifyContent:sap.m.FlexJustifyContent.Center});i.addStyleClass('sapUshellResultListMoreFooterContainer');i.addItem(e);return i;},assembleSearchResultList:function(){var t=this;t.resultList=new b({mode:sap.m.ListMode.None,width:'auto',showNoData:false,visible:{parts:[{path:'/resultToDisplay'},{path:'/count'}],formatter:function(r,e){return r==='searchResultList'&&e!==0;}}});t.resultList.bindAggregation('items','/results',function(p,C){return t.assembleListItem(C);});return t.resultList;},assembleAppSearch:function(){var t=this;var e=new sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer({maxRows:99999,totalLength:'{/appCount}',visible:{parts:[{path:'/resultToDisplay'},{path:'/count'}],formatter:function(r,i){return r==='appSearchResult'&&i!==0;}},highlightTerms:'{/uiFilter/searchTerms}',showMore:function(){var m=t.getModel();m.setProperty('/focusIndex',e.getNumberDisplayedTiles()-1);var n=m.getTop()+m.pageSize*e.getTilesPerRow();m.setTop(n);}});e.bindAggregation('tiles','/appResults',function(i,C){return t.getTileView(C.getObject().tile);});e.addStyleClass('sapUshellSearchTileResultList');sap.ui.getCore().getEventBus().subscribe('searchLayoutChanged',function(){e.delayedRerender();},this);return e;},assembleTitleItem:function(D){var i=new sap.m.CustomListItem();var t=new sap.m.Label({text:'{title}'});t.addStyleClass('bucketTitle');i.addStyleClass('bucketTitleContainer');i.addContent(new sap.m.HBox({items:[t]}));return i;},assembleAppContainerResultListItem:function(D,p){var t=this;var e=new sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer({maxRows:sap.ui.Device.system.phone?2:1,totalLength:'{/appCount}',highlightTerms:'{/uiFilter/searchTerms}',enableKeyHandler:false,resultList:t.resultList,showMore:function(){var m=t.getModel();m.setDataSource(m.appDataSource);}});e.bindAggregation('tiles','tiles',function(i,C){return t.getTileView(C.getObject().tile);});var l=new sap.m.CustomListItem({content:e});l.addStyleClass('sapUshellSearchResultListItem');l.addStyleClass('sapUshellSearchResultListItemApps');l.addEventDelegate({onAfterRendering:function(E){var i=$(l.getDomRef());i.removeAttr('tabindex');i.removeAttr('role');}},l);sap.ui.getCore().getEventBus().subscribe('searchLayoutChanged',function(){e.delayedRerender();},this);return l;},assembleResultListItem:function(D,p){var e=this.getModel().config.getDataSourceConfig(D.dataSource);var i=new e.searchResultListItemControl({title:'{$$Name$$}',titleUrl:'{uri}',titleUrlIsIntent:'{titleUriIsIntent}',type:'{dataSource/label}',imageUrl:'{imageUrl}',data:D,path:p,selected:'{selected}',expanded:'{expanded}'});var l=new sap.m.CustomListItem({content:i});l.addStyleClass('sapUshellSearchResultListItem');return l;},assembleListItem:function(C){var t=this;var D=C.getObject();if(D.type==='title'){return t.assembleTitleItem(D);}else if(D.type==='footer'){t.showMoreFooter.setVisible(true);return new sap.m.CustomListItem();}else if(D.type==='appcontainer'){return t.assembleAppContainerResultListItem(D,C.getPath());}else{return t.assembleResultListItem(D,C.getPath());}},getTileView:function(t){try{var i=t.getContract('types');i.setType('tile');}catch(e){}var v=sap.ushell.Container.getService('LaunchPage').getCatalogTileView(t);if(t.getTitle){v.usageAnalyticsTitle=t.getTitle();}else{v.usageAnalyticsTitle='app';}return v;},onAllSearchStarted:function(){this.showMoreFooter.setVisible(false);},onAllSearchFinished:function(){var t=this;t.reorgTabBarSequence();t.oFocusHandler.setFocus();var m=t.getModel();var e=m.getDataSource().key;var n=m.getPersoServiceProvider(e);if(n===undefined){n=m.buildPersoServiceProvider(e);m.pushPersoServiceProvider(n);}if(t.oldPersoServiceProvider===undefined||t.oldPersoServiceProvider.key!==n.key){t.oTablePersoController.destroy();t.oTablePersoController=new sap.m.TablePersoController({table:sap.ui.getCore().byId('ushell-search-result-table'),persoService:n.provider}).activate();t.oldPersoServiceProvider=n;}},setAppView:function(A){var t=this;t.oAppView=A;if(t.oTilesContainer){t.oTilesContainer.setAppView(A);}},getControllerName:function(){return'sap.ushell.renderers.fiori2.search.container.Search';}});}(window));\n",
	"sap/ushell/renderers/fiori2/search/controls/DivContainer.js":"(function(){'use strict';sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.DivContainer',{metadata:{properties:{'cssClass':'string'},aggregations:{'content':{singularName:'content',multiple:true}}},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass(c.getCssClass());r.writeClasses();r.write('>');var C=c.getContent();for(var i=0;i<C.length;i++){r.renderControl(C[i]);}r.write('</div>');}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchBar.js":"(function(){'use strict';jQuery.sap.require('sap.m.Bar');jQuery.sap.require('sap.m.Label');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.m.ButtonType');jQuery.sap.require('sap.m.ToggleButton');sap.m.Bar.extend('sap.ushell.renderers.fiori2.search.controls.SearchBar',{metadata:{properties:{filterButtonVisible:{type:'boolean',defaultValue:true},filterButtonPressed:{type:'boolean',defaultValue:false}}},constructor:function(o,i){var t=this;t.sMarginPropValueSmall='0.5rem';t.sMarginPropValueBigNormalMode='12.5rem';t.sMarginPropValueBigCompactMode='13.5rem';t.sMarginPropValueBig=t.sMarginPropValueBigNormalMode;if(jQuery('html').attr('dir')==='rtl'){t.sMarginPropName='margin-right';}else{t.sMarginPropName='margin-left';}t.filterButtonPressed=o.filterButtonPressed;t.filterBtn=new sap.m.ToggleButton({icon:sap.ui.core.IconPool.getIconURI('filter'),tooltip:t.filterButtonPressed?sap.ushell.resources.i18n.getText('hideFacetBtn_tooltip'):sap.ushell.resources.i18n.getText('showFacetBtn_tooltip'),pressed:t.filterButtonPressed,press:function(){if(this.getPressed()){t.getModel().setFacetVisibility(true);t._animateFilterBtn(this.getPressed(),400,function(){jQuery(this).attr('title',sap.ushell.resources.i18n.getText('hideFacetBtn_tooltip'));});}else{t.getModel().setFacetVisibility(false);t._animateFilterBtn(this.getPressed(),400,function(){jQuery(this).attr('title',sap.ushell.resources.i18n.getText('showFacetBtn_tooltip'));});}}});t.filterBtn.addStyleClass('searchBarFilterButton');t.filterBtn.addEventDelegate({onAfterRendering:function(){if(jQuery(t.getDomRef()).parents('.sapUiSizeCompact').length>0){t.sMarginPropValueBig=t.sMarginPropValueBigCompactMode;}t._animateFilterBtn(t.filterBtn.getPressed(),0);}});o=jQuery.extend({},{contentLeft:[new sap.m.Button({type:sap.m.ButtonType.Back,press:function(e){window.history.back(1);},tooltip:'{i18n>backBtn_tooltip}'})]},o);if(!sap.ui.Device.system.phone){o.contentLeft.push(this.filterBtn);}sap.m.Bar.prototype.constructor.apply(this,[o],i);this.addStyleClass('searchBar');},getFilterButtonVisible:function(){this.filterBtn.getVisible();},setFilterButtonVisible:function(i){this.filterBtn.setVisible(i);this.setProperty('filterButtonVisible',i);},getFilterButtonPressed:function(){this.filterBtn.getPressed();},setFilterButtonPressed:function(i){this.filterBtn.setPressed(i);this.setProperty('filterButtonPressed',i);this._animateFilterBtn(i);},_animateFilterBtn:function(p,n,c){var t=this;var m={};if(p){m[t.sMarginPropName]=t.sMarginPropValueBig;}else{m[t.sMarginPropName]=t.sMarginPropValueSmall;}jQuery(t.filterBtn.getDomRef()).animate(m,{duration:n,complete:c});},renderer:'sap.m.BarRenderer'});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchButton.js":"(function(){'use strict';jQuery.sap.require('sap.m.Button');sap.m.Button.extend('sap.ushell.renderers.fiori2.search.controls.SearchButton',{constructor:function(i,o){o=jQuery.extend({},{icon:sap.ui.core.IconPool.getIconURI('search'),tooltip:sap.ushell.resources.i18n.getText('search'),enabled:{parts:[{path:'/initializingObjSearch'}],formatter:function(a){return!sap.ushell.renderers.fiori2.search.SearchHelper.isSearchAppActive()||!a;}}},o);sap.m.Button.prototype.constructor.apply(this,[i,o]);this.addStyleClass('searchBtn');},renderer:'sap.m.ButtonRenderer'});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchFacet.js":"(function(){'use strict';jQuery.sap.require('sap.m.List');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchFacetItem');sap.m.List.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacet',{metadata:{properties:{eshRole:{type:'string',defaultValue:'datasource'}}},init:function(){this.data('sap-ui-fastnavgroup','false',true);},constructor:function(i,o){var t=this;o=jQuery.extend({},{mode:sap.m.ListMode.SingleSelectMaster,showSeparators:sap.m.ListSeparators.None,includeItemInSelection:true,selectionChange:function(e){if(this.getEshRole()==='attribute'){this.handleItemPress(e);}},itemPress:function(e){if(this.getEshRole()==='datasource'){this.handleItemPress(e);}}},o);sap.m.List.prototype.constructor.apply(this,[i,o]);this.addStyleClass('sapUshellSearchFacet');this.addEventDelegate({onAfterRendering:function(e){if(t.getEshRole()==='datasource'){jQuery(t.getDomRef()).append('<hr>');}}});},handleItemPress:function(e){var l=e.mParameters.listItem;var s=l.getBindingContext().getObject();if(l.getSelected()){this.getModel().addFilterCondition(s.filterCondition);}else{this.getModel().removeFilterCondition(s.filterCondition);}},renderer:'sap.m.ListRenderer',setEshRole:function(r){var t=this;var i={path:'items',template:new sap.ushell.renderers.fiori2.search.controls.SearchFacetItem(),groupHeaderFactory:function(g){var a=new sap.m.GroupHeaderListItem({title:g.key,upperCase:false});if(t.getModel().config.charts){a.setVisible(false);}return a;}};switch(r.toLowerCase()){default:case'datasource':this.setMode(sap.m.ListMode.SingleSelectMaster);this.setHeaderText(sap.ushell.resources.i18n.getText('searchIn'));break;case'attribute':this.setMode(sap.m.ListMode.MultiSelect);this.setHeaderText('');i.sorter=new sap.ui.model.Sorter('facetTitle',false,false);break;}this.bindAggregation('items',i);this.setProperty('eshRole',r);return this;},setModel:function(){return sap.m.List.prototype.setModel.apply(this,arguments);}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetBarChart.js":"(function(){'use strict';jQuery.sap.require('sap.suite.ui.microchart.ComparisonMicroChart');sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart',{metadata:{properties:{lastUpdated:{type:'string'},aItems:{type:'object'}},aggregations:{'items':{type:'sap.suite.ui.microchart.ComparisonMicroChartData',multiple:true}}},constructor:function(o){var t=this;t.options=o;sap.ui.core.Control.prototype.constructor.apply(this);this.bindAggregation('items','items',function(){var c=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{label}',value:'{value}',color:{path:'selected',formatter:function(v){var r=sap.m.ValueColor.Good;if(!v){r=sap.m.ValueColor.Neutral;}return r;}},displayValue:'{valueLabel}',press:function(e){var a=e.getSource().getBindingContext();var m=a.getModel();var d=a.getObject();var i=d.selected;var f=d.filterCondition;if(i){if(t.options.oSearchFacetDialog){t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{m.removeFilterCondition(f,true);}}else{if(t.options.oSearchFacetDialog){t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{m.addFilterCondition(f,true);}}},customData:{key:'selected',value:'{selected}',writeToDom:true}});return c;});},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');var C=new sap.suite.ui.microchart.ComparisonMicroChart({width:'90%',colorPalette:'',press:function(e){},tooltip:''});if(c.options.oSearchFacetDialog){C.setWidth('95%');C.addStyleClass('sapUshellSearchFacetBarChartLarge');}else{C.addStyleClass('sapUshellSearchFacetBarChart');}C.addEventDelegate({onAfterRendering:function(e){$('#'+this.sId).has('.Good').addClass('sapUshellSearchFacetBarChartSelected');}});var a=c.getItems();var b=c.getAItems();if(a.length===0&&b){a=b;}for(var i=0;i<a.length;++i){var d=a[i];if(!c.options.oSearchFacetDialog){if(d.mProperties.value){C.addData(d);}}else{C.addData(d);}}r.renderControl(C);r.write('</div>');},setEshRole:function(){}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetDialog.js":"(function(){'use strict';jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.ushell.renderers.fiori2.search.FacetItem');sap.m.Dialog.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog',{metadata:{properties:{'lastupdated':0,'currentSelectionCount':0}},constructor:function(o){var t=this;t.bShowCharts=true;t.facetListPosition=0;t.settingContainerPosition=0;t.settingSeparatorPosition=1;t.attributeListPosition=2;t.advancedPosition=4;t.sortingSelectPosition=0;t.showOnTopCheckBoxPosition=1;t.chartOnDisplayIndex=o.selectedTabBarIndex;t.facetOnDisplayIndex=0;t.chartOnDisplayIndexByFilterArray=[];t.aItemsForBarChart=[];t.tabBarItems=o.tabBarItems;if(!t.tabBarItems){t.setDummyTabBarItems();}o=jQuery.extend({},{showHeader:false,horizontalScrolling:false,verticalScrolling:false,contentHeight:'35rem',beginButton:new sap.m.Button({text:sap.ushell.resources.i18n.getText('okDialogBtn'),press:function(e){t.onOkClick(e);t.close();t.destroy();}}),endButton:new sap.m.Button({text:sap.ushell.resources.i18n.getText('cancelDialogBtn'),press:function(e){t.close();t.destroy();}}),content:[t.createContainer()]},o);t.selectedAttribute=o.selectedAttribute?o.selectedAttribute:'';delete o.selectedAttribute;delete o.selectedTabBarIndex;delete o.tabBarItems;sap.m.Dialog.prototype.constructor.apply(this,[o]);this.addStyleClass(sap.ui.Device.support.touch?'sapUiSizeCozy':'sapUiSizeCompact');this.addStyleClass('sapUshellSearchFacetDialog');},setChartOnDisplayIndexForFacetListItem:function(f){var t=this;var r=0;try{r=t.chartOnDisplayIndexByFilterArray[f];}catch(e){r=0;}if(r===undefined){r=0;}t.chartOnDisplayIndex=r;},setDummyTabBarItems:function(){var t=this;t.tabBarItems=[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText('facetList'),icon:'sap-icon://list',key:'list'+arguments[0]}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText('facetBarChart'),icon:'sap-icon://horizontal-bar-chart',key:'barChart'+arguments[0]}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText('facetPieChart'),icon:'sap-icon://pie-chart',key:'pieChart'+arguments[0]})];t.chartOnDisplayIndex=0;},renderer:'sap.m.DialogRenderer',createContainer:function(){var t=this;t.oSplitContainer=new sap.m.SplitContainer({masterPages:t.masterPagesFactory()});t.oSplitContainer.bindAggregation('detailPages','/facetDialog',function(i,c){return t.detailPagesFactory(i,c);});t.oSplitContainer.addStyleClass('sapUshellSearchFacetDialogContainer');return t.oSplitContainer;},masterPagesFactory:function(){var t=this;var f=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:function(e){t.onMasterPageSelectionChange(e);}});f.addStyleClass('sapUshellSearchFacetDialogFacetList');f.bindAggregation('items','/facetDialog',function(i,c){var l=new sap.m.StandardListItem({title:'{title}',infoState:'Success'});var F=c.oModel.getProperty(c.sPath).facetType;var a=c.oModel.getProperty(c.sPath).count;if(F==='attribute'&&a>0){l.setCounter(a);}if(F==='search'){l.addStyleClass('sapUshellSearchFacetDialogListItemBold');}return l;});var m=new sap.m.Page({title:sap.ushell.resources.i18n.getText('filters'),content:[f]}).addStyleClass('sapUshellSearchFacetDialogMasterContainer');m.addEventDelegate({onAfterRendering:function(e){if(t.selectedAttribute){for(var i=0;i<f.getItems().length;i++){var l=f.getItems()[i];var b=l.getBindingContext().getObject();if(t.selectedAttribute===b.dimension){f.setSelectedItem(l);t.facetOnDisplayIndex=i;t.chartOnDisplayIndexByFilterArray.push(t.chartOnDisplayIndex);}else{t.chartOnDisplayIndexByFilterArray.push(0);}}}if(!f.getSelectedItem()){f.setSelectedItem(f.getItems()[0]);}var s=f.getSelectedItem();t.updateDetailPage(s);var a=document.createElement('style');a.type='text/css';a.innerHTML='.sapUshellSearchFacetDialogTabBarButton {} .sapUshellSearchFacetDialogTabBarHeader{} .red{ border-style:solid; border-width:1px;border-collapse: collapse; border-color:red;} .sapUshellSearchFacetBarChartLarge{padding:0 0.5rem  0 0.5rem;}';document.getElementsByTagName('head')[0].appendChild(a);$('.sapUshellSearchFacetDialog .sapMDialogScrollCont').height('100%');}});var M=[m];return M;},onMasterPageSelectionChange:function(e){var t=this;var l=e.mParameters.listItem;t.facetOnDisplayIndex=l.getParent().indexOfItem(l.getParent().getSelectedItem());t.setChartOnDisplayIndexForFacetListItem(t.facetOnDisplayIndex);t.updateDetailPage(l);},detailPagesFactory:function(i,c){var t=this;var f=c.oModel.getProperty(c.sPath).facetType;var d=t.getAttributeDataType(c.oModel.getProperty(c.sPath).dataType);var s=new sap.m.Select({items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText('notSorted'),key:'notSorted'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText('sortByCount'),key:'sortCount'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText('sortByName'),key:'sortName'})],selectedKey:'sortCount',change:function(E){t.onSelectChange(E);}}).addStyleClass('sapUshellSearchFacetDialogSettingsSelect');var C=new sap.m.CheckBox({text:'Show Selected on Top',enabled:false,select:function(E){t.onCheckBoxSelect(E);}});var S=new sap.ui.layout.VerticalLayout({content:[s,C]}).addStyleClass('sapUshellSearchFacetDialogSettingsContainer');S.setVisible(false);var l=new sap.m.List({includeItemInSelection:true,showNoData:false,showSeparators:sap.m.ListSeparators.None,selectionChange:function(E){t.onDetailPageSelectionChange(E);}});l.addStyleClass('sapUshellSearchFacetDialogDetailPageList');l.addStyleClass('largeChart0');if(f==='attribute'){l.setMode(sap.m.ListMode.MultiSelect);}var b={path:'items',factory:function(i,c){var u=c.oModel.getProperty(c.sPath);var v=new sap.m.StandardListItem({title:'{label}',tooltip:'{label}'+'  '+'{value}',info:'{valueLabel}',selected:u.selected});if(u.selected){c.oModel.addFilter(u);}return v;}};if(d==='number'){s.removeItem(2);}b.filters=new sap.ui.model.Filter('advanced',sap.ui.model.FilterOperator.NE,true);l.bindAggregation('items',b);l.setBusyIndicatorDelay(0);l.data('dataType',d);if(t.bShowCharts){l.addEventDelegate({onAfterRendering:function(E){t.hideSelectively(E,t,0);}});}var L,o,a;o=t.getBarChartPlaceholder();var B={path:'items',factory:function(i,c){var u=c.oModel.getProperty(c.sPath);var v=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{label}',value:'{value}',color:{path:'selected',formatter:function(w){var x=sap.m.ValueColor.Good;if(!w){x=sap.m.ValueColor.Neutral;}return x;}},displayValue:'{valueLabel}',customData:{key:'selected',value:'{selected}',writeToDom:true},press:function(E){t.onDetailPageSelectionChangeCharts(E);}});if(u.selected){c.oModel.addFilter(u);}return v;}};o.bindAggregation('data',B);o.setBusyIndicatorDelay(0);o.data('dataType',d);a=t.getPieChartPlaceholder();if(t.bShowCharts){L=new sap.m.ScrollContainer({height:'67.2%',horizontal:false,vertical:true,content:[l,o,a]});}else{L=new sap.m.ScrollContainer({height:'67.2%',horizontal:false,vertical:true,content:[l]});}L.addStyleClass('sapUshellSearchFacetDialogDetailPageListContainer');L.addStyleClass('searchFacetLargeChartContainer');var e=new sap.m.StandardListItem({});var g=new sap.m.List({items:[e],showSeparators:sap.m.ListSeparators.None}).addStyleClass('sapUshellSearchFacetDialogDetailPageSettingSeparator');g.addEventDelegate({onAfterRendering:function(E){$('.sapUshellSearchFacetDialogDetailPageSettingSeparator').attr('aria-hidden','true');}});var h=new sap.m.StandardListItem({});var j=new sap.m.List({items:[h],showSeparators:sap.m.ListSeparators.None}).addStyleClass('sapUshellSearchFacetDialogDetailPageSeparator');j.setShowSeparators(sap.m.ListSeparators.All);var A=t.advancedConditionFactory(d);var k=new sap.m.ScrollContainer({height:'30%',horizontal:false,vertical:true,content:[A]});k.addStyleClass('sapUshellSearchFacetDialogDetailPageAdvancedContainer');if(d==='string'||d==='text'){var p=new sap.m.Button({icon:'sap-icon://add',type:sap.m.ButtonType.Transparent,press:function(E){t.onPlusButtonPress(E,d);}});k.addContent(p);}k.data('dataType',d);k.data('initial',true);var P;if(d==='string'||d==='text'){L.setHeight('98%');k.setHeight('100%');var m=t.getDropDownButton();var n=new sap.m.Toolbar({content:[new sap.m.SearchField({placeholder:sap.ushell.resources.i18n.getText('filterPlaceholder'),liveChange:function(E){t.onSearchFieldLiveChange(E);}}),new sap.m.ToggleButton({icon:'sap-icon://sort',press:function(E){t.onSettingButtonPress(E);}}).addStyleClass('sapUshellSearchFacetDialogSortButton')]}).addStyleClass('sapUshellSearchFacetDialogSubheaderToolbar');if(t.bShowCharts){n.addContent(m);}var T=new sap.m.Page({showHeader:false,subHeader:n,content:[S,g,L]}).addStyleClass('sapUshellSearchFacetDialogDetailPage');var I=new sap.m.IconTabBar({upperCase:true,expandable:false,stretchContentHeight:true,applyContentPadding:false,select:function(E){var u=$('.sapUshellSearchFacetDialogFacetList')[0];var F=sap.ui.getCore().byId(u.id);if(!F.getSelectedItem()){F.setSelectedItem(F.getItems()[0]);}F.fireSelectionChange({listItem:F.getSelectedItem()});t.controlChartVisibility(t,t.chartOnDisplayIndex);},items:[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText('selectFromList'),content:[T]}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText('defineCondition'),content:[k]})]});I.addStyleClass('sapUshellSearchFacetDialogIconTabBar');P=new sap.m.Page({showHeader:true,title:c.oModel.getProperty(c.sPath).title,content:[I]});P.addStyleClass('sapUshellSearchFacetDialogDetailPageString');}else{if(t.bShowCharts){var q,r;r=c.oModel.getProperty(c.sPath).title;q=t.getHeaderWithDropDown(r);P=new sap.m.Page({showHeader:true,headerContent:q,content:[S,g,L,j,k]});}else{P=new sap.m.Page({showHeader:true,title:c.oModel.getProperty(c.sPath).title,content:[S,g,L,j,k]});}P.addStyleClass('sapUshellSearchFacetDialogDetailPage');}return P;},getHeaderWithDropDown:function(t){var a=this;var c=a.getDropDownButton();var l=new sap.m.Label({text:t});var h=new sap.m.Bar({translucent:true,design:sap.m.BarDesign.Header,contentMiddle:[l,c]});h.addStyleClass('sapUshellSearchFacetDialogTabBarHeader');return h;},getBarChartPlaceholder:function(){var t=this;var c;c=new sap.suite.ui.microchart.ComparisonMicroChart({width:'90%',tooltip:''});c.addStyleClass('largeChart1barchart');c.addEventDelegate({onAfterRendering:function(e){t.hideSelectively(e,t,1);}});return c;},getBarChartPlaceholder2:function(){var t=this;var c;var b={};c=new sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart(b);c.addStyleClass('largeChart1barchart');c.addEventDelegate({onAfterRendering:function(e){t.hideSelectively(e,t,1);}});return c;},getPieChartPlaceholder:function(){var t=this;var c;var p={};p.oSearchFacetDialog=t;c=new sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart(p);c.addStyleClass('largeChart2piechart');c.addEventDelegate({onAfterRendering:function(e){t.hideSelectively(e,t,2);}});sap.ui.core.ResizeHandler.register(c,function(e){var s=parseInt(window.getComputedStyle(e.target.firstChild,null).getPropertyValue('transform-origin').split(' ')[0],10);var m=(e.size.width/2)-s;e.target.firstChild.style.marginLeft=m+'px';});return c;},getDropDownButton:function(){var t=this;var b=[];var B;var d=new sap.m.Button({icon:t.tabBarItems[t.chartOnDisplayIndex].getIcon()});for(var i=0;i<t.tabBarItems.length;i++){B=new sap.m.Button({text:t.tabBarItems[i].getText(),icon:t.tabBarItems[i].getIcon(),press:function(E){var f,g;g=E.getSource().sId;f=document.getElementById(g).dataset.facetViewIndex;f=parseInt(f,10);t.chartOnDisplayIndex=f;t.chartOnDisplayIndexByFilterArray[t.facetOnDisplayIndex]=f;var h=t.tabBarItems[t.chartOnDisplayIndex].getIcon();d.setIcon(h);var c=t.tabBarItems[t.chartOnDisplayIndex].getText();var e=sap.ushell.resources.i18n.getText('displayAs',[c]);d.setTooltip(e);var j=$('.sapUshellSearchFacetDialogFacetList')[0];var F=sap.ui.getCore().byId(j.id);if(!F.getSelectedItem()){F.setSelectedItem(F.getItems()[0]);}F.fireSelectionChange({listItem:F.getSelectedItem()});t.controlChartVisibility(t,f);}});B.data('facet-view-index',''+i,true);b.push(B);}var a=new sap.m.ActionSheet({showCancelButton:true,buttons:b,placement:sap.m.PlacementType.Bottom,cancelButtonPress:function(){jQuery.sap.log.info('sap.m.ActionSheet: cancelButton is pressed');}});if($('.sapUiSizeCompact')[0]){a.addStyleClass('sapUiSizeCompact');}d.addStyleClass('sapUshellSearchFacetDialogTabBarButton');var c=t.tabBarItems[t.chartOnDisplayIndex].getText();var e=sap.ushell.resources.i18n.getText('displayAs',[c]);d.setTooltip(e);d.attachPress(function(E){a.openBy(this);});return d;},resetIcons:function(){var t=this;var i,a,d,b,c,e;b=t.tabBarItems[t.chartOnDisplayIndex].getIcon();c=t.tabBarItems[t.chartOnDisplayIndex].getText();e=sap.ushell.resources.i18n.getText('displayAs',[c]);a=$('.sapUshellSearchFacetDialogTabBarButton');for(var k=0;k<a.length;k++){i=a[k].id;d=sap.ui.getCore().byId(i);d.setIcon(b);d.setTooltip(e);}},advancedConditionFactory:function(t){var a=this;var A=new sap.m.CheckBox({select:function(e){if(t==='string'||t==='text'){a.updateCountInfo(e.getSource().getParent().getParent().getParent().getParent().getParent().getParent());}else{a.updateCountInfo(e.getSource().getParent().getParent().getParent());}}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionCheckBox');var i,b,I,s;switch(t){case'date':i=new sap.m.DateRangeSelection({width:'90%',change:function(e){a.onDateRangeSelectionChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');break;case'string':A.setVisible(false);I=new sap.m.Input({width:'57%',placeholder:sap.ushell.resources.i18n.getText('filterCondition')}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');s=new sap.m.Select({width:'40%',items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText('equals'),key:'eq'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText('beginsWith'),key:'bw'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText('endsWith'),key:'ew'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText('contains'),key:'co'})]}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionSelect');i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[s,I]});b=new sap.m.Button({icon:'sap-icon://sys-cancel',type:sap.m.ButtonType.Transparent,press:function(e){a.onDeleteButtonPress(e);}});break;case'text':A.setVisible(false);I=new sap.m.Input({width:'57%',placeholder:sap.ushell.resources.i18n.getText('filterCondition')}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');s=new sap.m.Select({width:'40%',items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText('containsWords'),key:'co'})]}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionSelect');i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[s,I]});b=new sap.m.Button({icon:'sap-icon://sys-cancel',type:sap.m.ButtonType.Transparent,press:function(e){a.onDeleteButtonPress(e);}});break;case'number':var o=new sap.m.Input({width:'46.5%',liveChange:function(e){a.onAdvancedNumberInputChange(e);},type:sap.m.InputType.Number}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');var c=new sap.m.Input({width:'46.5%',liveChange:function(e){a.onAdvancedNumberInputChange(e);},type:sap.m.InputType.Number}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');var l=new sap.m.Label({text:'...'}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionLabel');i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[o,l,c]});break;default:break;}var d=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[A,i,b]}).addStyleClass('sapUshellSearchFacetDialogDetailPageCondition');return d;},onDetailPageSelectionChangeCharts:function(e){var t=this;var c=0;var a,m,d,b,f,s,S,B,p,M;var g,n,i,o;if(e.getSource){a=e.getSource().getBindingContext();m=a.getModel();d=a.getObject();b=d.selected;f=b?false:true;s=e.getSource();S=s.getBindingContext().sPath+'/selected';m.setProperty(S,f);B=s.getBindingContext().getObject();if(f){m.addFilter(B);}else{m.removeFilter(B);}p=S.replace(/\\/items.+/,'');p+='/items';g=m.getProperty(p);c=0;for(i=0;i<g.length;i++){n=g[i];if(n.selected===true){c++;}}}else{d=e.dataObject;b=d.selected;f=b?false:true;c=e.cnt;m=e.model;if(b){m.addFilter(d);}else{m.removeFilter(d);}}M=t.getFacetList();o=M.getSelectedItem();if(!o){o=M.getItems()[0];}o.setCounter(c);},onDetailPageSelectionChange:function(e){var t=this;var s=e.mParameters.listItem;var S=s.getBindingContext().sPath+'/selected';s.getBindingContext().oModel.setProperty(S,s.getSelected());var b=s.getBindingContext().getObject();if(s.getSelected()){t.getModel().addFilter(b);}else{t.getModel().removeFilter(b);}var l=e.oSource;var d;if(l.data('dataType')==='string'){d=l.getParent().getParent().getParent().getParent().getParent().getParent();}else{d=l.getParent().getParent();}t.updateCountInfo(d);var o=l.getParent().getParent().getContent()[t.settingContainerPosition];var c=o.getContent()[t.showOnTopCheckBoxPosition];var a=o.getContent()[t.sortingSelectPosition];if(c.getSelected()){c.setSelected(false);a.setSelectedKey('notSorted');}if(l.getSelectedContexts().length>0){c.setEnabled(true);}else{c.setEnabled(false);}},onSearchFieldLiveChange:function(e){var t=this;var f=e.getSource().getValue();var s=t.getFacetList().getSelectedItem();t.updateDetailPage(s,f);},onSettingButtonPress:function(e){var t=this;var p=e.oSource.getPressed();var s=e.oSource.getParent().getParent().getContent()[t.settingContainerPosition];var S=e.oSource.getParent().getParent().getContent()[t.settingSeparatorPosition];var l=e.oSource.getParent().getParent().getContent()[t.attributeListPosition];if(p){s.setVisible(true);S.setShowSeparators(sap.m.ListSeparators.All);l.setHeight('83%');}else{s.setVisible(false);S.setShowSeparators(sap.m.ListSeparators.None);l.setHeight('98%');}},onSelectChange:function(e){var t=this;t.sortingAttributeList(e.oSource.getParent().getParent());},onCheckBoxSelect:function(e){var t=this;t.sortingAttributeList(e.oSource.getParent().getParent());},onDateRangeSelectionChange:function(e){var t=this;var d=e.getSource();var a=d.getParent();var A=a.getContent()[0];if(d.getDateValue()&&d.getSecondDateValue()){A.setSelected(true);t.insertNewAdvancedCondition(a,'date');t.updateCountInfo(a.getParent().getParent());}else{A.setSelected(false);}},onAdvancedInputChange:function(e){var t=this;var i=e.getSource();var a=i.getParent().getParent();var A=a.getContent()[0];if(i.getValue()){A.setSelected(true);t.insertNewAdvancedCondition(a,'string');t.updateCountInfo(a.getParent().getParent().getParent().getParent().getParent());}else{A.setSelected(false);}},onAdvancedNumberInputChange:function(e){var t=this;var i=e.getSource();var a=i.getParent().getParent();var A=a.getContent()[0];if(i.getParent().getContent()[0].getValue()&&i.getParent().getContent()[2].getValue()){A.setSelected(true);t.insertNewAdvancedCondition(a,'number');t.updateCountInfo(a.getParent().getParent());}else{A.setSelected(false);}},onDeleteButtonPress:function(e){var t=this;var a=e.getSource().getParent();t.deleteAdvancedCondition(a);},onPlusButtonPress:function(e,t){var a=this;var A=e.getSource().getParent();var n=a.advancedConditionFactory(t);var i=A.getAggregation('content').length-1;A.insertAggregation('content',n,i);},onOkClick:function(e){var t=this;var M=t.getModel();var s=t.getModel('searchModel');s.resetFilterConditions(false);var d=t.oSplitContainer.getDetailPages();for(var m=0;m<M.aFilters.length;m++){var a=M.aFilters[m];if(!a.advanced){s.addFilterCondition(a.filterCondition,false);}}for(var i=0;i<d.length;i++){if(t.getFacetList().getItems()[i]){t.applyAdvancedCondition(d[i],t.getFacetList().getItems()[i].getBindingContext().getObject(),s);}}s.filterChanged=true;s._firePerspectiveQuery();},getFacetList:function(){var t=this;return t.oSplitContainer.getMasterPages()[0].getContent()[this.facetListPosition];},updateCountInfo:function(d){var t=this;var m=t.getFacetList();var M=m.getSelectedItem();if(!M){M=m.getItems()[0];}var s=M.getBindingContext().sPath;var D=M.getBindingContext().oModel.getProperty(s).dimension;var f=t.getModel().aFilters;var c=0;for(var j=0;j<f.length;j++){if(!f[j].advanced&&f[j].facetAttribute===D){c++;}}var a=t.getAttributeDataType(M.getBindingContext().oModel.getProperty(s).dataType);var A,b;if(a==='string'||a==='text'){if(!d.getContent()[0].getItems){return;}A=d.getContent()[0].getItems()[1].getContent()[0];b=A.getContent().length-1;}else{A=d.getContent()[t.advancedPosition];b=A.getContent().length;}var e=0;for(var i=0;i<b;i++){var C=A.getContent()[i];var o=C.getContent()[0];if(o.getSelected()){e++;}}var F=M.getBindingContext().oModel.getProperty(s).facetType;if(F==='attribute'){var g=c+e;if(g>0){M.setCounter(g);}else{M.setCounter(null);}}},sortingAttributeList:function(d){var t=this;var s=d.getContent()[t.settingContainerPosition];var S=s.getContent()[t.sortingSelectPosition];var c=s.getContent()[t.showOnTopCheckBoxPosition];var l=d.getContent()[t.attributeListPosition].getContent()[0];var b=l.getBinding('items');var a=[];if(c.getSelected()){a.push(new sap.ui.model.Sorter('selected',true,false));}switch(S.getSelectedKey()){case'sortName':a.push(new sap.ui.model.Sorter('label',false,false));break;case'sortCount':a.push(new sap.ui.model.Sorter('value',true,false));a.push(new sap.ui.model.Sorter('label',false,false));break;default:break;}b.sort(a);},getAttributeDataType:function(d){switch(d){case'Double':return'number';case'Timestamp':return'date';case'String':return'string';case'Text':return'text';default:return'string';}},insertNewAdvancedCondition:function(a,t){var b=this;var A=a.getParent();var n=b.advancedConditionFactory(t);if(t==='string'||t==='text'){var i=A.getAggregation('content').length-1;A.insertAggregation('content',n,i);}else{var c=A.indexOfAggregation('content',a);if(c===(A.getAggregation('content').length-1)){A.addContent(n);}}},deleteAdvancedCondition:function(a){var t=this;var A=a.getParent();var d=a.getParent().getParent().getParent().getParent().getParent();A.removeAggregation('content',a);t.updateCountInfo(d);},initiateAdvancedConditions:function(a,I,t){var b=this;var c,C,o,d;for(var i=I.length;i>0;i--){var e=I[i-1];if(e.advanced){c=a.getContent();if(t==='string'||t==='text'){C=c[c.length-2];}else{C=c[c.length-1];}o=C.getContent()[0];o.setSelected(true);d=C.getContent()[1];if(t==='number'){var f=d.getContent()[0];var g=d.getContent()[2];if(e.filterCondition.conditions){for(var j=0;j<e.filterCondition.conditions.length;j++){var h=e.filterCondition.conditions[j];if(h.operator==='>='){f.setValue(h.value);}if(h.operator==='<='){g.setValue(h.value);}}}}else if(t==='string'){var s=e.label;if((s.charAt(0)==='*')&&(s.charAt(s.length-1)==='*')){d.getContent()[0].setSelectedKey('co');s=s.substring(1,s.length-1);}else if((s.charAt(0)==='*')){d.getContent()[0].setSelectedKey('ew');s=s.substring(1);}else if((s.charAt(s.length-1)==='*')){d.getContent()[0].setSelectedKey('bw');s=s.substring(0,s.length-1);}d.getContent()[1].setValue(s);}else if(t==='text'){var k=e.label;if((k.charAt(0)==='*')&&(k.charAt(k.length-1)==='*')){d.getContent()[0].setSelectedKey('co');k=k.substring(1,k.length-1);}d.getContent()[1].setValue(k);}else{d.setValue(e.label);}b.insertNewAdvancedCondition(C,t);b.getModel().changeFilterAdvaced(e,true);}}a.data('initial',false);},applyChartQueryFilter:function(e){var t=this;t.getModel().resetChartQueryFilterConditions();var d=t.oSplitContainer.getDetailPages();for(var i=0;i<d.length;i++){if(i===e||d[i].getContent().length===0||!d[i].getContent()[0].getItems){continue;}var l;if(!d[i].getContent()[t.attributeListPosition]){l=d[i].getContent()[0].getItems()[0].getContent()[0].getContent()[t.attributeListPosition].getContent()[0];}else{l=d[i].getContent()[t.attributeListPosition].getContent()[0];}for(var j=0;j<l.getItems().length;j++){var L=l.getItems()[j];var o=L.getBindingContext().getObject();var f=o.filterCondition;if(f.attribute||f.conditions){if(L.getSelected()){if(!t.getModel().chartQuery.getFilter().hasFilterCondition(f)){t.getModel().chartQuery.addFilterCondition(f);}}}}t.applyAdvancedCondition(d[i],t.getFacetList().getItems()[i].getBindingContext().getObject(),t.getModel().chartQuery);}},applyAdvancedCondition:function(d,f,a){var t=this;var A,D,o,k,b,c,e,g,C;if(d.getContent()[t.advancedPosition]){A=d.getContent()[t.advancedPosition];D=A.data('dataType');o=d.getContent()[t.advancedPosition].getContent();switch(D){case'date':for(k=0;k<o.length;k++){b=o[k];c=b.getContent()[0];var h=b.getContent()[1];if(c.getSelected()&&h.getDateValue()&&h.getSecondDateValue()){var F={'pattern':'yyyy-MM-dd HH:mm:ss.SSSSSSS','UTC':true};var s={'pattern':'yyyy-MM-dd HH:mm:ss.SSSSSSS','UTC':true};var i=sap.ui.core.format.DateFormat.getDateTimeInstance(F).format(h.getDateValue());var j=sap.ui.core.format.DateFormat.getDateTimeInstance(s).format(new Date(h.getSecondDateValue().getTime()+86400000-1));e=t.getModel().sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:'>=',value:i,label:i});g=t.getModel().sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:'<=',value:j,label:j});C=t.getModel().sina.createFilterConditionGroup();C.label=h.getValue();C.conditions[0]=e;C.conditions[1]=g;a.addFilterCondition(C,false);}}break;case'number':for(k=0;k<o.length;k++){b=o[k];c=b.getContent()[0];var l=b.getContent()[1].getContent()[0];var m=b.getContent()[1].getContent()[2];var n=b.getContent()[1].getContent()[1];if(c.getSelected()&&l.getValue()&&m.getValue()){e=t.getModel().sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:'>=',value:l.getValue(),label:l.getValue()});g=t.getModel().sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:'<=',value:m.getValue(),label:m.getValue()});C=t.getModel().sina.createFilterConditionGroup();C.label=l.getValue()+n.getText()+m.getValue();C.conditions[0]=e;C.conditions[1]=g;a.addFilterCondition(C,false);}}break;default:break;}}else{A=d.getContent()[0].getItems()[1].getContent()[0];D=A.data('dataType');o=A.getContent();var p,q,r,u;switch(D){case'string':for(k=0;k<o.length-1;k++){b=o[k];p=b.getContent()[1].getContent()[0];q=b.getContent()[1].getContent()[1];switch(p.getSelectedKey()){case'eq':r=q.getValue();break;case'ew':r='*'+q.getValue();break;case'bw':r=q.getValue()+'*';break;case'co':r='*'+q.getValue()+'*';break;default:break;}if(q.getValue()){u=t.getModel().sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:'=',value:r,label:r});a.addFilterCondition(u,false);}}break;case'text':for(k=0;k<o.length-1;k++){b=o[k];p=b.getContent()[1].getContent()[0];q=b.getContent()[1].getContent()[1];r=q.getValue();var O;switch(p.getSelectedKey()){case'co':O='=';break;case'nco':O='!=';break;default:break;}if(q.getValue()){u=t.getModel().sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:O,value:r,label:r});a.addFilterCondition(u,false);}}break;default:break;}}},updateDetailPageCharts:function(i,m){var t=this;if(t.bShowCharts===false){return;}t.aItemsForBarChart=i;var l=t.getListContainersForDetailPage();var L=l[1];var c=L.getContent();if(c&&t.chartOnDisplayIndex===1){}if(c&&t.chartOnDisplayIndex===2){var p=c[2];var e=l[5];var r=l[2];r=0.9*r;var a={};a.relevantContainerHeight=r;a.oSearchFacetDialog=t;var M=new sap.ui.model.json.JSONModel();M.setData(i);$('#'+e.id).empty();p.directUpdate(i,e,M,a);}var b,d;if(c&&t.chartOnDisplayIndex!==2){b=l[0].firstChild.children[2];d=$('#'+b.id);d.css('display','none');}if(c&&t.chartOnDisplayIndex!==1){b=l[0].firstChild.children[1];d=$('#'+b.id);d.css('display','none');}},controlChartVisibility:function(c,a){var t=this;var e,b;if(t.bShowCharts===false){return;}var l=c.getListContainersForDetailPage();var L=l[1];var d=L.getContent();for(var i=0;i<d.length;i++){e=l[0].firstChild.children[i];b=$('#'+e.id);if(i!==a){b.css('display','none');}else{b.css('display','block');}}if(a===2){var I=t.aItemsForBarChart;var m=t.getModel();t.updateDetailPageCharts(I,m);}if(a===2){L.setVertical(false);}else{L.setVertical(true);}var s=l[6];if(s){var f=$('#'+s.sId);if(a===0){f.css('display','block');}else{f.css('display','none');}}},hideSelectively:function(e,c,a){var b=$('#'+e.srcControl.sId);var d=c.chartOnDisplayIndex;var l=c.getListContainersForDetailPage();var L=l[1];if(d!==undefined){if(c.chartOnDisplayIndex!==a){b.css('display','none');}else{b.css('display','block');}}else{b.css('display','block');}if(d===2){L.setVertical(false);}else{L.setVertical(true);}var s=l[6];if(s){var f=$('#'+s.sId);if(d===0){f.css('display','block');}else{f.css('display','none');}}},getListContainersForDetailPage:function(){var r=0;var a=440;var s=$('.searchFacetLargeChartContainer');for(var i=0;i<s.length;i++){if(s[i].clientHeight>0){a=s[i].offsetParent.offsetParent.offsetParent.clientHeight;r=i;break;}}var c=$('.searchFacetLargeChartContainer')[r];var l=sap.ui.getCore().byId(c.id);var b,S,o;try{b=$('.sapUshellSearchFacetDialogSubheaderToolbar')[r];S=sap.ui.getCore().byId(b.id);o=S.getContent()[1];}catch(e){}return[c,l,a,c.firstChild.children[0],c.firstChild.children[1],c.firstChild.children[2],o];},updateDetailPage:function(l,f){var t=this;var m=t.getModel();var s=t.getModel('searchModel');var b=l.getBindingContext().sPath;var S=m.getProperty(b);var d=t.getAttributeDataType(S.dataType);var i=t.getFacetList().indexOfAggregation('items',l);var D=t.oSplitContainer.getDetailPages()[i];var o,a,c;if(d==='string'||d==='text'){o=D.getContent()[0].getItems()[0].getContent()[0].getContent()[t.attributeListPosition].getContent()[0];a=D.getContent()[0].getItems()[1].getContent()[0];c=D.getContent()[0].getItems()[0].getContent()[0].getContent()[t.settingContainerPosition];}else{o=D.getContent()[t.attributeListPosition].getContent()[0];a=D.getContent()[t.advancedPosition];c=D.getContent()[t.settingContainerPosition];}var n=D.getId();t.oSplitContainer.toDetail(n,'show');t.resetIcons();o.setBusy(true);var p={sAttribute:S.dimension,sBindingPath:b};t.applyChartQueryFilter(i);if(f){var e=m.sina.createFilterCondition({attribute:S.dimension,operator:'=',value:f+'*'});m.chartQuery.addFilterCondition(e);}else if(f===undefined){if(d==='string'||d==='text'){D.getContent()[0].getItems()[0].getContent()[0].getSubHeader().getContent()[0].setValue('');}}m.chartQuery.setSearchTerms(s.getSearchBoxTerm());m.facetDialogSingleCall(p).done(function(){var I=m.getProperty(D.getBindingContext().sPath).items;if(a.data('initial')){t.initiateAdvancedConditions(a,I,a.data('dataType'));}var C=c.getContent()[t.showOnTopCheckBoxPosition];if(o.getSelectedContexts().length>0){C.setEnabled(true);}t.updateDetailPageListItemsSelected(o,a);t.updateDetailPageCharts(I,m);});},updateDetailPageListItemsSelected:function(d,a){var t=this;t.updateDetailPageListItemsSelectedForListView(d,a);},updateDetailPageListItemsSelectedForListView:function(d,a){var t=this;var D=a.data('dataType');for(var j=0;j<d.getItems().length;j++){var l=d.getItems()[j];var L=l.getBindingContext().getObject();if(d.getModel().hasFilter(L)){l.setSelected(true);d.getModel().changeFilterAdvaced(L,false);t.removeAdvancedCondition(a,l,D);}else{l.setSelected(false);}var s=l.getBindingContext().sPath+'/selected';l.getBindingContext().oModel.setProperty(s,l.getSelected());}t.sortingAttributeList(d.getParent().getParent());d.setBusy(false);if(D==='date'){d.focus();}},removeAdvancedCondition:function(a,l,t){var c=a.getContent();var C,I,b;if(t==='string'||t==='text'){for(var i=0;i<c.length-1;i++){C=c[i];I=C.getContent()[1].getContent()[1];if(I.getProperty('value')){var v=I.getValue();var L=l.getBindingContext().getObject();if(v===L.filterCondition.value){b=i;break;}}}}a.removeContent(b);}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetFilter.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchFacet');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBar');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchFacetDialogModel');sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBar.extend('my.IconTabBar',{renderer:'sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBarRenderer',setEshRole:function(){var a=this.getItems();for(var i=0;i<a.length;++i){var b=a[i];var f=b.getContent()[0];f.setEshRole.apply(f,arguments);}},getEshRole:function(){var i=this.getItems();var a=i[0];var f=a.getContent()[0];return f.getEshRole.apply(f,arguments);},attachSelectionChange:function(){}});sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetFilter',{metadata:{properties:{title:'string'},aggregations:{'facets':{multiple:true}}},init:function(){this.data('sap-ui-fastnavgroup','true',true);},constructor:function(o){var t=this;o=jQuery.extend({},{},o);sap.ui.core.Control.prototype.constructor.apply(this,[o]);this.bindAggregation('facets','/facets',function(){if(t.getModel().config.charts){if(arguments[1].sPath!=='/facets/0'){var b={};b.id='barChart'+arguments[0];var i=new my.IconTabBar({items:[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText('facetList'),icon:'sap-icon://list',key:'list'+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacet('list'+arguments[0])}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText('facetBarChart'),icon:'sap-icon://horizontal-bar-chart',key:'barChart'+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart(b)}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText('facetPieChart'),icon:'sap-icon://pie-chart',key:'pieChart'+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart('pieChart'+arguments[0])})]});i.addStyleClass('sapUshellSearchFacetIconTabBar');return i;}else{return new sap.ushell.renderers.fiori2.search.controls.SearchFacet(arguments[0]);}}else{return new sap.ushell.renderers.fiori2.search.controls.SearchFacet(arguments[0]);}});},fireReset:function(){this.getModel().resetFilterConditions(false);this.getModel().setDataSource(this.getModel().allDataSource,true);},renderer:function(r,c){function a(d){return function(e){var f=sap.ui.getCore().byId($($(this.getDomRef()).closest('.sapUshellSearchFacet')[0]).attr('id'));var F=new sap.ushell.renderers.fiori2.search.SearchFacetDialogModel();F.setData(c.getModel().getData());F.prepareFacetList();var d=null;if(f&&f.getBindingContext()&&f.getBindingContext().getObject()&&f.getBindingContext().getObject().dimension){d=f.getBindingContext().getObject().dimension;}var D=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog({selectedAttribute:d});D.setModel(F);D.setModel(c.getModel(),'searchModel');D.open();var p=c.getParent().getParent().getParent().getParent();p.oFacetDialog=D;};}r.write('<div');r.writeControlData(c);r.addClass('sapUshellSearchFacetFilter');r.writeClasses();r.write('>');for(var i=0,l=c.getFacets().length;i<l;i++){var f=c.getFacets()[i];if(i===0){f.setEshRole('datasource');}else{f.setEshRole('attribute');f.attachSelectionChange(null,function(){jQuery(c.showAllBtn.getDomRef()).hide();});if(i===1){f.setHeaderText(sap.ushell.resources.i18n.getText('filterBy'));}var s=new sap.m.Link({text:'{i18n>showMore}',press:a(),visible:{parts:[{path:'/uiFilter/dataSource'}],formatter:function(d){return d.getType().toLowerCase()!=='category';}}});s.setModel(c.getModel());if(!c.getModel().config.charts){var b=new sap.m.CustomListItem({content:s});b.addStyleClass('sapUshellSearchFacetShowMoreLink');b.addEventDelegate({onAfterRendering:function(e){var d=jQuery(jQuery(e.srcControl.getDomRef()).find('.sapMLIBSelectM:first'));d.remove();}});f.addItem(b);}}r.renderControl(f);}if(c.getFacets().length>1||c.getModel().getDataSource().type==='BusinessObject'){r.write('<div>');c.showAllBtn=new sap.m.Button({text:'{showAllFilters}',press:a(),visible:false});c.showAllBtn.setModel(c.getModel('i18n'));c.showAllBtn.addStyleClass('sapUshellSearchFacetFilterShowAllFilterBtn');r.renderControl(c.showAllBtn);r.write('</div>');}r.write('</div>');},onAfterRendering:function(){if(this.getModel().getProperty('/count')>0){if((this.showAllBtn&&this.getFacets().length>1)&&!this.getModel().isOtherCategory()&&!this.getModel().isAllCategory()&&!this.getModel().isAppCategory()){this.showAllBtn.setVisible(true);this.showAllBtn.rerender();}}var a=$('.searchFacetFilter .searchFacet').first().find('ul');var b=a.find('li');a.attr('role','tree');b.attr('role','treeitem');}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetItem.js":"(function(){'use strict';jQuery.sap.require('sap.m.StandardListItem');sap.m.StandardListItem.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetItem',{constructor:function(I,o){var t=this;t.options=jQuery.extend({},{type:sap.m.ListType.Active,title:'{label}',tooltip:'{label}'+' '+'{value}',info:'{valueLabel}',selected:'{selected}'},o);sap.m.StandardListItem.prototype.constructor.apply(this,[I,t.options]);this.addStyleClass('sapUshellSearchFacetItem');this.addEventDelegate({onAfterRendering:function(){if(t.getBindingContext()&&t.getBindingContext().getObject()){var l=t.getBindingContext().getObject().level;if(jQuery('html').attr('dir')==='rtl'){jQuery(t.getDomRef()).children('.sapMLIBContent').css('padding-right',l+'rem');}else{jQuery(t.getDomRef()).children('.sapMLIBContent').css('padding-left',l+'rem');}}var e;var a=$('.sapUshellSearchFacetItem .sapMSLITitleOnly');for(var i=0;i<a.length;i++){e=a[i];if(!e.nextSibling){e.style.fontWeight='600';}}}});},renderer:'sap.m.StandardListItemRenderer'});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetPieChart.js":"(function(){'use strict';jQuery.sap.require('sap.ui.thirdparty.d3');sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart',{setEshRole:function(r){},metadata:{properties:{},aggregations:{items:{type:'sap.ushell.renderers.fiori2.search.FacetItem',multiple:true}}},renderer:function(R,C){R.write('<div');R.writeControlData(C);R.writeClasses();R.write('>');function e(){if(navigator.appName==='Microsoft Internet Explorer'){return true;}return false;}var P=function(){this.init.apply(this,arguments);};P.Labelposition=(function(){var a=function(){this.init.apply(this,arguments);};a.prototype={init:function(b,c,s,d,r,f,g,h,t,i){this.backgroundWidth=b;this.backgroundHeight=c;this.startAngle=s;this.endAngle=d;this.r=r;this.labelPaddingX=3;this.labelPaddingY=3;this.radiusPadding=4.24;this.labelWidth=f+2*this.labelPaddingX;this.labelHeight=g;this.outsetMin=0.3;this.outsetMax=1.2;this.outsetStep=0.025;this.apexAngle=d-s;this.startLabelWidth=this.labelWidth;this.d3centroid=h;this.text=t;this.svgBackground=i;this.debug=false;this.labelHeight=this.labelHeight+2*this.labelPaddingY;var x=Math.round(this.backgroundWidth/2);var y=Math.round(this.backgroundHeight/2);this.translateStr='translate('+x+','+y+')';},update:function(){var o=Math.max(this.outsetMin,Math.sin(this.apexAngle/2)/(this.apexAngle/2)*2/3);var p=true;var i=Math.max(100,this.labelWidth*2,1/this.outsetStep);var b=0;var c;do{p=true;c=this.calc(o,this.labelWidth,this.labelHeight);if(o>this.outsetMax||o<this.outsetMin){break;}if(this.labelWidth<0){break;}var d,f,g,h;if(b===0){d=this.calc(o+this.outsetStep,this.labelWidth,this.labelHeight);f=this.calc(o-this.outsetStep,this.labelWidth,this.labelHeight);g=this.value(d,c);h=this.value(f,c);if(g<h&&h>0.5){b=-1;o+=this.outsetStep*b;p=false;}else if(g>0.5||c.labelWidth<=0){b=1;o+=this.outsetStep*b;p=false;}}else{d=this.calc(o+this.outsetStep*b,this.labelWidth,this.labelHeight);g=this.value(d,c);if(g>0.5||c.labelWidth<=0){o+=this.outsetStep*b;p=false;}}i--;}while(!p&&i>0&&!isNaN(o));c=this.calc(o,this.labelWidth,this.labelHeight);this.labelWidth=c.labelWidth;var x=c.x;var y=c.y;this.svgBackground.select('circle.centroid').remove();if(this.debug){this.svgBackground.append('svg:circle').attr('class','centroid').attr('cx',c.centroidX).attr('cy',c.centroidY).attr('r',2).style('fill','blue');}this.svgBackground.selectAll('line.helper').remove();if(this.debug){this.svgBackground.append('svg:line').attr('class','helper helper2').attr('x1',-this.backgroundWidth/2).attr('x2',this.backgroundWidth/2).attr('y1',y-this.labelHeight/2).attr('y2',y-this.labelHeight/2);this.svgBackground.append('svg:line').attr('class','helper helper2').attr('x1',-this.backgroundWidth/2).attr('x2',this.backgroundWidth/2).attr('y1',y+this.labelHeight/2).attr('y2',y+this.labelHeight/2);this.svgBackground.append('svg:line').attr('class','helper').attr('x1',0).attr('y1',0).attr('x2',Math.sin(this.startAngle)*(this.r+this.radiusPadding)).attr('y2',-Math.cos(this.startAngle)*(this.r+this.radiusPadding));this.svgBackground.append('svg:line').attr('class','helper').attr('x1',0).attr('y1',0).attr('x2',Math.sin(this.endAngle)*(this.r+this.radiusPadding)).attr('y2',-Math.cos(this.endAngle)*(this.r+this.radiusPadding));this.svgBackground.append('svg:line').attr('class','helper').attr('x1',Math.sin(this.startAngle)*(this.r+this.radiusPadding)).attr('y1',-Math.cos(this.startAngle)*(this.r+this.radiusPadding)).attr('x2',this.isStartAngleOnRight()?this.backgroundWidth/2:-this.backgroundWidth/2).attr('y2',-Math.cos(this.startAngle)*(this.r+this.radiusPadding));this.svgBackground.append('svg:line').attr('class','helper').attr('x1',Math.sin(this.endAngle)*(this.r+this.radiusPadding)).attr('y1',-Math.cos(this.endAngle)*(this.r+this.radiusPadding)).attr('x2',this.isEndAngleOnRight()?this.backgroundWidth/2:-this.backgroundWidth/2).attr('y2',-Math.cos(this.endAngle)*(this.r+this.radiusPadding));}if(this.labelWidth<2*this.labelPaddingX){this.labelWidth=0;}else if(this.labelWidth<this.startLabelWidth){this.labelWidth=this.labelWidth-2*this.labelPaddingX;}this.x=(isNaN(x))?0:(x);this.y=(isNaN(x))?0:(y);},calc:function(o,b,c){var d,f,g,r,p,h;if(this.startAngle-this.endAngle+2*Math.PI<1e-9){d=0;f=0;r=this.backgroundWidth/2;g=-this.backgroundWidth/2;h=-this.r;p=this.r;}else{d=Math.sin(this.apexAngle/2)*this.r*o;f=Math.cos(this.apexAngle/2)*-this.r*o;var t=d*Math.cos(this.startAngle)-f*Math.sin(this.startAngle);f=d*Math.sin(this.startAngle)+f*Math.cos(this.startAngle);d=t;var u=f-this.labelHeight/2;var i=f+this.labelHeight/2;g=Math.max(this.calcLeftBorder(d,u),this.calcLeftBorder(d,i),-this.backgroundWidth/2);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))>1e-9&&d>0&&u<=0&&i>=0){g=Math.max(g,0);}if(!this.doesFitHeight(g,u,i,(d<0),true)){g=this.backgroundWidth/2;}r=Math.min(this.calcRightBorder(d,u),this.calcRightBorder(d,i),this.backgroundWidth/2);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))>1e-9&&d<0&&u<=0&&i>=0){r=Math.min(r,0);}if(!this.doesFitHeight(r,u,i,(d<0),false)){r=-this.backgroundWidth/2;}var j=this.calcPerimeterBorder(1,f-this.labelHeight/2);if(j<d){j=this.backgroundWidth/2;}var k=this.calcPerimeterBorder(1,f+this.labelHeight/2);if(k<d){k=this.backgroundWidth/2;}p=Math.min(j,k,r);var m=this.calcPerimeterBorder(-1,f-this.labelHeight/2);if(m>d){m=-this.backgroundWidth/2;}var n=this.calcPerimeterBorder(-1,f+this.labelHeight/2);if(n>d){n=-this.backgroundWidth/2;}h=Math.max(m,n,g);if(isNaN(p)){p=r;}if(isNaN(h)){h=g;}}this.svgBackground.select('line.left').remove();this.svgBackground.select('line.right').remove();this.svgBackground.select('line.perimeterLeft').remove();this.svgBackground.select('line.perimeterRight').remove();if(this.debug){this.svgBackground.append('svg:line').attr('class','left').attr('y1',-this.backgroundHeight/2).attr('y2',this.backgroundHeight/2).attr('x1',g).attr('x2',g);this.svgBackground.append('svg:line').attr('class','right').attr('y1',-this.backgroundHeight/2).attr('y2',this.backgroundHeight/2).attr('x1',r).attr('x2',r);this.svgBackground.append('svg:line').attr('class','perimeterLeft').attr('y1',-this.backgroundHeight/2).attr('y2',this.backgroundHeight/2).attr('x1',h).attr('x2',h);this.svgBackground.append('svg:line').attr('class','perimeterRight').attr('y1',-this.backgroundHeight/2).attr('y2',this.backgroundHeight/2).attr('x1',p).attr('x2',p);}var q=b;b=Math.min(b,Math.floor(r-g));var x=d;x=Math.max(x,h+b/2);x=Math.min(x,p-b/2);if(x-b/2<h-1e-9||x+b/2>p+1e-9){x=(h+p)/2;}if(d>=0){x=Math.max(x,g+b/2);x=Math.min(x,r-b/2);}else{x=Math.min(x,r-b/2);x=Math.max(x,g-b/2);}var y=f;return{x:x,y:y,labelWidth:b,labelShortened:(b!==q),xSpace:r-g,centroidX:d,centroidY:f,asymmetry:Math.abs(x-d)};},value:function(c,b){if(c.labelWidth<0){return-10000;}if(c.labelWidth<b.labelWidth){return-100;}if(c.labelWidth>b.labelWidth){return(c.labelWidth-b.labelWidth)*1000;}if(b.labelShortened&&c.labelWidth===b.labelWidth){return(c.xSpace-b.xSpace)*100;}return 0;},doesFitHeight:function(b,u,c,i,d){var y=-Math.cos(this.startAngle)*(this.r+this.radiusPadding);var f=-Math.cos(this.endAngle)*(this.r+this.radiusPadding);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){y=-this.backgroundHeight/2;f=this.backgroundHeight/2;}else if(b===0){y=-this.backgroundHeight/2;f=this.backgroundHeight/2;}else if(b>0){if(!this.isStartAngleOnRight()){y=-this.backgroundHeight/2;}else if(b<=Math.sin(this.startAngle)*(this.r+this.radiusPadding)){y=b/-Math.tan(this.startAngle);}if(!this.isEndAngleOnRight()){f=this.backgroundHeight/2;}else if(b<=Math.sin(this.endAngle)*(this.r+this.radiusPadding)){f=b/-Math.tan(this.endAngle);}if(i&&!d&&y>=c){y=-this.backgroundHeight/2;}if(i&&!d&&f<=u){f=this.backgroundHeight/2;}}else{if(this.isStartAngleOnRight()){y=this.backgroundHeight/2;}else if(b>Math.sin(this.startAngle)*(this.r+this.radiusPadding)){y=b/-Math.tan(this.startAngle);}if(this.isEndAngleOnRight()){f=-this.backgroundHeight/2;}else if(b>Math.sin(this.endAngle)*(this.r+this.radiusPadding)){f=b/-Math.tan(this.endAngle);}if(!i&&d&&f>=c){f=-this.backgroundHeight/2;}if(!i&&d&&y<=u){y=this.backgroundHeight/2;}}if(!d){this.svgBackground.selectAll('.rightBorder').remove();if(this.debug){this.svgBackground.append('svg:rect').attr('class','rightBorder').attr('x',b-3).attr('y',y-3).attr('width',6).attr('height',6).style('fill','green');this.svgBackground.append('svg:circle').attr('class','rightBorder').attr('cx',b).attr('cy',f).attr('this.r',3).style('fill','green');}}else{this.svgBackground.selectAll('.leftBorder').remove();if(this.debug){this.svgBackground.append('svg:rect').attr('class','leftBorder').attr('x',b-3).attr('y',y-3).attr('width',6).attr('height',6).style('fill','red');this.svgBackground.append('svg:circle').attr('class','leftBorder').attr('cx',b).attr('cy',f).attr('this.r',3).style('fill','red');}}return(u>=Math.min(y,f)-1e-9&&c<=Math.max(y,f)+1e-9);},calcLeftBorder:function(x,y){var b=-this.backgroundWidth/2;if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){return b;}if(y<=0){if(y>-Math.cos(this.startAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.startAngle)*-y;}}else if(y<-Math.cos(this.endAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.endAngle)*-y;}return b;},calcRightBorder:function(x,y){var b=this.backgroundWidth/2;if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){return b;}if(y>=0){if(-y>Math.cos(this.startAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.startAngle)*-y;}}else if(-y<Math.cos(this.endAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.endAngle)*-y;}return b;},calcPerimeterBorder:function(x,y){var b=(x>0)?this.backgroundWidth/2:-this.backgroundWidth/2;b=Math.sqrt(this.r*this.r-y*y);if(x<0){b*=-1;}return b;},isStartAngleOnRight:function(){return this.startAngle>0&&this.startAngle<=2*Math.PI/360*180;},isEndAngleOnRight:function(){return this.endAngle%(2*Math.PI)<2*Math.PI/360*180;}};return a;})();P.Tweens=(function(){var T={};T.tweenGenSimple=function(d,i,a,b,o,s){var c={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var f={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var j=d3.interpolate(c,f);return function(t){return s(j(t));};};T.tweenGenSimpleText=function(d,i,a,b,o,c,f){var g=' ';if((d.labelElement.childNodes[1])&&(d.labelElement.childNodes[1].childNodes[0])&&(d.labelElement.childNodes[1].childNodes[0].data)){g=d.labelElement.childNodes[1].childNodes[0].data;}var h=new P.Labelposition(c.options.width,c.options.height,d.oldArc.startAngle,d.oldArc.endAngle,c.options.outerRadius,d.labelElement.childNodes[1].getBBox().width,d.labelElement.childNodes[1].getBBox().height,c.svgArcGen(d).centroid(d),g,c.svg);h.update();var k=[h.x,h.y];var m=new P.Labelposition(c.options.width,c.options.height,d.startAngle,d.endAngle,c.options.outerRadius,d.labelElement.childNodes[1].getBBox().width,d.labelElement.childNodes[1].getBBox().height,c.svgArcGen(d).centroid(d),g,c.svg);m.update();if(m.labelWidth<d.labelElement.childNodes[1].getBBox().width){c.adjustLabelWidth(d.labelElement,m.labelWidth);}var n=[m.x,m.y];var j=d3.interpolateArray(k,n);var p=function(q){var t;if(f){t=T.translateStr4Padding(d.startAngle,d.endAngle,c.options.padding4click,q[0],q[1]);}else{t='translate('+q+')';}return t;};return function(t){return p(j(t));};};T.translateStr4Padding=function(s,a,p,x,y){var b=a-s;var c=p*Math.sin(b/2);var d=-(p*Math.cos(b/2));var t=c*Math.cos(s)-d*Math.sin(s);d=c*Math.sin(s)+d*Math.cos(s);c=t;var f='translate('+(x+c)+', '+(y+d)+')';return f;};T.tweenGenEcstasy=function(d,i,a,b,o,s){var c=Math.round((b+o)/2);var f;var g;if(i%2){f=o;g=c;}else{f=c;g=b;}var h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var j={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:f};var k=d3.interpolate(h,j);h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:f};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:f};var r=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:f};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var u=d3.interpolate(h,j);return function(t){if(t<=0.25){return s(k(t*4));}if(t<=0.75){return s(r((t-0.25)*2));}return s(u((t-0.75)*4));};};T.tweenGenLSD=function(d,i,a,b,o,s){var c=Math.round((b+o)/2);var f;var g;if(i%2){f=o;g=c;}else{f=c;g=b;}var h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var j={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:f};var k=d3.interpolate(h,j);h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:f};j={startAngle:d.startAngle,endAngle:d.startAngle+(d.oldArc.endAngle-d.oldArc.startAngle),innerRadius:g,outerRadius:f};var m=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.startAngle+(d.oldArc.endAngle-d.oldArc.startAngle),innerRadius:g,outerRadius:f};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:f};var r=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:f};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var u=d3.interpolate(h,j);return function(t){if(t<=0.25){return s(k(t*4));}if(t<=0.5){return s(m((t-0.25)*4));}if(t<=0.75){return s(r((t-0.5)*4));}return s(u((t-0.75)*4));};};return T;})();var l={};l.debug=function(t){};P.prototype={init:function(p,o,a,m){this.application=a;this.parent=p;this.model=m;this.chartElements=[];var b=d3.select(p);var s=$(p).innerHeight();var c=$(p).innerWidth();if(o.height>s){s=o.height;}var r=(Math.min(c,s)/2);this.options={'dimension-pie':'YEAR',backgroundWidth:c,backgroundHeight:s,width:c,height:s,innerRadius:0,outerRadius:r*0.8,tweenGen:P.Tweens.tweenGenSimple,tweenGenText:P.Tweens.tweenGenSimpleText,arcCalculator:P.generateHistoricalArcCalculator(),animationduration:1500,labelHideThreshold:0.05,easing:'linear',pieChartClass:'sap-piechart',pieChartParentClass:'sapUshellSearchFacetPieChart',color:'blue',strokewidth:1,strokewidthHover:3,padding4click:7,multipleselectable:true,oSearchFacetDialog:null};if(o){for(var f in o){this.options[f]=o[f];}}this.createAttributeService(P,'innerRadius',function(){this.init();});this.createAttributeService(P,'outerRadius',function(){this.init();});this.createAttributeService(P,'tweenGen',function(){this.init();});this.createAttributeService(P,'tweenGenText',function(){this.init();});this.createAttributeService(P,'width',function(){this.init();});this.createAttributeService(P,'height',function(){this.init();});this.createAttributeService(P,'animationduration');this.createAttributeService(P,'labelHideThreshold');this.createAttributeService(P,'arcCalculator');var x=Math.round(this.options.width/2);var y=Math.round(this.options.height/2);this.svg=b.append('svg:svg').attr('width',c).attr('height',s).append('svg:g').attr('transform','translate('+x+','+y+')');this.svgArcs=this.svg.append('svg:g');this.svgLabels=this.svg.append('svg:g');this.svg.attr('class',this.options.pieChartClass);this.inittween();this.oldArcs=[];this.clickedSegment={};this.firstUpdate=true;},getParent:function(){return this.parent;},createAttributeService:function(c,a,i){c.prototype[a]=function(v){if(v===null){return this.options[a];}else{this.options[a]=v;if(i){i.call(this);}return this;}};},inittween:function(){var t=this;t.xOrigin=Math.round(t.options.width/2);t.yOrigin=Math.round(t.options.height/2);t.svg.attr('width',this.options.width).attr('height',this.options.height);this.tweenGenArc=function(d,i,a){return t.options.tweenGen(d,i,a,t.options.innerRadius,t.options.outerRadius,t.svgArcGen(d));};this.tweenGenText=function(d,i,a,f){return t.options.tweenGenText(d,i,a,t.options.innerRadius,t.options.outerRadius,t,f);};},update:function(d){this.notAnimatedUpdate(d);},notAnimatedUpdate:function(a){var t=this;var b=[];if(!a){return;}this.chartElements=a;t.svgArcs.selectAll('path').remove();t.svgLabels.selectAll('g').remove();var c=0;for(var i=0;i<a.length;++i){c+=a[i].value;}for(var j=0;j<a.length;++j){a[j].percentage=a[j].value/c;}b=this.options.arcCalculator.calculateNewArcsOnly(a);var s=this.svgArcs.selectAll('path').data(b,P.getIdOfArc);if(!s.exit().empty()){s.exit().remove();}if(!s.empty()){s.attr('d',function(d){var p=t.svgArcGen(d);return p(d);}).attr('transform',function(d){var g;if(d.data.selected){g=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);}else{g='translate(0,0)';}return g;}).style('stroke',function(d){var g;if(d.data.stroke==='none'){g=d.data.stroke;}else if(d.data.selected||d.data.hovered){g='#dadada';}else{g='white';}return g;}).style('stroke-width',function(d){var g;if(d.data.selected||d.data.hovered){g=t.options.strokewidthHover;}else{g=t.options.strokewidth;}return g;}).style('opacity',function(d){var o;if(d.data.selected||d.data.hovered){o='1';}else if(d.data.initial){o='0.75';}else{o='0.5';}return o;}).each(function(d,i){while(this.hasChildNodes()){this.removeChild(this.lastChild);}d3.select(this).append('svg:title').text(''+d.data.tooltip);});}s.enter().append('svg:path').attr('transform',function(d){var g;if(d.data.selected){t.clickedSegment[d.data.id]=this;g=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);}return g;}).attr('shape-rendering','geometricPrecision').style('stroke',function(d){var g;if(d.data.stroke==='none'){g=d.data.stroke;}else if(d.data.selected||d.data.hovered){g='#dadada';}else{g='white';}return g;}).style('stroke-width',function(d){var g;if(d.data.selected||d.data.hovered){g=t.options.strokewidthHover;}else{g=t.options.strokewidth;}return g;}).style('opacity',function(d){var o;if(d.data.selected||d.data.hovered){o='1';}else if(d.data.initial){o='0.75';}else{o='0.5';}return o;}).attr('fill',function(d,i){return d.data.fill;}).on('click',function(d,i){var E;var g=d.data.selected;if((d.data.click)&&(d.data.pieupdateuionly===false)){var r=d.data.click(d,i);if((!t.options.multipleselectable)&&(!r)){return;}}var h,k;var m;var n=t.getLabelElementtbyLabel(d.data.label);if(n){var o=' ';if((n.childNodes[1])&&(n.childNodes[1].childNodes[0])&&(n.childNodes[1].childNodes[0].data)){o=n.childNodes[1].childNodes[0].data;}m=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,n.childNodes[1].getBoundingClientRect().width,n.childNodes[1].getBoundingClientRect().height,t.svgArcGen(d).centroid(d),o,t.svg);m.update();if(m.labelWidth<n.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(n,m.labelWidth);}}if(g){if((!t.options.multipleselectable)&&(Object.keys(t.clickedSegment).length>0)){delete t.clickedSegment[d.data.id];}d.data.selected=false;h='translate(0,0)';if(n){k='translate('+m.x+','+m.y+')';}if(t.options.oSearchFacetDialog){E={};E.cnt=t.getNumberOfClickedSegments();E.dataObject=d.data;E.model=t.model;t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(E);}else{t.model.removeFilterCondition(d.data.filterCondition,true);}}else{if(!t.options.multipleselectable){if(Object.keys(t.clickedSegment).length>0){for(var p in t.clickedSegment){var q=t.clickedSegment[p];if(typeof q.__onclick==='function'){q.__data__.data.pieupdateuionly=true;q.__onclick.apply(q);}delete t.clickedSegment[p];}}if(Object.keys(t.clickedSegment).length<1){t.clickedSegment[d.data.id]=(this);}}d.data.selected=true;h=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);if(n){k=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,m.x,m.y);}if(d.data.filterCondition){if(t.options.oSearchFacetDialog){E={};E.cnt=t.getNumberOfClickedSegments();E.dataObject=d.data;E.model=t.model;t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(E);}else{t.model.addFilterCondition(d.data.filterCondition,true);}}}d3.select(this).transition().duration(1000).ease(d3.ease('elastic')).attr('transform',h).style('stroke',function(d){var v;if(d.data.stroke==='none'){v=d.data.stroke;}else if(d.data.selected){v='#dadada';}else{v='white';}return v;}).style('stroke-width',function(d){var v;if(d.data.selected){v=t.options.strokewidthHover;}else{v=t.options.strokewidth;}return v;}).style('opacity',function(d){var v;if(d.data.selected||d.data.hovered){v='1';}else if(d.data.initial){v='0.75';}else{v='0.5';}return v;});var u=t.getLabelElementtbyLabel(d.data.label);if(u){d3.select(u).transition().duration(1000).ease(d3.ease('elastic')).attr('transform',k);}}).on('mouseover',function(d,i){if((!t.options.multipleselectable)&&(Object.keys(t.clickedSegment).length>0)){return;}if(d.data.selected||d.data.hovered){return;}if(d.data.mouseover){var r=d.data.mouseover(d,i);if((!t.options.multipleselectable)&&(!r)){return;}}}).on('mouseout',function(d,i){if((!t.options.multipleselectable)&&(Object.keys(t.clickedSegment).length>0)){return;}if(d.data.selected){return;}if(d.data.mouseout){var r=d.data.mouseout(d,i);if((!t.options.multipleselectable)&&(!r)){return;}}}).attr('d',function(d){var p=t.svgArcGen(d);return p(d);}).append('svg:title').text(function(d){return''+d.data.tooltip;});s=t.svgLabels.selectAll('g').data(b,P.getIdOfArc);if(!s.exit().empty()){s.exit().remove();}if(!s.empty()){s.style('opacity',function(d){if(d.removed||d.data.percentage<t.options.labelHideThreshold){return 0;}else{return 1;}}).attr('transform',function(d){var g;var h;if((this.childNodes[1])&&(this.childNodes[1].childNodes[0])){h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d),d.data.label,t.svg);}else{h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d),' ',t.svg);}h.update();if(h.labelWidth<this.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(this,h.labelWidth);}if(d.data.selected){g=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,h.x,h.y);}else{g='translate('+h.x+','+h.y+')';}return g;});}if(!s.enter().empty()){var f=s.enter().append('svg:g').style('opacity',0);f.append('svg:text').attr('class','labelshadow').attr('text-anchor','middle').text(function(d){return''+d.data.label;}).style('pointer-events','none');f.append('svg:text').attr('class','label').attr('text-anchor','middle').text(function(d){return''+d.data.label;}).style('pointer-events','none');f.style('opacity',function(d){if(d.removed||d.data.percentage<t.options.labelHideThreshold){return 0;}else{return 1;}}).attr('transform',function(d){var g;var h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d),d.data.label,t.svg);h.update();if(h.labelWidth<this.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(this,h.labelWidth);}if(d.data.selected){g=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,h.x,h.y);}else{g='translate('+h.x+','+h.y+')';}return g;});}t.oldArcs=P.removeDeletedArcs(b);},getNumberOfClickedSegments:function(){var c=0;var a=this.chartElements;for(var i=0;i<a.length;i++){if(a[i].selected===true){c++;}}return c;},adjustLabelWidth:function(a,t){var s=a.childNodes[0];var b=a.childNodes[1];if(t<=0){s.childNodes[0].data='';b.childNodes[0].data='';return;}var c=s.childNodes[0].data.length;s.childNodes[0].data+='...';var d='';while(s.getBBox().width>t){d=s.childNodes[0].data;d=d.substr(0,c-1)+d.substr(c,3);s.childNodes[0].data=d;c--;if(c<=0){s.childNodes[0].data='';break;}}b.childNodes[0].data=s.childNodes[0].data;},getArcsWithLabel:function(a){var t=this;var b=[];for(var i=0;i<a.length;++i){var c=a[i];if(c.data.percentage>t.options.labelHideThreshold){b.push(c);}}return b;},svgArcGen:function(d){var t=this;var a=d3.svg.arc().innerRadius(function(d){return t.options.innerRadius;}).outerRadius(function(d){return t.options.outerRadius;}).startAngle(function(d){return d.startAngle;}).endAngle(function(d){return d.endAngle;});return a;},getArcElementtbyLabel:function(a){var t=this;t.svgArcs.selectAll('g').each(function(d,i){if(d.data.label===a){t=this;}return;});return t;},getLabelElementtbyLabel:function(a){var t=this;t.svgLabels.selectAll('g').each(function(d,i){if(d.data.label===a){t=this;}});return t;}};P.removeDeletedArcs=function(a){var t=[];for(var i=0;i<a.length;++i){var b=a[i];if(!b.removed){t.push(b);}}return t;};P.createZeroArc=function(a,b){return{startAngle:a,endAngle:a,data:b,removed:true};};P.insertAfter=function(a,i,b){var n;if(i>=0){var c=a[i];n=P.createZeroArc(c.endAngle,b.data);}else{n=P.createZeroArc(0,b.data);}n.oldArc=b;a.splice(i+1,0,n);};P.getIdOfArc=function(a){return a.data.id;};P.arcsGen=d3.layout.pie().value(function(d){return d.value;}).sort(null);P.getIndexById=function(a,b){for(var i=0;i<a.length;++i){var c=a[i];if(P.getIdOfArc(c)===b){return i;}}return null;};P.add2arcSequence=function(d,a){if(e()){var b=function(x){a.getIndex(x.id);};d.forEach(b);}return d;};P.translateStr4Padding=function(s,a,p,x,y){var b=a-s;var c=p*Math.sin(b/2);var d=-(p*Math.cos(b/2));var t=c*Math.cos(s)-d*Math.sin(s);d=c*Math.sin(s)+d*Math.cos(s);c=t;var f='translate('+(x+c)+', '+(y+d)+')';return f;};P.Sequence=function(){this.init.apply(this,arguments);};P.Sequence.prototype={init:function(){this.maxIndex=0;this.objectMap={};},getIndex:function(o){var i=this.objectMap[o];if(typeof i!=='undefined'){return i;}i=this.maxIndex;this.maxIndex++;this.objectMap[o]=i;return i;}};P.generateDefaultArcCalculator=function(){return new P.DefaultArcCalculator();};P.DefaultArcCalculator=function(){this.init.apply(this,arguments);};P.DefaultArcCalculator.prototype={init:function(){this.arcSequence=new P.Sequence();},calculateNewArcsOnly:function(d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);d.sort(function(a,b){return t.arcSequence.getIndex(a.id)-t.arcSequence.getIndex(b.id);});var n=P.arcsGen(d);return n;},calculateArcs:function(o,d){var n=P.arcsGen(d);this.insertMissingArcs(o,n,true);this.insertMissingArcs(n,o,false);return n;},insertMissingArcs:function(a,b,i){var c=-1;for(var d=0;d<b.length;++d){var f=b[d];var g=P.getIndexById(a,f.data.id);var h;if(g!==null){h=a[g];h.oldArc=f;c=g;continue;}else{if(i){c=this.determineInsertIndex(a,c,b,d);}var n;if(c>=0){var j=a[c];n=P.createZeroArc(j.endAngle,f.data);}else{n=P.createZeroArc(0,f.data);}n.oldArc=f;a.splice(c+1,0,n);c++;}}},determineInsertIndex:function(a,b,c,d){var f=c[d];var s=this.arcSequence.getIndex(f.data.id);var i;for(i=b+1;i<a.length;++i){var g=this.arcSequence.getIndex(a[i].data.id);if(g>s){break;}if(P.getIndexById(c,a[i].data.id)!==null){break;}}return i-1;}};P.generateHistoricalArcCalculator=function(){return new this.HistoricalArcCalculator();};P.HistoricalArcCalculator=function(){this.init.apply(this,arguments);};P.HistoricalArcCalculator.prototype={init:function(){this.arcSequence=new P.Sequence();},calculateNewArcsOnly:function(d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);d.sort(function(a,b){return t.arcSequence.getIndex(a.id)-t.arcSequence.getIndex(b.id);});var n=P.arcsGen(d);return n;},calculateArcs:function(o,d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);d.sort(function(a,b){return t.arcSequence.getIndex(a.id)-t.arcSequence.getIndex(b.id);});var n=P.arcsGen(d);this.insertMissingArcs(o,n);this.insertMissingArcs(n,o);return n;},insertMissingArcs:function(a,b){var t=this;var c=0;for(var d=0;d<b.length;++d){var f=b[d];var g=t.arcSequence.getIndex(f.data.id);var h;var i=false;for(;c<a.length;++c){h=a[c];var j=t.arcSequence.getIndex(h.data.id);if(j===g){i=true;break;}if(j>g){break;}}if(i){h.oldArc=f;}else{var n;if(c-1>=0&&c-1<a.length){var k=a[c-1];n=P.createZeroArc(k.endAngle,f.data);}else{n=P.createZeroArc(0,f.data);}a.splice(c,0,n);n.oldArc=f;}c++;}}};R.write('</div>');C.PieChart=P;},getFacetIndexById:function(c){var a=-1;var t=$('#'+c).parent().parent().parent().parent().parent()[0];var b=t.id;var d=$('.sapUshellSearchFacetIconTabBar');for(var i=0;i<d.length;i++){var e=d[i].id;if(e===b){a=i;break;}}return a;},getFacetIndexByIdForLargePieChart:function(c){var a=-1;var t=$('#'+c).parent().parent()[0];var b=t.id;var d=$('.searchFacetLargeChartContainer');for(var i=0;i<d.length;i++){var e=d[i].id;if(e===b){a=i;break;}}return a;},getPieChartIndexByFacetIndex:function(f){var s;var a=-1;var p=0;for(var i=0;i<f;i++){s=$($('.sapUshellSearchFacetIconTabBar')[i]).find('.sapMLIBContent')[1].firstChild.id;if(s.match(/pieChart/)!==null){p++;}}a=p;return a;},getSumSelected:function(d){var a;var b=0;if(d){for(var i=0;i<d.length;i++){if(d[i].facetType==='attribute'){for(var j=0;j<d[i].items.length;j++){a=d[i].items[j].value;if(a&&d[i].items[j].selected){b+=a;}}}}}return b;},getDataForPieChart:function(d,m){var r=[];var g=[];var a={};var b=0;var c='';var s=m.oData.count;var o=s;var p=0;for(var i=0;i<d.length;i++){if(d[i].facetType==='attribute'){if(d[i].totalCount){o=d[i].totalCount;}g=[];p=0;for(var j=0;j<d[i].items.length;j++){a={};b=d[i].items[j].value;if(b){c=''+b;p+=b;a.filterCondition=d[i].items[j].filterCondition;a.dimension=d[i].items[j].facetTitle;a.label=d[i].items[j].label;a.selected=d[i].items[j].selected;a.filterLabel=d[i].items[j].label;a.id=d[i].items[j].label;a.value=b;a.valueLabel=d[i].items[j].valueLabel;if(c){a.tooltip=d[i].items[j].label+'\\t: '+b;}else{a.tooltip=d[i].items[j].label;}a.filtered=false;a.removed=false;a.fill='#007CAA';a.maxLabelLength=30;g.push(a);}}var e=Math.round((p/o)*100);var f=(100-e);if(f>0){if(f===100){f=99;}var h=(18*p)/350;var l=''+f;a={};a.filterCondition=null;a.dimension='';a.label=l;a.id='perc_missing';a.value=h;a.valueLabel=l;a.tooltip=l+sap.ushell.resources.i18n.getText('facetPieChartOverflowText');a.filtered=false;a.removed=false;a.fill='transparent';a.stroke='none';a.maxLabelLength=30;g.push(a);}r.push(g);}}return r;},getDataForPieChartLarge:function(d,m){var g=[];var i={};var a=0;var p=0;g=[];p=0;for(var j=0;j<d.length;j++){a=d[j].value;if(a){i={};p+=a;i.filterCondition=d[j].filterCondition;i.dimension=d[j].facetAttribute;i.label=d[j].label;i.selected=d[j].selected;i.filterLabel=d[j].label;i.id=d[j].label;i.value=a;i.valueLabel=d[j].valueLabel;i.tooltip=d[j].label+'\\t: '+a;i.filtered=false;i.removed=false;i.fill='#007CAA';i.maxLabelLength=30;g.push(i);}}return g;},directUpdate:function(d,p,m,o){var c,a,b;var f=[];var e=20;a=null;b=this.getModel();if(!b){b=this.oParent.getModel();}o.pieChartParentClass='sapUshellSearchFacetPieChartLarge';o.height=o.relevantContainerHeight;o.labelHideThreshold=0.000001;$(p).parent().parent().height(o.height);o.width=$(p).parent().width();this.chartElements=this.getDataForPieChartLarge(d,m);c=new this.PieChart(p,o,a,b);for(var i=0;i<e;i++){if(this.chartElements[i]){f.push(this.chartElements[i]);}}c.update(f);},onAfterRendering:function(){var d,c,a,m,b,p,f;var o={};b=null;m=this.getModel();if(!m){m=this.oParent.oModels.facets;}if(m){p=$('#'+this.sId)[0];if($(p).parent()[0].className==='sapMLIBContent'){o.pieChartParentClass='sapUshellSearchFacetPieChart';f=this.getFacetIndexById(this.sId);p.className=o.pieChartParentClass;d=this.getDataForPieChart(m.oData.facets,m);c=d[f];a=new this.PieChart(p,o,b,m);a.update(c);}}}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetTabBar.js":"(function(){'use strict';jQuery.sap.require('sap.m.GroupHeaderListItemRenderer');jQuery.sap.require('sap.m.ButtonRenderer');sap.m.Button.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDown',{renderer:'sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDownRenderer'});sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDownRenderer=jQuery.extend(true,{},sap.m.ButtonRenderer);sap.m.GroupHeaderListItemRenderer.extend('sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer');sap.m.GroupHeaderListItem.extend('sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItem',{renderer:'sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer',metadata:{properties:{button:{type:'control',defaultValue:null},upperCase:{type:'boolean',group:'Appearance',defaultValue:false}}}});sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer.renderCounter=function(r,l){var b=l.getButton();if(b){this.renderCounterContent(r,l,b);}};sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer.renderCounterContent=function(r,l,b){r.write('<div>');r.renderControl(b);r.write('</div>');};sap.m.SegmentedButtonItem.extend('my.SegmentedButtonItem',{aggregations:{'content1':{type:'sap.ui.core.Control',multiple:false}}});sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBar',{metadata:{properties:{'eshRole':'string','headerText':'string','selectedButtonParameters':{type:'object',defaultValue:null}},aggregations:{items:{type:'sap.m.IconTabFilter',multiple:true}}},getSearchFacetTabBarAndDimensionById:function(b){var r={};r.index=0;var a=document.getElementById(b);var v=a.dataset.facetView;var c=a.dataset.facetViewIndex;var d=$('#'+b).parent()[0];var e=d.dataset.facetDimension;var f=$('.sapUshellSearchFacetTabBar');for(var i=0;i<f.length;i++){var g=$('.sapUshellSearchFacetTabBar .sapUshellSearchFacetTabBarHeader')[i];var h=g.dataset.facetDimension;if(h===e){r.index=i;r.control=sap.ui.getCore().byId(f[i].id);r.view=v;r.buttonIndex=c;r.dimension=e;break;}}return r;},storeClickedTabInformation:function(e){var s,a,b,d,c;var p=$.sap.storage.get('selectedButtonParameters');var P=JSON.parse(p);var t=e.getSource().sId;var f=this.getSearchFacetTabBarAndDimensionById(t);s=f.dimension;a=f.control;b=f.view;c=f.buttonIndex;d=a.getBindingContext().getObject().dimension;var g=e.getParameters().id;var h=[];var o={};o.tabId=t;o.searchFacetTabBarIndex=f.searchFacetTabBarIndex;o.buttonId=g;o.buttonIndex=c;o.dimension=d;o.view=b;h.push(o);if(P){for(var i=0;i<P.length;i++){var j=P[i];if(j.dimension!==s){h.push(j);}}}$.sap.storage.put('selectedButtonParameters',JSON.stringify(h));},renderer:function(r,c){function a(n,T){return function(p){var d;var q=$(this.getDomRef()).closest('.sapUshellSearchFacetTabBar')[0];var u=sap.ui.getCore().byId($(q).attr('id'));var F=new sap.ushell.renderers.fiori2.search.SearchFacetDialogModel();F.setData(c.getModel().getData());F.prepareFacetList();if(u&&u.getBindingContext()&&u.getBindingContext().getObject()&&u.getBindingContext().getObject().dimension){d=u.getBindingContext().getObject().dimension;}var v=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog({selectedAttribute:d,selectedTabBarIndex:n,tabBarItems:T});v.setModel(F);v.setModel(c.getModel(),'searchModel');v.open();var P=c.getParent().getParent().getParent().getParent();P.oFacetDialog=v;};}r.write('<div ');r.writeControlData(c);r.addClass('sapUshellSearchFacetTabBar');r.writeClasses();r.write('>');var d=c.getBindingContext().getObject().dimension;var t=c.getBindingContext().getObject().title;var b;var s;b=$.sap.storage.get('selectedButtonParameters');if(b){b=JSON.parse(b);for(var k=0;k<b.length;k++){if(b[k].dimension===d){s=b[k];break;}}}var e=[];var f=[];var C=null;var B=null;var g=0;if(s&&s.buttonIndex){g=s.buttonIndex;g=parseInt(g,10);}var h=c.getItems();var D=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDown({icon:h[g].getIcon(),type:'Transparent'});for(var i=0;i<h.length;i++){C=h[i].getContent()[0];B=new sap.m.Button({text:h[i].getText(),icon:h[i].getIcon(),press:function(E){c.storeClickedTabInformation(E);c.setSelectedButtonParameters(E.getParameters());}});B.data('facet-view',h[i].getText(),true);B.data('facet-view-index',''+i,true);B.data('dimension',d,true);e.push(B);f.push(C);}var A=new sap.m.ActionSheet({showCancelButton:true,buttons:e,placement:sap.m.PlacementType.Bottom,cancelButtonPress:function(){jQuery.sap.log.info('sap.m.ActionSheet: cancelButton is pressed');}});A.data('facet-dimension',d,true);if($('.sapUiSizeCompact')[0]){A.addStyleClass('sapUiSizeCompact');}D.addStyleClass('sapUshellSearchFacetTabBarButton');var j=h[g].getText();var l=sap.ushell.resources.i18n.getText('displayAs',[j]);D.setTooltip(l);D.attachPress(function(E){A.openBy(this);});if(c.getHeaderText()){var H=new sap.m.List({headerText:c.getHeaderText()});H.setShowNoData(false);H.setShowSeparators(sap.m.ListSeparators.None);r.renderControl(H);}var L=new sap.m.CustomListItem({content:f[g]});L.setModel(c.getModel(),'facets');var G=new sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItem({title:t,button:D});G.data('facet-dimension',d,true);G.addStyleClass('sapUshellSearchFacetTabBarHeader');var S=new sap.m.Link({text:sap.ushell.resources.i18n.getText('showMore'),press:a(g,h)});S.setModel(c.getModel('i18n'));var o=new sap.m.CustomListItem({content:S,visible:{parts:[{path:'/uiFilter/dataSource'}],formatter:function(n){return n.getType().toLowerCase()!=='category';}}});o.addStyleClass('sapUshellSearchFacetShowMoreLink');var m=new sap.m.List({showSeparators:sap.m.ListSeparators.None,items:[G,L,o]});m.data('sap-ui-fastnavgroup','false',true);m.setModel(c.getModel());r.renderControl(m);c.getItems()[g].addContent(f[g]);r.write('</div>');},onAfterRendering:function(){}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchFieldGroup.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchSelect');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchInput');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchButton');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup',{metadata:{properties:{'selectActive':{defaultValue:true,type:'boolean'},'inputActive':{defaultValue:true,type:'boolean'},'buttonActive':{defaultValue:true,type:'boolean'}},aggregations:{'select':{type:'sap.ui.core.Control',multiple:false},'input':{type:'sap.ui.core.Control',multiple:false},'button':{type:'sap.ui.core.Control',multiple:false}}},init:function(){var t=this;t.initSelect();t.initInput();t.initButton();},initSelect:function(){var t=this;var a=new sap.ushell.renderers.fiori2.search.controls.SearchSelect(t.getId()+'-select',{});a.attachChange(function(){if(t.getAggregation('input')){var i=t.getAggregation('input');i.focus();i.destroySuggestionRows();}});t.setAggregation('select',a);},initInput:function(){var t=this;var i=new sap.ushell.renderers.fiori2.search.controls.SearchInput(t.getId()+'-input',{});t.setAggregation('input',i);},initButton:function(){var t=this;var b=new sap.ushell.renderers.fiori2.search.controls.SearchButton(t.getId()+'-button',{press:function(e){if(!t.getAggregation('input')){return;}var m=t.getAggregation('input').getModel();if(!s.isSearchAppActive()&&t.getAggregation('input').getValue()===''&&m.getDataSource()===m.allDataSource){return;}b.getModel().invalidateQuery();var i=t.getAggregation('input');i.destroySuggestionRows();i.triggerSearch(e);}});t.setAggregation('button',b);},setModel:function(m){if(this.getSelectActive()){this.getAggregation('select').setModel(m);}if(this.getInputActive()){this.getAggregation('input').setModel(m);}if(this.getButtonActive()){this.getAggregation('button').setModel(m);}},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass('SearchFieldGroup');r.writeClasses();r.write('>');r.write('<div class=\"sapUshellSearchFieldGroupContainer\">');r.write('<div class=\"sapUshellSearchFieldGroupSubContainer\">');if(c.getSelectActive()===true){r.renderControl(c.getAggregation('select'));}if(c.getInputActive()===true){r.renderControl(c.getAggregation('input'));}r.write('</div>');if(c.getButtonActive()===true){r.renderControl(c.getAggregation('button'));}r.write('</div>');r.write('</div>');}});}());\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchFilterBar.js":"(function(){'use strict';jQuery.sap.require('sap.m.Toolbar');sap.m.Toolbar.extend('sap.ushell.renderers.fiori2.search.controls.SearchFilterBar',{constructor:function(o){var t=this;o=jQuery.extend({},{design:sap.m.ToolbarDesign.Info},o);sap.m.Toolbar.prototype.constructor.apply(t,[o]);t.addStyleClass('sapUshellSearchFilterContextualBar');t.filterFormatter=t.filterFormatter.bind(t);t.filterText=new sap.m.Text({text:{parts:[{path:'/uiFilter/defaultConditionGroup/conditions'},{path:'/facets'}],formatter:t.filterFormatter},tooltip:{parts:[{path:'/uiFilter/defaultConditionGroup/conditions'},{path:'/facets'}],formatter:t.filterFormatter}}).addStyleClass('sapUshellSearchFilterText');t.filterText.setMaxLines(1);t.filterText.clampText();t.addContent(t.filterText);t.addContent(new sap.m.ToolbarSpacer());t.resetButton=new sap.ui.core.Icon({src:'sap-icon://clear-filter',tooltip:sap.ushell.resources.i18n.getText('resetFilterButton_tooltip')}).addStyleClass('sapUshellSearchFilterResetButton');t.addContent(t.resetButton);},filterFormatter:function(c,f){var g=function(a){return a.label;};if(c.length===0){return'';}c=this.sortConditions(c,f);var l=[];for(var i=0;i<c.length;i++){var s=jQuery.map(c[i].conditions,g);l=l.concat(s);}return sap.ushell.resources.i18n.getText('filtered_by')+': '+l.join(', ');},sortConditions:function(c,f){var i;var g=function(e,v,l){for(var i=0;i<l.length;++i){if(l[i][e]===v){return i;}}return-1;};var a=function(t,f){for(var i=0;i<f.length;++i){if(f[i].title===t){return f[i];}}return null;};var n=[];for(i=0;i<c.length;++i){n.push(c[i].clone());}c=n;c.sort(function(e,h){return g('title',e.label,f)-g('title',h.label,f);});for(i=0;i<c.length;++i){var b=c[i];var d=a(b.label,f);if(!d){continue;}b.conditions.sort(function(e,h){return g('label',e.label,d.items)-g('label',h.label,d.items);});}return c;},renderer:'sap.m.ToolbarRenderer',onAfterRendering:function(){var t=this;t.resetButton.attachPress(function(){t.getModel().resetFilterConditions(true);});var $=jQuery('.sapUshellSearchFilterText');$.attr('aria-label',sap.ushell.resources.i18n.getText('filtered_by'));}});}());\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchInput.js":"(function(){'use strict';jQuery.sap.require('sap.m.Input');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.ushell.Container.getService('Search').getSina();var a=window.sap.bc.ina.api.sina.base;sap.m.Input.extend('sap.ushell.renderers.fiori2.search.controls.SearchInput',{constructor:function(i,o){var t=this;o=jQuery.extend({},{showValueStateMessage:false,showTableSuggestionValueHelp:false,showSuggestion:true,filterSuggests:false,suggestionColumns:[new sap.m.Column({})],placeholder:{path:'/searchTermPlaceholder',mode:sap.ui.model.BindingMode.OneWay},enabled:{parts:[{path:'/initializingObjSearch'}],formatter:function(b){return!b;}}},o);sap.m.Input.prototype.constructor.apply(this,[i,o]);this.addEventDelegate({onsapenter:function(e){if(e.originalEvent&&e.originalEvent.suggestionItemSelected){return;}e.srcControl.getModel().invalidateQuery();t.triggerSearch(e);}});this.bindAggregation('suggestionRows','/suggestions',function(i,c){return t.suggestionItemFactory(i,c);});this.addStyleClass('searchInput');this._bUseDialog=false;this._bFullScreen=false;},renderer:'sap.m.InputRenderer',fireChange:function(e){sap.m.Input.prototype.fireChange.apply(this,arguments);if(sap.ui.Device.system.phone){this.triggerSearch(e);}},onsapenter:function(e){if(this._oSuggestionPopup&&this._oSuggestionPopup.isOpen()){if(this._iPopupListSelectedIndex>=0){e.originalEvent.suggestionItemSelected=true;}}sap.m.Input.prototype.onsapenter.apply(this,arguments);},triggerSearch:function(e){var t=this;this.changeTimer=window.setTimeout(function(){t.changeTimer=null;s.subscribeOnlyOnce('triggerSearch','allSearchFinished',function(){t.getModel().autoStartApp();},t);var b=t.getValue();if(b.trim()===''){b='*';}t.getModel().setSearchBoxTerm(b,false);t.navigateToSearchApp();t.destroySuggestionRows();t.getModel().abortSuggestions();},100);},fireLiveChange:function(){sap.m.Input.prototype.fireLiveChange.apply(this,arguments);var b=this.getValue();var m=this.getModel();m.setSearchBoxTerm(b,false);if(m.getSearchBoxTerm().length>0&&!sap.ui.Device.system.phone){m.doSuggestion();}else{this.destroySuggestionRows();m.abortSuggestions();}},fireSuggestionItemSelected:function(e){sap.m.Input.prototype.fireSuggestionItemSelected.apply(this,arguments);if(this.changeTimer){window.clearTimeout(this.changeTimer);this.changeTimer=null;}this.doHandleSuggestionItemSelected(e);},doHandleSuggestionItemSelected:function(e){var m=this.getModel();var b=m.getSearchBoxTerm();var c=e.selectedRow.getBindingContext().getObject();var d=c.labelRaw;var f=c.dataSource;var t=c.url;var g=c.type;switch(g){case a.SuggestionType.APPS:m.analytics.logCustomEvent('FLP: Search','Suggestion Select App',[c.title,t,b]);m.analytics.logCustomEvent('FLP: Application Launch point','Search Suggestions',[c.title,t,b]);if(t[0]==='#'){window.location.href=t;}else{window.open(t,'_blank');m.setSearchBoxTerm('',false);this.setValue('');this.focus();}break;case a.SuggestionType.DATASOURCE:m.analytics.logCustomEvent('FLP: Search','Suggestion Select Datasource',[f.key,b]);m.setDataSource(f,false);m.setSearchBoxTerm('',false);this.setValue('');this.focus();break;case a.SuggestionType.OBJECTDATA:m.analytics.logCustomEvent('FLP: Search','Suggestion Select Object Data',[d,f.key,b]);m.setDataSource(f,false);m.setSearchBoxTerm(d,false);this.navigateToSearchApp();this.setValue(d);break;case a.SuggestionType.HISTORY:m.analytics.logCustomEvent('FLP: Search','Suggestion Select History',[d,f.key,b]);m.setDataSource(f,false);m.setSearchBoxTerm(d,false);this.navigateToSearchApp();this.setValue(d);break;default:break;}},suggestionItemFactory:function(i,c){var t=this;var b=new sap.m.Label({text:{path:'icon',formatter:function(v){if(v){return'<i>'+sap.ushell.resources.i18n.getText('label_app')+'</i>';}return'';}}}).addStyleClass('suggestText').addStyleClass('suggestNavItem').addStyleClass('suggestListItemCell');b.addEventDelegate({onAfterRendering:function(){s.boldTagUnescaper(this.getDomRef());}},b);var d=new sap.ui.core.Icon({src:'{icon}'}).addStyleClass('suggestIcon').addStyleClass('sapUshellSearchSuggestAppIcon').addStyleClass('suggestListItemCell');var l=new sap.m.Label({text:'{label}'}).addStyleClass('suggestText').addStyleClass('suggestNavItem').addStyleClass('suggestListItemCell');l.addEventDelegate({onAfterRendering:function(){s.boldTagUnescaper(this.getDomRef());}},l);var f=new sap.m.CustomListItem({type:sap.m.ListType.Active,content:[b,d,l]});var g=c.oModel.getProperty(c.sPath);f.getText=function(){return(typeof g.labelRaw)==='string'?g.labelRaw:t.getValue();};var h=new sap.m.ColumnListItem({cells:[f],type:'Active'});if(g.type===a.SuggestionType.APPS){h.addStyleClass('searchAppSuggestion');}if(g.type===a.SuggestionType.DATASOURCE){h.addStyleClass('searchDataSourceSuggestion');}if(g.type===a.SuggestionType.OBJECTDATA){h.addStyleClass('searchBOSuggestion');}if(g.type===a.SuggestionType.HISTORY){h.addStyleClass('searchHistorySuggestion');}h.addStyleClass('searchSuggestion');h.addEventDelegate({onAfterRendering:function(e){var j=h.$().find('.suggestListItemCell');var k=0;j.each(function(m){k+=$(this).outerWidth(true);});if(k>h.$().find('li').get(0).scrollWidth){h.setTooltip($(j[0]).text()+' '+$(j[2]).text());}}});return h;},navigateToSearchApp:function(){if(s.isSearchAppActive()){this.getModel()._firePerspectiveQuery();}else{var h=this.getModel().createSearchURL();window.location.hash=h;}}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchLabel.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.m.Label.extend('sap.ushell.renderers.fiori2.search.controls.SearchLabel',{renderer:'sap.m.LabelRenderer',onAfterRendering:function(){var d=this.getDomRef();s.boldTagUnescaperByText(d);s.forwardEllipsis4Whyfound(d);}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchLayout.js":"(function(){'use strict';sap.ui.layout.FixFlex.extend('sap.ushell.renderers.fiori2.search.controls.SearchLayout',{metadata:{properties:{isBusy:{type:'boolean',defaultValue:false},showFacets:{type:'boolean',defaultValue:false}},aggregations:{'resultListContainer':{type:'sap.ui.core.Control',multiple:false},'facets':{type:'sap.ui.core.Control',multiple:false},'busyIndicator':{type:'sap.ui.core.Control',multiple:false}}},init:function(){var t=this;sap.ui.layout.FixFlex.prototype.init.apply(this);var r=new sap.m.ScrollContainer({height:'100%',vertical:true});t.setFlexContent(r);},constructor:function(o,i){var t=this;sap.ui.layout.FixFlex.prototype.constructor.apply(this,[o],i);t.setVertical(false);this.addEventDelegate({onAfterRendering:function(){var $=jQuery('.sapUiFixFlexFixed');if(t.getShowFacets()&&!sap.ui.Device.system.phone){$.addClass('sapUshellSearchFacetPanelOpen');}else{$.removeClass('sapUshellSearchFacetPanelOpen');}}});},getFacets:function(){return this.getFixContent();},setFacets:function(c){this.addFixContent(c);},getResultListContainer:function(){var r=this.getFlexContent();var c=r.getContent();if(c.length>0){return c[0];}return undefined;},setResultListContainer:function(c){var r=this.getFlexContent();r.destroyContent();r.addContent(c);},setIsBusy:function(i){if(i){this.getBusyIndicator().open();this.busyFlag=true;}else if(this.busyFlag){this.getBusyIndicator().close();this.busyFlag=false;}this.setProperty('isBusy',i,true);},setShowFacets:function(a){var $=jQuery('.sapUiFixFlexFixed');var b=jQuery('.sapUshellSearchResultListsContainer');if(!a){b.removeClass('sapUshellSearchFacetPanelOpen');$.removeClass('sapUshellSearchFacetPanelOpen');$.attr('aria-hidden','true');}else{b.addClass('sapUshellSearchFacetPanelOpen');$.addClass('sapUshellSearchFacetPanelOpen');$.attr('aria-hidden','false');}var h=function(e){if(e.originalEvent.propertyName==='width'){sap.ui.getCore().getEventBus().publish('searchLayoutChanged');}};$.one('transitionend',h);this.setProperty('showFacets',a,true);return this;},renderer:'sap.ui.layout.FixFlexRenderer'});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchLink.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.m.Link.extend('sap.ushell.renderers.fiori2.search.controls.SearchLink',{renderer:'sap.m.LinkRenderer',onAfterRendering:function(){var d=this.getDomRef();s.boldTagUnescaperByText(d);}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchMultiSelectionControl.js":"(function(){'use strict';sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchMultiSelectionControl',{metadata:{properties:{resultList:'object'},aggregations:{actions:'object'}},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUshellSearchResultList-MultiSelectionControl');r.writeClasses();r.write('>');c._renderer(r);r.write('</div>');},_renderer:function(r){var t=this;var e=new sap.m.ToggleButton({icon:'sap-icon://multi-select',tooltip:sap.ushell.resources.i18n.getText('toggleSelectionModeBtn'),press:function(){if(this.getPressed()){t.getResultList.enableSelectionMode();t.getModel().setProperty('/multiSelectionEnabled',true);}else{t.getResultList.disableSelectionMode();t.getModel().setProperty('/multiSelectionEnabled',false);}},visible:false,pressed:{parts:[{path:'/multiSelectionEnabled'}],formatter:function(l){return l>0;},mode:sap.ui.model.BindingMode.OneWay}});e.setModel(t.getModel());e.addStyleClass('sapUshellSearchResultList-toggleMultiSelectionButton');r.renderControl(e);}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchNoResultScreen.js":"(function(){'use strict';jQuery.sap.require('sap.ui.core.format.NumberFormat');sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchNoResultScreen',{metadata:{properties:{searchBoxTerm:'string'}},renderer:function(r,c){var e=$('<div>').text(c.getSearchBoxTerm()).html();r.write('<div class=\"sapUshellSearch-no-result\"');r.writeControlData(c);r.write('>');r.write('<div class=\"sapUshellSearch-no-result-icon\">');r.writeIcon(sap.ui.core.IconPool.getIconURI('travel-request'));r.write('</div><div class=\"sapUshellSearch-no-result-text\">');r.write('<div class=\"sapUshellSearch-no-result-info\">'+sap.ushell.resources.i18n.getText('no_results_info').replace('&1',e)+'</div>');r.write('<div class=\"sapUshellSearch-no-result-tips\">'+sap.ushell.resources.i18n.getText('no_results_tips')+'</div> ');r.write('</div></div>');}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchRelatedObjectsToolbar.js":"(function(){'use strict';sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar',{metadata:{properties:{relatedObjects:'object'}},init:function(p){this.oCrossAppNav=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('CrossApplicationNavigation');},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUshellSearchResultListItem-RelatedObjectsToolbar');r.writeClasses();r.write('>');c._renderToolbar(r);r.write('</div>');},_renderToolbar:function(r){var t=this;var i;var c=function(l){return function(){var m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.analytics.logCustomEvent('FLP: Search','Launch Related Object',[l]);};};var a=t.getRelatedObjects();if(a.length>0){var b=[];for(i=0;i<a.length;i++){var d=a[i];var l=new sap.m.Link({text:d.label,href:d.href,layoutData:new sap.m.ToolbarLayoutData({shrinkable:false}),press:c(d.href)});l.addStyleClass('sapUshellSearchResultListItem-RelatedObjectsToolbar-Element');b.push(l);}var e=[];var f=new sap.m.ToolbarSpacer();e.push(f);for(i=0;i<b.length;i++){e.push(b[i]);}t.overFlowButton=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI('overflow')});t.overFlowButton.addStyleClass('sapUshellSearchResultListItem-RelatedObjectsToolbar-OverFlowButton');e.push(t.overFlowButton);t.overFlowSheet=new sap.m.ActionSheet({placement:sap.m.PlacementType.Top});t.overFlowButton.attachPress(function(){t.overFlowSheet.openBy(t.overFlowButton);});t.relatedObjectActionsToolbar=new sap.m.Toolbar({design:sap.m.ToolbarDesign.Solid,content:e});t.relatedObjectActionsToolbar.data('sap-ui-fastnavgroup','false',true);t.relatedObjectActionsToolbar.addStyleClass('sapUshellSearchResultListItem-RelatedObjectsToolbar-Toolbar');r.renderControl(t.relatedObjectActionsToolbar);}},onAfterRendering:function(){var t=this;if(t.overFlowButton){var a=$(t.overFlowButton.getDomRef());a.css('display','none');}$(window).on('resize',function(){t._layoutToolbarElements();});t._layoutToolbarElements();},_layoutToolbarElements:function(){var t=this;if(!(t.getDomRef()&&t.relatedObjectActionsToolbar.getDomRef())){return;}var a=$(t.relatedObjectActionsToolbar.getDomRef());var b=a.innerWidth();if(b===0||(t.toolbarWidth&&t.toolbarWidth===b)){return;}if($(t.getDomRef()).css('display')==='none'||a.css('display')==='none'){return;}t.toolbarWidth=b;var c=$(t.overFlowButton.getDomRef());c.css('display','none');var d=0;var p=function(j,k){t.oCrossAppNav.toExternal(k);};var e=a.find('.sapUshellSearchResultListItem-RelatedObjectsToolbar-Element');for(var i=0;i<e.length;i++){var f=$(e[i]);f.css('display','');var _=d+f.outerWidth(true);if(_>b){if(i<e.length){c.css('display','');var o=c.outerWidth(true);for(;i>=0;i--){f=$(e[i]);_-=f.outerWidth(true);if(_+o<=b){break;}}}var r=t.getRelatedObjects();t.overFlowSheet.destroyButtons();for(;i<e.length;i++){f=$(e[i]);f.css('display','none');var g=r[i];var h=new sap.m.Button({text:g.label});h.attachPress(g,p);t.overFlowSheet.addButton(h);}break;}d=_;}}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchResultList.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.m.List.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultList',{renderer:'sap.m.ListRenderer',onAfterRenderingParent:sap.m.List.prototype.onAfterRendering,onAfterRendering:function(){var t=this;t.onAfterRenderingParent();var m=sap.ushell.renderers.fiori2.search.getModelSingleton();var a=m.getProperty('/multiSelectionEnabled');if(a){t.enableSelectionMode(false);}t._prepareResizeHandler();t.collectListItemsForNavigation();},collectListItemsForNavigation:function(){var t=this;var m=t.getItems();if(m.length===0){return;}var d=function(){t._doCollectListItemsForNavigation();};for(var i=0;i<m.length;i++){var M=m[i];if(M.hasStyleClass('sapUshellSearchResultListItemApps')){var c=M.getContent();if(c.length>0){c[0].addEventDelegate({onAfterRendering:d});}}}t._doCollectListItemsForNavigation();},_doCollectListItemsForNavigation:function(){var t=this;var f=t.getDomRef();if(!f){return;}var I=t.getItemNavigation();if(!I){t._startItemNavigation();I=t.getItemNavigation();}if(!I){return;}t._bItemNavigationInvalidated=false;var r=f.getElementsByTagName('li');var d=[];for(var i=0;i<r.length;i++){var R=r[i];if($(R).hasClass('sapUshellSearchResultListItemApps')){var T=R.getElementsByClassName('sapUshellSearchTileWrapper');for(var j=0;j<T.length;j++){var a=s.getFocusableTileDomRef(T[j]);if(!a||$(a).is(':hidden')){continue;}d.push(a);}$(R).removeAttr('tabindex');$(R).removeAttr('role');}else if($(R).hasClass('sapUshellSearchResultListFooter')){var S=R.getElementsByClassName('sapUshellResultListMoreFooter');for(var k=0;k<S.length;k++){d.push(S[k]);}}else if($(R).hasClass('sapUshellSearchResultListItem')){d.push(R);}}if(d.length>0){var b=$(d[0]).closest('ul');var c=b.length>0?b[0]:d[0].parentElement;I.setRootDomRef(c);}I.setItemDomRefs(d);I.setCycling(false);I.setPageSize(10);},_prepareResizeHandler:function(){var t=this;var r=[768,1151];var w=function(){var b=window.innerWidth;if(b<r[0]){return 0;}for(var i=0;i<r.length-1;i++){if(b>=r[i]&&b<r[i+1]){return i+1;}}return r.length;};var l=w();var a=function(e){var c=w();if(c!=l){l=c;var m=t.getItems();for(var i=0;i<m.length;i++){var M=m[i];if(M.getContent()&&M.getContent().length>0&&M.getContent()[0].showOrHideExpandButton){M.getContent()[0].showOrHideExpandButton();}}}};$(window).on('resize',a);},enableSelectionMode:function(a){var t=this;a=a===undefined?true:a;var b=$(t.getDomRef());if(!a){b.addClass('sapUshellSearchResultList-ShowMultiSelection');return;}var c=200;var d=b.find('.sapUshellSearchResultListItem-CheckboxExpandContainer');var e=b.find('.sapUshellSearchResultListItem-Attributes');var f=parseFloat(e.css('padding-left'));var g=d.find('.sapUshellSearchResultListItem-CheckboxContainer');var h=g.width();if(!b.hasClass('sapUshellSearchResultList-ShowMultiSelection')){d.css('width','0');d.css('opacity','0');e.css('padding-left',f);b.addClass('sapUshellSearchResultList-ShowMultiSelection');var n=f+h;d.animate({'width':h,'opacity':1},c,function(){$(this).css('width','');$(this).css('opacity','');});e.animate({'padding-left':n},c,function(){$(this).css('padding-left','');});}},disableSelectionMode:function(a){var t=this;a=a===undefined?true:a;var b=$(t.getDomRef());if(!a){b.removeClass('sapUshellSearchResultList-ShowMultiSelection');return;}var c=200;var d=b.find('.sapUshellSearchResultListItem-CheckboxExpandContainer');var e=b.find('.sapUshellSearchResultListItem-Attributes');var f=parseFloat(e.css('padding-left'));var g=d.find('.sapUshellSearchResultListItem-CheckboxContainer');var h=g.width();if(b.hasClass('sapUshellSearchResultList-ShowMultiSelection')){var n=f-h;var i=d.animate({'width':0,'opacity':0},c).promise();var j=e.animate({'padding-left':n},c).promise();jQuery.when(i,j).done(function(){b.removeClass('sapUshellSearchResultList-ShowMultiSelection');d.css('width','');d.css('opacity','');e.css('padding-left','');});}}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchResultListContainer.js":"(function(){'use strict';sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultListContainer',{init:function(){this.data('sap-ui-fastnavgroup','true',true);},metadata:{aggregations:{'filterBar':{type:'sap.ui.core.Control',multiple:false},'centerAreaHeader':{type:'sap.ui.core.Control',multiple:false},'centerArea':{singularName:'content'},'didYouMeanBar':{type:'sap.ui.core.Control',multiple:false},'noResultScreen':{type:'sap.ui.core.Control',multiple:false}}},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUshellSearchResultListsContainer');if(c.getModel()&&c.getModel().getFacetVisibility()===true){r.addClass('sapUshellSearchFacetPanelOpen');}r.writeClasses();r.write('>');r.renderControl(c.getFilterBar());r.renderControl(c.getNoResultScreen());r.renderControl(c.getDidYouMeanBar());r.renderControl(c.getCenterAreaHeader());for(var i=0;i<c.getCenterArea().length;i++){r.renderControl(c.getCenterArea()[i]);}r.write('</div>');}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchResultListItem.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchText');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchLink');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchLogger');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar');var S=sap.ushell.renderers.fiori2.search.controls.SearchText;var a=sap.ushell.renderers.fiori2.search.controls.SearchLink;var b=sap.ushell.renderers.fiori2.search.SearchHelper;var c=sap.ushell.renderers.fiori2.search.SearchLogger;var e=sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar;var n='\\u2013';sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultListItem',{metadata:{properties:{title:'string',titleUrl:'string',titleUrlIsIntent:'boolean',type:'string',imageUrl:'string',previewButton:'string',data:'object',path:'string',selected:'boolean',expanded:'boolean'},aggregations:{_selectionCheckBox:{type:'sap.m.CheckBox',multiple:false,visibility:'hidden'},_expandButton:{type:'sap.m.Button',multiple:false,visibility:'hidden'}}},init:function(){var t=this;t.setAggregation('_selectionCheckBox',new sap.m.CheckBox({select:function(E){t.setProperty('selected',E.getParameters().selected,true);}}));t.setAggregation('_expandButton',new sap.m.Button({type:sap.m.ButtonType.Transparent,press:function(E){t.toggleDetails();}}));},renderer:function(r,C){C._renderer(r);},_renderer:function(r){this._resetPrecalculatedValues();this._renderContainer(r);},_renderContainer:function(r){var t=this;r.write('<div');r.writeControlData(t);r.addClass('sapUshellSearchResultListItem-Container');r.writeClasses();r.write('>');t._renderContentContainer(r);t._renderExpandButtonContainer(r);r.write('</div>');},_renderContentContainer:function(r){r.write('<div class=\"sapUshellSearchResultListItem-Content\">');this._renderTitleContainer(r);this._renderAttributesContainer(r);r.write('</div>');},_renderExpandButtonContainer:function(r){var t=this;r.write('<div class=\"sapUshellSearchResultListItem-ExpandButtonContainer\">');r.write('<div class=\"sapUshellSearchResultListItem-ExpandButton\">');var i,d;var f=t.getProperty('expanded');if(f){i=sap.ui.core.IconPool.getIconURI('slim-arrow-up');d=sap.ushell.resources.i18n.getText('hideDetailBtn_tooltip')}else{i=sap.ui.core.IconPool.getIconURI('slim-arrow-down');d=sap.ushell.resources.i18n.getText('showDetailBtn_tooltip')}var g=t.getAggregation('_expandButton');g.setIcon(i);g.setTooltip(d);r.renderControl(g);r.write('</div>');r.write('</div>');},_renderTitleContainer:function(r){var t=this;r.write('<div class=\"sapUshellSearchResultListItem-TitleAndImageContainer\">');r.write('<div class=\"sapUshellSearchResultListItem-TitleContainer\">');t._renderCheckbox(r);var d=t._titleUrl;t.title=new a({href:d,press:function(){var N=new c.NavigationEvent();N.addUserHistoryEntry(d);var m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.analytics.logCustomEvent('FLP: Search','Launch Object',[d]);}});t.title.setText(t.getTitle());t.title.addStyleClass('sapUshellSearchResultListItem-Title');t.title.addStyleClass('sapUshellSearchResultListItem-MightOverflow');if(d.length==0){t.title.setEnabled(false);}r.renderControl(t.title);var f=new S();f.setText(t.getType());f.addStyleClass('sapUshellSearchResultListItem-Category');f.addStyleClass('sapUshellSearchResultListItem-MightOverflow');r.renderControl(f);r.write('</div>');t._renderImageForPhone(r);r.write('</div>');},_renderCheckbox:function(r){var t=this;r.write('<div class=\"sapUshellSearchResultListItem-CheckboxExpandContainer\">');r.write('<div class=\"sapUshellSearchResultListItem-CheckboxContainer\">');r.write('<div class=\"sapUshellSearchResultListItem-CheckboxAlignmentContainer\">');var d=t.getAggregation('_selectionCheckBox');var s=t.getProperty('selected');d.setSelected(s);r.renderControl(d);r.write('</div>');r.write('</div>');r.write('</div>');},_renderImageForPhone:function(r){var t=this;if(t.getImageUrl()){r.write('<div class=\"sapUshellSearchResultListItem-TitleImage\">');r.write('<div class=\"sapUshellSearchResultListItem-ImageContainerAlignmentHelper\"></div>');r.write('<img class=\"sapUshellSearchResultListItem-Image\" src=\"');r.write(t.getImageUrl());r.write('\">');r.write('</div>');}},_renderAttributesContainer:function(r){var t=this;r.write('<div class=\"sapUshellSearchResultListItem-AttributesExpandContainer');var d=t.getProperty('expanded');if(d){r.write(' sapUshellSearchResultListItem-AttributesExpanded');}r.write('\">');r.write('<div class=\"sapUshellSearchResultListItem-AttributesAndActions\">');r.write('<ul class=\"sapUshellSearchResultListItem-Attributes\">');t._renderImageAttribute(r);var i=t.getData().itemattributes;t._renderAllAttributes(r,i);r.write('<div class=\"sapUshellSearchResultListItem-ExpandSpacerAttribute\" aria-hidden=\"true\"></div>');r.write('</ul>');t._renderRelatedObjectsToolbar(r);r.write('</div>');r.write('</div>');},_renderAllAttributes:function(r,d){var t=this;var f;var l;var v;var g,h;var i=0,j=0;var k=12;if(t.getImageUrl()){k--;}for(;j<k&&i<d.length;i++){f=d[i];if(f.isTableTitle){continue;}l=f.name;v=f.value;if(l===undefined||v===undefined){continue;}if(!v||v===''){v=n;}r.write('<li class=\"sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-MainAttribute\">');g=new sap.m.Label();g.setText(l);g.addStyleClass('sapUshellSearchResultListItem-AttributeKey');g.addStyleClass('sapUshellSearchResultListItem-MightOverflow');r.renderControl(g);h=new S();h.setText(v);h.addStyleClass('sapUshellSearchResultListItem-AttributeValue');h.addStyleClass('sapUshellSearchResultListItem-MightOverflow');r.renderControl(h);r.write('</li>');j++;}var m=false;for(;i<d.length;i++){f=d[i];if(!f.whyfound){continue;}l=f.name;v=f.value;if(l===undefined||v===undefined){continue;}if(!v||v===''){v=n;}r.write('<li class=\"sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-WhyFoundAttribute\">');g=new sap.m.Label();g.setText(l);g.addStyleClass('sapUshellSearchResultListItem-AttributeKey');g.addStyleClass('sapUshellSearchResultListItem-MightOverflow');r.renderControl(g);h=new S();h.setText(v);h.addStyleClass('sapUshellSearchResultListItem-AttributeValue');h.addStyleClass('sapUshellSearchResultListItem-MightOverflow');r.renderControl(h);r.write('</li>');m=true;}if(m){r.write('<div class=\"sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-WhyFoundSpacerAttribute\" aria-hidden=\"true\"></div>');}},_renderImageAttribute:function(r){var t=this;if(!t.getImageUrl()){return;}r.write('<div class=\"sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-ImageAttribute');if(!t.getImageUrl()){r.write(' sapUshellSearchResultListItem-ImageAttributeHidden');}r.write('\">');r.write('<div class=\"sapUshellSearchResultListItem-ImageContainer\">');if(t.getImageUrl()){r.write('<img class=\"sapUshellSearchResultListItem-Image\" src=\"');r.write(t.getImageUrl());r.write('\">');}r.write('<div class=\"sapUshellSearchResultListItem-ImageContainerAlignmentHelper\"></div>');r.write('</div>');r.write('</div>');},_renderRelatedObjectsToolbar:function(r){var t=this;if(!t._intents||t._intents.length==0){return;}t._showExpandButton=true;var d=[];for(var i=0;i<t._intents.length;i++){var f=t._intents[i];d.push({label:f.text,href:f.externalHash,target:f.target});}t.relatedObjectActionsToolbar=new e({relatedObjects:d});t.relatedObjectActionsToolbar.addStyleClass('sapUshellSearchResultListItem-RelatedObjectsToolbar');r.renderControl(t.relatedObjectActionsToolbar);},_getExpandAreaObjectInfo:function(){var t=this;var r=$(t.getDomRef());var d=r.find('.sapUshellSearchResultListItem-AttributesExpandContainer');var f=r.find('.sapUshellSearchResultListItem-RelatedObjectsToolbar');var g=false;if(f.css('display')==='none'){f.css('display','block');g=true;}var h=d.height();var i=r.find('.sapUshellSearchResultListItem-AttributesAndActions').height();if(g){f.css('display','');}var j=[];r.find('.sapUshellSearchResultListItem-GenericAttribute').each(function(){var o=$(this);if(o.css('order')>2){j.push(this);}});var k=200;var l=k/10;var m={resultListItem:r,attributesExpandContainer:d,currentHeight:h,expandedHeight:i,elementsToFadeInOrOut:j,expandAnimationDuration:k,fadeInOrOutAnimationDuration:l,relatedObjectsToolbar:f};return m;},isShowingDetails:function(){var d=this._getExpandAreaObjectInfo();if(d.currentHeight<d.expandedHeight){return false;}return true;},showDetails:function(d){var t=this;if(t.isShowingDetails()){return;}var f=this._getExpandAreaObjectInfo();f.relatedObjectsToolbar.css('display','block');if(t.relatedObjectActionsToolbar){t.relatedObjectActionsToolbar._layoutToolbarElements();}f.attributesExpandContainer.animate({'height':f.expandedHeight},f.expandAnimationDuration,function(){$(this).addClass('sapUshellSearchResultListItem-AttributesExpanded');$(this).css('height','');$(f.elementsToFadeInOrOut).css('opacity','');var i=sap.ui.core.IconPool.getIconURI('slim-arrow-up');var g=t.getAggregation('_expandButton');g.setTooltip(sap.ushell.resources.i18n.getText('hideDetailBtn_tooltip'));g.setIcon(i);g.rerender();f.relatedObjectsToolbar.css('display','');t.setProperty('expanded',true,true);});$(f.elementsToFadeInOrOut).animate({'opacity':1},f.fadeInOrOutAnimationDuration);},hideDetails:function(d){var t=this;var r=$(t.getDomRef());if(!t.isShowingDetails()){return;}var f=this._getExpandAreaObjectInfo();var g=r.find('.sapUshellSearchResultListItem-MainAttribute').outerHeight(true)+r.find('.sapUshellSearchResultListItem-ExpandSpacerAttribute').outerHeight(true);var s=false;var h=f.attributesExpandContainer.animate({'height':g},{'duration':f.expandAnimationDuration,'progress':function(i,p,j){if(!s&&j<=f.fadeInOrOutAnimationDuration){s=true;var k=$(f.elementsToFadeInOrOut).animate({'opacity':0},f.fadeInOrOutAnimationDuration).promise();jQuery.when(h,k).done(function(){f.attributesExpandContainer.removeClass('sapUshellSearchResultListItem-AttributesExpanded');$(f.elementsToFadeInOrOut).css('opacity','');var l=sap.ui.core.IconPool.getIconURI('slim-arrow-down');var m=t.getAggregation('_expandButton');m.setTooltip(sap.ushell.resources.i18n.getText('showDetailBtn_tooltip'));m.setIcon(l);m.rerender();t.setProperty('expanded',false,true);});}}}).promise();},toggleDetails:function(d){if(this.isShowingDetails()){this.hideDetails(d);}else{this.showDetails(d);}},isSelectionModeEnabled:function(){var t=this;var i=false;var s=$(t.getDomRef()).find('.sapUshellSearchResultListItem-multiSelect-selectionBoxContainer');if(s){i=s.css('opacity')>0;}return i;},enableSelectionMode:function(d){var t=this;var s=$(t.getDomRef()).find('.sapUshellSearchResultListItem-multiSelect-innerContainer');var f=s.find('.sapUshellSearchResultListItem-multiSelect-selectionBoxContainer');var g=200;var h=false;s.animate({width:'2rem'},{'duration':g,'progress':function(i,p,r){if(!h&&p>0.5){f.css('display','');f.animate({opacity:'1.0'},g/2);h=true;}}});},disableSelectionMode:function(d){var t=this;var s=$(t.getDomRef()).find('.sapUshellSearchResultListItem-multiSelect-innerContainer');var f=s.find('.sapUshellSearchResultListItem-multiSelect-selectionBoxContainer');var g=200;f.animate({opacity:'0.0'},g/2,function(){f.css('display','none');});s.animate({width:'0'},g);},toggleSelectionMode:function(d){if(this.isSelectionModeEnabled()){this.disableSelectionMode(d);}else{this.enableSelectionMode(d);}},onAfterRendering:function(){var t=this;t.showOrHideExpandButton();var p=767;$(t.getDomRef()).bind('click',function(){var w=$(window).width();if(w<=p){var d=t._titleUrl;if(d&&d.length>0){var f=t.getProperty('titleUrlIsIntent');d=encodeURI(d);var g=t.fireNavigate(d,f);g();}}});t.forwardEllipsis($(t.getDomRef()).find('.sapUshellSearchResultListItem-Title, .sapUshellSearchResultListItem-AttributeKey, .sapUshellSearchResultListItem-AttributeValue'));b.attachEventHandlersForTooltip(this.getDomRef());},_resetPrecalculatedValues:function(){this._visibleAttributes=undefined;this._detailsArea=undefined;this._showExpandButton=false;this._titleUrl=this.getTitleUrl();this._intents=this.getData().intents;},showOrHideExpandButton:function(){var t=this;var d=$(t.getDomRef());var f=d.find('.sapUshellSearchResultListItem-ExpandButtonContainer');var i=f.css('visibility')!='hidden';var s=false;var g=d.find('.sapUshellSearchResultListItem-RelatedObjectsToolbar');s=g.length>0;if(!s){d.find('.sapUshellSearchResultListItem-MainAttribute,.sapUshellSearchResultListItem-WhyFoundAttribute').each(function(){if($(this).css('order')>2){s=true;return false;}});}if(i&&!s){f.css('visibility','hidden');}else if(!i&&s){f.css('visibility','');}},fireNavigate:function(u,d){return function(){if(u){var N=new c.NavigationEvent();N.addUserHistoryEntry(u);var m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.analytics.logCustomEvent('FLP: Search','Launch Object',[u]);var C=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('CrossApplicationNavigation');if(C&&d){C.toExternal({target:{shellHash:u}});}else{window.location.href=u;}}};},forwardEllipsis:function(o){o.each(function(i,d){b.forwardEllipsis4Whyfound(d);});}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchResultListSelectionHandler.js":"(function(){'use strict';jQuery.sap.require('sap.ui.base.Object');sap.ui.base.Object.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultListSelectionHandler',{isMultiSelectionAvailable:function(d){return false;},actionsForDataSource:function(d){return[];}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchResultTable.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;sap.m.Table.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultTable',{renderer:'sap.m.TableRenderer',onAfterRendering:function(){S.attachEventHandlersForTooltip(this.getDomRef());}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchSelect.js":"(function(){'use strict';jQuery.sap.require('sap.m.Select');sap.m.Select.extend('sap.ushell.renderers.fiori2.search.controls.SearchSelect',{constructor:function(i,o){o=jQuery.extend({},{visible:'{/businessObjSearchEnabled}',autoAdjustWidth:true,maxWidth:'16rem',items:{path:'/dataSources',template:new sap.ui.core.Item({key:'{key}',text:'{labelPlural}'})},selectedKey:{path:'/uiFilter/dataSource/key',mode:sap.ui.model.BindingMode.OneWay},change:function(e){var a=this.getSelectedItem();var c=a.getBindingContext();var d=c.getObject();this.getModel().setDataSource(d,false);this.getModel().abortSuggestions();},enabled:{parts:[{path:'/initializingObjSearch'}],formatter:function(a){return!a;}}},o);sap.m.Select.prototype.constructor.apply(this,[i,o]);this.addStyleClass('searchSelect');},renderer:'sap.m.SelectRenderer',setDisplayMode:function(m){if(m==='icon'){this.setType(sap.m.SelectType.IconOnly);this.setIcon('sap-icon://slim-arrow-down');}}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchText.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.m.Text.extend('sap.ushell.renderers.fiori2.search.controls.SearchText',{renderer:'sap.m.TextRenderer',onAfterRendering:function(){var d=this.getDomRef();s.boldTagUnescaperByText(d);}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchTileHighlighter.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.search.controls.SearchTileHighlighter');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var T=sap.ushell.renderers.fiori2.search.SearchHelper.Tester;var H=sap.ushell.renderers.fiori2.search.SearchHelper;var a=sap.ushell.renderers.fiori2.search.controls.SearchTileHighlighter=function(){this.init.apply(this,arguments);};a.prototype={init:function(){},setHighlightTerms:function(h){this.tester=new T(h,'sapUshellSearchHighlight',true,'or');},highlight:function(t){var n=t.getDomRef();if(!n){return;}this.doHighlight(n);},doHighlight:function(n){if(n.nodeType===window.Node.TEXT_NODE){this.highlightTextNode(n);return;}for(var i=0;i<n.childNodes.length;++i){var c=n.childNodes[i];this.doHighlight(c);}},highlightTextNode:function(n){var t=this.tester.test(n.textContent);if(!t.bMatch){return;}var s=document.createElement('span');s.innerHTML=jQuery.sap.encodeHTML(t.sHighlightedText);H.boldTagUnescaper(s,'sapUshellSearchHighlight');n.parentNode.insertBefore(s,n);n.parentNode.removeChild(n);}};})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchTilesContainer.js":"(function(){'use strict';jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchTilesContainerKeyHandler');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchTileHighlighter');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchResultList');var K=sap.ushell.renderers.fiori2.search.controls.SearchTilesContainerKeyHandler;var T=sap.ushell.renderers.fiori2.search.controls.SearchTileHighlighter;sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer',{metadata:{properties:{'totalLength':{type:'int',defaultValue:0},'maxRows':{type:'int',defaultValue:1},'highlightTerms':{type:'string',defaultValue:''},'enableKeyHandler':{type:'boolean',defaultValue:true},'resultList':{type:'sap.ushell.renderers.fiori2.search.controls.SearchResultList'}},aggregations:{'tiles':{type:'sap.ui.core.Control',multiple:true}},events:{showMore:{}}},constructor:function(){sap.ui.core.Control.prototype.constructor.apply(this,arguments);if(this.getEnableKeyHandler()){this.addEventDelegate(new K(this));}this.tileHighlighter=new T();this._previousTabHandler={onsaptabprevious:function(e){var t;if($(this.control.getDomRef()).prop('tagName').toLowerCase()==='button'){t=this.control.getDomRef();}else{var b=$(this.control.getDomRef()).find(\"[role='button']\");if(b.length>0){t=b[0];}}if(e.isMarked()||!t||e.target!==t){return;}this.resultList.forwardTab(false);e.setMarked();}};},setHighlightTerms:function(t){this.setProperty('highlightTerms',t,true);},delayedRerender:function(){var t=this;setTimeout(function(){t.rerender();},0);},renderer:function(r,c){var t=c.getTiles();if(!t||t.length===0){return;}r.write('<div');r.writeControlData(c);r.addClass('sapUshellSearchTileContainer');r.writeClasses();r.write('>');c.renderTiles(r,c);r.write('</div>');},logUsageAnalytics:function(t){var i,m,c;if(t.attachPress){t.attachPress(function(){m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.analytics.logCustomEvent('FLP: Search','Launch App',[t.usageAnalyticsTitle,t.getTargetURL()]);m.analytics.logCustomEvent('FLP: Application Launch point','Search Results',[t.usageAnalyticsTitle,t.getTargetURL()]);});return;}if(t&&t.getContent){c=t.getContent();if(c.length!==1){return;}i=c[0];if(!i.attachPress){return;}i.attachPress(function(){m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.analytics.logCustomEvent('FLP: Search','Launch App',[t.usageAnalyticsTitle,i.getTargetURL()]);m.analytics.logCustomEvent('FLP: Application Launch point','Search Results',[t.usageAnalyticsTitle,i.getTargetURL()]);});}},renderTiles:function(r,c){var t=c.getTiles();for(var i=0;i<t.length;i++){var a=t[i];c.logUsageAnalytics(a);c.registerAfterRenderingForTile(a);r.write('<div');r.addClass('sapUshellSearchTileWrapper');r.writeClasses();r.writeAttribute('title',sap.ushell.resources.i18n.getText('launchTile_tooltip'));r.write('>');r.renderControl(a);r.write('</div>');a.addEventDelegate(this._previousTabHandler,{resultList:c.getResultList(),control:a});}c.renderPlusTile(r,c);c.tileHighlighter.setHighlightTerms(c.getHighlightTerms());},renderPlusTile:function(r,c){r.write('<div');r.addClass('sapUshellSearchTileWrapper');r.addClass('sapUshellSearchShowMoreTile');r.writeClasses();r.writeAttribute('style','display:none');r.write('>');var b=new sap.m.Button({text:sap.ushell.resources.i18n.getText('showMoreApps'),tooltip:sap.ushell.resources.i18n.getText('showMoreApps'),press:function(){c.fireShowMore();}});b.addEventDelegate(this._previousTabHandler,{resultList:c.getResultList(),control:b});b.addStyleClass('sapUshellSearchShowMoreTileButton');b.addStyleClass('sapMGT');r.renderControl(b);r.write('</div>');},onAfterRendering:function(e){while(this.getNumberRows()>this.getMaxRows()){this.removeLastTile();}var c=this.getDomRef();var n=c.children.length-1;if(this.getTotalLength()>n){this.makePlusTileVisible();this.cutAtRow();}jQuery('.sapUshellSearchTileWrapper [tabindex]').attr('role','button');},getNumberDisplayedTiles:function(){var c=this.getDomRef();return c.children.length;},registerAfterRenderingForTile:function(t){var a=this;t.addEventDelegate({onAfterRendering:function(){a.tileHighlighter.highlight(t);}});},makePlusTileVisible:function(){var c=this.getDomRef();var p=c.children.item(c.children.length-1);p.style.display='inline-block';},removeLastTile:function(){var c=this.getDomRef();var l=c.children.item(c.children.length-2);l.parentNode.removeChild(l);},cutAtRow:function(){var c=this.getDomRef();while(!this.isLastRowCompletelyFilled()||this.getNumberRows()>this.getMaxRows()){if(c.children.length<=2){break;}this.removeLastTile();}},isLastRowCompletelyFilled:function(){var c=this.getDomRef();var t=this.getTilesPerRow();var a=-1;for(var i=0;i<t;++i){var b=c.children.item(c.children.length-1-i);if(b.style.display==='none'){t++;continue;}if(a<0){a=b.offsetLeft;continue;}if(b.offsetLeft>a){return false;}}return true;},getNumberRows:function(){var c=this.getDomRef();var t=-1;var a=0;for(var i=0;i<c.children.length-1;++i){var b=c.children.item(i);if(b.style.display==='none'){continue;}if(t<0||b.offsetLeft<=t){a++;}t=b.offsetLeft;}return a;},getTilesPerRow:function(){var c=this.getDomRef();var t=-1;var a=0;for(var i=0;i<c.children.length;++i){var b=c.children.item(i);if(b.style.display==='none'){continue;}if(b.offsetLeft<=t){return a;}a++;t=b.offsetLeft;}return a;}});})();\n",
	"sap/ushell/renderers/fiori2/search/controls/SearchTilesContainerKeyHandler.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.search.controls.SearchTilesContainerKeyHandler');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;var d={getAncestorByClass:function(e,c){while(e){if(e.classList.contains(c)){return e;}e=e.parentElement;}return false;}};var T=function(){this.init.apply(this,arguments);};T.prototype={init:function(t,e){this.tilesContainer=t;this.tilesContainerElement=t.getDomRef();this.element=e;},getIndexInTilesContainer:function(){return Array.prototype.indexOf.call(this.tilesContainerElement.children,this.element);},next:function(){if((this.getIndexInTilesContainer()+1)%this.tilesContainer.getTilesPerRow()===0){return null;}if(this.element.nextElementSibling){return new T(this.tilesContainer,this.element.nextElementSibling);}return null;},previous:function(){if((this.getIndexInTilesContainer())%this.tilesContainer.getTilesPerRow()===0){return null;}if(this.element.previousElementSibling){return new T(this.tilesContainer,this.element.previousElementSibling);}return null;},upper:function(){var i=this.getIndexInTilesContainer()-this.tilesContainer.getTilesPerRow();if(i<0){return null;}return new T(this.tilesContainer,this.tilesContainerElement.children.item(i));},lower:function(){var i=this.getIndexInTilesContainer()+this.tilesContainer.getTilesPerRow();if(i>=this.tilesContainerElement.children.length){return null;}return new T(this.tilesContainer,this.tilesContainerElement.children.item(i));},focus:function(){var e=s.getFocusableTileDomRef(this.element);if(e){e.focus();}}};var K=sap.ushell.renderers.fiori2.search.controls.SearchTilesContainerKeyHandler=function(){this.init.apply(this,arguments);};K.prototype={init:function(t){this.tilesContainer=t;},getFocusedObject:function(e){var t=d.getAncestorByClass(e,'sapUshellSearchTileWrapper');if(!t){return null;}return new T(this.tilesContainer,t);},onsapdown:function(e){this.navigate('lower',e);},onsapup:function(e){this.navigate('upper',e);},onsapleft:function(e){this.navigate('previous',e);},onsapright:function(e){this.navigate('next',e);},navigate:function(m,e){e.stopPropagation();e.preventDefault();var o=this.getFocusedObject(e.target);if(!o){return;}var n=o[m].apply(o,[]);if(!n){return;}n.focus();}};})();\n",
	"sap/ushell/renderers/fiori2/search/suggestions/AppSuggestionProvider.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider');var a=sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps');var b=sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps;sap.ushell.Container.getService('Search').getSina();var s=sap.bc.ina.api.sina.base;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.AppSuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.AppSuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new a(),{init:function(p){a.prototype.init.apply(this,arguments);this.suggestApplications=S.refuseOutdatedRequests(this.suggestApplications);},abortSuggestions:function(){this.suggestApplications.abort();},combineSuggestionsWithIdenticalTitle:function(c){function J(k,v){if(k==='sina'){return undefined;}return v;}var d;var e={};for(var i=0;i<c.length;i++){d=c[i];var f=e[d.title];if(f){if(!f.combinedSuggestionExists){var g={title:'tfergtrztuzt'+i,sortIndex:f.sortIndex,url:'#Action-search&/searchterm='+d.title+'&datasource='+JSON.stringify(this.model.appDataSource,J),label:sap.ushell.resources.i18n.getText('suggestion_in_apps',d.label),icon:f.icon};e[g.title]=g;f.combinedSuggestionExists=true;}}else{d.sortIndex=i;e[d.title]=d;}}c=[];for(var h in e){if(e.hasOwnProperty(h)){d=e[h];if(!d.combinedSuggestionExists){c.push(d);}}}c.sort(function(j,k){return j.sortIndex-k.sortIndex;});return c;},addAsterisk4ShowAllApps:function(c){var n=c;c=c.match(/\\S+/g);if(c.length>0){var d;var e=[];for(var i=0;i<c.length;i++){d=c[i];if(d&&d.lastIndexOf('*')!==d.length-1){e.push(d+'*');}else{e.push(d);}}n=e.join(' ')}return n;},createShowMoreSuggestion:function(t){var c=sap.ushell.resources.i18n.getText('showAllNApps',t);c=c.replace(/\"/g,'');var d=c;var l='<i>'+c+'</i>';return{title:c,tooltip:d,label:l,dataSource:this.model.appDataSource,labelRaw:this.model.getProperty('/uiFilter/searchTerms'),type:s.SuggestionType.OBJECTDATA};},getSuggestions:function(){var t=this;var d=t.model.getDataSource();if(!d.equals(t.model.allDataSource)&&!d.equals(t.model.appDataSource)){return jQuery.when([]);}var c=t.model.getProperty('/uiFilter/searchTerms');return t.suggestApplications(c).then(function(r){var e=r.getElements();e=t.combineSuggestionsWithIdenticalTitle(e);jQuery.each(e,function(i,g){g.type=s.SuggestionType.APPS;g.dataSource=t.model.appDataSource;g.position=b[s.SuggestionType.APPS].position;});var f;if(t.model.isAllCategory()){f=b[s.SuggestionType.APPS].limitDsAll;}else{f=b[s.SuggestionType.APPS].limitDsApps;}e=e.slice(0,f);if(r.totalResults>f&&d.equals(t.model.appDataSource)){e.push(t.createShowMoreSuggestion(r.totalResults));}return e;});},suggestApplications:function(c){return sap.ushell.Container.getService('Search').queryApplications({searchTerm:c,searchInKeywords:true,bSuggestion:true});}});})();\n",
	"sap/ushell/renderers/fiori2/search/suggestions/DataSourceSuggestionProvider.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider');var a=sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps');var b=sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps;sap.ushell.Container.getService('Search').getSina();var s=sap.bc.ina.api.sina.base;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.DataSourceSuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.DataSourceSuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new a(),{init:function(p){a.prototype.init.apply(this,arguments);this.suggestDataSources=S.refuseOutdatedRequests(this.suggestDataSources);},abortSuggestions:function(){this.suggestDataSources.abort();},getSuggestions:function(){if(!this.model.isBusinessObjSearchEnabled()){return jQuery.when([]);}if(!this.model.getDataSource().equals(this.model.allDataSource)){return jQuery.when([]);}return this.suggestDataSources();},suggestDataSources:function(){var t=this;return t.model.getServerDataSources().then(function(d){if(jQuery.inArray(t.model.appDataSource,d)<0){d.unshift(t.model.appDataSource);}if(jQuery.inArray(t.model.allDataSource,d)<0){d.unshift(t.model.allDataSource);}var c=t.model.getProperty('/uiFilter/searchTerms');var e=c.replace(/\\*/g,'');var T=new S.Tester(e);var o;var f;var g=[];for(var i=0;i<d.length;++i){var h=d[i];if(h.equals(t.model.getDataSource())){continue;}o=T.test(h.label);if(o.bMatch===true){f={};f.label='<i>'+sap.ushell.resources.i18n.getText('searchInPlaceholder',o.sHighlightedText)+'</i>';f.labelRaw='';f.dataSource=h;f.type=s.SuggestionType.DATASOURCE;f.position=b[s.SuggestionType.DATASOURCE].position;g.push(f);if(g.length===b[s.SuggestionType.DATASOURCE].limit){break;}}}return g;});}});})();\n",
	"sap/ushell/renderers/fiori2/search/suggestions/SinaBaseSuggestionProvider.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider');var S=sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SinaBaseSuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.SinaBaseSuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new S(),{init:function(){S.prototype.init.apply(this,arguments);},prepareSuggestionQuery:function(s){var t=this;t.suggestionQuery.resetResultSet();t.suggestionQuery.setSuggestionTerm(s);if(!t.suggestionQuery.getDataSource()||!t.model.getProperty('/uiFilter/dataSource').equals(t.suggestionQuery.getDataSource())){t.suggestionQuery.resetFilterConditions();}t.suggestionQuery.setDataSource(t.model.getProperty('/uiFilter/dataSource'));t.suggestionQuery.setSuggestionTypes(t.suggestionTypes);t.suggestionQuery.setTop(10);}});})();\n",
	"sap/ushell/renderers/fiori2/search/suggestions/SinaSuggestionProvider.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SinaBaseSuggestionProvider');var a=sap.ushell.renderers.fiori2.search.suggestions.SinaBaseSuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps');var b=sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps;sap.ushell.Container.getService('Search').getSina();var s=sap.bc.ina.api.sina.base;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SinaSuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.SinaSuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new a(),{suggestionLimit:jQuery.device.is.phone?5:7,init:function(p){a.prototype.init.apply(this,arguments);this.getResultSet=S.refuseOutdatedRequests(this.getResultSet);this.dataSourceDeferred=null;},abortSuggestions:function(){this.getResultSet.abort();},getResultSet:function(){return this.suggestionQuery.getResultSet();},getSuggestions:function(){var t=this;this.suggestions=[];this.firstObjectDataSuggestion=true;this.numberSuggestionsByType={};for(var c in s.SuggestionType){this.numberSuggestionsByType[s.SuggestionType[c]]=0;}var d=t.model.getProperty('/uiFilter/searchTerms');if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(s.SuggestionType.OBJECTDATA)>=0&&d.length<3){return jQuery.when(this.suggestions);}t.createAllAndAppDsSuggestions();if(!t.model.isBusinessObjSearchEnabled()){return jQuery.when(this.suggestions);}if(t.model.getDataSource().equals(t.model.appDataSource)){return jQuery.when(this.suggestions);}t.prepareSuggestionQuery(d);return t.getResultSet().then(function(r){var e=r.getElements();t.formatSinaSuggestions(e);return t.suggestions;});},createAllAndAppDsSuggestions:function(){if(this.suggestionTypes.indexOf(s.SuggestionType.DATASOURCE)<0){return;}if(!this.model.getDataSource().equals(this.model.allDataSource)){return;}var d=[];d.unshift(this.model.appDataSource);d.unshift(this.model.allDataSource);var c=this.model.getProperty('/uiFilter/searchTerms');var e=c.replace(/\\*/g,'');var t=new S.Tester(e);for(var i=0;i<d.length;++i){var f=d[i];if(f.key===this.model.getDataSource().key){continue;}var T=t.test(f.label);if(T.bMatch===true){var g={};g.label='<i>'+sap.ushell.resources.i18n.getText('searchInPlaceholder',T.sHighlightedText)+'</i>';g.labelRaw='';g.dataSource=f;g.type=s.SuggestionType.DATASOURCE;g.position=b[s.SuggestionType.DATASOURCE].position;g.key=f.key;this.addSuggestion(g);}}},preFormatSuggestions:function(c){for(var i=0;i<c.length;++i){var d=c[i];d.position=b[d.type].position;if(d.type===s.SuggestionType.DATASOURCE){d.key=d.labelRaw.key;}else{d.key=d.labelRaw;}if(d.children){this.preFormatSuggestions(d.children);}}},formatSinaSuggestions:function(c){this.preFormatSuggestions(c);for(var i=0;i<c.length;++i){var d=c[i];if(!d.labelRaw){continue;}if(this.suggestionTermBuffer.hasTerm(d.key)){continue;}var n=this.numberSuggestionsByType[d.type];var l=b[d.type].limit;if(n>=l){continue;}switch(d.type){case this.sina.SuggestionType.DATASOURCE:if(!this.model.getDataSource().equals(this.model.allDataSource)){continue;}d.label='<i>'+sap.ushell.resources.i18n.getText('searchInPlaceholder',d.label)+'</i>';this.addSuggestion(d);break;case this.sina.SuggestionType.OBJECTDATA:this.formatObjectDataSuggestion(d);break;case this.sina.SuggestionType.HISTORY:d.label=d.label;this.addSuggestion(d);break;default:break;}}return this.suggestions;},addSuggestion:function(c){this.suggestions.push(c);this.suggestionTermBuffer.addTerm(c.key);this.numberSuggestionsByType[c.type]+=1;},formatObjectDataSuggestion:function(c){if(this.model.getDataSource().equals(this.model.allDataSource)){if(this.firstObjectDataSuggestion){this.firstObjectDataSuggestion=false;c.label=this.assembleSearchInSuggestionLabel(c);this.addSuggestion(c);this.addChildSuggestions(c);}else{this.addSuggestion(c);}}else{this.addSuggestion(c);}},addChildSuggestions:function(c){if(!c.children){return;}var l=Math.min(c.children.length,b[s.SuggestionType.OBJECTDATA].limitDataSource,b[s.SuggestionType.OBJECTDATA].limit-1);for(var i=0;i<l;++i){var d=c.children[i];this.numberObjectDataSuggestions++;d.label=this.assembleSearchInSuggestionLabel(d);d.position=b[s.SuggestionType.OBJECTDATA].position;this.addSuggestion(d);}},assembleSearchInSuggestionLabel:function(c){return c.label+' <i>'+sap.ushell.resources.i18n.getText('resultsIn')+' '+c.dataSource.labelPlural+'</i>';}});})();\n",
	"sap/ushell/renderers/fiori2/search/suggestions/SuggestionHandler.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SinaSuggestionProvider');var a=sap.ushell.renderers.fiori2.search.suggestions.SinaSuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.DataSourceSuggestionProvider');var D=sap.ushell.renderers.fiori2.search.suggestions.DataSourceSuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.AppSuggestionProvider');var A=sap.ushell.renderers.fiori2.search.suggestions.AppSuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.TimeMerger');var T=sap.ushell.renderers.fiori2.search.suggestions.TimeMerger;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SuggestionHandler');var s=sap.ushell.renderers.fiori2.search.suggestions;var b=function(){this.init.apply(this,arguments);};b.prototype={init:function(){this.terms={};},addTerm:function(t){t=t.trim().toLowerCase();this.terms[t]=true;},hasTerm:function(t){t=t.trim().toLowerCase();return!!this.terms[t];},clear:function(){this.terms={};}};s.SuggestionHandler=function(){this.init.apply(this,arguments);};s.SuggestionHandler.prototype={init:function(p){var t=this;t.model=p.model;t.sina=t.model.sina;t.suggestionProviders=[];t.suggestionTermBuffer=new b();t.keyboardRelaxationTime=400;t.uiUpdateInterval=500;t.uiClearOldSuggestionsTimeOut=1000;t.dataSourceSuggestionProvider=new D({model:t.model,sina:t.sina,suggestionTermBuffer:t.suggestionTermBuffer});t.appSuggestionProvider=new A({model:t.model,suggestionTermBuffer:t.suggestionTermBuffer});t.doSuggestionInternal=S.delayedExecution(t.doSuggestionInternal,t.keyboardRelaxationTime);t.timeMerger=new T();},abortSuggestions:function(c){if(c===undefined||c===true){this.model.setProperty('/suggestions',[]);}if(this.clearSuggestionTimer){clearTimeout(this.clearSuggestionTimer);this.clearSuggestionTimer=null;}this.doSuggestionInternal.abort();this.getSuggestionProviders().done(function(d){for(var i=0;i<d.length;++i){var e=d[i];e.abortSuggestions();}});this.timeMerger.abort();},getSuggestionProviders:function(){var t=this;if(t.suggestionProvidersDeferred){return t.suggestionProvidersDeferred;}var c=[t.appSuggestionProvider];if(!t.model.config.searchBusinessObjects){t.suggestionProvidersDeferred=jQuery.when(c);return t.suggestionProvidersDeferred;}t.suggestionProvidersDeferred=t.sina.sinaSystem().getServerInfo().then(function(d){c.push.apply(c,t.createSinaSuggestionProviders(d));return jQuery.when(c);},function(){return jQuery.when(c);});return t.suggestionProvidersDeferred;},createSinaSuggestionProviders:function(c){var p=[{suggestionTypes:[this.sina.SuggestionType.HISTORY],activeSuggestionTypes:[]},{suggestionTypes:[this.sina.SuggestionType.DATASOURCE],activeSuggestionTypes:[]},{suggestionTypes:[this.sina.SuggestionType.OBJECTDATA],activeSuggestionTypes:[]}];var d=c.services.Suggestions.suggestionTypes;var e;var f=false;for(var i=0;i<d.length;++i){var g=d[i];if(g===this.sina.SuggestionType.DATASOURCE){f=true;}for(var j=0;j<p.length;++j){e=p[j];if(e.suggestionTypes.indexOf(g)<0){continue;}e.activeSuggestionTypes.push(g);}}var h=[];for(var k=0;k<p.length;++k){e=p[k];if(e.activeSuggestionTypes.length===0){continue;}h.push(new a({model:this.model,sina:this.sina,suggestionTermBuffer:this.suggestionTermBuffer,suggestionQuery:this.model.suggestionQuery,suggestionTypes:e.activeSuggestionTypes}));}if(!f){h.push(this.dataSourceSuggestionProvider);}return h;},isSuggestionPopupVisible:function(){return jQuery('.searchSuggestion').filter(':visible').length>0;},doSuggestion:function(){var t=this;if(this.isSuggestionPopupVisible()){this.abortSuggestions(false);this.clearSuggestionTimer=setTimeout(function(){t.clearSuggestionTimer=null;t.model.setProperty('/suggestions',[]);},t.uiClearOldSuggestionsTimeOut);}else{this.abortSuggestions();}this.doSuggestionInternal();},doSuggestionInternal:function(){var t=this;var c=t.model.getProperty('/uiFilter/searchTerms');if(c.length===0){return;}if(c.trim()==='*'){return;}t.model.analytics.logCustomEvent('FLP: Search','Suggestion',[t.model.getProperty('/uiFilter/searchTerms'),t.model.getProperty('/uiFilter/dataSource').key]);t.suggestionTermBuffer.clear();t.getSuggestionProviders().done(function(d){var p=[];var f=true;var e=d.length;for(var i=0;i<d.length;++i){var g=d[i];p.push(g.getSuggestions());}t.timeMerger.abort();t.timeMerger=new T(p,t.uiUpdateInterval);t.timeMerger.process(function(r){e-=r.length;var s=[];for(var j=0;j<r.length;++j){var h=r[j];s.push.apply(s,h);}if(e>0&&s.length===0){return;}if(t.clearSuggestionTimer){clearTimeout(t.clearSuggestionTimer);t.clearSuggestionTimer=null;}t.insertSuggestions(s,f);f=false;});});},insertSuggestions:function(i,f){var s=this.model.getProperty('/suggestions');if(f){s=[];}var g=this._groupByPosition(i);for(var p in g){var c=g[p];this._insertSuggestions(s,c);}this.model.setProperty('/suggestions',s);},_groupByPosition:function(s){var g={};for(var i=0;i<s.length;++i){var c=s[i];var d=g[c.position];if(!d){d=[];g[c.position]=d;}d.push(c);}return g;},_insertSuggestions:function(s,i){if(i.length<=0){return;}var c=i[0];var d=0;for(;d<s.length;++d){var e=s[d];if(e.position>c.position){break;}}var f=[d,0];f.push.apply(f,i);s.splice.apply(s,f);}};})();\n",
	"sap/ushell/renderers/fiori2/search/suggestions/SuggestionProvider.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype={init:function(p){jQuery.extend(this,p);},abortSuggestions:function(){},getSuggestions:function(){}};})();\n",
	"sap/ushell/renderers/fiori2/search/suggestions/SuggestionTypeProps.js":"(function(){'use strict';sap.ushell.Container.getService('Search').getSina();var s=sap.bc.ina.api.sina.base;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps');s.SuggestionType.APPS='apps';var m=sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps={};m[s.SuggestionType.DATASOURCE]={position:10,limit:2};m[s.SuggestionType.APPS]={position:20,limitDsAll:3,limitDsApps:jQuery.device.is.phone?7:7};m[s.SuggestionType.HISTORY]={position:30,limit:3};m[s.SuggestionType.OBJECTDATA]={position:40,limit:jQuery.device.is.phone?7:7,limitDataSource:2};})();\n",
	"sap/ushell/renderers/fiori2/search/suggestions/TimeMerger.js":"(function(){'use strict';jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.TimeMerger');var T=sap.ushell.renderers.fiori2.search.suggestions.TimeMerger=function(){this.init.apply(this,arguments);};var c=0;T.prototype={init:function(p,t){this.promiseList=p||[];this.timeDelay=t||1000;this.pending=this.promiseList.length;this.returned=[];this.aborted=false;this.counter=++c;},abort:function(){this.aborted=true;},process:function(p){this.processorCallback=p;this.start();return this;},start:function(){for(var i=0;i<this.promiseList.length;++i){var p=this.promiseList[i];p.done(this.assembleDoneCallback(i));}this.scheduleProcessorNotification();},scheduleProcessorNotification:function(){var t=this;if(t.processorNotificationSchedule){window.clearTimeout(t.processorNotificationSchedule);t.processorNotificationSchedule=null;}t.processorNotificationSchedule=window.setTimeout(function(){t.notifyProcessor();},this.timeDelay);},notifyProcessor:function(){if(this.aborted){return;}if(this.returned.length>0){this.processorCallback(this.returned);this.returned=[];}if(this.pending>0){this.scheduleProcessorNotification();}},assembleDoneCallback:function(i){var t=this;return function(r){t.pending--;t.returned.push(r);if(t.pending===0){if(t.processorNotificationSchedule){window.clearTimeout(t.processorNotificationSchedule);t.processorNotificationSchedule=null;}t.notifyProcessor();}};}};})();\n",
	"sap/ushell/renderers/fiori2/search/userpref/SearchPrefs.js":"(function(){'use strict';jQuery.sap.require('sap.ushell.renderers.fiori2.search.userpref.SearchPrefsModel');var S=sap.ushell.renderers.fiori2.search.userpref.SearchPrefsModel;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.userpref.SearchPrefs');var m=sap.ushell.renderers.fiori2.search.userpref.SearchPrefs={};jQuery.extend(m,{model:new S(),getEntry:function(){var t=this;return{title:sap.ushell.resources.i18n.getText('sp.userProfiling'),editable:true,isSearchPrefsActive:t.model.isSearchPrefsActive.bind(t.model),value:function(){t.model.reset();return t.model.asyncInit().then(function(){return t.model.getProperty('/sessionUserActive')?sap.ushell.resources.i18n.getText('sp.on'):sap.ushell.resources.i18n.getText('sp.off');});},onSave:function(){return t.model.savePreferences();},onCancel:function(){},content:function(){return t.model.asyncInit().then(function(){var u=sap.ui.view({id:'searchPrefsView',type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.renderers.fiori2.search.userpref.SearchPrefsDialog'});u.setModel(t.model);return u;});}};}});})();\n",
	"sap/ushell/renderers/fiori2/search/userpref/SearchPrefsDialog.view.js":"(function(){'use strict';jQuery.sap.require('sap.m.MessageBox');sap.ui.jsview('sap.ushell.renderers.fiori2.search.userpref.SearchPrefsDialog',{createContent:function(c){var t=this;var u=new sap.m.Label({text:sap.ushell.resources.i18n.getText('sp.userProfilingField')+':'});var s=new sap.m.Switch({state:{path:'/sessionUserActive',mode:sap.ui.model.BindingMode.TwoWay},enabled:{parts:[{path:'/searchPrefsActive'},{path:'/personalizationPolicy'}],formatter:function(b,p){var m=t.getModel();if(b&&p!==m.personalizationPolicyEnforced&&p!==m.personalizationPolicyDisabled){return true;}else{return false;}},mode:sap.ui.model.BindingMode.OneWay},ariaLabelledBy:u});this.resetButton=new sap.m.Button({text:sap.ushell.resources.i18n.getText('sp.clearCollectedData'),press:this.resetHistory.bind(this),enabled:{parts:[{path:'/searchPrefsActive'},{path:'/personalizationPolicy'}],formatter:function(b,p){var m=t.getModel();if(b&&p!==m.personalizationPolicyDisabled){return true;}else{return false;}},mode:sap.ui.model.BindingMode.OneWay}});var e=new sap.m.Text({text:sap.ushell.resources.i18n.getText('sp.disclaimer')});var a=[u,s,e,this.resetButton];return a;},resetHistory:function(){var t=this;this.getModel().resetProfile().then(function(){t.resetButton.setEnabled(false);},function(r){var e=sap.ushell.resources.i18n.getText('sp.resetFailed');if(r.statusText&&r.statusText.length>0&&r.statusText!=='OK'){e+='\\n'+r.statusText+'\\n'+t.formatErrorResponse(r.responseText);}sap.m.MessageBox.show(e,{title:sap.ushell.resources.i18n.getText('sp.resetFailedTitle'),icon:sap.m.MessageBox.Icon.ERROR,actions:[sap.m.MessageBox.Action.OK]});});},formatErrorResponse:function(r){var p;try{p=JSON.parse(r);}catch(e){return r;}if(!p.ErrorDetails){return r;}var a=[];for(var i=0;i<p.ErrorDetails.length;++i){var b=p.ErrorDetails[i];a.push(b.Message+' ('+b.Code+')');}return a.join('\\n');},switchChangeHandler:function(e){var s=e.getSource();if(s.getState()){return;}var i=sap.ushell.resources.i18n;var d=i.getText('sp.disable');sap.m.MessageBox.confirm(i.getText('sp.disablingUserProfiling'),{title:sap.ushell.resources.i18n.getText('sp.disableUserProfiling'),icon:sap.m.MessageBox.Icon.QUESTION,actions:[d,sap.m.MessageBox.Action.CANCEL],onClose:function(a){if(a==sap.m.MessageBox.Action.CANCEL){s.setState(true);}}});},openMessageBox:function(){var t=this;var i=sap.ushell.resources.i18n;var c=i.getText('sp.clear');sap.m.MessageBox.confirm(i.getText('sp.profileWillBeReset'),{title:sap.ushell.resources.i18n.getText('sp.clearCollectedData'),icon:sap.m.MessageBox.Icon.QUESTION,actions:[c,sap.m.MessageBox.Action.CANCEL],onClose:function(a){if(a==c){t.getModel().resetProfile();}}});}});}());\n",
	"sap/ushell/renderers/fiori2/search/userpref/SearchPrefsModel.js":"(function(){'use strict';jQuery.sap.require('sap.ui.model.json.JSONModel');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchModel');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchConfiguration');var S=sap.ushell.renderers.fiori2.search.SearchConfiguration;var p='sap.ushell.renderers.fiori2.search.userpref.SearchPrefsModel';sap.ui.model.json.JSONModel.extend(p,{constructor:function(a){var t=this;sap.ui.model.json.JSONModel.prototype.constructor.apply(t,[]);t.sina=sap.ushell.Container.getService('Search').getSina();t.config=new S();this.reset();},personalizationPolicyOptOut:'Opt-Out',personalizationPolicyOptIn:'Opt-In',personalizationPolicyEnforced:'Enforced',personalizationPolicyDisabled:'Disabled',personalizationPolicies:['Opt-Out','Opt-In','Enforced','Disabled'],isSearchPrefsActive:function(){var t=this;var a=$.Deferred();var s=sap.ushell.renderers.fiori2.search.getModelSingleton();s.initBusinessObjSearch().then(function(){if(!t.config.searchBusinessObjects||!t.config.enableSearch||!s.isBusinessObjSearchEnabled()){a.fail(false);return;}t.sina.getSystem().getServerInfo().then(function(b){b=b.rawServerInfo;for(var i=0;i<b.Services.length;++i){var c=b.Services[i];if(c.Service==='PersonalizedSearch'){a.resolve(true);return;}}a.fail(false);return;},function(){a.fail(false);});});return a;},reset:function(){this.initializedDeferred=null;this.setData({searchPrefsActive:false,sessionUserActive:false,personalizationPolicy:'Enforced'});},asyncInit:function(){var t=this;if(t.initializedDeferred){return t.initializedDeferred;}t.initializedDeferred=t.isSearchPrefsActive().then(function(i){t.setProperty('/searchPrefsActive',i);if(!i){return jQuery.when(true);}return t.loadPreferences();});return t.initializedDeferred;},loadPreferences:function(){var t=this;t.searchConfiguration=t.sina.getSearchConfiguration();return t.searchConfiguration.load().then(function(c){var s=c.Data.PersonalizedSearch.SessionUserActive;t.setProperty('/sessionUserActive',s);var a=c.Data.PersonalizedSearch.PersonalizationPolicy;if(t.personalizationPolicies.indexOf(a)<0){a=this.personalizationPolicyDisabled;}t.setProperty('/personalizationPolicy',a);});},savePreferences:function(){var a=this.getProperty('/personalizationPolicy');var s=this.getProperty('/searchPrefsActive');if(!s||a===this.personalizationPolicyEnforced||a===this.personalizationPolicyDisabled){return jQuery.when(true);}var t=this;var d={'SearchConfiguration':{'Action':'Update','Data':{'PersonalizedSearch':{'SessionUserActive':t.getProperty('/sessionUserActive')}}}};return t.searchConfiguration.save(d);},resetProfile:function(){return this.sina.emptyUserHistory();}});})();\n",
	"sap/ushell/renderers/fiori2/theme_selector/ThemeSelector.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.controller('sap.ushell.renderers.fiori2.theme_selector.ThemeSelector',{onInit:function(){try{this.userInfoService=sap.ushell.Container.getService('UserInfo');this.oUser=this.userInfoService.getUser();}catch(e){jQuery.sap.log.error('Getting UserInfo service failed.');this.oUser=sap.ushell.Container.getUser();}this.oModel=new sap.ui.model.json.JSONModel({options:[]});this.getView().setModel(this.oModel);this.translationBundle=sap.ushell.resources.i18n;this.currentThemeId=this.oUser.getTheme();this.origThemeId=this.currentThemeId;this.aThemeList=null;this.isContentLoaded=false;},_getIsChangeThemePermitted:function(){return this.oUser.isSetThemePermitted();},getContent:function(){var t=this;var d=jQuery.Deferred();if(this.isContentLoaded===true){d.resolve(this.getView());}else{var a=this._getThemeList();a.done(function(T){if(T.length>0){T.sort(function(b,c){var e=b.name,f=c.name;if(e<f){return-1;}if(e>f){return 1;}return 0;});for(var i=0;i<T.length;i++){if(T[i].id==t.currentThemeId){T[i].isSelected=true;}else{T[i].isSelected=false;}}t.getView().getModel().setProperty('/options',T);d.resolve(t.getView());}else{d.reject();}});a.fail(function(){d.reject();});}return d.promise();},getValue:function(){var d=jQuery.Deferred();var t=this._getThemeList();var a=this;var b;t.done(function(T){a.aThemeList=T;b=a._getThemeNameById(a.currentThemeId);d.resolve(b);});t.fail(function(e){d.reject(e);});return d.promise();},onCancel:function(){this.currentThemeId=this.oUser.getTheme();},onSave:function(){var d=jQuery.Deferred();var u;if(this.oUser.getTheme()!=this.currentThemeId){if(this.currentThemeId){this.oUser.setTheme(this.currentThemeId);u=this.userInfoService.updateUserPreferences(this.oUser);u.done(function(){this.origThemeId=this.currentThemeId;this.oUser.resetChangedProperties();d.resolve();}.bind(this));u.fail(function(e){this.oUser.setTheme(this.origThemeId);this.oUser.resetChangedProperties();this.currentThemeId=this.origThemeId;jQuery.sap.log.error(e);d.reject(e);}.bind(this));}else{d.reject('Could not find theme: '+this.currentThemeId);}}else{d.resolve();}return d.promise();},_getThemeList:function(){var d=jQuery.Deferred();if(this.aThemeList==null){if(this._getIsChangeThemePermitted()==true){var g=this.userInfoService.getThemeList();g.done(function(D){d.resolve(D.options);});g.fail(function(){d.reject('Failed to load theme list.');});}else{d.resolve([this.currentThemeId]);}}else{d.resolve(this.aThemeList);}return d.promise();},getCurrentThemeId:function(){return this.currentThemeId;},setCurrentThemeId:function(n){this.currentThemeId=n;},_getThemeNameById:function(t){if(this.aThemeList){for(var i=0;i<this.aThemeList.length;i++){if(this.aThemeList[i].id==t){return this.aThemeList[i].name;}}}return t;}});}());\n",
	"sap/ushell/renderers/fiori2/theme_selector/ThemeSelector.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ushell.services.Container');sap.ui.jsview('sap.ushell.renderers.fiori2.theme_selector.ThemeSelector',{createContent:function(c){var t=this._getThemeListItemTemplate(),a=this,o=function(e){var i=e.getParameters().listItem;a.oController.setCurrentThemeId(i.getBindingContext().getProperty('id'));};this.oList=new sap.m.List('themeSelectorList',{includeItemInSelection:true,mode:'SingleSelectLeft',items:{path:'/options',template:t},selectionChange:o});return this.oList;},getControllerName:function(){return'sap.ushell.renderers.fiori2.theme_selector.ThemeSelector';},_getThemeListItemTemplate:function(){return new sap.m.StandardListItem({title:'{name}',selected:'{isSelected}'});}});}());\n",
	"sap/ushell/renderers/fiori2/usageAnalytics_selector/UsageAnalyticsSelector.controller.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.controller('sap.ushell.renderers.fiori2.usageAnalytics_selector.UsageAnalyticsSelector',{onInit:function(){this.oUser=sap.ushell.Container.getUser();var m=new sap.ui.model.json.JSONModel({'trackUsageAnalytics':this.oUser.getTrackUsageAnalytics()});this.getView().setModel(m);},getContent:function(){var t=this;var d=jQuery.Deferred();d.resolve(t.getView());return d.promise();},getValue:function(){var d=jQuery.Deferred(),i=sap.ushell.resources.i18n,m=this.getView().getModel();d.resolve(m.getProperty('/trackUsageAnalytics')?i.getText('trackingEnabled'):i.getText('trackingDisabled'));return d.promise();},onSave:function(){var c=this.getView().getModel().getProperty('/trackUsageAnalytics');return sap.ushell.Container.getService('UsageAnalytics').setTrackUsageAnalytics(c);}});}());\n",
	"sap/ushell/renderers/fiori2/usageAnalytics_selector/UsageAnalyticsSelector.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ushell.services.Container');jQuery.sap.require('sap.m.Label');sap.ui.jsview('sap.ushell.renderers.fiori2.usageAnalytics_selector.UsageAnalyticsSelector',{createContent:function(c){this.oMessage=new sap.m.Text({text:sap.ushell.Container.getService('UsageAnalytics').getLegalText()}).addStyleClass('sapUshellUsageAnalyticsSelectorLegalTextMessage');this.oSwitchButton=new sap.m.Switch('usageAnalyticsSwitch',{customTextOn:' ',customTextOff:' ',state:{path:'/trackUsageAnalytics',mode:sap.ui.model.BindingMode.TwoWay}});this.oLabel=new sap.m.Label({text:sap.ushell.resources.i18n.getText('allowTracking')}).addStyleClass('sapUshellUsageAnalyticsSelectorLabel');return[this.oMessage,this.oLabel,this.oSwitchButton];},getControllerName:function(){return'sap.ushell.renderers.fiori2.usageAnalytics_selector.UsageAnalyticsSelector';}});}());\n",
	"sap/ushell/resources.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.resources');jQuery.sap.require('sap.ui.model.resource.ResourceModel');sap.ushell.resources={};sap.ushell.resources.getTranslationModel=function(l){var t=new sap.ui.model.resource.ResourceModel({bundleUrl:jQuery.sap.getModulePath('sap.ushell.renderers.fiori2.resources.resources','.properties'),bundleLocale:l});return t;};sap.ushell.resources.i18nModel=sap.ushell.resources.getTranslationModel(sap.ui.getCore().getConfiguration().getLanguage());sap.ushell.resources.i18n=sap.ushell.resources.i18nModel.getResourceBundle();}());\n",
	"sap/ushell/services/AppConfiguration.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.AppConfiguration');jQuery.sap.require('sap.ushell.utils');function A(){var m={},c=null,C=null,I=[],a=[];sap.ui.getCore().getEventBus().subscribe('sap.ushell.renderers.fiori2.Renderer','appOpened',b,this);function b(e,E,D){C=D;if(a.length){for(var i=0;i<a.length;i++){a[i]();}a.length=0;}}this.addActivity=function(r){var u=sap.ushell.Container.getService('UserRecents');return u.addActivity(r);};this.getCurrentAppliction=function(o){return c;};this.getMetadata=function(o){if(!o){o=c;}if(o){var h=hasher&&hasher.getHash?hasher.getHash():'',k=this._processKey(h);if(!(m.hasOwnProperty(k))){this.addMetadata(o,k);}if(!m[k]){m[k]={};}if(!m[k].title){m[k].title=o.text||sap.ushell.resources.i18n.getText('default_app_title');}return m[k];}return{};};this._processKey=function(e){var i=e.split('?')[0],p=e.split('?')[1],S,P={},f,g='',h='',o;if(p){S=p.split('&');S.forEach(function(j){var k=j.split('=');P[k[0]]=k[1];});f=Object.keys(P).sort();f.forEach(function(k,j){h=j?'&':'?';g+=h+k+'='+P[k];});return i+g;}o=sap.ushell.Container.getService('URLParsing').parseShellHash(e);i=o?o.semanticObject+'-'+o.action:'';return i;};this.setCurrentApplication=function(o){c=o;if(a.length){a.length=0;}};this.setHeaderHiding=function(h){if(sap.ui.Device.system.phone){if(c===C){s(h);}else{a.push(function(){s(h);});}}else{jQuery.sap.log.warning('Application configuration could not be trigger setHeaderHiding on Shell as the running device is not a phone');}};function s(h){var r=sap.ushell.Container.getRenderer('fiori2');if(r){r.setHeaderHiding(h);}}this.addApplicationSettingsButtons=function(B){if(c&&c===C){d(B);}else{a.push(function(){d(B);});}};function d(B){var i,e=[],r=sap.ushell.Container.getRenderer('fiori2'),o=r&&r.getComponentData?r.getComponentData():undefined,f=o?o.config:undefined;for(i=0;i<B.length;i++){var g=B[i];e.push(g.getId());g.setIcon(g.getIcon()||sap.ui.core.IconPool.getIconURI('action-settings'));if(f&&f.enableMeArea){g.addStyleClass('sapUshellActionItem');g.setType(sap.m.ButtonType.Unstyled);}}if(sap.ushell.Container&&r){if(I.length){r.hideActionButton(I,true);}I=e;r.showActionButton(e,true,undefined,true);}}this.setWindowTitle=function(t){window.document.title=t;};this.setIcons=function(i){jQuery.sap.setIcons(i);};this.getSettingsControl=function(){jQuery.sap.require('sap.ushell.ui.footerbar.SettingsButton');return new sap.ushell.ui.footerbar.SettingsButton();};this.getApplicationName=function(o){var M,e=(o&&o.additionalInformation)||null;if(e){M=/^SAPUI5\\.Component=(.+)$/i.exec(e);if(M){return M[1];}}return null;};this.getApplicationUrl=function(o){var u=(o&&o.url)||null,S='P_TCODE',i;if(u){if(o.applicationType==='NWBC'&&u.indexOf(S)){return u;}i=u.indexOf('?');if(i>=0){u=u.slice(0,i);}if(u.slice(-1)!=='/'){u+='/';}}return u;};this.getPropertyValueFromConfig=function(o,p,r){var v;if(r&&o.hasOwnProperty(p+'Resource')){v=r.getText(o[p+'Resource']);}else if(o.hasOwnProperty(p)){v=o[p];}return v;};this.getPropertyValueFromManifest=function(l,p,P){var M=p[P].manifestEntryKey,e=p[P].path,o=l.getManifestEntry(M);return jQuery.sap.getObject(e,undefined,o);};this.addMetadata=function(o,k){try{var f=this.getApplicationName(o),u=this.getApplicationUrl(o),g,l,h,p={'fullWidth':{'manifestEntryKey':'sap.ui','path':'fullWidth'},'hideLightBackground':{'manifestEntryKey':'sap.ui','path':'hideLightBackground'},'title':{'manifestEntryKey':'sap.app','path':'title'},'icon':{'manifestEntryKey':'sap.ui','path':'icons.icon'},'favIcon':{'manifestEntryKey':'sap.ui','path':'icons.favIcon'},'homeScreenIconPhone':{'manifestEntryKey':'sap.ui','path':'icons.phone'},'homeScreenIconPhone@2':{'manifestEntryKey':'sap.ui','path':'icons.phone@2'},'homeScreenIconTablet':{'manifestEntryKey':'sap.ui','path':'icons.tablet'},'homeScreenIconTablet@2':{'manifestEntryKey':'sap.ui','path':'icons.tablet@2'},'startupImage320x460':{'manifestEntryKey':'sap.ui','path':'icons.startupImage640x920'},'startupImage640x920':{'manifestEntryKey':'sap.ui','path':'icons.startupImage640x920'},'startupImage640x1096':{'manifestEntryKey':'sap.ui','path':'icons.startupImage640x1096'},'startupImage768x1004':{'manifestEntryKey':'sap.ui','path':'icons.startupImage768x1004'},'startupImage748x1024':{'manifestEntryKey':'sap.ui','path':'icons.startupImage748x1024'},'startupImage1536x2008':{'manifestEntryKey':'sap.ui','path':'icons.startupImage1536x2008'},'startupImage1496x2048':{'manifestEntryKey':'sap.ui','path':'icons.startupImage1496x2048'},'compactContentDensity':{'manifestEntryKey':'sap.ui5','path':'contentDensities.compact'},'cozyContentDensity':{'manifestEntryKey':'sap.ui5','path':'contentDensities.cozy'}},i,j,n,M,P,q,r,t=o&&o.componentHandle;if(k&&!(m.hasOwnProperty(k))){m[k]={};if(t){l=t.getMetadata();}else if(f){jQuery.sap.log.warning(\"No component handle available for '\"+f+\"'; fallback to component.load()\",null,'sap.ushell.services.AppConfiguration');try{g=sap.ui.component.load({url:u,name:f});l=g.getMetadata();}catch(e){jQuery.sap.log.warning('Could not receive metadata of component',null,'sap.ushell.services.AppConfiguration');}}if(l){h=l.getConfig();M=(l.getManifest()!==undefined);if(h){q=h.resourceBundle||'';if(q){if(q.slice(0,1)!=='/'){q=u+q;}r=jQuery.sap.resources({url:q,locale:sap.ui.getCore().getConfiguration().getLanguage()});}}for(P in p){if(p.hasOwnProperty(P)){if(M){m[k][P]=this.getPropertyValueFromManifest(l,p,P);}if(h&&m[k][P]===undefined){m[k][P]=this.getPropertyValueFromConfig(h,P,r);}}}m[k].version=l.getVersion();m[k].libraryName=l.getLibraryName();}else if(sap.ushell.utils.isApplicationTypeNWBCRelated(o.applicationType)){var w='/~canvas;window=app/wda/',v=o.url.indexOf(w),W='/bc/gui/sap/its/webgui',x=o.url.indexOf(W);if(v>=0){m[k].libraryName=o.url.substring((v+w.length),o.url.indexOf('/',(v+w.length)));}if(x>=0){var E='etransaction=',y=o.url.indexOf(E,x+W.length),z=o.url.indexOf('&',y),B=(z>=0)?z:o.url.length;m[k].libraryName=o.url.substring(y+E.length,B)+' (TCODE)';}}else{jQuery.sap.log.warning('No technical information for the given application could be determined',null,'sap.ushell.services.AppConfiguration');}}i=['favIcon','homeScreenIconPhone','homeScreenIconPhone@2','homeScreenIconTablet','homeScreenIconTablet@2','startupImage320x460','startupImage640x920','startupImage640x1096','startupImage768x1004','startupImage748x1024','startupImage1536x2008','startupImage1496x2048'];j=(u&&u[u.length-1]==='/')?u.substring(0,u.length-1):u;n=function(u){if(u.match(/^https?:\\/\\/.*/)){return false;}return u&&u[0]!=='/';};i.forEach(function(F){var O=m[k][F],G=null;if(O){G=n(O)?j+'/'+O:O;}m[k][F]=G;});}catch(D){jQuery.sap.log.warning('Application configuration could not be parsed');}};}sap.ushell.services.AppConfiguration=new A();}());\n",
	"sap/ushell/services/AppLifeCycle.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';var S='appLoaded';jQuery.sap.declare('sap.ushell.services.AppLifeCycle');jQuery.sap.require('sap.ui.base.EventProvider');sap.ushell.services.AppLifeCycle=function(a,c,p,C){var o,e,v;this.getCurrentApplication=function(){return o;};this.attachAppLoaded=function(d,f,l){e.attachEvent(S,d,f,l);};this.detachAppLoaded=function(f,l){e.detachEvent(S,f,l);};e=new sap.ui.base.EventProvider();v=sap.ui.getCore().byId('viewPortContainer');if(!v||typeof v.attachAfterNavigate!=='function'){jQuery.sap.log.error('Error during instantiation of AppLifeCycle service','Could not attach to afterNavigate event','sap.ushell.services.AppLifeCycle');return;}v.attachAfterNavigate(function(E){var A,s,b,h=false;if(E.mParameters.toId.indexOf('applicationShellPage')===0){A=E.mParameters.to.getApp();}else if(E.mParameters.toId.indexOf('application')===0){A=E.mParameters.to;}if(A&&typeof A.getComponentHandle==='function'&&A.getComponentHandle()){b=A.getComponentHandle().getInstance();}if(b&&b.getId()==='application-Shell-home-component'){h=true;}s=A&&typeof A.getApplicationType==='function'&&A.getApplicationType();if((!s||s==='URL')&&b){s='UI5';}o={applicationType:s,componentInstance:b,homePage:h};setTimeout(function(){e.fireEvent(S,o);},0);});};sap.ushell.services.AppLifeCycle.hasNoAdapter=true;}());\n",
	"sap/ushell/services/AppState.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.AppState');jQuery.sap.require('sap.ushell.utils');jQuery.sap.require('sap.ushell.services.Container');var S,a,W=50;sap.ushell.services.AppState=function(A,c,p,C){this._oConfig=C;this._sSessionKey='';this._oAdapter=new sap.ushell.services.AppState.SequentializingAdapter(A);this._oAdapter=new sap.ushell.services.AppState.WindowAdapter(this,this._oAdapter,C);};sap.ushell.services.AppState.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey();}return this._sSessionKey;};sap.ushell.services.AppState.prototype.getAppState=function(k){var d=new jQuery.Deferred(),t=this,A;this._loadAppState(k).done(function(k,D){A=new sap.ushell.services.AppState.AppState(t,k,false,D);d.resolve(A);}).fail(function(m){A=new sap.ushell.services.AppState.AppState(t,k);d.resolve(A);});return d.promise();};sap.ushell.services.AppState.prototype._getGeneratedKey=function(){var s=sap.ushell.Container.getService('Personalization').getGeneratedKey();s=('AS'+s).substring(0,40);return s;};sap.ushell.services.AppState.prototype.createEmptyAppState=function(c,t){var k=this._getGeneratedKey(),A,s='',b='';if(c){if(!(c instanceof sap.ui.core.UIComponent)){throw new Error('oComponent passed must be a UI5 Component');}if(c.getMetadata&&c.getMetadata()&&typeof c.getMetadata().getName==='function'){s=c.getMetadata().getName()||'';}if(!s&&c.getMetadata&&c.getMetadata().getLibraryName){s=c.getMetadata().getLibraryName();}if(c.getMetadata&&c.getMetadata()&&typeof c.getMetadata().getManifest==='function'&&typeof c.getMetadata().getManifest()==='object'&&typeof c.getMetadata().getManifest()['sap.app']==='object'){b=c.getMetadata().getManifest()['sap.app'].ach||'';}}A=new sap.ushell.services.AppState.AppState(this,k,true,undefined,s,b,t);return A;};sap.ushell.services.AppState.prototype.createEmptyUnmodifiableAppState=function(c){var k=this._getGeneratedKey(),A;A=new sap.ushell.services.AppState.AppState(this,k,false);return A;};a=function(){var d=new jQuery.Deferred();this._oServiceInstance._saveAppState(this._sKey,this._sData,this._sAppName,this._sACHComponent,this._bTransient).done(function(){d.resolve();}).fail(function(m){d.reject(m);});return d.promise();};sap.ushell.services.AppState.AppState=function(s,k,m,d,A,b,t){this._oServiceInstance=s;this._sKey=k;this._sData=d;this._sAppName=A;this._sACHComponent=b;this._bTransient=t;if(m){this.setData=function(D){try{this._sData=JSON.stringify(D);}catch(e){jQuery.sap.log.error('Data can not be serialized','sap.ushell.services.AppState.AppState');this._sData=undefined;}};this.save=a.bind(this);}};sap.ushell.services.AppState.AppState.prototype.getData=function(){var o;if(this._sData===undefined||this._sData===''){return undefined;}try{o=JSON.parse(this._sData);}catch(e){jQuery.sap.log.error('Could not parse ['+this._sData+']'+e);}return o;};sap.ushell.services.AppState.AppState.prototype.getKey=function(){return this._sKey;};sap.ushell.services.AppState.prototype._saveAppState=function(k,d,A,c,t){var s=this._getSessionKey();return this._oAdapter.saveAppState(k,s,d,A,c,t);};sap.ushell.services.AppState.prototype._loadAppState=function(k){return this._oAdapter.loadAppState(k);};function L(c){this.index=-1;this.capacity=c;this.array=[];}L.prototype._clear=function(){this.array=[];this.index=-1;};L.prototype.addAsHead=function(k,v){this.index=(this.index+1)%this.capacity;this.array[this.index]={key:k,value:v};};L.prototype.getByKey=function(k){var i,e;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===k){return this.array[e];}}return undefined;};sap.ushell.services.AppState.WindowAdapter=function(s,b,c){var i=c&&c.config&&c.config.initialAppStates||{};var I=c&&c.config&&c.config.initialAppStatesPromise;this._oServiceInstance=s;this._oBackendAdapter=b;if(!sap.ushell.services.AppState.WindowAdapter.prototype.data){sap.ushell.services.AppState.WindowAdapter.prototype.data=new L(W);}if(I){I.then(function(i){if(typeof i==='object'){Object.keys(i).forEach(function(k){sap.ushell.services.AppState.WindowAdapter.prototype.data.addAsHead(k,i[k]);});}});}Object.keys(i).forEach(function(k){sap.ushell.services.AppState.WindowAdapter.prototype.data.addAsHead(k,i[k]);});};sap.ushell.services.AppState.WindowAdapter.prototype.saveAppState=function(k,s,d,A,c,t){this.sComponent=c;var D=new jQuery.Deferred();sap.ushell.services.AppState.WindowAdapter.prototype.data.addAsHead(k,d);if(this._oBackendAdapter&&!t){return this._oBackendAdapter.saveAppState(k,s,d,A,c);}D.resolve();return D.promise();};sap.ushell.services.AppState.WindowAdapter.prototype.loadAppState=function(k){var d=new jQuery.Deferred(),b=sap.ushell.services.AppState.WindowAdapter.prototype.data.getByKey(k);if(b){setTimeout(function(){d.resolve(k,b.value);},0);return d.promise();}if(this._oBackendAdapter){this._oBackendAdapter.loadAppState(k).done(function(k,D){sap.ushell.services.AppState.WindowAdapter.prototype.data.addAsHead(k,D);d.resolve(k,D);}).fail(d.reject.bind(d));return d.promise();}d.reject('AppState.js loadAppState: Application State could not be loaded');return d.promise();};S=function(){this.oLastPromise=new jQuery.Deferred();this.oLastPromise.resolve();};S.prototype.addToQueue=function(f){var n=new jQuery.Deferred();this.oLastPromise.always(function(){var r=f();r.done(function(){n.resolve.apply(n,arguments);}).fail(function(){n.reject.apply(n,arguments);});});this.oLastPromise=n;return n.promise();};sap.ushell.services.AppState._getSequentializer=function(){return new S();};sap.ushell.services.AppState.SequentializingAdapter=function(u){this._oSequentializer=new S();this._oUnderlyingAdapter=u;};sap.ushell.services.AppState.SequentializingAdapter.prototype.saveAppState=function(k,s,d,A,c){var f;f=this._oUnderlyingAdapter.saveAppState.bind(this._oUnderlyingAdapter,k,s,d,A,c);return this._oSequentializer.addToQueue(f);};sap.ushell.services.AppState.SequentializingAdapter.prototype.loadAppState=function(k){return this._oUnderlyingAdapter.loadAppState(k);};}());\n",
	"sap/ushell/services/Bookmark.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.Bookmark');sap.ushell.services.Bookmark=function(){var l=sap.ushell.Container.getService('LaunchPage');this._isMatchingRemoteCatalog=function(c,r){var C=l.getCatalogData(c);return C.remoteId===r.remoteId&&C.baseUrl.replace(/\\/$/,'')===r.baseUrl.replace(/\\/$/,'');};this.addBookmark=function(p,g){var P=l.addBookmark(p,g);P.done(function(t){var d={tile:t,group:g};sap.ui.getCore().getEventBus().publish('sap.ushell.services.Bookmark','bookmarkTileAdded',d);});return P;};this._doAddCatalogTileToGroup=function(d,c,C,g){var e,f=d.reject.bind(d);function i(c,o){var I=l.getCatalogTileId(o);if(I===undefined){return false;}return I.indexOf(c)===0;}function a(G){l.getCatalogTiles(C).fail(f).done(function(b){var g=l.getGroupId(G),t=b.some(function(o){if(i(c,o)){l.addTile(o,G).fail(f).done(function(){d.resolve();sap.ui.getCore().getEventBus().publish('sap.ushell.services.Bookmark','catalogTileAdded',g);});return true;}});if(!t){e=\"No tile '\"+c+\"' in catalog '\"+l.getCatalogId(C)+\"'\";jQuery.sap.log.error(e,null,'sap.ushell.services.Bookmark');f(e);}});}if(g){l.getGroups().fail(f).done(function(G){var b=G.some(function(o){if(l.getGroupId(o)===g){a(o);return true;}});if(!b){e=\"Group '\"+g+\"' is unknown\";jQuery.sap.log.error(e,null,'sap.ushell.services.Bookmark');f(e);}});}else{l.getDefaultGroup().fail(f).done(a);}return d.promise();};this.addCatalogTileToGroup=function(c,g,C){var d=new jQuery.Deferred(),e,f=d.reject.bind(d),m,L='X-SAP-UI2-HANA:hana?remoteId=HANA_CATALOG',t=this;function i(o){return l.getCatalogId(o)===L;}m=C?this._isMatchingRemoteCatalog:i;C=C||{id:L};l.onCatalogTileAdded(c);l.getCatalogs().fail(f).done(function(a){var s;a.forEach(function(o){if(m(o,C)){if(!s){s=o;}else{jQuery.sap.log.warning('More than one matching catalog: '+JSON.stringify(C),null,'sap.ushell.services.Bookmark');}}});if(s){t._doAddCatalogTileToGroup(d,c,s,g);}else{e='No matching catalog found: '+JSON.stringify(C);jQuery.sap.log.error(e,null,'sap.ushell.services.Bookmark');d.reject(e);}});return d.promise();};this.countBookmarks=function(u){return l.countBookmarks(u);};this.deleteBookmarks=function(u){var p=l.deleteBookmarks(u);p.done(function(){sap.ui.getCore().getEventBus().publish('sap.ushell.services.Bookmark','bookmarkTileDeleted',u);});return p;};this.updateBookmarks=function(u,p){return l.updateBookmarks(u,p);};};sap.ushell.services.Bookmark.hasNoAdapter=true;}());\n",
	"sap/ushell/services/ClientSideTargetResolution.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.ClientSideTargetResolution');jQuery.sap.require('sap.ui.generic.app.navigation.service.SelectionVariant');sap.ushell.services.ClientSideTargetResolution=function(A,c,p,S){var h,H,u;var t=[undefined,'GUI','WDA','UI5'];this._ensureInbounds=function(s){var G=A.getInbounds;if(s){var d=new jQuery.Deferred();A.getInbounds(s).done(function(i){d.resolve(i);}).fail(d.reject.bind(d));return d.promise();}if(!h){if(typeof G!=='function'){jQuery.sap.log.error('Cannot get Inbounds','ClientSideTargetResolutionAdapter should implement getInbounds method','sap.ushell.services.ClientSideTargetResolution');return new jQuery.Deferred().reject().promise();}h=new jQuery.Deferred();G.call(A).done(function(i){h.resolve(i);}).fail(h.reject.bind(h));}return h.promise();};this._getURLParsing=function(){if(!u){u=sap.ushell.Container.getService('URLParsing');}return u;};this._addDefaultParameterValues=function(i,s,k,m,d){var I={},D={};Object.keys(i).forEach(function(P){if(P!=='sap-ushell-defaultedParameterNames'){I[P]=i[P];}});if(!s){return I;}Object.keys(s).forEach(function(P){var T=s[P],a,v=false;if(!I[P]&&T.hasOwnProperty('defaultValue')){if(T.defaultValue.format&&T.defaultValue.format==='reference'){a=T.defaultValue.value;if(k.hasOwnProperty(a)){if(typeof k[a]==='string'){I[P]=[k[a]];v=true;}else if(typeof k[a]==='object'){I[P]=k[a];v=true;}}else{I[P]=[T.defaultValue];m.push(T.defaultValue.value);}}else{I[P]=[T.defaultValue.value];v=true;}if(v){D[P]=true;}}});Object.keys(D).sort().forEach(function(P){d.push(P);});return I;};this._matchesFilter=function(v,f,k,m){var F;if(!f){return true;}if(!v&&v!==''){return false;}F=f.value;if(f.format==='reference'){if(/UserDefault\\.extended\\./.test(F)){jQuery.sap.log.error(\"Illegal inbound: extended user default '\"+F+\"' used as filter\");return false;}if(k.hasOwnProperty(F)){return v===k[F];}m[F]=true;return true;}if(f.format==='value'||f.format==='plain'||f.format===undefined){return v===f.value;}else if(f.format==='regexp'){return!!v.match('^'+f.value+'$');}else{jQuery.sap.log.error('Illegal oFilter format');return false;}};function g(m){return m.inbound&&m.inbound.resolutionResult&&m.inbound.resolutionResult['sap.ui']&&m.inbound.resolutionResult['sap.ui'].technology;}this._calculateTechnologyMatch=function(m){var T=m.intentParamsPlusAllDefaults['sap-ui-tech-hint']&&m.intentParamsPlusAllDefaults['sap-ui-tech-hint'][0];var i=m.defaultedParamNames&&(m.defaultedParamNames.indexOf('sap-ui-tech-hint')>=0);if(T&&g(m)===T){return i?1:2;}return 0;};this._getTechnologyPriority=function(m){var T=g(m);var P=t.indexOf(T);return Math.max(0,P);};this._addSortString=function(m){function a(n){var s='000'+n;return s.substr(s.length-3);}m.priorityString=[m.genericSO?'g':'x','TECM='+this._calculateTechnologyMatch(m),'MTCH='+a(m.countMatchingParams),'MREQ='+a(m.countMatchingRequiredParams),'NFIL='+a(m.countMatchingFilterParams),'NDEF='+a(m.countDefaultedParams),'POT='+a(m.countPotentiallyMatchingParams),'RFRE='+a(999-m.countFreeInboundParams),'TECP='+this._getTechnologyPriority(m)].join(' ');};this._checkAdditionalParameters=function(i,I){var a=false;if(i.signature.additionalParameters==='allowed'||i.signature.additionalParameters==='ignored'){return true;}if(i.signature.additionalParameters==='notallowed'||i.signature.additionalParameters===undefined){a=Object.keys(I).every(function(P){return(!i.signature.parameters[P]&&P.indexOf('sap-')!==0)?false:true;});}else{jQuery.sap.log.error('Unexpected value of inbound for signature.additionalParameters');}return a;};this._addFoundParametersToUserDefaultRefs=function(U,m){U.forEach(function(r){m[r]=true;});};this._extractSapPriority=function(i,m){var s;if(i&&i['sap-priority']&&i['sap-priority'][0]){s=parseInt(i['sap-priority'][0],10);if(!isNaN(s)){m['sap-priority']=s;}}return;};this._constructParameterDominatorMap=function(P){var d={},r={};Object.keys(P).forEach(function(k){var R=P[k].renameTo||k;r[R]=r[R]||{'renameTo':R,'dominatedBy':[]};r[R].dominatedBy.push(k);r[R].dominatedBy=r[R].dominatedBy.sort();d[k]=r[R];});return d;};this._removeSpuriousDefaultedValues=function(i,d,P){var o=d.slice(0);o.forEach(function(s,I){var a;var n=P[s].dominatedBy.some(function(k){if(i[k]&&(k!==s)&&d.indexOf(k)===-1){a=k;return true;}return false;});if(n&&(a!==s)){d.splice(I,1);delete i[s];}});return{intentParamsPlusAllDefaults:i,defaultedParamNames:d};};this._matchToInbound=function(i,I,k,m){function n(R,v,D){R.matches=false;R.noMatchReason=v;R.noMatchDebug=D;return R;}function M(R){R.matches=true;return R;}var a=this,o={inbound:I};o.genericSO=(I.semanticObject==='*');if(!(i.semanticObject===undefined||i.semanticObject===I.semanticObject||I.semanticObject==='*')){return n(o,\"Semantic object \\\"\"+i.semanticObject+\"\\\" did not match\");}if(!(i.action===undefined||i.action===I.action)){return n(o,\"Action \\\"\"+i.action+\"\\\" did not match\");}if(I.deviceTypes&&!(i.formFactor===undefined||I.deviceTypes[i.formFactor])){return n(o,\"Form factor \\\"\"+i.formFactor+\"\\\" did not match\",'Inbound: ['+Object.keys(I.deviceTypes).filter(function(K){return!!I.deviceTypes[K];}).join(', ')+']');}var T=i.params&&i.params['sap-ui-tech-hint']&&i.params['sap-ui-tech-hint'][0];if(i.treatTechHintAsFilter&&T){var s=g({inbound:I});if(s!==T){return n(o,\"Tech Hint as filter \\\"\"+T+\"\\\" did not match\",'Inbound: ['+s+']');}}var U=[],d=[],b=i.params;var e=this._addDefaultParameterValues(b,I.signature&&I.signature.parameters,k,U,d);o.intentParamsPlusAllDefaults=e;o.defaultedParamNames=d;this._extractSapPriority(e,o);var f=0,j=0,l=0,q=0;var r=Object.keys(I.signature.parameters).every(function(P){var v=e[P],V=v&&v[0],w=I.signature.parameters[P],x=b.hasOwnProperty(P);if(w.required&&(V===null||V===undefined)){return false;}if(w.filter){if(!a._matchesFilter(V,w.filter,k,m)){return false;}if(x){++l;}}if(x&&w.required){++j;}if(x){++f;}if(!x&&(V===null||V===undefined)){++q;}var y=a._constructParameterDominatorMap(I.signature.parameters);var R=a._removeSpuriousDefaultedValues(o.intentParamsPlusAllDefaults,o.defaultedParamNames,y);o.intentParmsPlusAllDefaults=R.intentParmsPlusAllDefaults;o.defaultedParamNames=R.defaultedParamNames;return true;});o.countMatchingParams=f;o.countMatchingRequiredParams=j;o.countMatchingFilterParams=l;o.countDefaultedParams=d.length;o.countPotentiallyMatchingParams=Object.keys(i.params).length;o.countFreeInboundParams=q;if(!r){return n(o,'Inbound parameter signature did not match',this._compactSignatureNotation(I.signature));}if(!this._checkAdditionalParameters(I,e)){return n(o,'Additional parameters not allowed',this._compactSignatureNotation(I.signature));}if(I.signature.additionalParameters==='ignored'){this._filterObjectKeys(e,function(K){if(K.indexOf('sap-')===0){return true;}if(I.signature.parameters.hasOwnProperty(K)){return true;}return false;},true);o.countPotentiallyMatchingParams=Object.keys(i.params).filter(function(v){return I.signature.parameters.hasOwnProperty(v);}).length;}this._constructEarlyResolutionResult(o,I);this._addSortString(o);this._addFoundParametersToUserDefaultRefs(U,m);return M(o);};this._filterObjectKeys=function(o,f,i){var O=i?o:jQuery.extend(true,{},o);Object.keys(O).forEach(function(k){if(f(k)===false){delete O[k];}});return O;};this._isFullLocalWDAResolution=function(m){var i=m.inbound,r=i&&i.resolutionResult;if(S&&S.config&&S.config['enableWdaLocalResolution']===false){return false;}return!(!i||!r||!(r['sap.wda'])||!(r.applicationType==='WDA'));};this._isLocalWDAResolution=function(m){var i=m.inbound,r=i&&i.resolutionResult;if(S&&S.config&&S.config['enableWdaLocalResolution']===false){return false;}return!(!i||!r||!(r.applicationType==='WDA'));};this._isFullLocalWebguiResolution=function(m){var i=m.inbound,r=i&&i.resolutionResult;if(S&&S.config&&S.config['enableWebguiLocalResolution']===false){return false;}return!(!i||!r||!(r['sap.gui'])||!(r.applicationType==='TR'));};this._isLocalWebguiNowrapResolution=function(m){var i=m.inbound,r=i&&i.resolutionResult;if(S&&S.config&&S.config['enableWebguiLocalResolution']===false){return false;}return!(!i||!r||!(r.applicationType==='TR')||!(r.url.indexOf('/~canvas;')>=0)||!(r.url.indexOf('app/transaction/APB_LPD_CALL_')===-1));};this._isLocalWebguiWrapResolution=function(m){var i=m.inbound,r=i&&i.resolutionResult;if(S&&S.config&&S.config['enableWebguiLocalResolution']===false){return false;}return!(!i||!r||!(r.applicationType==='TR')||!(r.url.indexOf('/~canvas;')>=0)||!(r.url.indexOf('app/transaction/APB_LPD_CALL_')>=0));};this._isLocalNativeWebguiWrapResolution=function(m){var i=m.inbound,r=i&&i.resolutionResult;if(S&&S.config&&S.config['enableNativeWebguiLocalResolution']===false){return false;}return!(!i||!r||!(r.applicationType==='TR')||!(r.url.indexOf('/its/webgui')>=0)||!(r.url.indexOf('APB_LPD_CALL_')!==-1));};this._isLocalNativeWebguiNowrapResolution=function(m){var i=m.inbound,r=i&&i.resolutionResult;if(S&&S.config&&S.config['enableNativeWebguiLocalResolution']===false){return false;}return!(!i||!r||!(r.applicationType==='TR')||!(r.url.indexOf('/its/webgui')>=0)||!(r.url.indexOf('APB_LPD_CALL_')===-1));};this._constructEarlyResolutionResult=function(m,i){m.resolutionResult={};if(i&&i.resolutionResult&&i.resolutionResult.hasOwnProperty('sap.platform.runtime')){m.resolutionResult['sap.platform.runtime']=i.resolutionResult['sap.platform.runtime'];}Object.keys(m.intentParamsPlusAllDefaults).slice(0).forEach(function(n){if(!jQuery.isArray(m.intentParamsPlusAllDefaults[n])){if(!m.resolutionResult.oNewAppStateMembers){m.resolutionResult.oNewAppStateMembers={};}m.resolutionResult.oNewAppStateMembers[n]=m.intentParamsPlusAllDefaults[n];}});};this._hasRenameTo=function(m){return m.inbound&&m.inbound.signature&&m.inbound.signature.parameters&&Object.keys(m.inbound.signature.parameters).some(function(k){return!!(m.inbound.signature.parameters[k].renameTo);});};this._removeUnusedComplexParameterValuesFromDefaultList=function(m){m.defaultedParamNames=m.defaultedParamNames.filter(function(n){if(m.intentParamsPlusAllDefaults[n]&&!jQuery.isArray(m.intentParamsPlusAllDefaults[n])){if(!(m.resolutionResult.oNewAppStateMembers&&m.resolutionResult.oNewAppStateMembers[n])){return false;}}return true;});};this._computeNavigationMode=function(m){var a=['newWindow','embedded','replace'];if(m.intentParamsPlusAllDefaults['sap-ushell-next-navmode']&&a.indexOf(m.intentParamsPlusAllDefaults['sap-ushell-next-navmode'][0])>=0){m.resolutionResult['sap-ushell-next-navmode']=m.intentParamsPlusAllDefaults['sap-ushell-next-navmode'][0];}if(m.intentParamsPlusAllDefaults['sap-ushell-navmode']&&a.indexOf(m.intentParamsPlusAllDefaults['sap-ushell-navmode'][0])>=0){m.resolutionResult.navigationMode=m.intentParamsPlusAllDefaults['sap-ushell-navmode'][0];m.resolutionResult.explicitNavMode=true;}};this._mapDefaultParameterNames=function(m){var P=jQuery.sap.getObject('inbound.signature.parameters',undefined,m)||{},M={};m.defaultedParamNames.forEach(function(n){var N=(P[n]&&P[n].renameTo)||n;if(M[N]){jQuery.sap.log.error('renaming of defaultedParamNames creates duplicates'+n+'->'+N);}else{M[N]=true;}});m.mappedDefaultedParamNames=Object.keys(M).sort();};this._mixAppStateIntoResolutionResultAndRename=function(m,a){var d=new jQuery.Deferred(),b=this,n,s,o;function e(T){b._removeUnusedComplexParameterValuesFromDefaultList(T);b._mapDefaultParameterNames(T);b._computeNavigationMode(T);delete T.resolutionResult.oNewAppStateMembers;d.resolve(T);}function f(m){return(m.resolutionResult.oNewAppStateMembers&&!jQuery.isEmptyObject(m.resolutionResult.oNewAppStateMembers));}function i(l,P){return jQuery.isArray(l)&&l.some(function(q){return(P.indexOf(q)!==-1);});}function j(l,P){var q,v,w;if(l&&l.selectionVariant){q=new sap.ui.generic.app.navigation.service.SelectionVariant(JSON.stringify(l.selectionVariant));w=q.getSelectOptionsPropertyNames()||[];v=q.getParameterNames()||[];if(i(w,P)||i(v,P)){return true;}}return false;}function r(l,q,P){var v=new sap.ui.generic.app.navigation.service.SelectionVariant(),w=l.getParameterNames()||[],x=l.getSelectOptionsPropertyNames()||[],y,z;w.forEach(function(B){y=l.getParameter(B);if(P[B]&&P[B].renameTo){if((v.getParameter(P[B].renameTo)===undefined)&&(v.getSelectOption(P[B].renameTo)===undefined)){v.addParameter(P[B].renameTo,y);q.changed=true;}else{jQuery.sap.log.error('renaming of appstate creates duplicates '+B+'->'+P[B].renameTo);}}else{if((v.getParameter(B)===undefined)&&(v.getSelectOption(B)===undefined)){v.addParameter(B,y);}}});x.forEach(function(B){z=l.getSelectOption(B);if(P[B]&&P[B].renameTo){if((v.getSelectOption(P[B].renameTo)===undefined)&&(v.getParameter(P[B].renameTo)===undefined)){v.massAddSelectOption(P[B].renameTo,z);q.changed=true;}else{jQuery.sap.log.error('renaming of appstate creates duplicates '+B+'->'+P[B].renameTo);}}else{if((v.getSelectOption(B)===undefined)&&(v.getParameter(B)===undefined)){v.massAddSelectOption(B,z);}}});w.forEach(function(B){l.removeParameter(B);});x.forEach(function(B){l.removeSelectOption(B);});v.getParameterNames().forEach(function(B){l.addParameter(B,v.getParameter(B));});v.getSelectOptionsPropertyNames().forEach(function(B){l.massAddSelectOption(B,v.getSelectOption(B));});return l;}function R(l,q,P){return r(l,q,P);}function k(D){if(D===undefined||jQuery.isPlainObject(D)){return false;}return true;}function M(N){var l=N.getData()||{},q,C={};if(l.selectionVariant){q=new sap.ui.generic.app.navigation.service.SelectionVariant(JSON.stringify(l.selectionVariant));}else{q=new sap.ui.generic.app.navigation.service.SelectionVariant();}if(f(m)){Object.keys(m.resolutionResult.oNewAppStateMembers).forEach(function(v){q.massAddSelectOption(v,m.resolutionResult.oNewAppStateMembers[v].Ranges);});}q=R(q,C,m.inbound.signature.parameters);if(q.getParameterNames().length!==0||q.getSelectOptionsPropertyNames().length!==0){l.selectionVariant=q.toJSONObject();}if(!C.changed&&!f(m)){e(m);return;}N.setData(l);N.save().done(function(){m.intentParamsPlusAllDefaults['sap-xapp-state']=[N.getKey()];m.mappedIntentParamsPlusSimpleDefaults['sap-xapp-state']=[N.getKey()];e(m);});}if(!f(m)&&!b._hasRenameTo(m)){e(m);}else{s=m.intentParamsPlusAllDefaults['sap-xapp-state']&&m.intentParamsPlusAllDefaults['sap-xapp-state'][0];if(s){a.getAppState(s).done(function(l){var P=b._constructParameterDominatorMap(m.inbound.signature.parameters);o=l.getData();if(k(o)){delete m.resolutionResult.oNewAppStateMembers;e(m);}if(m.resolutionResult.oNewAppStateMembers){Object.keys(m.resolutionResult.oNewAppStateMembers).forEach(function(q){var D=P[q].dominatedBy;if(j(o,D)){delete m.resolutionResult.oNewAppStateMembers[q];}});}if(!f(m)&&!b._hasRenameTo(m)){e(m);}else{n=a.createEmptyAppState(undefined,true);if(n){n.setData(l.getData());M(n);}}});}else if(f(m)){M(a.createEmptyAppState(undefined,true));}else{e(m);}}return d.promise();};this._extractInboundFilter=function(o){if(!A.hasSegmentedAccess){return undefined;}if(typeof o!=='string'){return undefined;}var f=o.indexOf('#')===0?o:'#'+o;var s=this._getURLParsing().parseShellHash(f);if(!s||!s.semanticObject||!s.action){return undefined;}return[{semanticObject:s.semanticObject,action:s.action}];};this.resolveHashFragment=function(s){var a=this,d=new jQuery.Deferred(),b=A.resolveHashFragmentFallback&&A.resolveHashFragmentFallback.bind(A),e=this._extractInboundFilter(s);this._ensureInbounds(e).done(function(i){a._resolveHashFragment(s,b,i).done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(d.reject.bind(d));return d.promise();};this.resolveTileIntent=function(s){var a=this,d=new jQuery.Deferred(),b=this._extractInboundFilter(s);this._ensureInbounds(b).done(function(i){a._resolveTileIntent(s,undefined,i).done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(d.reject.bind(d));return d.promise();};this._resolveHashFragment=function(s,b,i){var U=this._getURLParsing(),a=this,d=new jQuery.Deferred(),f=s.indexOf('#')===0?s:'#'+s,o=U.parseShellHash(f);if(o===undefined){jQuery.sap.log.error(\"Could not parse shell hash '\"+s+\"'\",'please specify a valid shell hash','sap.ushell.services.ClientSideTargetResolution');return d.reject().promise();}o.formFactor=sap.ushell.utils.getFormFactor();this._getMatchingInbounds(o,i).fail(function(e){jQuery.sap.log.error('Could not resolve '+s,'_getMatchingInbounds promise rejected with: '+e,'sap.ushell.services.ClientSideTargetResolution');d.reject(e);}).done(function(m){var M;if(m.length===0){jQuery.sap.log.warning('Could not resolve '+s,'rejecting promise','sap.ushell.services.ClientSideTargetResolution');d.reject('Could not resolve navigation target');return;}M=m[0];a._resolveSingleMatchingTarget(M,b,f).done(d.resolve.bind(d)).fail(d.reject.bind(d));});return d.promise();};this._resolveEasyAccessMenuIntent=function(i,m){var e='Intent must be either #Shell-startGUI or #Shell-startWDA';if(i.action==='startGUI'){return this._resolveEasyAccessMenuIntentWebgui(i,m);}if(i.action==='startWDA'){return this._resolveEasyAccessMenuIntentWDA(i,m);}return new jQuery.Deferred().reject('The easy access menu intent '+i.semanticObject+'-'+i.action+' could not be resolved: '+e).promise();};this._resolveEasyAccessMenuIntentWDA=function(i,m){var d=new jQuery.Deferred(),U,o,a=this,b={};U='/ui2/nwbc/~canvas;window=app/wda/'+i.params['sap-ui2-wd-app-id'][0]+'/';jQuery.each(i.params,function(e,v){if(e==='sap-ui2-wd-app-id'||e==='sap-system'){return;}if(e==='sap-ui2-wd-conf-id'){b['sap-wd-configId']=v;return;}b[e]=v;});if(b){U=U+'?'+a._getURLParsing().paramsToString(b);}o=new URI(U);this._spliceSapSystemIntoURI(o,'',i.params['sap-system'][0],'WDA').done(function(o){var r={url:o.toString(),applicationType:'NWBC',text:i.params['sap-ui2-wd-app-id'][0],additionalInformation:'','sap-system':i.params['sap-system'][0]};if(m&&m.inbound&&m.inbound.resolutionResult&&m.inbound.resolutionResult['sap.platform.runtime']){r['sap.platform.runtime']=m.inbound.resolutionResult['sap.platform.runtime'];}d.resolve(r);}).fail(d.reject.bind(d));return d.promise();};this._resolveEasyAccessMenuIntentWebgui=function(i,m){var d=new jQuery.Deferred(),U,o;U='/sap/bc/gui/sap/its/webgui?%7etransaction='+i.params['sap-ui2-tcode'][0]+'&%7enosplash=1';o=new URI(U);this._spliceSapSystemIntoURI(o,'',i.params['sap-system'][0],'NATIVEWEBGUI').done(function(o){var r={url:o.toString(),applicationType:'TR',text:i.params['sap-ui2-tcode'][0],additionalInformation:'','sap-system':i.params['sap-system'][0]};if(m&&m.inbound&&m.inbound.resolutionResult&&m.inbound.resolutionResult['sap.platform.runtime']){r['sap.platform.runtime']=m.inbound.resolutionResult['sap.platform.runtime'];}d.resolve(r);}).fail(d.reject.bind(d));return d.promise();};this._resolveSingleMatchingTarget=function(m,b,f){var a=this,d=new jQuery.Deferred(),U=this._getURLParsing(),i=U.parseShellHash(f);if(i.semanticObject==='Shell'&&(i.action==='startWDA'||i.action==='startGUI')){return this._resolveEasyAccessMenuIntent(i,m);}this._mapParameterNamesAndRemoveObjects(m);this._mixAppStateIntoResolutionResultAndRename(m,sap.ushell.Container.getService('AppState')).done(function(m){var B=a._determineResultProcessor(m);B(m,b,f).done(function(m){d.resolve(m.resolutionResult);}).fail(function(M){if(M.indexOf('fallback:')>=0){a._constructFallbackResolutionResult.call(this,m,b,f).fail(d.reject.bind(d)).done(function(m){d.resolve(m.resolutionResult);});}else{d.reject(M);}});});return d.promise();};this._resolveTileIntent=function(s,b,i){var U=this._getURLParsing(),a=this,d=new jQuery.Deferred(),f=s.indexOf('#')===0?s:'#'+s,o=U.parseShellHash(f);if(o===undefined){jQuery.sap.log.error(\"Could not parse shell hash '\"+s+\"'\",'please specify a valid shell hash','sap.ushell.services.ClientSideTargetResolution');return d.reject('Cannot parse shell hash').promise();}o.formFactor=sap.ushell.utils.getFormFactor();this._getMatchingInbounds(o,i).fail(function(e){jQuery.sap.log.error('Could not resolve '+s,'_getMatchingInbounds promise rejected with: '+e,'sap.ushell.services.ClientSideTargetResolution');d.reject(e);}).done(function(m){var M;if(m.length===0){jQuery.sap.log.warning('Could not resolve '+s,'no matching targets were found','sap.ushell.services.ClientSideTargetResolution');d.reject('No matching targets found');return;}M=m[0];a._resolveSingleMatchingTileIntent(M,b,f).done(d.resolve.bind(d)).fail(d.reject.bind(d));});return d.promise();};this._resolveSingleMatchingTileIntent=function(m,b,f){var d=new jQuery.Deferred();d.resolve(m.inbound.tileResolutionResult);return d.promise();};this._determineResultProcessor=function(m){var i=m.inbound,r=i&&i.resolutionResult;function l(P,R){jQuery.sap.log.debug('Resolution result will be constructed via '+P+' processor',R,'sap.ushell.services.ClientSideTargetResolution');}if(!i||!r){l('FALLBACK','the inbound or the inbound resolutionResult member was not available');return this._constructFallbackResolutionResult.bind(this);}if(r.applicationType==='SAPUI5'){l('SAPUI5','inbound resolutionResult had SAPUI5 applicationType');return this._constructSAPUI5ResolutionResult.bind(this);}var a=this._isFullLocalWDAResolution(m);if(a){l('WDA full url construction');return this._constructFullWDAResolutionResult.bind(this);}var b=this._isLocalWDAResolution(m);if(b){l('WDA');return this._constructWDAResolutionResult.bind(this);}var d=this._isFullLocalWebguiResolution(m);if(d){l('NON-WRAPPED WEBGUI full url construction');return this._constructFullWebguiResolutionResult.bind(this);}var e=this._isLocalWebguiNowrapResolution(m);if(e){l('NON-WRAPPED WEBGUI');return this._constructWebguiNowrapResult.bind(this);}var f=this._isLocalWebguiWrapResolution(m);if(f){l('WRAPPED WEBGUI');return this._constructWebguiWrapResult.bind(this);}var j=this._isLocalNativeWebguiNowrapResolution(m);if(j){l('NATIVE NON-WRAPPED WEBGUI');return this._constructNativeWebguiNowrapResult.bind(this);}var k=this._isLocalNativeWebguiWrapResolution(m);if(k){l('NATIVE WRAPPED WEBGUI');return this._constructNativeWebguiWrapResult.bind(this);}if(r.applicationType==='URL'){l('URL','inbound resolutionResult had URL applicationType');return this._constructURLResolutionResult.bind(this);}l('FALLBACK','could not apply any result processor to inbound resolutionResult: '+JSON.stringify(r,null,'   '));return this._constructFallbackResolutionResult.bind(this);};this._stripURI=function(U,s,a){var d=new jQuery.Deferred(),b=this;if(typeof s==='undefined'){this._stripURIWithSystemAlias(U,s,a,undefined).fail(function(e){d.reject(e);}).done(function(n){d.resolve(n);});return d.promise();}A.resolveSystemAlias(s).fail(function(e){d.reject(e);}).done(function(r){b._stripURIWithSystemAlias(U,s,a,r).fail(function(e){d.reject(e);}).done(function(n){d.resolve(n);});});return d.promise();};this._stripURIWithSystemAlias=function(U,s,a,r){var b=this,o,d,T,e,D=new jQuery.Deferred(),P=new jQuery.Deferred();U.protocol('');U.hostname('');U.port('');b._removeParametersFromURI(U,['sap-client','sap-language']);if(!jQuery.isPlainObject(r)||typeof s!=='string'){return D.resolve(U).promise();}d=b._selectSystemAliasDataName(r,new URI(window.location.toString()).protocol());o=r[d];e=(typeof o.pathPrefix==='string')&&o.pathPrefix;if(e!==''){P.resolve(e);}else{A.resolveSystemAlias('').fail(function(E){D.reject(E);}).done(function(R){var f=R[d];P.resolve(f.pathPrefix);});}P.fail(function(E){D.reject(E);}).done(function(e){if(e&&e.length>0){T=U.path();T=T.replace(e,'');if(T.indexOf('/')!==0){T='/'+T;}U.path(T);}if(a==='NATIVEWEBGUI'&&r.hasOwnProperty('rfc')){T=U.path();T=T.split(';').filter(function(f){return f.indexOf('~sysid=')!==0&&f.indexOf('~service=')!==0&&f.indexOf('~loginGroup=')!==0&&f.indexOf('~messageServer=')!==0&&f.indexOf('~sncNameR3=')!==0&&f.indexOf('~sncQoPR3=')!==0;}).join(';');U.path(T);}D.resolve(U);});return D.promise();};this._removeParametersFromURI=function(U,P){var b={},T;P.forEach(function(s){b[s]=true;});T=U.query();T=T.split('&').filter(function(s){var a=(s.split('=')[0]||'').toLowerCase();return!b.hasOwnProperty(a);}).join('&');U.query(T);};this._spliceSapSystemIntoUrlURI=function(U,s,a){var b=this,d=new jQuery.Deferred();if(typeof a==='undefined'||s===a){return d.resolve(U).promise();}if(s===''||typeof s==='undefined'){if(this._isAbsoluteURI(U)){return d.resolve(U);}b._applyAliasToURI(a,U,'URL').fail(function(e){d.reject(e);}).done(function(o){d.resolve(o);});return d.promise();}if(typeof A.resolveSystemAlias!=='function'){return d.reject('fallback: the adapter does not implement resolveSystemAlias').promise();}A.resolveSystemAlias(s).fail(function(e){d.reject(e);}).done(function(r){var e=b._selectSystemAliasDataName(r,new URI(window.location.toString()).protocol()),o=r[e],D;if((U.protocol()||'').toLowerCase()===e&&(U.hostname()||'')===o.host&&(U.path().indexOf(o.pathPrefix)===0)){U.protocol('');U.hostname('');D=U.path().replace(o.pathPrefix,'');U.path(D);b._removeParametersFromURI(U,['sap-language','sap-client']);b._applyAliasToURI(a,U,'URL').fail(function(E){d.reject(E);}).done(function(f){d.resolve(f);});}else{d.resolve(U);}});return d.promise();};this._spliceSapSystemIntoURI=function(U,s,a,b){var d=new jQuery.Deferred(),e=this;if(b==='URL'){return this._spliceSapSystemIntoUrlURI(U,s,a);}if(typeof a==='undefined'||s===a){return d.resolve(U).promise();}if(typeof A.resolveSystemAlias!=='function'){return d.reject('fallback: the adapter does not implement resolveSystemAlias').promise();}this._stripURI(U,s,b).fail(function(E){d.reject(E);}).done(function(o){e._applyAliasToURI(a,o,b).fail(function(E){d.reject(E);}).done(function(i){d.resolve(i);});});return d.promise();};this._applyAliasToURI=function(s,U,a){var b=this,n=U,d=new jQuery.Deferred();A.resolveSystemAlias(s).fail(function(e){d.reject(e);}).done(function(r){var e=b._selectSystemAliasDataName(r,new URI(window.location.toString()).protocol()),o=r[e],q,l,f;n.protocol(e);n.hostname(o.host);n.port(o.port);b._interpolatePathPrefixIntoURI(n,a,o.pathPrefix).fail(function(E){d.reject(E);}).done(function(n){q=n.query();if(typeof r.client==='string'&&r.client!==''){q=q+(q.length>0?'&':'')+'sap-client='+r.client;}if(typeof r.language==='string'&&r.language!==''){l=r.language;}else{f=sap.ushell.Container.getUser();if(!f){jQuery.sap.log.error('Cannot retieve the User object via sap.ushell.Container while determining sap-language',\"will default to 'en' language\",'sap.ushell.services.ClientSideTargetResolution');l='en';}else{l=f.getLanguage();}}q=q+(q.length>0?'&':'')+'sap-language='+l;n.query(q);n=b._interpolateNativeWebguiDataIntoURI(r,n,a);d.resolve(n);});});return d.promise();};this._interpolateNativeWebguiDataIntoURI=function(s,U,a){var i,T,b,P;if(s.hasOwnProperty('rfc')&&a==='NATIVEWEBGUI'){b=s.rfc;i=!!b.systemId;if(i){T=[b.systemId&&('~sysid='+b.systemId),b.loginGroup&&('~loginGroup='+b.loginGroup),b.sncNameR3&&('~messageServer='+encodeURIComponent(b.sncNameR3)),b.sncNameR3&&('~sncNameR3='+encodeURIComponent(b.sncNameR3)),b.sncQoPR3&&('~sncQoPR3='+b.sncQoPR3)].filter(function(o){return(typeof o==='string')&&(o!=='');});}else{T=[b.service&&('~service='+b.service),b.sncNameR3&&('~sncNameR3='+encodeURIComponent(b.sncNameR3)),b.sncQoPR3&&('~sncQoPR3='+b.sncQoPR3)].filter(function(o){return(typeof o==='string')&&(o!=='');});}P=U.path()+';'+T.join(';').replace(/(%[A-F0-9]{2})/g,function(e){return e.toLowerCase();});U.path(P);U._parts.path=P;}return U;};this._interpolatePathPrefixIntoURI=function(U,s,P){var a=this,d=new jQuery.Deferred(),T;if(s==='URL'&&P.length===0){return d.resolve(U).promise();}function b(e){var r=e+U.path();U.path(r.replace(/\\/+/g,'/'));d.resolve(U);}if(P.length>0){if((s==='WDA'||s==='WEBGUI')&&U.path().indexOf('~canvas')>=0){T=U.path();T='/~canvas'+T.split('~canvas')[1];U.path(T);}b(P);}else{A.resolveSystemAlias('').fail(function(e){d.reject(e);}).done(function(r){var e=a._selectSystemAliasDataName(r,new URI(window.location.toString()).protocol()),f=r[e].pathPrefix;b(f);});}return d.promise();};this._selectSystemAliasDataName=function(s,b){if(s.hasOwnProperty('https')){return'https';}if(s.hasOwnProperty('http')){return'http';}jQuery.sap.log.error('Cannot select which system alias to pick between http/https','make sure they are provided in the given system alias collection','sap.ushell.services.ClientSideTargetResolution');return undefined;};this._getRenameParameterName=function(P,s,a){if(!a||!jQuery.isArray(a)){return P;}if(s&&s.parameters&&s.parameters[P]&&s.parameters[P].renameTo){return s.parameters[P].renameTo;}return P;};this._mapParameterNamesAndRemoveObjects=function(m){var a=this,n={},o=m.intentParamsPlusAllDefaults;Object.keys(o).sort().forEach(function(P){var r=a._getRenameParameterName(P,m.inbound.signature,o[P]);if(jQuery.isArray(m.intentParamsPlusAllDefaults[P])){if(n[r]){jQuery.sap.log.error(\"collision of values during parameter mapping : \\\"\"+P+\"\\\" -> \\\"\"+r+\"\\\"\");}else{n[r]=m.intentParamsPlusAllDefaults[P];}}});m.mappedIntentParamsPlusSimpleDefaults=n;};this._constructFullWDAResolutionResult=function(m,b,f){var d=this,i=m.inbound,r=i&&i.resolutionResult,D=new jQuery.Deferred();var I={target:{'semanticObject':'Shell','action':'startWDA'},'params':{'sap-ui2-wd-app-id':[i.resolutionResult['sap.wda'].applicationId],'sap-system':[r.systemAlias]}};if(i.resolutionResult['sap.wda'].configId){I.params['sap-ui2-wd-conf-id']=[i.resolutionResult['sap.wda'].configId];}this._resolveEasyAccessMenuIntentWDA(I,m).done(function(C){r.url=C.url;return d._constructWDAResolutionResult(m,b,f).done(function(a){D.resolve(a);}).fail(function(M){D.reject(M);});});return D.promise();};this._constructFullWebguiResolutionResult=function(m,b,f){var d=this,i=m.inbound,r=i&&i.resolutionResult,D=new jQuery.Deferred();var I={target:{'semanticObject':'Shell','action':'startGUI'},'params':{'sap-ui2-tcode':[i.resolutionResult['sap.gui'].transaction],'sap-system':[r.systemAlias]}};this._resolveEasyAccessMenuIntentWebgui(I,m).done(function(C){r.url=C.url;return d._constructWebguiNowrapResult(m,b,f).done(function(a){D.resolve(a);}).fail(function(M){D.reject(M);});});return D.promise();};this._constructWDAResolutionResult=function(m,b,f){var a=this,i=m.inbound,r=i&&i.resolutionResult,d=new jQuery.Deferred();var w=new URI(r.url);var e=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);if(m.mappedDefaultedParamNames.length>0){e['sap-ushell-defaultedParameterNames']=[JSON.stringify(m.mappedDefaultedParamNames)];}var s=e['sap-system']&&e['sap-system'][0];m.resolutionResult['sap-system']=s;delete e['sap-system'];a._spliceSapSystemIntoURI(w,r.systemAlias,s,'WDA').fail(d.reject.bind(d)).done(function(w){sap.ushell.Container.getService('ShellNavigation').compactParams(e,['sap-xapp-state','sap-ushell-defaultedParameterNames','sap-intent-params'],undefined,true).fail(d.reject.bind(d)).done(function(E){var j=a._getURLParsing().paramsToString(E);var P=w.search();if(j){P=P+((P.indexOf('?')<0)?'?':'&')+j;}w.search(P);['additionalInformation','applicationDependencies'].forEach(function(k){if(i.resolutionResult.hasOwnProperty(k)){m.resolutionResult[k]=i.resolutionResult[k];}});m.resolutionResult.url=w.toString();m.resolutionResult.text=i.title;m.resolutionResult.applicationType='NWBC';d.resolve(m);});});return d.promise();};this._constructWebguiNowrapResult=function(m,b,f){var a=this,i=m.inbound,r=i&&i.resolutionResult,d=new jQuery.Deferred();var w=new URI(r.url);var e=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);var s=e['sap-system']&&e['sap-system'][0];m.resolutionResult['sap-system']=s;delete e['sap-system'];a._spliceSapSystemIntoURI(w,r.systemAlias,s,'WEBGUI').fail(d.reject.bind(d)).done(function(w){var E=a._getURLParsing().paramsToString(e);var P=w.search();if(E){P=P+((P.indexOf('?')<0)?'?':'&')+E;}w.search(P);['additionalInformation','applicationDependencies'].forEach(function(j){if(i.resolutionResult.hasOwnProperty(j)){m.resolutionResult[j]=i.resolutionResult[j];}});m.resolutionResult.url=w.toString();m.resolutionResult.text=i.title;m.resolutionResult.applicationType='NWBC';d.resolve(m);});return d.promise();};this._constructWebguiWrapResult=function(m,b,f){var a=this,i=m.inbound,r=i&&i.resolutionResult,d=new jQuery.Deferred();var w=new URI(r.url);var e=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);var s=e['sap-system']&&e['sap-system'][0];m.resolutionResult['sap-system']=s;delete e['sap-system'];a._spliceSapSystemIntoURI(w,r.systemAlias,s,'WEBGUI').fail(d.reject.bind(d)).done(function(w){var P=w.search();P=a._injectEffectiveParametersIntoWebguiPobjectParam(P,e,'&','=');w.search(P);['additionalInformation','applicationDependencies'].forEach(function(j){if(i.resolutionResult.hasOwnProperty(j)){m.resolutionResult[j]=i.resolutionResult[j];}});m.resolutionResult.url=w.toString();m.resolutionResult.text=i.title;m.resolutionResult.applicationType='NWBC';d.resolve(m);});return d.promise();};this._injectEffectiveParametersIntoWebguiPobjectParam=function(q,P,Q,s){var i,a='P_OBJECT'+s,m=132;var b=this._getURLParsing().privparamsToString(P,'%25','%21');if(!b){return q;}var d='';this._amendGuiParam('P_OBJECT',q,Q,s,function(f){var j=f.replace(a,'');d=decodeURIComponent(j);if(d.length>0){d=d+'%25';}return a;});b=d+b;var o={pObjX:'',pObject:''};b.match(new RegExp('.{1,'+m+'}','g')).map(function(f){return encodeURIComponent(f);}).forEach(function(f,G){var j='P_OBJECT';var k='pObject';if(G>0){j='P_OBJ'+G;k='pObjX';}var l=o[k].length===0?'':Q;o[k]=o[k]+l+j+s+f;});i=[o.pObjX,o.pObject].filter(function(f){return f.length>0;}).join(Q);var e=this._amendGuiParam('P_OBJECT',q,Q,s,function(f){return i;});if(e.found){return e.query;}return q+(q.length===0?'':Q)+i;};this._amendGuiParam=function(T,q,Q,s,a){var f=false,P=T+s;var b=q.split(Q).map(function(d){if(d.indexOf(P)!==0){return d;}f=true;return a(d);}).filter(function(d){return typeof d!=='undefined';}).join(Q);return{found:f,query:b};};this._parseWebguiTransactionQueryParam=function(T){var s='^(.+?)(%20|(%20)(.+))?$',r=new RegExp(s,'i'),a,P={hasParameters:null,transactionParamName:'',transactionCode:'',parameters:[]};var b=T.split('=');if(b.length>2){return{'error':\"Found more than one assignment ('=') in the transaction query parameter\",'details':\"Only one '=' sign is expected in \"+T};}if(b.length<2||typeof b[1]==='undefined'||b[1].length===0){return{'error':'The transaction query parameter must specify at least the transaction name','details':'Got '+T+' instead.'};}P.transactionParamName=b[0];a=b[1];var m=a.match(r);if(!m){return{'error':'Cannot parse ~transaction query parameter value.','details':a+' should match /'+s+'/'};}P.transactionCode=m[1];if(m[2]&&m[2]!=='%20'){var d=m[4]||'';d.split('%3b').forEach(function(n){var N=n.split('%3d'),e=N[0];if(e&&typeof e==='string'&&e.length>0){P.parameters.push({name:e,value:N[1]});}});}P.hasParameters=false;if(P.parameters.length>0){P.hasParameters=true;P.transactionCode=P.transactionCode.replace(/^[*]/,'');}return P;};this._injectEffectiveParametersIntoWebguiQueryParam=function(T,P){var o=this._parseWebguiTransactionQueryParam(T);if(o.error){jQuery.sap.log.error(o.error,o.details,'sap.ushell.services.ClientSideTargetResolution');return T;}var a=o.parameters.map(function(e){return e.name.toUpperCase()+'%3d'+e.value;});var b={};Object.keys(P).forEach(function(k){b[k.toUpperCase()]=P[k];});var s=this._getURLParsing().privparamsToString(b,'%3b','%3d');if(s){a.push(s);}var d=a.length>0;return o.transactionParamName+'='+(d?'*':'')+o.transactionCode+(d?'%20':'')+a.join('%3b');};this._constructNativeWebguiWrapResult=function(m,b,f){var a=this,i=m.inbound,r=i&&i.resolutionResult,d=new jQuery.Deferred();var w=new URI(r.url);var e=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);var s=e['sap-system']&&e['sap-system'][0];m.resolutionResult['sap-system']=s;delete e['sap-system'];a._spliceSapSystemIntoURI(w,r.systemAlias,s,'NATIVEWEBGUI').fail(d.reject.bind(d)).done(function(w){var P=w.search();var j=P.split('&').map(function(q){var I;if(q.indexOf('?%7etransaction')===0||q.indexOf('%7etransaction')===0){I=a._injectEffectiveParametersIntoWebguiPobjectParam(q,e,'%3b','%3d');return I;}return q;}).join('&');w.search(j);['additionalInformation','applicationDependencies'].forEach(function(k){if(i.resolutionResult.hasOwnProperty(k)){m.resolutionResult[k]=i.resolutionResult[k];}});m.resolutionResult.url=w.toString();m.resolutionResult.text=i.title;m.resolutionResult.applicationType='TR';d.resolve(m);});return d.promise();};this._isWebguiBusinessParameter=function(n,v){var N;if(arguments.length===1){N=n.split(/[=](.+)?/);if(N.length>1){return this._isWebguiBusinessParameter.apply(this,N);}}return!(n.indexOf('sap-')===0||n.charAt(0)==='~');};this._extractWebguiNonBusinessParameters=function(P){var a=this,n={};Object.keys(P).forEach(function(s){var b=P[s];if(!a._isWebguiBusinessParameter(s,b)){n[s]=b;delete P[s];}});return n;};this._constructNativeWebguiNowrapResult=function(m,b,f){var a=this,i=m.inbound,r=i&&i.resolutionResult,d=new jQuery.Deferred(),F={'sap-wd-run-sc':true,'sap-wd-auto-detect':true,'sap-ep-version':true,'sap-system':true};var w=new URI(r.url);var e=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);var s=e['sap-system']&&e['sap-system'][0];m.resolutionResult['sap-system']=s;Object.keys(e).forEach(function(P){if(F[P.toLowerCase()]){delete e[P];}});var E=this._extractWebguiNonBusinessParameters(e);a._spliceSapSystemIntoURI(w,r.systemAlias,s,'NATIVEWEBGUI').fail(d.reject.bind(d)).done(function(w){var P=w.search();var j=P.split('&').map(function(q){var n;if(!a._isWebguiBusinessParameter(q)){if(q.indexOf('=')>=0){n=q.split('=');if(!E.hasOwnProperty(n[0])){E[n[0]]=n[1];}}else{jQuery.sap.log.error(\"Found no '=' separator of Webgui non-business parameter. Parameter will be skipped.\",\"'\"+q+\"'\",'sap.ushell.services.ClientSideTargetResolution');}return undefined;}var I;if(q.indexOf('?%7etransaction')===0||q.indexOf('%7etransaction')===0){I=a._injectEffectiveParametersIntoWebguiQueryParam(q,e,'%3b','%3d');return I;}return q;}).filter(function(l){return typeof l!=='undefined';}).join('&');var k=a._getURLParsing().paramsToString(E);j=[j,k.replace('~','%7e')].join('&');w.search(j);['additionalInformation','applicationDependencies','sap.platform.runtime'].forEach(function(l){if(i.resolutionResult.hasOwnProperty(l)){m.resolutionResult[l]=i.resolutionResult[l];}});m.resolutionResult.url=w.toString();m.resolutionResult.text=i.title;m.resolutionResult.applicationType='TR';d.resolve(m);});return d.promise();};this._constructSAPUI5ResolutionResult=function(m,b,f){var i=m.inbound,d=new jQuery.Deferred(),U,s,e;['applicationType','additionalInformation','url','applicationDependencies'].forEach(function(P){if(i.resolutionResult.hasOwnProperty(P)){m.resolutionResult[P]=i.resolutionResult[P];}});e=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);if(m.mappedDefaultedParamNames.length>0){e['sap-ushell-defaultedParameterNames']=[JSON.stringify(m.mappedDefaultedParamNames)];}s=e['sap-system']&&e['sap-system'][0];m.resolutionResult['sap-system']=s;U=this._getURLParsing().paramsToString(e);if(U){m.resolutionResult.url=i.resolutionResult.url+((i.resolutionResult.url.indexOf('?')<0)?'?':'&')+U;}if(typeof i.resolutionResult.ui5ComponentName!=='undefined'){m.resolutionResult.ui5ComponentName=i.resolutionResult.ui5ComponentName;}m.resolutionResult.text=i.title;d.resolve(m);return d.promise();};this._isAbsoluteURI=function(U){return(U.protocol()||'').length>0;};this._constructURLResolutionResult=function(m,b,f){var a=this,i=m.inbound,r=i&&i.resolutionResult,d=new jQuery.Deferred();var U=new URI(r.url);var e=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);var s=e['sap-system']&&e['sap-system'][0];m.resolutionResult['sap-system']=s;delete e['sap-system'];a._spliceSapSystemIntoURI(U,r.systemAlias,s,'URL').fail(d.reject.bind(d)).done(function(o){var j=o.toString(),k,F,l;l=a._getURLParsing().paramsToString(e);if(l){if(o.fragment()){F='#'+o.fragment();k=j.replace(/#.*/,'');}else{k=j;F='';}j=k+((j.indexOf('?')<0)?'?':'&')+l+F;}['additionalInformation','applicationDependencies'].forEach(function(P){if(i.resolutionResult.hasOwnProperty(P)){m.resolutionResult[P]=i.resolutionResult[P];}});m.resolutionResult.url=j;m.resolutionResult.text=i.title;m.resolutionResult.applicationType='URL';d.resolve(m);});return d.promise();};this._constructFallbackResolutionResult=function(m,b,f){var d=new jQuery.Deferred(),e={},D;Object.keys(m.intentParamsPlusAllDefaults).forEach(function(P){if(jQuery.isArray(m.intentParamsPlusAllDefaults[P])){e[P]=m.intentParamsPlusAllDefaults[P];}});D=m.mappedDefaultedParamNames||m.defaultedParamNames;if(D.length>0){e['sap-ushell-defaultedParameterNames']=[JSON.stringify(D)];}if(typeof b!=='function'){jQuery.sap.log.error('Cannot resolve hash fragment',f+' has matched an inbound that cannot be resolved client side'+' and no resolveHashFragmentFallback method was implemented in ClientSideTargetResolutionAdapter','sap.ushell.services.ClientSideTargetResolution');d.reject('Cannot resolve hash fragment: no fallback provided.');return d.promise();}jQuery.sap.log.warning('Cannot resolve hash fragment client side',f+' has matched an inbound that cannot be resolved client side. Using fallback logic','sap.ushell.services.ClientSideTargetResolution');b(f,jQuery.extend(true,{},m.inbound),e).done(function(r){['applicationType','additionalInformation','url','applicationDependencies','text'].forEach(function(P){if(r.hasOwnProperty(P)){m.resolutionResult[P]=r[P];}});d.resolve(m);}).fail(d.reject.bind(d));return d.promise();};this.getDistinctSemanticObjects=function(){var d=new jQuery.Deferred();this._ensureInbounds().done(function(i){var s={};i.forEach(function(I){if(typeof I.semanticObject==='string'&&I.semanticObject!=='*'&&I.semanticObject.length>0){s[I.semanticObject]=true;}});d.resolve(Object.keys(s).sort());}).fail(function(e){d.reject(e);});return d.promise();};this.getLinks=function(a){var b=this,s,P,i,d=new jQuery.Deferred(),C;if(arguments.length===1&&jQuery.isPlainObject(arguments[0])){var a=arguments[0];C=jQuery.extend(true,{},a);['action','semanticObject'].forEach(function(e){if(a.hasOwnProperty(e)){C[e]=a[e];}});if(C.appStateKey){C.params=C.params||{};C.params['sap-xapp-state']=[C.appStateKey];delete C.appStateKey;}}else if(arguments.length<=3){jQuery.sap.log.warning('Passing positional arguments to getLinks is deprecated','Please use nominal arguments instead','sap.ushell.services.ClientSideTargetResolution');s=arguments[0];P=arguments[1];i=arguments[2];C={semanticObject:s,params:P,ignoreFormFactor:i};}else{return d.reject('invalid arguments for getLinks').promise();}this._ensureInbounds().done(function(I){b._getLinks(C,I).done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(d.reject.bind(d));return d.promise();};this._validateGetSemanticObjectLinksArgs=function(a){var s=a.semanticObject,b=a.action,i=!a.hasOwnProperty('action');if(typeof s!=='undefined'||i){if(typeof s!=='string'){jQuery.sap.log.error('invalid input for _getLinks','the semantic object must be a string, got '+Object.prototype.toString.call(s)+' instead','sap.ushell.services.ClientSideTargetResolution');return'invalid semantic object';}if(i&&s.match(/^\\s+$/)){jQuery.sap.log.error('invalid input for _getLinks',\"the semantic object must be a non-empty string, got '\"+s+\"' instead\",'sap.ushell.services.ClientSideTargetResolution');return'invalid semantic object';}if(!i&&s.length===0){jQuery.sap.log.error('invalid input for _getLinks',\"the semantic object must not be an empty string, got '\"+s+\"' instead\",'sap.ushell.services.ClientSideTargetResolution');return'invalid semantic object';}}if(typeof b!=='undefined'){if(typeof b!=='string'){jQuery.sap.log.error('invalid input for _getLinks','the action must be a string, got '+Object.prototype.toString.call(b)+' instead','sap.ushell.services.ClientSideTargetResolution');return'invalid action';}if(b.length===0){jQuery.sap.log.error('invalid input for _getLinks',\"the action must not be an empty string, got '\"+b+\"' instead\",'sap.ushell.services.ClientSideTargetResolution');return'invalid action';}}return undefined;};this._getLinks=function(a,i){var s=a.semanticObject,b=a.action,P=a.params,w=!!a.withAtLeastOneUsedParam,T=!!a.treatTechHintAsFilter,I=a.ignoreFormFactor;var e=this._validateGetSemanticObjectLinksArgs(a);if(e){return new jQuery.Deferred().reject(e).promise();}if(s==='*'){return new jQuery.Deferred().resolve([]).promise();}function C(U,P){var B=U.paramsToString(P);return B?'?'+B:'';}var d=this,U=this._getURLParsing(),D=new jQuery.Deferred(),f=sap.ushell.utils.getFormFactor(),o=U.parseParameters(C(U,P)),j={semanticObject:(s===''?undefined:s),action:b,formFactor:(I?undefined:f),params:o};if(T){j.treatTechHintAsFilter=true;}this._getMatchingInbounds(j,i).done(function(m){var k={},r=m.map(function(M){var l=s||M.inbound.semanticObject,n='#'+l+'-'+M.inbound.action,N;if(l==='*'){return undefined;}if(M.inbound.action==='*'){return undefined;}if(M.inbound&&M.inbound.hasOwnProperty('hideIntentLink')&&M.inbound.hideIntentLink===true){return undefined;}if(!k.hasOwnProperty(n)){k[n]=1;if(M.inbound.signature.additionalParameters==='ignored'){N=d._filterObjectKeys(o,function(v){return(v.indexOf('sap-')===0)||M.inbound.signature.parameters.hasOwnProperty(v);},false);}else{N=o;}if(w){var q=Object.keys(N).some(function(v){return v.indexOf('sap-')!==0;});if(!q){return undefined;}}return{'intent':n+C(U,N),'text':M.inbound.title};}else{k[n]++;}return undefined;}).filter(function(l){return typeof l==='object';}).sort(function(G,l){return G.intent<l.intent?-1:1;});if(r.length===0){jQuery.sap.log.debug('_getLinks returned no results');}else if(jQuery.sap.log.getLevel()>=jQuery.sap.log.Level.DEBUG){if(jQuery.sap.log.getLevel()>=jQuery.sap.log.Level.TRACE){var R=[];r.forEach(function(l){var n=l.intent.split('?')[0],L='- '+n+' ('+k[n]+') '+'text: '+l.text+' '+'intent: '+l.intent;R.push(L);});jQuery.sap.log.debug('_getLinks filtered to the following unique intents:',R.join('\\n'),'sap.ushell.services.ClientSideTargetResolution');}else{jQuery.sap.log.debug('_getLinks filtered to unique intents.','Reporting histogram: '+Object.keys(k).join(', '),'sap.ushell.services.ClientSideTargetResolution');}}D.resolve(r);}).fail(D.reject.bind(D));return D.promise();};this._serializeMatchingResult=function(m,i){var r=m.inbound.resolutionResult;return['applicationType','ui5ComponentName','url','additionalInformation','text'].map(function(k){if(i){return r.hasOwnProperty(k)?k+':'+r[k]:'';}return r.hasOwnProperty(k)?r[k]:'';}).join('');};this._mergeSimpleAndExtended=function(v){var m=jQuery.extend(true,{},v.extendedValue);if(typeof v.value==='string'){if(!jQuery.isArray(m.Ranges)){m.Ranges=[];}m.Ranges.push({'Sign':'I','Option':'EQ','Low':v.value,'High':null});}return m;};this._resolveAllReferences=function(r){var a=this,d=new jQuery.Deferred(),U,R,b=true,D={},P,e=r.map(function(s){var f=a._extractAnyUserDefaultReferenceName(s);if(typeof f!=='string'){b=false;jQuery.sap.log.error('User default reference cannot be resolved',\"Cannot extract name of user default reference from '\"+s+\"'\",'sap.ushell.services.ClientSideTargetResolution');}D[f]=1;return{full:s,name:f};});if(!b){return d.reject('One or more user default references could not be resolved').promise();}U=sap.ushell.Container.getService('UserDefaultParameters');P=Object.keys(D);R=P.map(function(n){return U.getValue(n);});jQuery.when.apply(jQuery,R).done(function(){var k={},f=arguments,i=0;P.forEach(function(n,I){D[n]=f[I];});e.forEach(function(o){var m;if(o.full.indexOf('UserDefault.extended.')===0){m=a._mergeSimpleAndExtended(D[o.name]);if(!jQuery.isEmptyObject(m)){k[o.full]=m;}else{k[o.full]=undefined;}}else{k[o.full]=D[o.name].value;}++i;});d.resolve(k);});return d.promise();};this._getMatchingInbounds=function(s,i){var a=this,d=new jQuery.Deferred(),r=new jQuery.Deferred(),R=new jQuery.Deferred();function w(b){var C=jQuery.sap.log.getLevel();if(C>=jQuery.sap.log.Level.DEBUG){var I=C>=jQuery.sap.log.Level.TRACE;b(I);}}function U(k,v){return this[k]===undefined?'<undefined>':v;}var f=function(){var m=[],M={},P=[],n={};w(function(){jQuery.sap.log.debug(\"Matching intent \\\"#\"+((s||{}).semanticObject||'')+'-'+((s||{}).action||'')+\"\\\" with parameters\"+'\\n'+JSON.stringify(s.params,U,'   '),null,'sap.ushell.services.ClientSideTargetResolution');});i.forEach(function(I){var o=a._matchToInbound(s,I,{},M);if(o.matches){m.push(o);P.push(I);}else{w(function(){if(!n[o.noMatchReason]){n[o.noMatchReason]=[];}n[o.noMatchReason].push('#'+(o.inbound||{}).semanticObject+'-'+(o.inbound||{}).action+(o.noMatchDebug?'|'+o.noMatchDebug:''));});}});w(function(I){if(I){Object.keys(n).forEach(function(b){jQuery.sap.log.debug(b+': '+n[b].join('; '),null,'sap.ushell.services.ClientSideTargetResolution');});}});if(jQuery.isEmptyObject(M)){r.resolve(m);}else{w(function(I){jQuery.sap.log.debug(I?'A rematch is required because the following user defaults need to be determined:'+'\\n'+Object.keys(M).join('\\n'):'A rematch is required because one or more user defaults need to be determined.',null,'sap.ushell.services.ClientSideTargetResolution');});a._resolveAllReferences(Object.keys(M)).done(function(o){R.resolve(o,P);}).fail(function(e){jQuery.sap.log.error('Failed to resolve all references',e,'sap.ushell.services.ClientSideTargetResolution');r.resolve([]);});}};if(sap.ushell.utils.getParameterValueBoolean('sap-ushell-cstr-timeout')){setTimeout(f,0);}else{f();}R.done(function(k,P){w(function(I){jQuery.sap.log.debug(I?'Rematching with the following resolved user defaults:'+JSON.stringify(k,U,'   '):'Rematching with resolved user defaults.',null,'sap.ushell.services.ClientSideTargetResolution');});var b=[],m={};P.forEach(function(I){var M=a._matchToInbound(s,I,k,m);if(M.matches){b.push(M);}});if(jQuery.isEmptyObject(m)){r.resolve(b);}else{jQuery.sap.log.error('Still obtained unknown references during rematch',JSON.stringify(m,U,'   '),'sap.ushell.services.ClientSideTargetResolution');d.reject('Rematching returned unknown references!');}});r.done(function(P){a._sortMatchingResultsDeterministic(P);w(function(I){if(P.length===0){w(function(){jQuery.sap.log.debug('The intent did not match any inbounds',null,'sap.ushell.services.ClientSideTargetResolution');});return;}var T=0,b=function(k,v){return(k==='_original')?undefined:U.call(this,k,v);},e=P.map(function(m){var C='';T++;if(I){C=' '+(m['sap-priority']||'')+' Priority: '+(m['sap-priority']?'sap-priority : '+m['sap-priority']:'')+m.priorityString+' Signature: '+a._compactSignatureNotation((m.inbound||{}).signature)+' Deterministic blob: '+a._serializeMatchingResult(m,true);}return T+'. #'+(m.inbound||{}).semanticObject+'-'+(m.inbound||{}).action+C;}).join('\\n'),j=I?JSON.stringify(P[0],U,'   '):JSON.stringify(P[0].resolutionResult||P[0],b,'   ');jQuery.sap.log.debug('Intent has matched the following inbounds (in priority): \\n'+e,'\\nTop matched inbound resolves to:'+j,'sap.ushell.services.ClientSideTargetResolution');});d.resolve(P);});return d.promise();};this._sortMatchingResultsDeterministic=function(m){var a=this;m.sort(function(M,o){if((M['sap-priority']||0)-(o['sap-priority']||0)!==0){return-((M['sap-priority']||0)-(o['sap-priority']||0));}if(M.priorityString<o.priorityString){return 1;}if(M.priorityString>o.priorityString){return-1;}return(a._serializeMatchingResult(M)<a._serializeMatchingResult(o))?1:-1;});};this._isIntentSupportedOne=function(i,I){var d=new jQuery.Deferred(),s=this._getURLParsing().parseShellHash(i);if(i==='#'){d.resolve(true);return d.promise();}if(s===undefined){jQuery.sap.log.error(\"Could not parse shell hash '\"+i+\"'\",'please specify a valid shell hash','sap.ushell.services.ClientSideTargetResolution');return d.reject().promise();}s.formFactor=sap.ushell.utils.getFormFactor();this._getMatchingInbounds(s,I).done(function(T){d.resolve(T.length>0);}).fail(function(){d.reject();});return d.promise();};this.isIntentSupported=function(i){var a=this,d=new jQuery.Deferred();this._ensureInbounds().done(function(I){a._isIntentSupported(i,I).done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(d.reject.bind(d));return d.promise();};this._isIntentSupported=function(i,I){var a=this,d=new jQuery.Deferred(),s={};d.resolve();function b(e,f){s[e]={supported:f};}i.forEach(function(e){var n=a._isIntentSupportedOne(e,I);n.fail(function(E){b(e,false);});n.done(function(R){b(e,R);});d=jQuery.when(d,n);});var r=new jQuery.Deferred();d.done(function(){r.resolve(s);}).fail(function(){r.reject.bind(d);});return r.promise();};this._extractUserDefaultReferenceName=function(r){if(typeof r!=='string'||r.indexOf('UserDefault.')!==0||r.indexOf('UserDefault.extended.')===0){return undefined;}return r.replace(/^UserDefault[.]/,'');};this._extractAnyUserDefaultReferenceName=function(r){var P=this._extractExtendedUserDefaultReferenceName(r);if(typeof P==='string'){return P;}return this._extractUserDefaultReferenceName(r);};this._extractExtendedUserDefaultReferenceName=function(r){if(typeof r!=='string'||r.indexOf('UserDefault.extended.')!==0){return undefined;}return r.replace(/^UserDefault[.]extended[.]/,'');};this.getUserDefaultParameterNames=function(){var a=this,d=new jQuery.Deferred();this._ensureInbounds().done(function(i){var r;try{r=a._getUserDefaultParameterNames(i);d.resolve(r);}catch(e){d.reject('Cannot get user default parameters from inbounds: '+e);}}).fail(d.reject.bind(d));return d.promise();};this._getUserDefaultParameterNames=function(i){var r={simple:{},extended:{}},a=this;i.forEach(function(T){var s=T.signature&&T.signature.parameters||[];Object.keys(s).forEach(function(P){var o=s[P],R,e,U;if(o){if(o.filter&&o.filter.format==='reference'){U=o.filter.value;}else if(o.defaultValue&&o.defaultValue.format==='reference'){U=o.defaultValue.value;}if(typeof U==='string'){R=a._extractUserDefaultReferenceName(U);if(typeof R==='string'){r.simple[R]={};}e=a._extractExtendedUserDefaultReferenceName(U);if(typeof e==='string'){r.extended[e]={};}}}});});return r;};this._compactSignatureNotation=function(s){var f=s||{};var P=f.parameters||{},T={optional:'[FORMAT]',required:'FORMAT'},F={regexp:'/VALUE/',reference:'@VALUE',value:'VALUE',plain:'VALUE',_unknown:'?VALUE'},a={allowed:'<+>',notallowed:'<->',ignored:'<o>',_unknown:'<?>'};if(jQuery.isEmptyObject(P)){return'<no params>'+(a[f.additionalParameters||'_unknown']);}var r=[];Object.keys(P).forEach(function(b){var o=P[b],d=o.required?'required':'optional',e=o.filter&&o.filter.value,i=o.defaultValue&&o.defaultValue.value,j=(o.filter&&o.filter.format)||'plain',k=(o.defaultValue&&o.defaultValue.format)||'plain';var v=[],l=F[j]||F._unknown,m=F[k]||F._unknown;if(e){v.push(T['required'].replace('FORMAT',l.replace('VALUE',e)));}if(i){v.push(T['optional'].replace('FORMAT',m.replace('VALUE',i)));}r.push(T[d].replace('FORMAT',b+':'+v.join('')));});return r.join(';')+(a[f.additionalParameters||'_unknown']);};this.getEasyAccessSystems=function(){var e={},d;d=sap.ushell.utils.getFormFactor();if(!H){H=new jQuery.Deferred();this._ensureInbounds().done(function(i){i.forEach(function(I){var s;if(I&&I.semanticObject&&I.semanticObject==='Shell'&&I.action&&(I.action==='startGUI'||I.action==='startWDA')&&I.deviceTypes&&d!==undefined&&I.deviceTypes[d]){if(jQuery.isPlainObject(I.signature.parameters['sap-system'])&&I.signature.parameters['sap-system'].hasOwnProperty('filter')){s=jQuery.sap.getObject('signature.parameters.sap-system.filter.value',undefined,I);}if(typeof s==='string'){if(!e[s]){e[s]={text:I.title,appType:{}};}else if(I.action==='startGUI'){e[s].text=I.title;}if(I.action==='startGUI'){e[s].appType.TR=true;}else if(I.action==='startWDA'){e[s].appType.WDA=true;}}}});H.resolve(e);}).fail(H.reject.bind(H));}return H.promise();};};sap.ushell.services.ClientSideTargetResolution.hasNoAdapter=false;}());\n",
	"sap/ushell/services/CommonDataModel.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.CommonDataModel');sap.ushell.services.CommonDataModel=function(a,c,p,s){jQuery.sap.require('sap.ushell.services.ClientSideTargetResolution');var t=this,S=new jQuery.Deferred();function f(m){S.reject(m);}this._oAdapter=a;this._oSitePromise=S.promise();a.getSite().done(function(o){t._oOriginalSite=jQuery.extend(true,{},o);S.resolve(t._oOriginalSite);}).fail(f);};sap.ushell.services.CommonDataModel.prototype.getSite=function(){return this._oSitePromise;};sap.ushell.services.CommonDataModel.prototype.hasNoAdapter=false;}());\n",
	"sap/ushell/services/Container.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';var S='sap.ushell.services.Container',a='sap.ushell.Container.dirtyState.',c,p,f;jQuery.sap.declare(S);jQuery.sap.require('sap.ushell.utils');jQuery.sap.require('sap.ushell.System');function b(){close();}function r(){document.location='about:blank';}function g(P){if(p&&p[P]){return p[P];}return'sap.ushell.adapters.'+P;}function d(s){return(c.services&&c.services[s])||{};}function h(n,s,P){var A=d(n).adapter||{},e=A.module||g(s.getPlatform())+'.'+n+'Adapter';jQuery.sap.require(e);return new(jQuery.sap.getObject(e))(s,P,{config:A.config||{}});}function C(A){var E=new sap.ui.base.EventProvider(),j=false,R=[],o={},s='sap.ushell.Container.'+A.getSystem().getPlatform()+'.remoteSystem.',m={},G,k,l=sap.ushell.utils.getLocalStorage(),n=new sap.ushell.utils.Map(),q='sap.ushell.Container.'+A.getSystem().getPlatform()+'.sessionTermination',t=this;this.cancelLogon=function(){if(this.oFrameLogonManager){this.oFrameLogonManager.cancelXHRLogon();}};this.createRenderer=function(e){var i,w,x,y,z;e=e||c.defaultRenderer;if(!e){throw new Error('Missing renderer name');}z=(c.renderers&&c.renderers[e])||{};w=z.module||(e.indexOf('.')<0?'sap.ushell.renderers.'+e+'.Renderer':e);jQuery.sap.require(w);if(z.componentData&&z.componentData.config){i={config:z.componentData.config};}x=new(jQuery.sap.getObject(w))({componentData:i});if(x instanceof sap.ui.core.UIComponent){y=new sap.ui.core.ComponentContainer({component:x,height:'100%',width:'100%'});}else{y=x;}if(!(y instanceof sap.ui.core.Control)){throw new Error('Unsupported renderer type for name '+e);}o[e]=y;E.fireEvent('rendererCreated',{renderer:x});return y;};this.getRenderer=function(e){var i,w;e=e||c.defaultRenderer;if(e){i=o[e];}else{w=Object.keys(o);if(w.length===1){i=o[w[0]];}else{jQuery.sap.log.warning('getRenderer() - cannot determine renderer, because no default renderer is configured and multiple instances exist.',undefined,S);}}if(i instanceof sap.ui.core.ComponentContainer){return i.getComponentInstance();}return i;};this.DirtyState={CLEAN:'CLEAN',DIRTY:'DIRTY',MAYBE_DIRTY:'MAYBE_DIRTY',PENDING:'PENDING',INITIAL:'INITIAL'};this.getGlobalDirty=function(){var i,D=new jQuery.Deferred(),U=jQuery.sap.uid(),w,P=0,x=this.DirtyState.CLEAN;function y(){if(P===0||x===t.DirtyState.DIRTY){D.resolve(x);jQuery.sap.log.debug('getGlobalDirty() Resolving: '+x,null,'sap.ushell.Container');}}function z(B){if(B.key.indexOf(a)===0&&B.newValue!==t.DirtyState.INITIAL&&B.newValue!==t.DirtyState.PENDING){jQuery.sap.log.debug('getGlobalDirty() Receiving event key: '+B.key+' value: '+B.newValue,null,'sap.ushell.Container');if(B.newValue===t.DirtyState.DIRTY||B.newValue===t.DirtyState.MAYBE_DIRTY){x=B.newValue;}P-=1;y();}}try{l.setItem(U,'CHECK');l.removeItem(U);}catch(e){jQuery.sap.log.warning('Error calling localStorage.setItem(): '+e,null,'sap.ushell.Container');return D.resolve(this.DirtyState.MAYBE_DIRTY).promise();}if(G){throw new Error('getGlobalDirty already called!');}G=D;window.addEventListener('storage',z);D.always(function(){window.removeEventListener('storage',z);G=undefined;});for(i=l.length-1;i>=0;i-=1){w=l.key(i);if(w.indexOf(a)===0){if(l.getItem(w)==='PENDING'){l.removeItem(w);jQuery.sap.log.debug(\"getGlobalDirty() Cleanup of unresolved 'PENDINGS':\"+w,null,'sap.ushell.Container');}else{P+=1;sap.ushell.utils.localStorageSetItem(w,this.DirtyState.PENDING,true);jQuery.sap.log.debug('getGlobalDirty() Requesting status for: '+w,null,'sap.ushell.Container');}}}y();setTimeout(function(){if(D.state()!=='resolved'){D.resolve('MAYBE_DIRTY');jQuery.sap.log.debug(\"getGlobalDirty() Timeout reached, - resolved 'MAYBE_DIRTY'\",null,'sap.ushell.Container');}},P*2000);return D.promise();};this.getLogonSystem=function(){return A.getSystem();};this.getUser=function(){return A.getUser();};this.getDirtyFlag=function(){for(var i=0;i<R.length;i++){j=j||R[i].call();}return j;};this.setDirtyFlag=function(i){j=i;};this.registerDirtyStateProvider=function(D){if(typeof D!=='function'){throw new Error('fnDirty must be a function');}R.push(D);};this.getService=function(e,P){var i={},M,K,w,x,y,z,B;function D(F){var H=new jQuery.Deferred();if(!F){throw new Error('Missing system');}H.resolve(h(e,F,P));sap.ushell.Container.addRemoteSystem(F);return H.promise();}if(!e){throw new Error('Missing service name');}if(e.indexOf('.')>=0){throw new Error('Unsupported service name');}z=d(e);M=z.module||'sap.ushell.services.'+e;K=M+'/'+(P||'');B={config:z.config||{}};if(!n.containsKey(K)){jQuery.sap.require(M);w=jQuery.sap.getObject(M);if(w.hasNoAdapter===true){x=new w(i,P,B);}else{y=h(e,A.getSystem(),P);i.createAdapter=D;x=new w(y,i,P,B);}n.put(K,x);return x;}return n.get(K);};function u(){var w,x,i,K;for(i=l.length-1;i>=0;i-=1){K=l.key(i);if(K.indexOf(s)===0){try{w=K.substring(s.length);x=JSON.parse(l.getItem(K));m[w]=new sap.ushell.System(x);}catch(e){l.removeItem(K);}}}return m;}function v(){function e(i,w,F){jQuery.sap.log.warning(i,null,'sap.ushell.Container');if(F){setTimeout(F.bind(null,i),5000);}return{abort:function(){return;}};}OData.read=function(i,w,F){return e(\"OData.read('\"+(i&&i.Uri?i.requestUri:i)+\"') disabled during logout processing\",w,F);};OData.request=function(i,w,F){return e(\"OData.request('\"+(i?i.requestUri:'')+\"') disabled during logout processing\",w,F);};}this.addRemoteSystem=function(e){var i=e.getAlias(),O=m[i];if(O){if(O.toString()===e.toString()){return;}jQuery.sap.log.warning('Replacing '+O+' by '+e,null,'sap.ushell.Container');}else{jQuery.sap.log.debug('Added '+e,null,'sap.ushell.Container');}m[i]=e;sap.ushell.utils.localStorageSetItem(s+i,e);};this.addRemoteSystemForServiceUrl=function(e){var M,i={baseUrl:';o='};if(!e||e.charAt(0)!=='/'||e.indexOf('//')===0){return;}M=/^[^?]*;o=([^\\/;?]*)/.exec(e);if(M&&M.length>=2){i.alias=M[1];}e=e.replace(/;[^\\/?]*/g,'');if(/^\\/sap\\/(bi|hana|hba)\\//.test(e)){i.platform='hana';i.alias=i.alias||'hana';}else if(/^\\/sap\\/opu\\//.test(e)){i.platform='abap';}if(i.alias&&i.platform){this.addRemoteSystem(new sap.ushell.System(i));}};this.attachLogoutEvent=function(F){E.attachEvent('Logout',F);};this.detachLogoutEvent=function(F){E.detachEvent('Logout',F);};this.attachRendererCreatedEvent=function(F){E.attachEvent('rendererCreated',F);};this.detachRendererCreatedEvent=function(F){E.detachEvent('rendererCreated',F);};this.logout=function(){var D=new jQuery.Deferred();function i(){A.logout(true).always(function(){l.removeItem(q);D.resolve();});}function w(){if(E.fireEvent('Logout',true)){i();}else{setTimeout(i,1000);}}function x(){var m,y=[];if(k){window.removeEventListener('storage',k);}sap.ushell.utils.localStorageSetItem(q,'pending');t._suppressOData();m=t._getRemoteSystems();Object.keys(m).forEach(function(z){try{y.push(h('Container',m[z]).logout(false));}catch(e){jQuery.sap.log.warning('Could not create adapter for '+z,e.toString(),'sap.ushell.Container');}l.removeItem(s+z);});jQuery.when.apply(jQuery,y).done(w);}if(typeof A.addFurtherRemoteSystems==='function'){A.addFurtherRemoteSystems().always(x);}else{x();}return D.promise();};this.setLogonFrameProvider=function(L){if(this.oFrameLogonManager){this.oFrameLogonManager.setLogonFrameProvider(L);}};this._closeWindow=b;this._redirectWindow=r;this._getRemoteSystems=u;this._suppressOData=v;sap.ui.getCore().getEventBus().subscribe('sap.ushell.Container','addRemoteSystemForServiceUrl',function(e,i,D){t.addRemoteSystemForServiceUrl(D);});if(typeof A.logoutRedirect==='function'){k=function(e){function i(){t._closeWindow();t._redirectWindow();}if(sap.ushell.Container!==t){return;}if(e.key.indexOf(s)===0&&e.newValue&&e.newValue!==l.getItem(e.key)){sap.ushell.utils.localStorageSetItem(e.key,e.newValue);}if(e.key===q){if(e.newValue==='pending'){t._suppressOData();if(E.fireEvent('Logout',true)){i();}else{setTimeout(i,1000);}}}};window.addEventListener('storage',k);}}sap.ushell.bootstrap=function(P,A){var o,e;if(sap.ushell.Container!==undefined){e=new Error('Unified shell container is already initialized - cannot initialize twice.\\nStacktrace of first initialization:'+f);jQuery.sap.log.error(e,e.stack,S);throw e;}sap.ushell.Container=null;f=(new Error()).stack;c=jQuery.extend({},true,window['sap-ushell-config']||{});p=A;if(typeof window['sap.ushell.bootstrap.callback']==='function'){setTimeout(window['sap.ushell.bootstrap.callback']);}if(c.modulePaths){Object.keys(c.modulePaths).forEach(function(m){jQuery.sap.registerModulePath(m,c.modulePaths[m]);});}o=h('Container',new sap.ushell.System({alias:'',platform:c.platform||P}));return o.load().done(function(){sap.ushell.Container=new C(o);sap.ushell.Container.getService('PluginManager').registerPlugins(c.bootstrapPlugins);});};}());\n",
	"sap/ushell/services/CrossApplicationNavigation.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.CrossApplicationNavigation');jQuery.sap.require('sap.ushell.services.Personalization');jQuery.sap.require('jquery.sap.storage');sap.ushell.services.CrossApplicationNavigation=function(c,p,s){var a,S;if(s&&s.config){S=s.config;}function g(t,C){var r,d,e,o,f,h;if(typeof t!=='string'&&!jQuery.isPlainObject(t)&&t!==undefined){jQuery.sap.log.error('Unexpected input type',null,'sap.ushell.services.CrossApplicationNavigation');return undefined;}if(t===undefined){return undefined;}var n;if(C){if(typeof C.getComponentData!=='function'||!jQuery.isPlainObject(C.getComponentData())||!C.getComponentData().startupParameters||!jQuery.isPlainObject(C.getComponentData().startupParameters)){jQuery.sap.log.error('Cannot call getComponentData on component','the component should be an application root component','sap.ushell.services.CrossApplicationNavigation');}else{h=C.getComponentData().startupParameters;if(h.hasOwnProperty('sap-system')){e=h['sap-system'][0];}if(h.hasOwnProperty('sap-ushell-next-navmode')){n=h['sap-ushell-next-navmode'][0];}}}else{r=sap.ushell.Container.getService('NavTargetResolution').getCurrentResolution();if(r&&r['sap-system']){e=r['sap-system'];}else if(r&&r.url){e=jQuery.sap.getUriParameters(r.url).get('sap-system');}if(r&&r['sap-ushell-next-navmode']){n=r['sap-ushell-next-navmode'];}else if(r&&r.url){n=jQuery.sap.getUriParameters(r.url).get('sap-ushell-next-navmode');}}if(jQuery.isPlainObject(t)){o=jQuery.extend(true,{},t);if(!e&&!n){return o;}if(o.target&&o.target.shellHash){if(typeof o.target.shellHash==='string'){o.target.shellHash=g(o.target.shellHash,C);}return o;}o.params=o.params||{};if(e&&!Object.prototype.hasOwnProperty.call(o.params,'sap-system')){o.params['sap-system']=e;}if(n&&!Object.prototype.hasOwnProperty.call(o.params,'sap-ushell-navmode')){o.params['sap-ushell-navmode']=[n];}return o;}else{f=t;if(!(e||n)){return f;}if(e&&!/[?&]sap-system=/.test(f)){d=(f.indexOf('?')>-1)?'&':'?';f+=d+'sap-system='+e;}if(n&&!/[?&]sap-ushell-navmode=/.test(f)){d=(f.indexOf('?')>-1)?'&':'?';f+=d+'sap-ushell-navmode='+n;}return f;}}function b(t){var d,C,e;if(localStorage&&localStorage['sap-ushell-enc-test']==='false'){return t;}if(!S||!S['sap-ushell-enc-test']){if(localStorage&&localStorage['sap-ushell-enc-test']!=='true'){return t;}}if(typeof t!=='string'&&!jQuery.isPlainObject(t)&&t!==undefined){jQuery.sap.log.error('Unexpected input type',null,'sap.ushell.services.CrossApplicationNavigation');return undefined;}if(t===undefined){return undefined;}if(jQuery.isPlainObject(t)){C=jQuery.extend(true,{},t);if(C.target&&C.target.shellHash){if(typeof C.target.shellHash==='string'){if(C.target.shellHash!=='#'&&C.target.shellHash!==''){C.target.shellHash=b(C.target.shellHash);}}return C;}C.params=C.params||{};C.params['sap-ushell-enc-test']=['A B%20C'];return C;}else{e=t;if(!/[?&]sap-system=/.test(e)){d=(e.indexOf('?')>-1)?'&':'?';e+=d+'sap-ushell-enc-test='+encodeURIComponent('A B%20C');}return e;}}this.hrefForExternal=function(A,C,d){var o;if(sap.ushell&&sap.ushell.services&&sap.ushell.Container&&typeof sap.ushell.Container.getService==='function'&&sap.ushell.Container.getService('ShellNavigation')){o=g(A,C);o=b(o);return sap.ushell.Container.getService('ShellNavigation').hrefForExternal(o,undefined,C,d);}jQuery.sap.log.debug('Shell not available, no Cross App Navigation');if(d){return(new jQuery.Deferred()).resolve('').promise();}return'';};this.expandCompactHash=function(h){return sap.ushell.Container.getService('NavTargetResolution').expandCompactHash(h);};this.backToPreviousApp=function(){this.historyBack();};this.historyBack=function(){window.history.back();};this.isInitialNavigation=function(){var o=sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==='function'&&sap.ushell.Container.getService('ShellNavigation');if(!o){jQuery.sap.log.debug('ShellNavigation service not available','This will be treated as the initial navigation','sap.ushell.services.CrossApplicationNavigation');return true;}var i=o.isInitialNavigation();if(typeof i==='undefined'){return true;}return i;};this.toExternal=function(A,C){var o;if(sap.ushell&&sap.ushell.services&&sap.ushell.Container&&typeof sap.ushell.Container.getService==='function'&&sap.ushell.Container.getService('ShellNavigation')){o=g(A,C);o=b(o);sap.ushell.Container.getService('ShellNavigation').toExternal(o,C);return;}jQuery.sap.log.debug('Shell not avialable, no Cross App Navigation');return;};this.hrefForAppSpecificHash=function(A){if(sap.ushell&&sap.ushell.services&&sap.ushell.Container&&typeof sap.ushell.Container.getService==='function'&&sap.ushell.Container.getService('ShellNavigation')){return sap.ushell.Container.getService('ShellNavigation').hrefForAppSpecificHash(A);}jQuery.sap.log.debug('Shell not available, no Cross App Navigation; fallback to app-specific part only');return'#'+encodeURI(A);};this.getSemanticObjectLinks=function(d,P,i,C,A,e){var m,o,E;m=g({params:P},C).params;m=b({params:m}).params;o=sap.ushell.Container.getService('NavTargetResolution');var v;if(jQuery.isArray(d)){v=[];d.forEach(function(f){v.push([{semanticObject:f[0],params:f[1],ignoreFormFactor:!!f[2],ui5Component:f[3],appStateKey:f[4],compactIntents:!!(f[5])}]);});}else{v={semanticObject:d,params:m,ignoreFormFactor:i,ui5Component:C,appStateKey:A,compactIntents:!!e};}E=sap.ushell.utils.invokeUnfoldingArrayArguments(o.getLinks.bind(o),[v]);return E;};this.getLinks=function(A){var e;e=sap.ushell.utils.invokeUnfoldingArrayArguments(this._getLinks.bind(this),[A]);return e;};this._getLinks=function(n){var N,P,o=sap.ushell.Container.getService('NavTargetResolution');if(typeof n==='undefined'){n={};}N=jQuery.extend(true,{},n);N.compactIntents=!!N.compactIntents;N.action=N.action||undefined;P=g({params:N.params},N.ui5Component).params;P=b({params:P}).params;if(N.appStateKey){P['sap-xapp-state']=[N.appStateKey];delete N.appStateKey;}N.params=P;return o.getLinks(N);};this.getDistinctSemanticObjects=function(){var o=sap.ushell.Container.getService('NavTargetResolution');return o.getDistinctSemanticObjects();};this.isIntentSupported=function(i,C){var d=new jQuery.Deferred(),o={},e=i.map(function(I){var f=g(I,C);o[f]=I;return f;});sap.ushell.Container.getService('NavTargetResolution').isIntentSupported(e).done(function(I){var m={};Object.keys(I).forEach(function(k){m[o[k]]=I[k];});d.resolve(m);}).fail(d.reject.bind(d));return d.promise();};this.isNavigationSupported=function(i,C){var d=i.map(function(I){return g(I,C);});return sap.ushell.Container.getService('NavTargetResolution').isNavigationSupported(d);};this.isUrlSupported=function(u){var d=new jQuery.Deferred(),U,h;if(typeof u!=='string'){d.reject();return d.promise();}U=sap.ushell.Container.getService('URLParsing');if(U.isIntentUrl(u)){h=U.getHash(u);this.isIntentSupported(['#'+h]).done(function(r){if(r['#'+h]&&r['#'+h].supported){d.resolve();}else{d.reject();}}).fail(function(){d.reject();});}else{d.resolve();}return d.promise();};this.createComponentInstance=function(i,C,o){var d,u,e,f;if(!C){C={};}else{f=Object.keys(C).length;if(f>1||(f===1&&!C.componentData)){throw'`oConfig` argument should either be an empty object or contain only the `componentData` property.';}}if(C.componentData){delete C.componentData.startupParameters;delete C.componentData.config;delete C.componentData['sap-xapp-state'];}d=sap.ushell.Container;u=d.getService('URLParsing');e=u.constructShellHash(u.parseShellHash(i));if(!e){return new jQuery.Deferred(function(D){D.reject('Navigation intent invalid!');}).promise();}return d.getService('NavTargetResolution').resolveHashFragment('#'+e).then(function(r){if(r.applicationType!==sap.ushell.components.container.ApplicationType.URL&&!(/^SAPUI5\\.Component=/.test(r.additionalInformation))){return new jQuery.Deferred(function(D){D.reject('The resolved target mapping is not of type UI5 component.');}).promise();}r=jQuery.extend(true,{},r,C);if(!r.ui5ComponentName&&r.additionalInformation){r.ui5ComponentName=r.additionalInformation.replace(/^SAPUI5\\.Component=/,'');}return new jQuery.Deferred(function(D){var h=d.getService('Ui5ComponentLoader');if(o){o.runAsOwner(function(){j(r);});}else{j(r);}function j(A){A.loadDefaultDependencies=false;h.createComponent(A).then(function(k){D.resolve(k.componentHandle.getInstance());},function(E){E=E||'';jQuery.sap.log.error('Cannot create UI5 component: '+E,E.stack,'sap.ushell.services.CrossApplicationNavigation');D.reject(E);});}}).promise();});};this.createEmptyAppState=function(A){if(!a){a=sap.ushell.Container.getService('AppState');}if(!(A instanceof sap.ui.core.UIComponent)){throw new Error('oAppComponent passed must be a UI5 Component');}return a.createEmptyAppState(A);};this.getStartupAppState=function(A){this._checkComponent(A);var C=A.getComponentData()&&A.getComponentData()['sap-xapp-state']&&A.getComponentData()['sap-xapp-state'][0];return this.getAppState(A,C);};this._checkComponent=function(A){if(!(A instanceof sap.ui.core.UIComponent)){throw new Error('oComponent passed must be a UI5 Component');}};this.getAppState=function(A,d){var C,D=new jQuery.Deferred();this._checkComponent(A);if(!a){a=sap.ushell.Container.getService('AppState');}if(typeof d!=='string'){if(d!==undefined){jQuery.sap.log.error('Illegal Argument sAppStateKey ');}setTimeout(function(){C=a.createEmptyUnmodifiableAppState(A);D.resolve(C);},0);return D.promise();}return a.getAppState(d);};this.getAppStateData=function(A){return sap.ushell.utils.invokeUnfoldingArrayArguments(this._getAppStateData.bind(this),[A]);};this._getAppStateData=function(A){var d=new jQuery.Deferred();if(!a){a=sap.ushell.Container.getService('AppState');}if(typeof A!=='string'){if(A!==undefined){jQuery.sap.log.error('Illegal Argument sAppStateKey ');}setTimeout(function(){d.resolve(undefined);},0);}else{a.getAppState(A).done(function(o){d.resolve(o.getData());}).fail(d.resolve.bind(d,undefined));}return d.promise();};this.saveMultipleAppStates=function(A){var r=[],d=new jQuery.Deferred();A.forEach(function(o){r.push(o.save());});jQuery.when.apply(this,r).done(function(){d.resolve(r);}).fail(function(){d.reject('save failed');});return d.promise();};};sap.ushell.services.CrossApplicationNavigation.hasNoAdapter=true;}());\n",
	"sap/ushell/services/EndUserFeedback.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.EndUserFeedback');function g(p,o){return jQuery.sap.getObject(p,undefined,o)||'';}sap.ushell.services.EndUserFeedback=function(a,c,p,s){var S=(s&&s.config)||{};this.sendFeedback=function(e){var u,n,A,b,E,f,U,d,h;u=g('clientContext.navigationData.applicationInformation.url',e);n=g('clientContext.navigationData.navigationHash',e);A=g('clientContext.navigationData.applicationInformation.additionalInformation',e);b=g('clientContext.navigationData.applicationInformation.applicationType',e);f=g('clientContext.navigationData.formFactor',e);U=g('clientContext.userDetails.userId',e);d=g('clientContext.userDetails.eMail',e);h=e.feedbackText||'';E={feedbackText:h.slice(0,2000),ratings:e.ratings||{},additionalInformation:A,applicationType:b,url:u?this.getPathOfURL(u):'',navigationIntent:n.replace(/\\?.*$/,''),formFactor:f,isAnonymous:e.isAnonymous||false,userId:e.isAnonymous?'':U,eMail:e.isAnonymous?'':d};return a.sendFeedback(E);};this.getLegalText=function(){return a.getLegalText();};this.isEnabled=function(){var d=new jQuery.Deferred();if(S.enabled===false){setTimeout(function(){d.reject();},0);return d.promise();}a.isEnabled().done(function(l){d.resolve();}).fail(function(e){d.reject();});return d.promise();};this.getPathOfURL=function(u){var U=new URI(u);return U.pathname();};};}());\n",
	"sap/ushell/services/LaunchPage.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.LaunchPage');sap.ushell.services.LaunchPage=function(a,c){var t=this,T=[];this.getGroups=function(){var p=a.getGroups();p.fail(function(){jQuery.sap.log.error('getGroups failed');});return p;};this.getDefaultGroup=function(){var p=a.getDefaultGroup();p.fail(function(){jQuery.sap.log.error('getDefaultGroup failed');});return p;};this.getGroupTitle=function(g){return a.getGroupTitle(g);};this.getGroupId=function(g){return a.getGroupId(g);};this.getGroupTiles=function(g){return a.getGroupTiles(g);};this.getLinkTiles=function(g){return a.getLinkTiles(g);};this.addGroupAt=function(s,i){var p,b=i;if(a.addGroupAt){p=a.addGroupAt(s,i);p.fail(function(){jQuery.sap.log.error('addGroup '+s+' failed');});}else{var d=new jQuery.Deferred();p=a.addGroup(s);p.done(function(n,g){var m=this.moveGroup(n,b),e=n;m.done(function(){d.resolve(e);});m.fail(function(){d.reject();});}.bind(this));p.fail(function(){jQuery.sap.log.error('addGroup '+s+' failed');d.reject();});return d.promise();}return p;};this.addGroup=function(s){var p=a.addGroup(s);p.fail(function(){jQuery.sap.log.error('addGroup '+s+' failed');});return p;};this.removeGroup=function(g,i){var p=a.removeGroup(g,i);p.fail(function(){jQuery.sap.log.error('Fail to removeGroup '+t.getGroupTitle(g));});return p;};this.resetGroup=function(g,i){var p=a.resetGroup(g,i);p.fail(function(){jQuery.sap.log.error('Fail to resetGroup '+t.getGroupTitle(g));});return p;};this.isGroupRemovable=function(g){return a.isGroupRemovable(g);};this.isGroupLocked=function(g){if(typeof a.isGroupLocked==='function'){return a.isGroupLocked(g);}return false;};this.moveGroup=function(g,n){var p=a.moveGroup(g,n);p.fail(function(){jQuery.sap.log.error('Fail to moveGroup '+t.getGroupTitle(g));});return p;};this.setGroupTitle=function(g,s){var p=a.setGroupTitle(g,s);p.fail(function(){jQuery.sap.log.error('Fail to set Group title: '+t.getGroupTitle(g));});return p;};this.hideGroups=function(h){var d=jQuery.Deferred();if(typeof a.hideGroups!=='function'){d.reject('hideGroups() is not implemented in the Adapter.');}else{a.hideGroups(h).done(function(){d.resolve();}).fail(function(m){jQuery.sap.log.error('Fail to store groups visibility.'+m);d.reject();});}return d.promise();};this.isGroupVisible=function(g){if(typeof a.isGroupVisible==='function'){return a.isGroupVisible(g);}return true;};this.addTile=function(C,g){var p=a.addTile(C,g);p.fail(function(){jQuery.sap.log.error('Fail to add Tile: '+t.getCatalogTileId(C));});return p;};this.removeTile=function(g,o,i){var p=a.removeTile(g,o,i);p.fail(function(){jQuery.sap.log.error('Fail to remove Tile: '+t.getTileId(o));});return p;};this.moveTile=function(o,s,i,S,b){var p=a.moveTile(o,s,i,S,b);p.fail(function(){jQuery.sap.log.error('Fail to move Tile: '+t.getTileId(o));});return p;};this.getTileId=function(o){return a.getTileId(o);};this.getTileTitle=function(o){return a.getTileTitle(o);};this.getTileType=function(o){if(a.getTileType){return a.getTileType(o);}return'tile';};this.getTileView=function(o){var d=a.getTileView(o);if(!jQuery.isFunction(d.promise)){d=jQuery.Deferred().resolve(d).promise();}return d;};this.getTileSize=function(o){return a.getTileSize(o);};this.getTileTarget=function(o){return a.getTileTarget(o);};this.getTileDebugInfo=function(o){if(typeof a.getTileDebugInfo==='function'){return a.getTileDebugInfo(o);}return undefined;};this.isTileIntentSupported=function(o){if(typeof a.isTileIntentSupported==='function'){return a.isTileIntentSupported(o);}return true;};this.refreshTile=function(o){a.refreshTile(o);};this.setTileVisible=function(o,n){return a.setTileVisible(o,n);};this.registerTileActionsProvider=function(p){if(typeof p!=='function'){throw new Error('Tile actions Provider is not a function');}T.push(p);};this.getTileActions=function(o){var b=[];var A;if(typeof a.getTileActions==='function'){A=a.getTileActions(o);if(A&&A.length&&A.length>0){b.push.apply(b,A);}}for(var i=0;i<T.length;i++){A=T[i](o);if(A&&A.length&&A.length>0){b.push.apply(b,A);}}return b;};this.getCatalogs=function(){return a.getCatalogs();};this.isCatalogsValid=function(){return a.isCatalogsValid();};this.getCatalogData=function(C){if(typeof a.getCatalogData!=='function'){jQuery.sap.log.warning('getCatalogData not implemented in adapter',null,'sap.ushell.services.LaunchPage');return{id:this.getCatalogId(C)};}return a.getCatalogData(C);};this.getCatalogError=function(C){return a.getCatalogError(C);};this.getCatalogId=function(C){return a.getCatalogId(C);};this.getCatalogTitle=function(C){return a.getCatalogTitle(C);};this.getCatalogTiles=function(C){var p=a.getCatalogTiles(C);p.fail(function(){jQuery.sap.log.error('Fail to get Tiles of Catalog: '+t.getCatalogTitle(C));});return p;};this.getCatalogTileId=function(o){return a.getCatalogTileId(o);};this.getCatalogTileTitle=function(C){return a.getCatalogTileTitle(C);};this.getCatalogTileSize=function(C){return a.getCatalogTileSize(C);};this.getCatalogTileView=function(C){return a.getCatalogTileView(C);};this.getCatalogTileTargetURL=function(C){return a.getCatalogTileTargetURL(C);};this.getCatalogTileTags=function(C){if(typeof a.getCatalogTileTags==='function'){return a.getCatalogTileTags(C);}return[];};this.getCatalogTileKeywords=function(C){return a.getCatalogTileKeywords(C);};this.getCatalogTilePreviewTitle=function(C){return a.getCatalogTilePreviewTitle(C);};this.getCatalogTilePreviewIcon=function(C){return a.getCatalogTilePreviewIcon(C);};this.addBookmark=function(p,g){var P,d,m;if(!p.title){jQuery.sap.log.error('Add Bookmark - Missing title');throw new Error('Title missing in bookmark configuration');}if(!p.url){jQuery.sap.log.error('Add Bookmark - Missing URL');throw new Error('URL missing in bookmark configuration');}if(g&&this.isGroupLocked(g)){d=new jQuery.Deferred();P=d.promise();m='Tile cannot be added, target group ('+this.getGroupTitle(g)+')is locked!';d.reject(m);jQuery.sap.log.error(m);}else{P=a.addBookmark(p,g);P.fail(function(){jQuery.sap.log.error('Fail to add bookmark for URL: '+p.url+' and Title: '+p.title);});}return P;};this.countBookmarks=function(u){if(!u||typeof u!=='string'){jQuery.sap.log.error('Fail to count bookmarks. No valid URL');throw new Error('Missing URL');}var p=a.countBookmarks(u);p.fail(function(){jQuery.sap.log.error('Fail to count bookmarks');});return p;};this.deleteBookmarks=function(u){if(!u||typeof u!=='string'){throw new Error('Missing URL');}var p=a.deleteBookmarks(u);p.fail(function(){jQuery.sap.log.error('Fail to delete bookmark for: '+u);});return p;};this.updateBookmarks=function(u,p){if(!u||typeof u!=='string'){jQuery.sap.log.error('Fail to update bookmark. No valid URL');throw new Error('Missing URL');}if(!p||typeof p!=='object'){jQuery.sap.log.error('Fail to update bookmark. No valid parameters, URL is: '+u);throw new Error('Missing parameters');}var P=a.updateBookmarks(u,p);P.fail(function(){jQuery.sap.log.error('Fail to update bookmark for: '+u);});return P;};this.onCatalogTileAdded=function(s){return a.onCatalogTileAdded(s);};};}());\n",
	"sap/ushell/services/Message.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.Message');sap.ushell.services.Message=function(){var s=null;this.init=function(S){s=S;return this;};this.show=function(t,m,p){if(!m){jQuery.sap.log.error('Message must not be empty.');}else{if(s){s(t,m,p||{});}else{jQuery.sap.log.error(\"MessageService not initialized. [Message: '\"+m+\"']\");}}};this.info=function(m,d){this.show(sap.ushell.services.Message.Type.INFO,m,{duration:d||3000});};this.error=function(m,t){m=(t!==undefined)?t+' , '+m:m;jQuery.sap.log.error(m);this.show(sap.ushell.services.Message.Type.ERROR,m,{title:t});};this.confirm=function(m,c,t,a){this.show(sap.ushell.services.Message.Type.CONFIRM,m,{title:t,callback:c,actions:a});};};sap.ushell.services.Message.hasNoAdapter=true;sap.ushell.services.Message.Type={INFO:0,ERROR:1,CONFIRM:2};}());\n",
	"sap/ushell/services/NavTargetResolution.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.NavTargetResolution');jQuery.sap.require('sap.ushell.utils');jQuery.sap.require('sap.ushell.services.AppConfiguration');sap.ushell.services.NavTargetResolution=function(A,c,p,s){var S=s&&s.config,I=function(){return!!(S&&S.enableClientSideTargetResolution);},r=function(h){var o=I()?this._resolveHashFragmentClientSide(h):A.resolveHashFragment(h);return o;},l,R=[{name:'DefaultAdapter',isApplicable:function(){return true;},resolveHashFragment:r.bind(this)}],C;this._isClientSideTargetResolutionEnabled=I;this._nextResolveHashFragment=function(a,h){var o,f;o=a.pop();if(o.isApplicable(h)){jQuery.sap.log.info('NavTargetResolution: custom resolver '+o.name+' resolves '+h);f=this._nextResolveHashFragment.bind(this,a);return o.resolveHashFragment(h,f);}return this._nextResolveHashFragment(a,h);};this._resolveHashFragmentClientSide=function(h){var H=this._validateHashFragment(h),f;if(!H.success){return new jQuery.Deferred().reject(h+' is not a valid hash fragment').promise();}f=H.hashFragmentWithoutHash;return this._resolveHashFragmentClientSideAndFixApplicationType(f);};this._resolveHashFragmentClientSideAndFixApplicationType=function(f){var d=new jQuery.Deferred();sap.ushell.Container.getService('ClientSideTargetResolution').resolveHashFragment(f).done(function(o){if(o&&o.applicationType==='SAPUI5'){o.applicationType='URL';}d.resolve(o);}).fail(function(){d.reject.apply(d,arguments);});return d.promise();};this._validateHashFragment=function(h){var H='',v={success:false};if(h&&h.charAt(0)!=='#'){throw new sap.ushell.utils.Error('Hash fragment expected in _validateHashFragment','sap.ushell.services.NavTargetResolution');}H=h.substring(1);if(H){v.success=true;}v.hashFragmentWithoutHash=H;return v;};this.expandCompactHash=function(h){var u=sap.ushell.Container.getService('URLParsing'),P,d=new jQuery.Deferred();P=u.parseShellHash(h);if(P&&P.params&&P.params['sap-intent-param']){sap.ushell.Container.getService('AppState').getAppState(P.params['sap-intent-param'][0]).done(function(o){var v=o.getData('sap-intent-param'),H=h;if(v){H=sap.ushell.Container.getService('URLShortening').expandParamGivenRetrievalFunction(h,'sap-intent-param',function(){return v;});}d.resolve(H);}).fail(function(){d.resolve(h);});}else{d.resolve(h);}return d.promise();};var w=['NWBC','WDA','TR'];this._getNavigationMode=function(o){var a=o.additionalInformation,b=o.applicationType,d=sap.ushell.services.AppConfiguration.getCurrentAppliction()||{},u,U;if(o.navigationMode){return o.navigationMode;}if(w.indexOf(d.applicationType)>-1&&!d.explicitNavMode){return'newWindowThenEmbedded';}if((a===null||typeof a==='string'||typeof a==='undefined')&&b==='URL'){if(a&&a.indexOf('managed=')===0){if(a==='managed=FioriWave1'){return'embedded';}if(a==='managed='){return'newWindow';}return undefined;}if(a&&a.indexOf('SAPUI5.Component=')===0){u='[a-zA-Z0-9_]+';U=['^SAPUI5.Component=',u,'([.]',u,')*$'].join('');if(!(new RegExp(U)).test(a)){jQuery.sap.log.warning(['The UI5 component name in',a,'is not valid.','Please use names satisfying',U].join(' '));}return'embedded';}return'newWindow';}if(b==='NWBC'||b==='TR'){return'newWindowThenEmbedded';}return undefined;};this._adjustResolutionResultForUi5Components=function(o){var m,a;if(typeof o!=='object'){return;}delete o['sap.platform.runtime'];if(o&&o.applicationType&&o.applicationType==='SAPUI5'){o.applicationType='URL';}if((o.applicationType==='URL')){m=/^SAPUI5\\.Component=(.*)/.exec(o.additionalInformation);a=m&&m[1];if(a){o.ui5ComponentName=a;}}};this._getSapSystem=function(h,o){var a;if(o&&o['sap-system']){return o['sap-system'];}if(o&&o.url){a=jQuery.sap.getUriParameters(o.url).get('sap-system');if(a){return a;}}if(w.indexOf(o.applicationType)>=0&&h&&h.substring(1)){a=jQuery.sap.getUriParameters(h.substring(1)).get('sap-system');if(a){return a;}}return undefined;};this.resolveHashFragment=function(h){var d=new jQuery.Deferred(),a=/sap-ushell-enc-test=([^&]*)(&.*)?$/,m,b,e,t=this;sap.ushell.utils.addTime('resolveHashFragment');jQuery.sap.measure.average('sap.ushell.navigation.resolveHashFragment');this.expandCompactHash(h).done(function(H){if(H.indexOf('sap-ushell-enc-test')>=0){m=a.exec(H);if(m){b=m[1];if(b!=='A%20B%2520C'){sap.ushell.Container.getService('Message').error('This navigation is flagged as erroneous because'+' (likely the calling procedure) generated a wrong encoded hash.'+' Please track down the encoding error and make sure to use the CrossApplicationNavigation service for navigation.','Navigation encoding wrong');}H=H.replace(/sap-ushell-enc-test=([^&]*)&/,'');H=H.replace(/(&|\\?)sap-ushell-enc-test=([^&]*)$/,'');}}var P=t._invokeResolveHashChain(H);if(typeof A.processPostResolution==='function'){P=A.processPostResolution(H,P);}P.done(function(o){t._adjustResolutionResultForUi5Components(o);if(jQuery.isPlainObject(o)&&!o.hasOwnProperty('navigationMode')){o.navigationMode=t._getNavigationMode(o);}if(jQuery.isPlainObject(o)&&!o.hasOwnProperty('sap-system')){e=t._getSapSystem(h,o);if(e){o['sap-system']=e;}}jQuery.sap.measure.end('sap.ushell.navigation.resolveHashFragment');sap.ushell.services.AppConfiguration.setCurrentApplication(o);d.resolve(o);}).fail(function(M){d.reject(M);});}).fail(function(M){d.reject(M);});return d.promise();};this._invokeResolveHashChain=function(h){var o=R.map(function(a){return a;});return this._nextResolveHashFragment(o,h).done(function(a){C=a;});};this.baseResolveHashFragment=r.bind(this);this._getGetLinksResolver=function(a){var g;if(this._isClientSideTargetResolutionEnabled()){g=this._getLinksClientSide.bind(this);return{resolver:g,warning:undefined,isGetSemanticObjectLinksCall:false};}g=A&&A.getLinks&&A.getLinks.bind(A);if(g){return{resolver:g,warning:undefined,isGetSemanticObjectLinksCall:false};}g=A&&A.getSemanticObjectLinks&&A.getSemanticObjectLinks.bind(A);if(g){return{resolver:g,warning:a.hasOwnProperty('action')?'the action argument was given, however, NavTargetResolutionAdapter does not implement getLinks method. Action will be ignored.':undefined,isGetSemanticObjectLinksCall:true};}return{resolver:undefined,warning:'Cannot determine resolver for getLinks method',isGetSemanticObjectLinksCall:undefined};};this.getLinks=function(a){var t=this;var b=a.semanticObject,P=a.params,i=a.ignoreFormFactor,o=a.ui5Component,d=a.appStateKey,e=a.compactIntents;var f,h,g=new jQuery.Deferred(),j,k;if(/\\?/.test(b)){throw new Error('Parameter must not be part of semantic object');}f=(P===undefined)?undefined:JSON.parse(JSON.stringify(P));if(d){f=f||{};f['sap-xapp-state']=encodeURIComponent(d);}h={target:{semanticObject:b,action:'dummyAction'},params:f};j=sap.ushell.Container.getService('ShellNavigation');j.hrefForExternal(h,true,o,true).done(function(m){f=m.params||f;var n=t._getGetLinksResolver(a);if(n.warning){jQuery.sap.log.warning('A problem occurred while determining the resolver for getLinks',n.warning,'sap.ushell.services.NavTargetResolution');}k=n.resolver;if(k){var H=function(E){g.reject(E);};var q=function(u){if(e){t._shortenGetSemanticObjectLinksResults(u,o).done(function(v){g.resolve(v);});}else{g.resolve(u);}};if(n.isGetSemanticObjectLinksCall){k(b,f,i).done(q).fail(H);}else{k(a).done(q).fail(H);}}else{g.resolve([]);}}).fail(function(m){g.reject(m);});return g.promise();};this.getDistinctSemanticObjects=function(){if(this._isClientSideTargetResolutionEnabled()){var o=sap.ushell.Container.getService('ClientSideTargetResolution');return o.getDistinctSemanticObjects();}if(A&&A.getDistinctSemanticObjects){return A.getDistinctSemanticObjects.call(A);}jQuery.sap.log.error('Cannot execute getDistinctSemanticObjects method','ClientSideTargetResolution must be enabled or NavTargetResolutionAdapter must implement getDistinctSemanticObjects method','sap.ushell.services.NavTargetResolution');return new jQuery.Deferred().reject('Cannot execute getDistinctSemanticObjects').promise();};this._getLinksClientSide=function(a){var d=new jQuery.Deferred(),o=new jQuery.Deferred(),u=sap.ushell.Container.getService('URLParsing');if((a.params||{}).hasOwnProperty('sap-intent-param')){var b='#'+a.semanticObject+'-'+'dummyAction?'+u.paramsToString(a.params);this.expandCompactHash(b).done(function(e){o.resolve(u.parseShellHash(e).params);}).fail(d.reject.bind(d));}else{o.resolve(a.params);}o.done(function(e){sap.ushell.Container.getService('ClientSideTargetResolution').getLinks(a).done(d.resolve.bind(d)).fail(d.reject.bind(d));});return d.promise();};this._shortenGetSemanticObjectLinksResults=function(g,o){var t=this,a=[],i=0,P=g.length,u=sap.ushell.Container.getService('URLParsing'),b=sap.ushell.Container.getService('ShellNavigation'),d=new jQuery.Deferred();g.forEach(function(e){var U=u.parseShellHash(e.intent),f=b.compactParams(U.params,undefined,o);a.push(f);a[i].done(function(h,j){a[h]={text:e.text,intent:'#'+U.semanticObject+'-'+U.action+'?'+u.paramsToString(j)};}.bind(t,i)).fail(function(h,m){jQuery.sap.log.warning('Cannot shorten GetSemanticObjectLinks result, using expanded form','Failure message: '+m+\"; intent had title ''\"+e.title+\"'' and link ''\"+e.intent+\"'\",'sap.ushell.services.NavTargetResolution');a[h]={text:e.text,intent:e.intent};}.bind(t,i)).always(function(){P--;if(P===0){d.resolve(a);}});i++;});return d.promise();};this.isIntentSupported=function(i){var m={},o;if(this._isClientSideTargetResolutionEnabled()){o=sap.ushell.Container.getService('ClientSideTargetResolution');return o.isIntentSupported(i);}if(A.isIntentSupported){return A.isIntentSupported(i);}i.forEach(function(a){m[a]={supported:undefined};});return(new jQuery.Deferred()).resolve(m).promise();};this.isNavigationSupported=function(i){var u=sap.ushell.Container.getService('URLParsing'),d=new jQuery.Deferred(),a=[];a=i.map(function(o){if(typeof o==='string'){return o;}return'#'+u.constructShellHash(o);});this.isIntentSupported(a).done(function(o){var b=a.map(function(e){return o[e]||{supported:false};});d.resolve(b);}).fail(d.reject.bind(d));return d.promise();};this.registerCustomResolver=function(o){if(typeof o.name!=='string'){jQuery.sap.log.error('NavTargetResolution: Custom Resolver must have name {string} member');return false;}if(typeof o.isApplicable!=='function'){jQuery.sap.log.error('NavTargetResolution: Custom Resolver must have isApplicable member');return false;}if(typeof o.resolveHashFragment!=='function'){jQuery.sap.log.error(\"NavTargetResolution: Custom Resolver must have \\\"resolveHashFragment\\\" member\");return false;}R.push(o);return true;};if(S&&jQuery.isArray(S.resolveLocal)){l=S.resolveLocal.map(function(a){return a.linkId;});this.registerCustomResolver({name:'localResolveNavigationResolver',cleanHash:function(h){if(h===''){return'#';}var a=sap.ushell.Container.getService('URLParsing').parseShellHash(h.substring(1));if(!a){return'#';}h='#'+a.semanticObject+'-'+a.action;return h;},_getIndex:function(o){var h=this.cleanHash(o);return l.indexOf(h.substring(1));},isApplicable:function(o){return this._getIndex(o)>=0;},resolveHashFragment:function(h){var d,i=this._getIndex(h),o,a,b,n;d=new jQuery.Deferred();o=JSON.parse(JSON.stringify(S.resolveLocal[i].resolveTo));a=sap.ushell.Container.getService('URLParsing').parseShellHash(h);if(a&&a.params){n=sap.ushell.Container.getService('URLParsing').paramsToString(a.params);if(n){b=o.url.indexOf('?')>=0;o.url=o.url+(b?'&':'?')+n;}}d.resolve(o);return d.promise();}});}this.registerCustomResolver({name:'StandaloneLocalResolver',aElement:undefined,cleanHash:function(h){if(h===''){return undefined;}var a=sap.ushell.Container.getService('URLParsing').parseShellHash(h.substring(1));if(!a){return undefined;}h='#'+a.semanticObject+'-'+a.action;return h;},isRunStandaloneHash:function(h){return typeof h==='string'&&h.indexOf('#Shell-runStandaloneApp')===0;},isApplicable:function(h){h=this.cleanHash(h);if(!h){return false;}return h==='#Test-url'||h==='#Test-local1'||h==='#Test-local2'||h==='#Test-config'||h==='#Test-clear'||this.isRunStandaloneHash(h);},parseUrl:function(u){if(!this.aElement){this.aElement=window.document.createElement('a');}this.aElement.href=u;return this.aElement;},resolveHashFragment:function(h){var d=new jQuery.Deferred(),b=null,t=this,e,P,L,f,g,n,i,o,F=h,u;h=this.cleanHash(h);if(!h){return false;}b={'#Test-config':{applicationType:'URL',url:'/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/demoapps/FioriSandboxConfigApp',additionalInformation:'SAPUI5.Component=sap.ushell.demoapps.FioriSandboxConfigApp'},'none':{applicationType:'URL',url:'',additionalInformation:''}};function j(K){if(localStorage){return localStorage[K];}return undefined;}function k(o,K){var e={},a;for(a in o){if(o.hasOwnProperty(a)){if(a!==K){e[a]=o[a];}}}return e;}function m(U){if(sap.ushell.utils.calculateOrigin(t.parseUrl(U))!==sap.ushell.utils.calculateOrigin(window.location)){return undefined;}var a=(new URI(t.parseUrl(U).href)).normalizePathname().pathname(),y=jQuery.sap.getObject('runStandaloneAppFolderWhitelist',0,S),E;if(!y){return undefined;}for(E in y){if(y.hasOwnProperty(E)){if(y[E]){if(E==='*'||a.indexOf((new URI(t.parseUrl(E).href)).normalizePathname().pathname())===0){return U;}}}}return undefined;}function q(K){return jQuery.sap.getUriParameters().get(K);}function v(a,K){return(a.params&&a.params[K]&&a.params[K][0])||q(K);}function x(K,V){if(localStorage){localStorage[K]=V;}}if(b[h]){e=b[h];}else if(h==='#Test-clear'){x('sap.ushell.#Test-local1',undefined);x('sap.ushell.#Test-local2',undefined);jQuery.sap.log.info('NavTargetResolution: Local storage keys for #Test have been cleared');e=b['#Test-config'];}else if(this.isRunStandaloneHash(h)){L={applicationType:'URL'};P=sap.ushell.Container.getService('URLParsing').parseShellHash(F);f=(v(P,'sap-ushell-SAPUI5.Component')&&'SAPUI5.Component='+v(P,'sap-ushell-SAPUI5.Component'))||(v(P,'sap-ushell-additionalInformation'));u=v(P,'sap-ushell-url')||'';o=k(P.params,'sap-ushell-SAPUI5.Component');o=k(o,'sap-ushell-additionalInformation');o=k(o,'sap-ushell-url');n=sap.ushell.Container.getService('URLParsing').paramsToString(o);i=u.indexOf('?')>=0;if(n){u=u+(i?(((u[u.length-1]!=='&')&&'&')||''):'?')+n;}L.url=m(u);L.additionalInformation=f;e=L;}else if(h==='#Test-local1'||h==='#Test-local2'||h==='#Test-url'){e=j('sap.ushell.'+h);if(!e||e==='undefined'){L={applicationType:'URL'};}else{L=JSON.parse(e);}if((window.location.hostname==='localhost')||S.allowTestUrlComponentConfig){g='sap-ushell-test-'+h.substring(6);f=q(g+'-additionalInformation');if(f){L.additionalInformation=f;}u=q(g+'-url');if(u){L.url=m(u);}}if(!L.url){jQuery.sap.log.info('NavTargetResolution: No configured app for '+h+' found ( local storage or url params sap-ushell-test-local1-url  sap-ushell-test-local1-additionalInfo  not supplied? ');jQuery.sap.log.info('NavTargetResolution: Defaulting to config app ...\\n');d.reject('URL is not resolvable');return d.promise();}L.url=m(L.url);e=L;}if(e.url===undefined){d.reject('URL is not resolvable');return d.promise();}jQuery.sap.log.info('NavTargetResolution: As URL:  http://localhost:8080/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-ushell-test-local1-url='+encodeURIComponent((e&&e.url)||'')+'&sap-ushell-test-local1-additionalInformation='+encodeURIComponent((e&&e.additionalInfo)||'')+'#Test-local1');jQuery.sap.log.info('NavTargetResolution: Resolving '+h+' to '+JSON.stringify(e));d.resolve(e);return d.promise();}});this.getCurrentResolution=function(){return C;};};}());\n",
	"sap/ushell/services/Notifications.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.Notifications');jQuery.sap.require('sap.ui.thirdparty.datajs');sap.ushell.services.Notifications=function(c,p,s){var m=new sap.ui.model.json.JSONModel(),t=new Date(),S=s&&s.config,r={getNotifications:{},getNotificationsByType:{},getBadgeNumber:{},resetBadgeNumber:{}},w,W=S.webSocketUrl||'/sap/bc/apc/iwngw/notification_push_apc',P=S.pollingIntervalInSeconds||60,u=[],U=[],i=false,C=[],I=false,o=false,E=true,h,d,a=5000,b=6000,f=false,g={NOTIFICATIONS:0,NOTIFICATIONS_BY_TYPE:1,GET_BADGE_NUMBER:2,RESET_BADGE_NUMBER:3},M={PACKAGED_APP:0,FIORI_CLIENT:1,WEB_SOCKET:2,POLLING:3},j,F=false;this.isEnabled=function(){if(!S.enabled||!S.serviceUrl){E=false;if(S.enabled&&!S.serviceUrl){jQuery.sap.log.warning('No serviceUrl was found in the service configuration');}}else{E=true;}return E;};this.init=function(){if((!I)&&(this.isEnabled())){this._setWorkingMode();I=true;}};this.getUnseenNotificationsCount=function(){var D=jQuery.Deferred();D.resolve(m.getProperty('/UnseenCount'));return D.promise();};this.getNotificationsByTypeWithGroupHeaders=function(){var H,R,D=new jQuery.Deferred(),e=this._getRequestURI(g.NOTIFICATIONS_BY_TYPE);R={requestUri:e};if(!this._getHeaderXcsrfToken()){H={};H['X-CSRF-Token']='fetch';R.headers=H;}OData.request(R,function(k){D.resolve(k);},function(k){if(k.response&&k.response.statusCode===200&&k.response.body){D.resolve(k.response.body);}else{D.reject();jQuery.sap.log.error('Notification service - oData executeAction failed: ',k,'sap.ushell.services.Notifications');}});return D.promise();};this.getNotifications=function(){var R,D=jQuery.Deferred();if((j===M.FIORI_CLIENT)||(j===M.PACKAGED_APP)){R=this._readNotificationsData(false);R.done(function(){D.resolve(m.getProperty('/Notifications'));}).fail(function(e){D.reject();});}else{D.resolve(m.getProperty('/Notifications'));}return D.promise();};this.executeBulkAction=function(n,A){var D=new jQuery.Deferred(),e=[],k=[],R={succededNotifications:e,failedNotifications:k},l=[],q=this;n.forEach(function(N,v){var x=new jQuery.Deferred();l.push(x.promise());q.executeAction(N,A).done(function(){e.push(N);x.resolve();}).fail(function(){k.push(N);x.resolve();});});jQuery.when.apply(jQuery,l).always(function(){if(k.length){D.reject(R);}else{D.resolve(R);}});return D.promise();};this.dismissBulkNotifications=function(n){var D=new jQuery.Deferred(),e=[],k=[],R={succededNotifications:e,failedNotifications:k},l=[],q=this;n.forEach(function(N,v){var x=new jQuery.Deferred();l.push(x.promise());q.dismissNotification(N).done(function(){e.push(N);x.resolve();}).fail(function(){k.push(N);x.resolve();});});jQuery.when.apply(jQuery,l).always(function(){if(k.length){D.reject(R);}else{D.resolve(R);}});return D.promise();};this.executeAction=function(n,A){var e=S.serviceUrl+'/ExecuteAction',R={NotificationId:n,ActionId:A},k={requestUri:e,method:'POST',data:R,headers:{'X-Requested-With':'XMLHttpRequest','Content-Type':'application/json','DataServiceVersion':d,'X-CSRF-Token':h}},D=jQuery.Deferred();OData.request(k,function(l){D.resolve();},function(l){if(l.response&&l.response.statusCode===200&&l.response.body){D.resolve();}else{D.reject();jQuery.sap.log.error('Notification service - oData executeAction failed: ',l,'sap.ushell.services.Notifications');}});return D.promise();};this.markRead=function(n){var A=S.serviceUrl+'/MarkRead',R={NotificationId:n},e={requestUri:A,method:'POST',data:R,headers:{'X-Requested-With':'XMLHttpRequest','Content-Type':'application/json','DataServiceVersion':d,'X-CSRF-Token':h}},D=jQuery.Deferred();OData.request(e,function(k){D.resolve();},function(k){D.reject();jQuery.sap.log.error('Notification service - oData markRead failed: ',k,'sap.ushell.services.Notifications');});return D.promise();};this.dismissNotification=function(n){var A=S.serviceUrl+'/Dismiss',R={NotificationId:n},e={requestUri:A,method:'POST',data:R,headers:{'X-Requested-With':'XMLHttpRequest','Content-Type':'application/json','DataServiceVersion':d,'X-CSRF-Token':h}},D=jQuery.Deferred();OData.request(e,function(k){D.resolve();},function(k){D.reject();jQuery.sap.log.error('Notification service - oData dismiss notification failed: ',k,'sap.ushell.services.Notifications');});return D.promise();};this.registerNotificationsUpdateCallback=function(e){u.push(e);};this.registerNotificationCountUpdateCallback=function(e){U.push(e);};this.notificationsSeen=function(){this._setNotificationsAsSeen();};this.isFirstDataLoaded=function(){return F;};this.destroy=function(){o=true;if((j===M.WEB_SOCKET)&&w){w.close();}};this._readNotificationsData=function(e){var k=this,H,R,l,n,D=new jQuery.Deferred(),q=this._getRequestURI(g.NOTIFICATIONS);R={requestUri:q};if(!this._getHeaderXcsrfToken()){H={};H['X-CSRF-Token']='fetch';R.headers=H;}OData.read(R,function(v,x){n=v.results;k._notificationAlert(n);l=k._notificationsDescendingSortBy(n,'CreatedAt');m.setProperty('/Notifications',l);if(e){k._updateNotificationsConsumers();}if(!k._getHeaderXcsrfToken()){h=x.headers['x-csrf-token'];}if(!k._getDataServiceVersion()){d=x.headers.DataServiceVersion;}D.resolve();},function(v){if(v.response&&v.response.statusCode===200&&v.response.body){n=JSON.parse(v.response.body);k._notificationAlert(n.value);l=k._notificationsDescendingSortBy(n.value,'CreatedAt');m.setProperty('/Notifications',l);if(e){k._updateNotificationsConsumers();}if(!k._getHeaderXcsrfToken()){h=v.response.headers['x-csrf-token'];}if(!k._getDataServiceVersion()){d=v.response.headers.DataServiceVersion;}D.resolve();}else{jQuery.sap.log.error('Notification service - oData read notifications failed: ',v.message,'sap.ushell.services.Notifications');D.reject();}});return D.promise();};this._readUnseenNotificationsCount=function(e){var k=this,G=this._getRequestURI(g.GET_BADGE_NUMBER),R={requestUri:G};OData.read(R,function(l,n){m.setProperty('/UnseenCount',n.data.GetBadgeNumber.Number);if(e){k._updateNotificationsCountConsumers();}},function(l){if(l.response&&l.response.statusCode===200&&l.response.body){var n=JSON.parse(l.response.body);m.setProperty('/UnseenCount',n.value);if(e){k._updateNotificationsCountConsumers();}}else{jQuery.sap.log.error('Notification service - oData read unseen notifications count failed: ',l.message,'sap.ushell.services.Notifications');}});};this._setNotificationsAsSeen=function(){var R=this._getRequestURI(g.RESET_BADGE_NUMBER),e={requestUri:R,method:'POST',headers:{'X-Requested-With':'XMLHttpRequest','Content-Type':'application/json','DataServiceVersion':d,'X-CSRF-Token':h}};OData.request(e,function(k,l){},function(k){jQuery.sap.log.error('Notification service - oData reset badge number failed: ',k,'sap.ushell.services.Notifications');});};this._readAllNotificationsData=function(e){var R,D=new jQuery.Deferred();this._readUnseenNotificationsCount(e);R=this._readNotificationsData(e);R.done(function(){D.resolve();}).fail(function(k){D.reject();});return D.promise();};this._getHeaderXcsrfToken=function(){return h;};this._getDataServiceVersion=function(){return d;};this._getRequestURI=function(R){var e,k=encodeURI(this._getConsumedIntents(R));switch(R){case g.NOTIFICATIONS:if(r.getNotifications.basic===undefined){r.getNotifications.basic=S.serviceUrl+'/Notifications?$expand=Actions,NavigationTargetParams&$filter=IsGroupHeader%20eq%20false';}if(this._isIntentBasedConsumption()){if(r.getNotifications.byIntents===undefined){r.getNotifications.byIntents=r.getNotifications.basic.concat('&intents%20eq%20'+k);}return r.getNotifications.byIntents;}return r.getNotifications.basic;case g.NOTIFICATIONS_BY_TYPE:if(r.getNotificationsByType.basic===undefined){r.getNotificationsByType.basic=S.serviceUrl+'/Notifications?$expand=Actions,NavigationTargetParams';}if(this._isIntentBasedConsumption()){if(r.getNotificationsByType.byIntents===undefined){r.getNotificationsByType.byIntents=r.getNotificationsByType.basic.concat('&$filter=intents%20eq%20'+k);}return r.getNotificationsByType.byIntents;}return r.getNotificationsByType.basic;case g.GET_BADGE_NUMBER:if(r.getBadgeNumber.basic===undefined){r.getBadgeNumber.basic=S.serviceUrl+'/GetBadgeNumber()';}if(this._isIntentBasedConsumption()){if(r.getBadgeNumber.byIntents===undefined){r.getBadgeNumber.byIntents=S.serviceUrl+'/GetBadgeCountByIntent('+k+')';}return r.getBadgeNumber.byIntents;}return r.getBadgeNumber.basic;case g.RESET_BADGE_NUMBER:if(r.resetBadgeNumber.basic===undefined){r.resetBadgeNumber.basic=S.serviceUrl+'/ResetBadgeNumber';}return r.resetBadgeNumber.basic;default:e='';}return e;};this._updateNotificationsConsumers=function(){u.forEach(function(e){e();});};this._updateNotificationsCountConsumers=function(){U.forEach(function(e){e();});};this._getModel=function(){return m;};this._getMode=function(){return j;};this._setWorkingMode=function(){var e;if(S.intentBasedConsumption===true){C=this._getIntentsFromConfiguration(S.consumedIntents);if(C.length>0){i=true;}}if(this._isPackagedMode()){j=M.PACKAGED_APP;e=this._getIntentsFromConfiguration(window.fiori_client_appConfig.applications);if(e.length>0){C=e;}if(C.length>0){i=true;}this._registerForPush();this._readAllNotificationsData(true);return;}this._performFirstRead();};this._performFirstRead=function(){var e=this,k,R=this._readAllNotificationsData(true);R.done(function(){k=e._getFioriClientRemainingDelay();if(k<=0){e._fioriClientStep();}else{setTimeout(function(){e._fioriClientStep();},k);}F=true;}).fail(function(l){jQuery.sap.log.error('Notifications oData read failed. Error: '+l);return;});};this._fioriClientStep=function(){if(this._isFioriClientMode()){j=M.FIORI_CLIENT;this._addPushNotificationHandler();}else{this._webSocketStep();}};this._webSocketStep=function(){j=M.WEB_SOCKET;this._establishWebSocketConnection();};this._webSocketRecoveryStep=function(){if(f===false){f=true;setTimeout(function(){this._webSocketStep();}.bind(this),a);}else{this._activatePolling();}};this._activatePolling=function(){var e=this;j=M.POLLING;this._readAllNotificationsData(true);this.timer=setTimeout(e._activatePolling.bind(e,P,false),(P*1000));};this._formatAsDate=function(e){return new Date(e);};this._notificationAlert=function(e){var n,N=[],k=0;for(n in e){if(this.lastNotificationDate&&this._formatAsDate(e[n].CreatedAt)>this.lastNotificationDate){if(e[n].Priority==='HIGH'){N.push(e[n]);}}if(k<this._formatAsDate(e[n].CreatedAt)){k=this._formatAsDate(e[n].CreatedAt);}}if(this.lastNotificationDate&&N&&N.length>0){sap.ui.getCore().getEventBus().publish('sap.ushell.services.Notifications','onNewNotifications',N);}this.lastNotificationDate=k;};this._getFioriClientRemainingDelay=function(){return b-(new Date()-t);};this._establishWebSocketConnection=function(){var k=this,l;jQuery.sap.require('sap.ui.core.ws.SapPcpWebSocket');try{w=new sap.ui.core.ws.SapPcpWebSocket(W,[sap.ui.core.ws.SapPcpWebSocket.SUPPORTED_PROTOCOLS.v10]);w.attachMessage(this,function(n,D){l=n.getParameter('pcpFields');if((l)&&(l.Command)&&(l.Command==='Notification')){k._readAllNotificationsData(true);}});w.attachClose(this,function(n,D){jQuery.sap.log.error('Notifications UShell service WebSocket: attachClose called with code: '+n.mParameters.code+' and reason: '+n.mParameters.reason);if(!o){k._webSocketRecoveryStep();}});w.attachError(this,function(n,D){jQuery.sap.log.error('Notifications UShell service WebSocket: attachError called!');});}catch(e){jQuery.sap.log.error('Exception occurred while creating new sap.ui.core.ws.SapPcpWebSocket. Message: '+e.message);}};this._isFioriClientMode=function(){return!(sap.FioriClient===undefined);};this._isPackagedMode=function(){return(window.fiori_client_appConfig&&window.fiori_client_appConfig.prepackaged===true);};this._getIntentsFromConfiguration=function(e){var T=[],k,l;if(e&&e.length>0){for(l=0;l<e.length;l++){k=e[l].intent;T.push(k);}}return T;};this._handlePushedNotification=function(D){if(!(D===undefined)&&!(D.additionalData===undefined)){if(D.additionalData.foreground){this._readAllNotificationsData(true);}else{this._readAllNotificationsData(true);}}};this._registerForPush=function(){sap.Push.initPush(this._handlePushedNotification.bind(this));};this._addPushNotificationHandler=function(){document.addEventListener('deviceready',this._registerForPush.bind(this),false);};this._isIntentBasedConsumption=function(){return i;};this._getConsumedIntents=function(R){var e='',k;if(!this._isIntentBasedConsumption()){return e;}if(C.length>0){if(R!==g.GET_BADGE_NUMBER){e='&';}for(k=0;k<C.length;k++){if(R===g.GET_BADGE_NUMBER){if(k===0){e=C[k];}else{e=e+','+C[k];}}else{e=e+'NavigationIntent%20eq%20%27'+C[k]+'%27';}}}return e;};this._notificationsAscendingSortBy=function(n,e){n.sort(function(x,y){var v=x[e],k=y[e];if(v===k){v=x.id;k=y.id;}return k>v?-1:1;});return n;};this._notificationsDescendingSortBy=function(n,e){n.sort(function(x,y){var v=x[e],k=y[e];if(v===k){v=x.id;k=y.id;return v>k?-1:1;}if(e==='Priority'){if(v==='HIGH'){return-1;}if(k==='HIGH'){return 1;}if(v==='MEDIUM'){return-1;}return 1;}return v>k?-1:1;});return n;};};sap.ushell.services.Notifications.hasNoAdapter=true;}());\n",
	"sap/ushell/services/PageBuilding.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.PageBuilding');jQuery.sap.require('sap.ui2.srvc.factory');jQuery.sap.require('sap.ui2.srvc.page');sap.ushell.services.PageBuilding=function(a,c){this.getFactory=function(){return a.getFactory();};this.getPage=function(p){return a.getFactory().createPage(p);};this.getPageSet=function(i){var d=new jQuery.Deferred();a.getFactory().createPageSet(i,d.resolve.bind(d),d.reject.bind(d));return d.promise();};};}());\n",
	"sap/ushell/services/Personalization.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.Personalization');jQuery.sap.require('sap.ushell.utils');jQuery.sap.require('sap.ui.core.format.DateFormat');var c='sap.ushell.personalization#',I='ITEM#',v='VARIANTSET#',A='yyyyMMddHHmmss',d='ADMIN#',f='sap-ushell-container-scope',g='sap-ushell-container-storageUTCTimestamp',h='sap-ushell-container-expireUTCTimestamp';function j(C){return c+C;}sap.ushell.services.Personalization=function(a,C,P,b){this._oConfig=b;this._sSeed=jQuery.sap.getObject('config.seed',undefined,b)||'ABC';this._oAdapterWithBackendAdapter=new sap.ushell.services.Personalization.WindowAdapter(this,a);this._oAdapterWindowOnly=new sap.ushell.services.Personalization.WindowAdapter(this,undefined);this._supportsGetWithoutSubsequentLoad=(a&&a.supportsGetWithoutSubsequentLoad===true);this._oContainerMap=new sap.ushell.utils.Map();this._oPendingOperationsMap=new sap.ushell.utils.Map();};sap.ushell.services.Personalization.prototype.SAVE_DEFERRED_DROPPED='Deferred save dropped (OK) - Data superseeded by subsequent save';sap.ushell.services.Personalization.prototype.constants={keyCategory:{'FIXED_KEY':'FIXED_KEY','GENERATED_KEY':'GENERATED_KEY'},writeFrequency:{'HIGH':'HIGH','LOW':'LOW'}};sap.ushell.services.Personalization.prototype.getGeneratedKey=function(){var C='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789',D=new Date().getTime().toString(),r='',s,a=0,i;while(this._sSeed.length<40){this._sSeed=this._sSeed+Math.random().toString().substring(2);}for(i=0;i<3;i=i+1){a=this._sSeed.charCodeAt(i)+31*a;a=a&a;r=r+C[Math.abs(a%36)];}s=Math.random().toString().substring(2)+D+Math.random().toString().substring(2)+D+'1234523413542345698772';for(i=0;i<37;i=i+1){a=this._sSeed.charCodeAt(i)+parseInt(s[i],10)+31*a;a=a&a;r=r+C[Math.abs(a%36)];}return r.substring(0,40);};sap.ushell.services.Personalization.prototype.getPersonalizer=function(P,s,C){return new sap.ushell.services.Personalizer(this,this._oAdapterWithBackendAdapter,P,s,C);};sap.ushell.services.Personalization.prototype.getTransientPersonalizer=function(){return new sap.ushell.services.TransientPersonalizer();};function k(e,a){var b;for(b in a){if(typeof a[b]!=='function'){if(a.hasOwnProperty(b)){if(b===e){return true;}}}}return false;}function l(s){var C=sap.ushell.services.Personalization.prototype.constants,D={validity:Infinity,keyCategory:C.keyCategory.GENERATED_KEY,writeFrequency:C.writeFrequency.HIGH,clientStorageAllowed:false};if(!s){return D;}D.validity=s&&s.validity;if(D.validity===null||D.validity===undefined||typeof D.validity!=='number'){D.validity=Infinity;}if(!(typeof D.validity==='number'&&((D.validity>=0&&D.validity<1000)||D.validity===Infinity))){D.liftime=Infinity;}D.keyCategory=k(s.keyCategory,C.keyCategory)?s.keyCategory:D.keyCategory;D.writeFrequency=k(s.writeFrequency,C.writeFrequency)?s.writeFrequency:D.writeFrequency;if(typeof s.clientStorageAllowed==='boolean'&&(s.clientStorageAllowed===true||s.clientStorageAllowed===false)){D.clientStorageAllowed=s.clientStorageAllowed;}return D;}function m(C,s,_,a){var P='',L,b;if(typeof C!=='string'){throw new sap.ushell.utils.Error('sContainerKey is not a string: sap.ushell.services.Personalization',' ');}if(C.length>40){jQuery.sap.log.error(\"Personalization Service container key (\\\"\"+C+\"\\\") should be less than 40 characters [current :\"+C.length+']');}s=this._adjustScope(s);P=j(C);L=window['sap-ushell-config']&&window['sap-ushell-config'].services&&window['sap-ushell-config'].services.ShellNavigation&&window['sap-ushell-config'].services.ShellNavigation.config&&window['sap-ushell-config'].services.ShellNavigation.config.reload;b=_;if(s&&s.validity===0){if(L){s.validity=1440;}else{b=a;}}return{oAdapterForScope:b,oScope:s,sPrefixedContainerKey:P};}sap.ushell.services.Personalization.prototype.getContainer=function(C,s,a){return this._createContainer(C,s,false,a);};sap.ushell.services.Personalization.prototype.createEmptyContainer=function(C,s,a){return this._createContainer(C,s,true,a);};sap.ushell.services.Personalization.prototype._createContainer=function(C,s,b,a){var D=new jQuery.Deferred(),r,L,e;r=this._adjustScopePickAdapter(C,s,this._oAdapterWithBackendAdapter,this._oAdapterWindowOnly);e=new sap.ushell.services.Personalization.ContextContainer(this,r.oAdapterForScope,r.sPrefixedContainerKey,r.oScope,a);if(b&&this._supportsGetWithoutSubsequentLoad){L=new jQuery.Deferred();L.resolve(e);}else{L=e.load();}L.fail(function(){D.reject();}).done(function(){if(b||e._isExpired()){e.clear();}D.resolve(e);});return D.promise();};sap.ushell.services.Personalization.prototype.delContainer=function(C,s){var D={},P,a='',t=this;s=t._adjustScope(s);a=j(C);D=new jQuery.Deferred();P=t._pendingContainerOperations_cancelAddNext(C,null);P.always(function(){t.getContainer(C,s).fail(function(){t._pendingContainerOperations_cancelAddNext(C,D);D.reject();}).done(function(b){var e;t._pendingContainerOperations_cancelAddNext(C,D);if(s.validity===0){e=t._oAdapterWindowOnly;}else{e=t._oAdapterWithBackendAdapter;}e.delAdapterContainer(a,s).fail(function(){D.reject();}).done(function(){D.resolve();});});});return D.promise();};sap.ushell.services.Personalization.prototype._pendingContainerOperations_flushAddNext=function(C,D){var P,s;P=this._oPendingOperationsMap.get(C);if(!P){P=new jQuery.Deferred();P.resolve();}if(D!==null){this._oPendingOperationsMap.put(C,D);}if(!P||P.state()!=='pending'){return P;}clearTimeout(P._sapTimeoutId);P._sapTimeoutId=undefined;if(typeof P._sapFnSave==='function'){s=P._sapFnSave;P._sapFnSave=undefined;s();}return P;};sap.ushell.services.Personalization.prototype._pendingContainerOperations_cancelAddNext=function(C,D){var P;P=this._oPendingOperationsMap.get(C);if(!P){P=new jQuery.Deferred();P.resolve();}if(D!==null){this._oPendingOperationsMap.put(C,D);}if(!P||P.state()!=='pending'){return P;}if(P._sapTimeoutId){clearTimeout(P._sapTimeoutId);P._sapTimeoutId=undefined;P.resolve(sap.ushell.services.Personalization.prototype.SAVE_DEFERRED_DROPPED);}return P;};sap.ushell.services.Personalization.prototype.getPersonalizationContainer=function(C){var P='',a={},D={};if(typeof C!=='string'){throw new sap.ushell.utils.Error('sContainerKey is not a string: sap.ushell.services.Personalization',' ');}P=j(C);if(this._oContainerMap.containsKey(P)){return this._oContainerMap.get(P).promise();}D=new jQuery.Deferred();a=new sap.ushell.services.PersonalizationContainer(this._oAdapterWithBackendAdapter,P);a.done(function(b){D.resolve(b);}).fail(function(b){D.reject(b);});this._oContainerMap.put(P,D);return D.promise();};sap.ushell.services.Personalization.prototype.delPersonalizationContainer=function(C){var D={},P='',t=this;P=j(C);D=new jQuery.Deferred();this.getPersonalizationContainer(C).fail(function(){D.reject();}).done(function(a){t._oAdapterWithBackendAdapter.delAdapterContainer(P).fail(function(){D.reject();}).done(function(){t._oContainerMap.remove(P);D.resolve();});});return D.promise();};sap.ushell.services.Personalization.prototype._adjustScope=l;sap.ushell.services.Personalization.prototype._adjustScopePickAdapter=m;sap.ushell.services.Personalizer=function(s,a,P,S,C){this._sPersContainer='';this._sPersItem='';this._sPersVariant=null;this._oAdapter=a;this._oService=s;this._oScope=S;this._oComponent=C;if(!P||!P.container||!P.item||typeof P.container!=='string'||typeof P.item!=='string'){throw new sap.ushell.utils.Error('Invalid input for oPersId: sap.ushell.services.Personalization',' ');}this._sPersContainer=P.container;this._sPersItem=P.item;};sap.ushell.services.Personalizer.prototype._getContainer=function(P){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oService.getContainer(P,this._oScope,this._oComponent);}return this._oGetContainerPromise;};sap.ushell.services.Personalizer.prototype.getPersData=function(){var D={},t=this;D=new jQuery.Deferred();this._getContainer(this._sPersContainer).fail(function(){D.reject();}).done(function(C){D.resolve(C.getItemValue(t._sPersItem));});D.fail(function(){jQuery.sap.log.error('Fail to get Personalization data for Personalizer container: '+t._sPersContainer);});return D.promise();};sap.ushell.services.Personalizer.prototype.setPersData=function(V){var D={},t=this;D=new jQuery.Deferred();this._getContainer(this._sPersContainer).fail(function(){D.reject();}).done(function(C){C.setItemValue(t._sPersItem,V);C.save().fail(function(){D.reject();}).done(function(){D.resolve();});});D.fail(function(){jQuery.sap.log.error('Fail to set Personalization data for Personalizer container: '+t._sPersContainer);});return D.promise();};sap.ushell.services.Personalizer.prototype.delPersData=function(){var D={},t=this,M;D=new jQuery.Deferred();this._oService.getPersonalizationContainer(this._sPersContainer).fail(function(){D.reject();}).done(function(C){C.delItem(t._sPersItem);C.save().fail(function(){D.reject();}).done(function(){D.resolve();});});M=D.promise();M.fail(function(){jQuery.sap.log.error('Fail to delete Personalization data for Personalizer container: '+this._sPersContainer);});return M;};sap.ushell.services.TransientPersonalizer=function(){this._oValue=undefined;};sap.ushell.services.TransientPersonalizer.prototype.getPersData=function(){var D;D=new jQuery.Deferred();D.resolve(this._oValue);return D.promise();};sap.ushell.services.TransientPersonalizer.prototype.setPersData=function(V){var D;D=new jQuery.Deferred();this._oValue=V;D.resolve();return D.promise();};sap.ushell.services.TransientPersonalizer.prototype.delPersData=function(){var D;D=new jQuery.Deferred();this._oValue=undefined;D.resolve();return D.promise();};sap.ushell.services.TransientPersonalizer.prototype.setValue=function(V){this._oValue=V;};sap.ushell.services.TransientPersonalizer.prototype.getValue=function(){return this._oValue;};sap.ushell.services.PersonalizationContainer=function(a,C){this._sContainerKey=C;this._oAdapterContainer={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];var D={},t=this;this._init();D=new jQuery.Deferred();if(!this._sContainerKey||typeof this._sContainerKey!=='string'){throw new sap.ushell.utils.Error('Invalid container key: sap.ushell.services.Personalization',' ');}this._oAdapterContainer=a.getAdapterContainer(this._sContainerKey);this.load().fail(function(){D.reject();}).done(function(){D.resolve(t);});return D.promise();};sap.ushell.services.PersonalizationContainer.prototype._init=function(){this._oVariantSetMap={};this._oItemMap={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];this._oVariantSetMap=new sap.ushell.utils.Map();this._oItemMap=new sap.ushell.utils.Map();};function n(O){if(O===undefined){return undefined;}try{return JSON.parse(JSON.stringify(O));}catch(e){return undefined;}}function o(O){if(O===undefined){return undefined;}try{return JSON.parse(O);}catch(e){return undefined;}}sap.ushell.services.PersonalizationContainer.prototype.load=function(){var D={},i=[],V=[],a=[],M=[],t=this;function b(a){var N=[],P=[];N=a.filter(function(s){return s.indexOf(I)!==0;});if(N.length===0){return a;}P=a.filter(function(s){return s.indexOf(I)===0;});N.forEach(function(s){var e={},q='';q=I+s;e=n(t._oAdapterContainer.getItemValue(s));t._oAdapterContainer.setItemValue(q,e);t._oAdapterContainer.delItem(s);if(jQuery.inArray(q,P)===-1){P.push(q);}});return P;}D=new jQuery.Deferred();if(!this._sContainerKey){throw new sap.ushell.utils.Error('Invalid container key: sap.ushell.services.Personalization',' ');}this._init();this._oAdapterContainer.load().fail(function(){D.reject();}).done(function(){i=t._oAdapterContainer.getItemKeys().splice(0);V=i.filter(function(s){return s.indexOf(v)===0;});V.forEach(function(s){var e={};e=new sap.ushell.services.PersonalizationContainerVariantSet(s,t._oAdapterContainer);t._oVariantSetMap.put(s,e);});a=i.filter(function(s){return s.indexOf(v)!==0;});M=b(a);M.forEach(function(s){t._oItemMap.put(s,n(t._oAdapterContainer.getItemValue(s)));});t._aLoadedVariantSetKeys=t._oVariantSetMap.keys().splice(0);t._aLoadedItemKeys=t._oItemMap.keys().splice(0);D.resolve();});return D.promise();};sap.ushell.services.PersonalizationContainer.prototype.save=function(){var s,i;this._serializeVariantSets();this._serializeItems();s=new jQuery.Deferred();function S(){s.resolve();}function a(){s.reject();}try{i=this._oAdapterContainer.save();i.fail(a);i.done(S);}catch(e){s.reject();}return s.promise();};sap.ushell.services.PersonalizationContainer.prototype.getItemKeys=function(){return this._oItemMap.keys().map(function(e){return e.replace(I,'','');});};sap.ushell.services.PersonalizationContainer.prototype.getItemValue=function(i){if(typeof i!=='string'){return undefined;}return this._oItemMap.get(I+i);};sap.ushell.services.PersonalizationContainer.prototype.containsItem=function(i){if(typeof i!=='string'){return undefined;}return this._oItemMap.containsKey(I+i);};sap.ushell.services.PersonalizationContainer.prototype.setItemValue=function(i,a){if(typeof i!=='string'){throw new sap.ushell.utils.Error('Parameter value of sItemKey is not a string: sap.ushell.services.Personalization',' ');}this._oItemMap.put(I+i,a);};sap.ushell.services.PersonalizationContainer.prototype.delItem=function(i){if(typeof i!=='string'){return undefined;}if(this.containsItem(i)){this._oItemMap.remove(I+i);}};sap.ushell.services.PersonalizationContainer.prototype._serializeItems=function(){var i=[],D=[],t=this;i=this._oItemMap.keys();i.forEach(function(s){t._oAdapterContainer.setItemValue(s,n(t._oItemMap.get(s)));});D=this._aLoadedItemKeys.filter(function(s){return!(i.indexOf(s)>-1);});D.forEach(function(s){t._oAdapterContainer.delItem(s);});};sap.ushell.services.PersonalizationContainer.prototype.getVariantSetKeys=function(){var V=[],P=[];P=this._oVariantSetMap.keys();V=P.map(function(e){return e.replace(v,'','');});return V;};sap.ushell.services.PersonalizationContainer.prototype.containsVariantSet=function(V){return this._oVariantSetMap.containsKey(v+V);};sap.ushell.services.PersonalizationContainer.prototype.getVariantSet=function(V){var P,a={};P=v+V;a=this._oVariantSetMap.get(P);return a;};sap.ushell.services.PersonalizationContainer.prototype.addVariantSet=function(V){var e={},a={},P='';if(this.containsVariantSet(V)){throw new sap.ushell.utils.Error(\"Container already contains a variant set with key '\"+V+\"': sap.ushell.services.Personalization\",' ');}P=v+V;e={currentVariant:null,variants:{}};this._oAdapterContainer.setItemValue(P,e);a=new sap.ushell.services.PersonalizationContainerVariantSet(P,this._oAdapterContainer);this._oVariantSetMap.put(P,a);return a;};sap.ushell.services.PersonalizationContainer.prototype._serializeVariantSets=function(){var V=[],D=[],t=this;V=this._oVariantSetMap.keys();V.forEach(function(s){var a={},b={};a=t._oVariantSetMap.get(s);b=a._serialize();t._oAdapterContainer.setItemValue(s,n(b));});D=this._aLoadedVariantSetKeys.filter(function(s){return!(V.indexOf(s)>-1);});D.forEach(function(s){t._oAdapterContainer.delItem(s);});};sap.ushell.services.PersonalizationContainer.prototype.delVariantSet=function(V){var P='';P=v+V;this._oVariantSetMap.remove(P);return this._oAdapterContainer.delItem(P);};sap.ushell.services.Personalization.ContextContainer=function(s,a,C,S,b){this._oService=s;this._sContainerKey=C;this._oAdapterContainer={};this._oScope=S||sap.ushell.services.Personalization.prototype._adjustScope(S);this._aLoadedKeys=[];this._oUnmodifiableContainer=undefined;var e;if(!(b instanceof sap.ui.core.UIComponent)&&b!==undefined){throw new Error('oComponent passed must be a UI5 Component or must be undefined');}if(b&&b.getMetadata&&b.getMetadata().getLibraryName){e=b.getMetadata().getLibraryName();}this.clear();if(!this._sContainerKey||typeof this._sContainerKey!=='string'){throw new sap.ushell.utils.Error('Invalid container key: sap.ushell.services.Personalization',' ');}this._oAdapterContainer=a.getAdapterContainer(this._sContainerKey,this._oScope,e);return this;};sap.ushell.services.Personalization.ContextContainer.prototype.getValidity=function(){return this._oScope.validity;};sap.ushell.services.Personalization.ContextContainer.prototype.clear=function(){this._oItemMap={};this._aLoadedItemKeys=[];this._clear=true;this._oItemMap=new sap.ushell.utils.Map();};sap.ushell.services.Personalization.ContextContainer.prototype.load=function(){var D={},P,t=this;D=new jQuery.Deferred();if(!this._sContainerKey){throw new sap.ushell.utils.Error('Invalid container key: sap.ushell.services.Personalization',' ');}this.clear();P=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,D);P.always(function(){t._oAdapterContainer.load().fail(function(){D.reject();}).done(function(){t._copyFromAdapter();if(t._isExpired()){t.clear();}D.resolve();});});return D.promise();};sap.ushell.services.Personalization.ContextContainer.prototype._copyFromAdapter=function(){var t=this,a;a=t._oAdapterContainer.getItemKeys().splice(0);a.forEach(function(i){t._oItemMap.put(i,JSON.stringify(t._oAdapterContainer.getItemValue(i)));});this._aLoadedItemKeys=t._oItemMap.keys().splice(0);};sap.ushell.services.Personalization.ContextContainer.prototype._isExpired=function(){var F,t,T;if(this.getValidity()===Infinity||this.getValidity()===0){return false;}t=this._getItemValueInternal(d,h);F=sap.ui.core.format.DateFormat.getDateInstance({pattern:A});T=F.format(this._getNow(),true);return t&&T>t;};sap.ushell.services.Personalization.ContextContainer.prototype._getNow=function(){return new Date();};sap.ushell.services.Personalization.ContextContainer.prototype._copyToAdapterUpdatingValidity=function(){var i=[],D=[],t=this,N,F,T,s;if(this._clear){i=this._oAdapterContainer.getItemKeys().splice(0);i.forEach(function(a){t._oAdapterContainer.delItem(a);});this._clear=false;}if(this.getValidity()===Infinity||this.getValidity()===0){this._delItemInternal(d,f);this._delItemInternal(d,h);this._delItemInternal(d,g);}else{F=sap.ui.core.format.DateFormat.getDateInstance({pattern:A});N=this._getNow();s=F.format(N,true);T=F.format(new Date(N.getTime()+this.getValidity()*60000),true);this._setItemValueInternal(d,f,this._oScope);this._setItemValueInternal(d,h,T);this._setItemValueInternal(d,g,s);}i=this._oItemMap.keys();i.forEach(function(a){t._oAdapterContainer.setItemValue(a,o(t._oItemMap.get(a)));});D=this._aLoadedItemKeys.filter(function(a){return!(i.indexOf(a)>-1);});D.forEach(function(a){t._oAdapterContainer.delItem(a);});};sap.ushell.services.Personalization.ContextContainer.prototype.save=function(){var s,P,t=this;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();P=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);P.always(function(){try{t._oAdapterContainer.save().fail(function(){s.reject();}).done(function(){s.resolve();});}catch(e){s.reject();}});return s.promise();};sap.ushell.services.Personalization.ContextContainer.prototype.saveDeferred=function(a){var s,P,t=this;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();P=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);function D(){P.always(function(){try{t._oAdapterContainer.save().fail(function(){s.reject();}).done(function(){s.resolve();});}catch(e){s.reject();}});}s._sapFnSave=D;s._sapTimeoutId=setTimeout(D,a);return s.promise();};sap.ushell.services.Personalization.ContextContainer.prototype.flush=function(){var s,P;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();P=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,s);P.fail(function(){s.reject();}).done(function(){s.resolve();});return s.promise();};sap.ushell.services.Personalization.ContextContainer.prototype.getItemKeys=function(){var F=this._oItemMap.keys().filter(function(s){return s.indexOf(I)===0;});return F.map(function(e){return e.replace(I,'','');});};sap.ushell.services.Personalization.ContextContainer.prototype._getInternalKeys=function(){return this._oItemMap.keys().splice(0);};sap.ushell.services.Personalization.ContextContainer.prototype.getItemValue=function(i){return this._getItemValueInternal(I,i);};sap.ushell.services.Personalization.ContextContainer.prototype._getItemValueInternal=function(P,i){if(typeof i!=='string'||typeof P!=='string'){return undefined;}return o(this._oItemMap.get(P+i));};sap.ushell.services.Personalization.ContextContainer.prototype.containsItem=function(i){if(typeof i!=='string'){return undefined;}return this._oItemMap.containsKey(I+i);};sap.ushell.services.Personalization.ContextContainer.prototype.setItemValue=function(i,a){this._setItemValueInternal(I,i,a);};sap.ushell.services.Personalization.ContextContainer.prototype._setItemValueInternal=function(i,s,a){if(typeof s!=='string'||typeof i!=='string'){throw new sap.ushell.utils.Error('Parameter value of sItemKey or sItemValue is not a string: sap.ushell.services.Personalization',' ');}if(s.length>40){jQuery.sap.log.error(\"Personalization Service item key/variant set name (\\\"\"+s+\"\\\") should be less than 40 characters [current :\"+s.length+']');}this._oItemMap.put(i+s,JSON.stringify(a));};sap.ushell.services.Personalization.ContextContainer.prototype.delItem=function(i){this._delItemInternal(I,i);};sap.ushell.services.Personalization.ContextContainer.prototype._delItemInternal=function(P,i){if(typeof i!=='string'){return undefined;}if(typeof P!=='string'){return undefined;}this._oItemMap.remove(P+i);};sap.ushell.services.Personalization.ContextContainer.prototype.getKey=function(){return this._sContainerKey.substring(c.length);};sap.ushell.services.Personalization.ContextContainer.prototype.getUnmodifiableContainer=function(){var t=this;if(!this._oUnmodifiableContainer){this._oUnmodifiableContainer=(function(){var u={};['clear','delItem','flush','load','save','saveDeferred','setItemValue'].forEach(function(F){u[F]=function(N){throw new sap.ushell.utils.Error('Function '+N+\" can't be called on unmodifiable container\",'sap.ushell.services.Personalization.ContextContainer',' ');}.bind(undefined,F);});['containsItem','getItemKeys','getItemValue','getUnmodifiableContainer','getValidity'].forEach(function(F){if(t[F]){u[F]=t[F].bind(t);}});return u;}());}return this._oUnmodifiableContainer;};sap.ushell.services.Personalization.VariantSetAdapter=function(C){this._oContextContainer=C;};sap.ushell.services.Personalization.VariantSetAdapter.prototype.save=function(){return this._oContextContainer.save();};sap.ushell.services.Personalization.VariantSetAdapter.prototype.getVariantSetKeys=function(){var P=this._oContextContainer._getInternalKeys(),V=[];V=P.map(function(e){return e.replace(v,'','');});return V;};sap.ushell.services.Personalization.VariantSetAdapter.prototype.containsVariantSet=function(V){return this.getVariantSetKeys().indexOf(V)>=0;};sap.ushell.services.Personalization.VariantSetAdapter.prototype.getVariantSet=function(V){var a=this._oContextContainer._getItemValueInternal(v,V);if(!a){return undefined;}return new sap.ushell.services.Personalization.VariantSet(V,this._oContextContainer);};sap.ushell.services.Personalization.VariantSetAdapter.prototype.addVariantSet=function(V){var e={},a={};if(this.containsVariantSet(V)){throw new sap.ushell.utils.Error(\"Container already contains a variant set with key '\"+V+\"': sap.ushell.services.Personalization\",' ');}e={currentVariant:null,variants:{}};this._oContextContainer._setItemValueInternal(v,V,e);a=new sap.ushell.services.Personalization.VariantSet(V,this._oContextContainer);return a;};sap.ushell.services.Personalization.VariantSetAdapter.prototype.delVariantSet=function(V){this._oContextContainer._delItemInternal(v,V);};sap.ushell.services.Personalization.VariantSet=function(V,C){var s,a,b=new sap.ushell.utils.Map(),e=new sap.ushell.utils.Map(),i,q;this._oContextContainer=C;this._sVariantSetKey=V;this._oVariantSetData=this._oContextContainer._getItemValueInternal(v,this._sVariantSetKey);if(!Object.prototype.hasOwnProperty.call(this._oVariantSetData,'currentVariant')){throw new sap.ushell.utils.Error('Corrupt variant set data: sap.ushell.services.Personalization',' ');}if(Object.prototype.hasOwnProperty.call(this._oVariantSetData,'variants')){for(s in this._oVariantSetData.variants){if(Object.prototype.hasOwnProperty.call(this._oVariantSetData.variants,s)){a=this._oVariantSetData.variants[s].name;i=this._oVariantSetData.variants[s].variantData;if(b.containsKey(a)){throw new sap.ushell.utils.Error('Variant name already exists: sap.ushell.services.Personalization',' ');}else{b.put(a,s);q=new sap.ushell.services.PersonalizationContainerVariant(s,a,i);e.put(s,q);}}}}else{throw new sap.ushell.utils.Error('Corrupt variant set data: sap.ushell.services.Personalization',' ');}return this;};sap.ushell.services.Personalization.VariantSet.prototype._getVariantSet=function(){return this._oVariantSetData;};sap.ushell.services.Personalization.VariantSet.prototype._serialize=function(){this._oContextContainer._setItemValueInternal(v,this._sVariantSetKey,this._oVariantSetData);};sap.ushell.services.Personalization.VariantSet.prototype.getCurrentVariantKey=function(){return this._getVariantSet().currentVariant;};sap.ushell.services.Personalization.VariantSet.prototype.setCurrentVariantKey=function(V){this._getVariantSet().currentVariant=V;this._serialize();};sap.ushell.services.Personalization.VariantSet.prototype.getVariantKeys=function(){var V=new sap.ushell.utils.Map(),a=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(a,'variants')){for(s in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,s)){V.put(s,'dummy');}}}else{throw new sap.ushell.utils.Error('Corrupt variant set data: sap.ushell.services.Personalization',' ');}return V.keys();};sap.ushell.services.Personalization.VariantSet.prototype.getVariantNamesAndKeys=function(){var V=new sap.ushell.utils.Map(),a=new sap.ushell.utils.Map(),b=this._getVariantSet(this._sVariantSetKey),s,e;if(Object.prototype.hasOwnProperty.call(b,'variants')){for(s in b.variants){if(Object.prototype.hasOwnProperty.call(b.variants,s)){e=b.variants[s].name;if(V.containsKey(e)){throw new sap.ushell.utils.Error('Variant name already exists: sap.ushell.services.Personalization',' ');}else{V.put(e,s);}a.put(s,'dummy');}}}else{throw new sap.ushell.utils.Error('Corrupt variant set data: sap.ushell.services.Personalization',' ');}return V.entries;};sap.ushell.services.Personalization.VariantSet.prototype.getVariant=function(V){if(typeof V!=='string'){return undefined;}var a=this._getVariantSet(this._sVariantSetKey),s,b,e;if(Object.prototype.hasOwnProperty.call(a,'variants')&&Object.prototype.hasOwnProperty.call(a.variants,V)){s=a.variants[V].name;e=a.variants[V].variantData;b=new sap.ushell.services.Personalization.Variant(this,V,s,e);return b;}return undefined;};sap.ushell.services.Personalization.VariantSet.prototype.getVariantKeyByName=function(V){if(typeof V!=='string'){return undefined;}var a=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(a,'variants')){for(s in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,s)){if(V===a.variants[s].name){return s;}}}}else{throw new sap.ushell.utils.Error('Corrupt variant set data: sap.ushell.services.Personalization',' ');}return undefined;};sap.ushell.services.Personalization.VariantSet.prototype.containsVariant=function(V){var a=this._getVariantSet();if(typeof V!=='string'){return undefined;}return Object.prototype.hasOwnProperty.call(a,'variants')&&Object.prototype.hasOwnProperty.call(a.variants,V);};sap.ushell.services.Personalization.VariantSet.prototype.addVariant=function(V){var K=[],M=0,s='',e={};K=this.getVariantKeys();M=parseInt(K.sort(function(a,b){return a-b;}).reverse()[0],10);s=isNaN(M)?'0':(M+1).toString();if(K.indexOf(s)>=0){throw new sap.ushell.utils.Error(\"Variant key '\"+s+\"' already exists in variant set\"+this._sVariantSetKey+\"': sap.ushell.services.Personalization\",' ');}if(typeof V!=='string'){throw new sap.ushell.utils.Error('Parameter value of sVariantName is not a string: sap.ushell.services.Personalization',' ');}if(this.getVariantKeyByName(V)!==undefined){throw new sap.ushell.utils.Error(\"Variant name '\"+V+\"' already exists in variant set '\"+this._sVariantSetKey+\"' (Old key: '\"+this.getVariantKeyByName(V)+\"' New key: '\"+s+\"') ': sap.ushell.services.Personalization\",' ');}e=new sap.ushell.services.Personalization.Variant(this,s,V);this._getVariantSet(this._sVariantSetKey).variants[s]={name:V,variantData:{}};this._serialize();return e;};sap.ushell.services.Personalization.VariantSet.prototype.delVariant=function(V){var a;if(typeof V!=='string'){return undefined;}a=this._getVariantSet();if(a&&a.variants){delete this._oVariantSetData.variants[V];}this._serialize();};sap.ushell.services.PersonalizationContainerVariantSet=function(V,a){var b,s,e,i,q;this._sVariantSetKey=V;this._oAdapterContainer=a;this._oVariantNameMap=new sap.ushell.utils.Map();this._oVariantMap=new sap.ushell.utils.Map();b=n(this._oAdapterContainer.getItemValue(V));if(b.hasOwnProperty('currentVariant')){this._sCurrentVariantKey=b.currentVariant;}else{throw new sap.ushell.utils.Error('Corrupt variant set data: sap.ushell.services.Personalization',' ');}if(b.hasOwnProperty('variants')){for(s in b.variants){if(b.variants.hasOwnProperty(s)){e=b.variants[s].name;i=b.variants[s].variantData;if(this._oVariantNameMap.containsKey(e)){throw new sap.ushell.utils.Error('Variant name already exists: sap.ushell.services.Personalization',' ');}else{this._oVariantNameMap.put(e,s);q=new sap.ushell.services.PersonalizationContainerVariant(s,e,i);this._oVariantMap.put(s,q);}}}}else{throw new sap.ushell.utils.Error('Corrupt variant set data: sap.ushell.services.Personalization',' ');}return this;};sap.ushell.services.PersonalizationContainerVariantSet.prototype.getCurrentVariantKey=function(){return this._sCurrentVariantKey;};sap.ushell.services.PersonalizationContainerVariantSet.prototype.setCurrentVariantKey=function(V){this._sCurrentVariantKey=V;};sap.ushell.services.PersonalizationContainerVariantSet.prototype.getVariantKeys=function(){return this._oVariantMap.keys();};sap.ushell.services.PersonalizationContainerVariantSet.prototype.getVariantNamesAndKeys=function(){return JSON.parse(JSON.stringify(this._oVariantNameMap.entries));};sap.ushell.services.PersonalizationContainerVariantSet.prototype.getVariant=function(V){if(typeof V!=='string'){return undefined;}return this._oVariantMap.get(V);};sap.ushell.services.PersonalizationContainerVariantSet.prototype.getVariantKeyByName=function(V){if(typeof V!=='string'){return undefined;}return this._oVariantNameMap.get(V);};sap.ushell.services.PersonalizationContainerVariantSet.prototype.containsVariant=function(V){if(typeof V!=='string'){return undefined;}return this._oVariantMap.containsKey(V);};sap.ushell.services.PersonalizationContainerVariantSet.prototype.addVariant=function(V){var M=0,s='',e={};M=parseInt(this._oVariantMap.keys().sort(function(a,b){return a-b;}).reverse()[0],10);s=isNaN(M)?'0':(M+1).toString();if(this._oVariantMap.containsKey(s)){throw new sap.ushell.utils.Error(\"Variant key '\"+s+\"' already exists in variant set\"+this._sVariantSetKey+\"': sap.ushell.services.Personalization\",' ');}if(typeof V!=='string'){throw new sap.ushell.utils.Error('Parameter value of sVariantName is not a string: sap.ushell.services.Personalization',' ');}if(this._oVariantNameMap.containsKey(V)){throw new sap.ushell.utils.Error(\"Variant name '\"+V+\"' already exists in variant set '\"+this._sVariantSetKey+\"' (Old key: '\"+this._oVariantNameMap.get(V)+\"' New key: '\"+s+\"') ': sap.ushell.services.Personalization\",' ');}e=new sap.ushell.services.PersonalizationContainerVariant(s,V);this._oVariantMap.put(s,e);this._oVariantNameMap.put(V,s);return e;};sap.ushell.services.PersonalizationContainerVariantSet.prototype._serialize=function(){var V=[],a={},b={},t=this;a.currentVariant=this._sCurrentVariantKey;V=this.getVariantKeys();V.forEach(function(s){var e={};e=t._oVariantMap.get(s);b[s]=e._serialize();});a.variants=b;return a;};sap.ushell.services.PersonalizationContainerVariantSet.prototype.delVariant=function(V){var a=this._oVariantMap.get(V);if(a){this._oVariantNameMap.remove(a.getVariantName());this._oVariantMap.remove(V);}};sap.ushell.services.Personalization.Variant=function(V,s,a){if(typeof s!=='string'){throw new sap.ushell.utils.Error('Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization',' ');}if(typeof a!=='string'){throw new sap.ushell.utils.Error('Parameter value of sVariantName is not a string: sap.ushell.services.Personalization',' ');}this._oVariantSet=V;this._sVariantKey=s;this._sVariantName=a;};sap.ushell.services.Personalization.Variant.prototype.getVariantKey=function(){return this._sVariantKey;};sap.ushell.services.Personalization.Variant.prototype.getVariantName=function(){return this._sVariantName;};sap.ushell.services.Personalization.Variant.prototype.setVariantName=function(V){var a=this._oVariantSet._getVariantSet(),b;if(typeof V!=='string'){throw new sap.ushell.utils.Error('Parameter value of sVariantName is not a string: sap.ushell.services.Personalization',' ');}if(this._oVariantSet.getVariantKeyByName(V)!==undefined){throw new sap.ushell.utils.Error(\"Variant with name '\"+V+\"' already exists in variant set '\"+this._oVariantSet._sVariantSetKey+\"': sap.ushell.services.Personalization\",' ');}if(Object.prototype.hasOwnProperty.call(a,'variants')&&Object.prototype.hasOwnProperty.call(a.variants,this._sVariantKey)){b=a.variants[this._sVariantKey];b.name=V;this._sVariantName=V;this._oVariantSet._serialize();}else{throw new sap.ushell.utils.Error('Variant does not longer exist',' ');}};sap.ushell.services.Personalization.Variant.prototype.getItemValue=function(i){if(typeof i!=='string'){return undefined;}var a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(a,i)&&n(a[i]);};sap.ushell.services.Personalization.Variant.prototype.setItemValue=function(i,a){if(typeof i!=='string'){throw new sap.ushell.utils.Error('Parameter value of sItemKey is not a string: sap.ushell.services.Personalization',' ');}var b,e=this._oVariantSet._getVariantSet().variants&&this._oVariantSet._getVariantSet().variants[this._sVariantKey];if(!e){throw new sap.ushell.utils.Error('Variant does not longer exist',' ');}if(!e.variantData){e.variantData={};}b=e.variantData;b[i]=n(a);this._oVariantSet._serialize();};sap.ushell.services.Personalization.Variant.prototype.containsItem=function(i){if(typeof i!=='string'){return undefined;}var a=this.oAccess.variantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(a,i);};sap.ushell.services.Personalization.Variant.prototype.getItemKeys=function(){var a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData,i,b=[];for(i in a){if(Object.prototype.hasOwnProperty.call(a,i)){b.push(i);}}b.sort();return b;};sap.ushell.services.Personalization.Variant.prototype.delItem=function(i){if(typeof i!=='string'){return undefined;}var a=this.oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;delete a[i];this.oVariantSet._serialize();};sap.ushell.services.PersonalizationContainerVariant=function(V,s,a){if(typeof V!=='string'){throw new sap.ushell.utils.Error('Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization',' ');}if(typeof s!=='string'){throw new sap.ushell.utils.Error('Parameter value of sVariantName is not a string: sap.ushell.services.Personalization',' ');}if(a&&typeof a!=='object'){throw new sap.ushell.utils.Error('Parameter value of sVariantName is not a string: sap.ushell.services.Personalization',' ');}this._oVariantKey=V;this._oVariantName=s;this._oItemMap=new sap.ushell.utils.Map();this._oItemMap.entries=a||{};};sap.ushell.services.PersonalizationContainerVariant.prototype.getVariantKey=function(){return this._oVariantKey;};sap.ushell.services.PersonalizationContainerVariant.prototype.getVariantName=function(){return this._oVariantName;};sap.ushell.services.PersonalizationContainerVariant.prototype.getItemValue=function(i){if(typeof i!=='string'){return undefined;}return this._oItemMap.get(i);};sap.ushell.services.PersonalizationContainerVariant.prototype.setItemValue=function(i,a){if(typeof i!=='string'){throw new sap.ushell.utils.Error('Parameter value of sItemKey is not a string: sap.ushell.services.Personalization',' ');}return this._oItemMap.put(i,a);};sap.ushell.services.PersonalizationContainerVariant.prototype.containsItem=function(i){if(typeof i!=='string'){return undefined;}return this._oItemMap.containsKey(i);};sap.ushell.services.PersonalizationContainerVariant.prototype.getItemKeys=function(){return this._oItemMap.keys();};sap.ushell.services.PersonalizationContainerVariant.prototype.delItem=function(i){if(typeof i!=='string'){return undefined;}return this._oItemMap.remove(i);};sap.ushell.services.PersonalizationContainerVariant.prototype._serialize=function(){var i=[],V={},a={},t=this;V.name=this.getVariantName();i=this._oItemMap.keys();i.forEach(function(s){a[s]=t.getItemValue(s);});V.variantData=a;return V;};sap.ushell.services.Personalization.WindowAdapter=function(s,b){this._oBackendAdapter=b;if(!sap.ushell.services.Personalization.WindowAdapter.prototype.data){sap.ushell.services.Personalization.WindowAdapter.prototype.data={};}};sap.ushell.services.Personalization.WindowAdapter.prototype.getAdapterContainer=function(C,s,a){var b=this._oBackendAdapter&&this._oBackendAdapter.getAdapterContainer(C,s,a);return new sap.ushell.services.Personalization.WindowAdapterContainer(C,s,b);};sap.ushell.services.Personalization.WindowAdapter.prototype.delAdapterContainer=function(C,s){var D=new jQuery.Deferred();delete sap.ushell.services.Personalization.WindowAdapter.prototype.data[C];if(this._oBackendAdapter){this._oBackendAdapter.delAdapterContainer(C,s).done(function(){D.resolve();}).fail(function(M){D.reject(M);});}else{D.resolve();}return D.promise();};sap.ushell.services.Personalization.WindowAdapterContainer=function(C,s,b){this._oBackendContainer=b;this._oItemMap=new sap.ushell.utils.Map();this._sContainerKey=C;};function p(C){var i,a=C.getItemKeys();for(i=0;i<a.length;i=i+1){C.delItem(a[i]);}}sap.ushell.services.Personalization.WindowAdapterContainer.prototype.load=function(){var D=new jQuery.Deferred(),i,a,t=this;if(sap.ushell.services.Personalization.WindowAdapter.prototype.data[this._sContainerKey]){this._oItemMap.entries=n(sap.ushell.services.Personalization.WindowAdapter.prototype.data[this._sContainerKey]);if(this._oBackendContainer){p(this._oBackendContainer);a=this.getItemKeys();for(i=0;i<a.length;i=i+1){this._oBackendContainer.setItemValue(a[i],this._oItemMap.get(a[i]));}}D.resolve();}else{if(this._oBackendContainer){this._oBackendContainer.load().done(function(){a=t._oBackendContainer.getItemKeys();for(i=0;i<a.length;i=i+1){t.setItemValue(a[i],t._oBackendContainer.getItemValue(a[i]));}sap.ushell.services.Personalization.WindowAdapter.prototype.data[t._sContainerKey]=n(t._oItemMap.entries);D.resolve();}).fail(function(M){D.reject(M);});}else{sap.ushell.services.Personalization.WindowAdapter.prototype.data[this._sContainerKey]={};D.resolve();}}return D.promise();};sap.ushell.services.Personalization.WindowAdapterContainer.prototype.save=function(){var D=new jQuery.Deferred();sap.ushell.services.Personalization.WindowAdapter.prototype.data[this._sContainerKey]=n(this._oItemMap.entries);if(this._oBackendContainer){this._oBackendContainer.save().done(function(){D.resolve();}).fail(function(M){D.reject(M);});}else{D.resolve();}return D.promise();};sap.ushell.services.Personalization.WindowAdapterContainer.prototype.getItemKeys=function(){return this._oItemMap.keys();};sap.ushell.services.Personalization.WindowAdapterContainer.prototype.containsItem=function(i){this._oItemMap.containsKey(i);};sap.ushell.services.Personalization.WindowAdapterContainer.prototype.getItemValue=function(i){return this._oItemMap.get(i);};sap.ushell.services.Personalization.WindowAdapterContainer.prototype.setItemValue=function(i,a){this._oItemMap.put(i,a);if(this._oBackendContainer){this._oBackendContainer.setItemValue(i,a);}};sap.ushell.services.Personalization.WindowAdapterContainer.prototype.delItem=function(i){this._oItemMap.remove(i);if(this._oBackendContainer){this._oBackendContainer.delItem(i);}};}());\n",
	"sap/ushell/services/PluginManager.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.PluginManager');var S='sap.ushell.services.PluginManager',a='sap-ushell-plugin-type',b='RendererExtensions',s=[b,'UserDefaults'];sap.ushell.services.PluginManager=function(){var t=this;this._oPluginCollection={};this._oCategoryLoadingProgress={};this._mInitializedComponentPromise={};s.forEach(function(p){t._oPluginCollection[p]={};t._oCategoryLoadingProgress[p]=new jQuery.Deferred();});this._handlePluginCreation=function(c,p,P){var t=this,o=(t._oPluginCollection[c])[p];try{if(o.hasOwnProperty('component')){if(t._mInitializedComponentPromise.hasOwnProperty(o.component)){t._mInitializedComponentPromise[o.component].then(function(){t._instantiateComponent(o,P);},function(){t._instantiateComponent(o,P);});}else{t._mInitializedComponentPromise[o.component]=t._instantiateComponent(o,P);}}else{jQuery.sap.log.error('Invalid plugin configuration. The plugin '+p+' must contain a <component> key',S);}}catch(e){jQuery.sap.log.error('Error while loading bootstrap plugin: '+o.component||'',S);if(P){P.reject(e);}}};this._instantiateComponent=function(p,P){var c=jQuery.extend(true,{},p),A={ui5ComponentName:c.component,url:c.url};c.name=c.component;delete c.component;A.applicationDependencies=c;if(c.config){A.applicationConfiguration=c.config;delete c.config;}A.loadDefaultDependencies=false;return sap.ushell.Container.getService('Ui5ComponentLoader').createComponent(A).done(function(l){if(P){P.resolve();}}).fail(function(e){e=e||'';jQuery.sap.log.error('Cannot create UI5 plugin component: '+e,e.stack,S);if(P){P.reject(e);}});};this.getSupportedPluginCategories=function(){return jQuery.extend(true,[],s);};this.getRegisteredPlugins=function(){return jQuery.extend(true,{},this._oPluginCollection);};this.registerPlugins=function(p){var t=this,c,P;if(!p){return;}sap.ushell.utils.addTime('PluginManager.registerPlugins');Object.keys(p).sort().forEach(function(d){c=p[d]||{};P=c.config||{};if(c&&c.hasOwnProperty('module')){jQuery.sap.log.error('Plugin '+d+' cannot get registered, because the module mechanism for plugins is not valid anymore. Plugins need to be defined as SAPUI5 components.',S);jQuery.sap.require(c.module);return;}if(P&&P.hasOwnProperty(a)){if(jQuery.inArray(P[a],s)!==-1){(t._oPluginCollection[P[a]])[d]=jQuery.extend(true,{},p[d]);}else{jQuery.sap.log.warning('Plugin '+d+' will not be inserted into the plugin collection of the PluginManager, because of unsupported category '+P[a],S);}}else{(t._oPluginCollection[b])[d]=jQuery.extend(true,{},p[d]);}});};this.getPluginLoadingPromise=function(p){if(this._oCategoryLoadingProgress.hasOwnProperty(p)){return this._oCategoryLoadingProgress[p].promise();}};this.loadPlugins=function(p){var t=this,P,o;sap.ushell.utils.addTime('PluginManager.startLoadPlugins['+p+']');if(jQuery.inArray(p,s)!==-1){if(t._oCategoryLoadingProgress[p].pluginLoadingTriggered!==undefined){return t._oCategoryLoadingProgress[p].promise();}else{t._oCategoryLoadingProgress[p].pluginLoadingTriggered=true;}if(Object.keys(t._oPluginCollection[p]).length>0){P=[];Object.keys(t._oPluginCollection[p]).forEach(function(c){o=new jQuery.Deferred();P.push(o.promise());t._handlePluginCreation(p,c,o);});jQuery.when.apply(undefined,P).done(function(){sap.ushell.utils.addTime('PluginManager.endLoadPlugins['+p+']');t._oCategoryLoadingProgress[p].resolve();}).fail(t._oCategoryLoadingProgress[p].reject.bind());}else{t._oCategoryLoadingProgress[p].resolve();}}else{jQuery.sap.log.error('Plugins with category '+p+' cannot be loaded by the PluginManager',S);t._oCategoryLoadingProgress[p].reject('Plugins with category '+p+' cannot be loaded by the PluginManager');}return t._oCategoryLoadingProgress[p].promise();};};sap.ushell.services.PluginManager.hasNoAdapter=true;}());\n",
	"sap/ushell/services/Search.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.Search');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.ushell.services.Search=function(a,c){this.init.apply(this,arguments);};sap.ushell.services.Search.prototype={init:function(a,c,p,S){this.oAdapter=a;this.oContainerInterface=c;this.oLpdService=sap.ushell.Container.getService('LaunchPage');this.optimizedAppSearch=false;if(S&&S.config&&S.config.optimizedAppSearch!==undefined){this.optimizedAppSearch=S.config.optimizedAppSearch;}},isSearchAvailable:function(){return this.oAdapter.isSearchAvailable();},getSina:function(){return this.oAdapter.getSina();},isValid:function(t){if(this.oLpdService.isTileIntentSupported){return this.oLpdService.isTileIntentSupported(t);}else{return true;}},_getCatalogTiles:function(){var t=this;if(t.allTilesDeferred){return t.allTilesDeferred;}var c=[];t.allTilesDeferred=t.oLpdService.getCatalogs().then(function(d){var D=[];for(var i=0;i<d.length;i++){D.push(t.oLpdService.getCatalogTiles(d[i]));}var o=t._getPersonalizedGroupTiles(new jQuery.Deferred());D.push(o);return jQuery.when.apply(jQuery,D).then(function(){var T=arguments;for(var i=0;i<T.length;i++){var f=T[i];for(var j=0;j<f.length;j++){try{var g,h,k,l,m,S,I;g=f[j];if(!t.optimizedAppSearch){h=t.oLpdService.getCatalogTileView(g);}k=t.oLpdService.getCatalogTileKeywords(g);l=t.oLpdService.getCatalogTileTargetURL(g);m=t.oLpdService.getCatalogTilePreviewTitle(g)||t.oLpdService.getCatalogTileTitle(g);S=t.oLpdService.getCatalogTileSize(g);I=t.oLpdService.getCatalogTilePreviewIcon(g)||'sap-icon://business-objects-experience';if(t.isValid(g)){c.push({tile:g,keywords:k,url:l,title:m||'',icon:I,size:S});}if(!t.optimizedAppSearch){h.destroy();}if(g.getContract){var p=g.getContract('preview');if(p){p.setEnabled(false);}}}catch(e){jQuery.sap.log.error(e);}}}c=t._removeDuplicateTiles(c);c.sort(function(a,b){if(a.title.toUpperCase()<b.title.toUpperCase()){return-1;}if(a.title.toUpperCase()>b.title.toUpperCase()){return 1;}return 0;});return c;});});return t.allTilesDeferred;},_getPersonalizedGroupTiles:function(d){var t=this;t.oLpdService.getGroups().then(function(g){var D=[];var G;for(var j=0;j<g.length;j++){G=t.oLpdService.getGroupTiles(g[j])||[];D=D.concat(G);}d.resolve(D);});return d.promise();},_removeDuplicateTiles:function(t){var I={},k,u=[];for(var i=0;i<t.length;++i){var T=t[i];if(!T.url){continue;}var f=new RegExp('DisplayFactSheet','i');if(f.test(T.url)){continue;}k=T.title+T.url;if(I[k]===undefined){I[k]=T;u.push(T);}}return u;},_searchTiles:function(p){var S=p.searchTerm;var c=p.aCatalogTiles;var t=p.top||10;var i=p.skip||0;var m=0;var b=p.searchInKeywords||false;var f=[],T;var a=function(T,h){m+=1;if(m<=i){return;}if(m>(i+t)){return;}var r=jQuery.extend({},T);r.tooltip=r.title;if(h.length>0){r.label=h;}else{r.label=T.title;}f.push(r);};var o;if(p.bSuggestion===true){o=new s.Tester(S);}else{o=new s.Tester(S,'',true);}var d;for(var j=0;j<c.length;j++){T=c[j];d=o.test(T.title);if(d.bMatch===true){a(T,d.sHighlightedText);continue;}if(b&&T.keywords&&Array.isArray(T.keywords)){d=o.test(T.keywords.join(' '));if(d.bMatch===true){a(T,'');}}}return{totalResults:m,searchTerm:S,getElements:function(){return f;}};},queryApplications:function(p){var t=this;return this._getCatalogTiles().then(function(c){p.aCatalogTiles=c;return t._searchTiles(p);});},queryApplicationsByTarget:function(S,r){this._getCatalogTiles().done(function(c){var R=[];for(var j=0,l=S&&S.length||0;j<l;j++){var o=S[j],u=sap.ushell.Container.getService('URLParsing');for(var i=0;i<c.length;i++){var t=u.parseShellHash(c[i].url);if(t&&(t.semanticObject===o.semanticObject)&&(t.action===o.action)){R.push(c[i]);break;}}}r(R);});}};}());\n",
	"sap/ushell/services/ShellNavigation.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ui.thirdparty.signals');jQuery.sap.require('sap.ui.thirdparty.hasher');jQuery.sap.require('sap.ui.core.routing.HashChanger');jQuery.sap.declare('sap.ushell.services.ShellNavigation');function c(){var h=window.history.length;var m={onHashChanged:function(){if(window.history.length!==h){m.onHashChanged=function(){};m.isInitialNavigation=function(){return false;};}},isInitialNavigation:function(){return true;}};return m;}sap.ui.core.routing.HashChanger.extend('sap.ushell.services.ShellNavigationHashChanger',{constructor:function(C){var u;this.oServiceConfig=C;if(jQuery.sap.getUriParameters().get('sap-ushell-reload')){if(jQuery.sap.getUriParameters().get('sap-ushell-reload')==='X'||jQuery.sap.getUriParameters().get('sap-ushell-reload')==='true'){u=true;}else{u=false;}}if(u!==undefined){if(typeof this.oServiceConfig!=='object'){this.oServiceConfig={};}this.oServiceConfig.reload=u;}sap.ui.core.routing.HashChanger.apply(this);this._initializedByShellNav=false;this.oURLShortening=sap.ushell.Container.getService('URLShortening');this.privfnShellCallback=null;this.privappHashPrefix='&/';this.privhashPrefix='#';this.aNavigationFilters=[];this.NavigationFilterStatus={Continue:'Continue',Custom:'Custom',Abandon:'Abandon'};this.privgetCurrentShellHash=function(){var r=this.privsplitHash(hasher.getHash());return{hash:'#'+((r&&r.shellPart)?r.shellPart:'')};};this.privconstructHash=function(A){var o=this.privgetCurrentShellHash();o.hash=o.hash+A;return o;};this.privconstructShellHash=function(s){return sap.ushell.Container.getService('URLParsing').constructShellHash(s);};this.privsplitHash=function(h){var s,o,A;if(h===undefined||h===null||h===''){return{shellPart:null,appSpecificRoute:null,intent:null,params:null};}s=sap.ushell.Container.getService('URLParsing').parseShellHash(h);if(s===undefined||s===null){return null;}o=(s.params&&!jQuery.isEmptyObject(s.params))?s.params:null;A=s.appSpecificRoute;s.appSpecificRoute=undefined;return{shellPart:this.privstripLeadingHash(this.privconstructShellHash(s))||null,appSpecificRoute:A||null,intent:(s.semanticObject&&s.action&&(s.semanticObject+'-'+s.action+(s.contextRaw||'')))||null,params:o};};this.privsetHash=function(f,A,w){hasher.prependHash='';f=this.privstripLeadingHash(f);A=A||'';if(w===undefined){w=true;}if(w){this.fireEvent('hashSet',{sHash:A});hasher.setHash(f);}else{this.fireEvent('hashReplaced',{sHash:A});hasher.replaceHash(f);}};this.privstripLeadingHash=function(h){if(h[0]==='#'){return h.substring(1);}return h;};this.registerNavigationFilter=function(f){if(typeof f!=='function'){throw new Error('fnFilter must be a function');}this.aNavigationFilters.push(f);};function b(o,t){this.oAppState=undefined;this.oPromise=(new jQuery.Deferred()).resolve();this.getNextKey=function(){this.oAppState=sap.ushell.Container.getService('AppState').createEmptyAppState(o,t);return this.oAppState.getKey();};this.store=function(v){var n;this.oAppState.setData(v);n=this.oAppState.save();this.oPromise=jQuery.when(this.oPromise,n);};this.getPromise=function(){return this.oPromise;};}this.compactParams=function(p,r,o,t){var U=sap.ushell.Container.getService('URLParsing'),s,d,R,P,D=new jQuery.Deferred(),h=U.constructShellHash({'target':{'semanticObject':'SO','action':'action'},'params':p},s);if(p===undefined||Object.keys(p).length===0){return D.resolve(p).promise();}s=new b(o,t);R=this.oURLShortening.compactHash(h,r,s);d=U.parseParameters(R.hash.match(/\\?.*/)[0]);P=s.getPromise();P.done(function(){D.resolve(d);}).fail(function(m){D.reject(m);});return D;};this.hrefForExternal=function(A,v,o,d){var r=this.hrefForExternalNoEnc(A,v,o,d);function e(R,v){if(v===true){R.hash=encodeURI(R.hash);}else{R=encodeURI(R);}return R;}if(!d){return e(r,v);}var D=new jQuery.Deferred();r.done(function(R){D.resolve(e(R,v));}).fail(D.reject.bind(D));return D;};this.hrefForExternalNoEnc=function(A,v,o,d){var t,p,D,s=new b(o),r;t=this.privhrefForExternalNoEnc(A,s);if(v===true){r={hash:t.hash,params:t.params,skippedParams:t.skippedParams};}else{r=t.hash;}if(!d){return r;}p=s.getPromise();D=new jQuery.Deferred();p.done(function(){D.resolve(r);}).fail(function(m){D.reject(m);});return D;};this.privhrefForExternalNoEnc=function(A,s){var r;if(A===undefined){return this.privgetCurrentShellHash();}if(A&&A.target&&(typeof A.target.semanticObject==='string'||typeof A.target.shellHash==='string')){r='#'+this.privconstructShellHash(A);return this.oURLShortening.compactHash(r,undefined,s);}return this.privgetCurrentShellHash();};this.privgetAppHash=function(A){var s,o;if(A&&A.target&&(typeof A.target.shellHash==='string')){o=sap.ushell.Container.getService('URLParsing').parseShellHash(A.target.shellHash);s=o&&o.appSpecificRoute;s=s&&s.substring(2);}return s;};this.hrefForAppSpecificHash=function(A){return encodeURI(this.privconstructHash(this.privappHashPrefix+A).hash);};this.toExternal=function(A,o,w){var h,s=new b(o),d;h=this.privhrefForExternalNoEnc(A,s).hash;d=this.privgetAppHash(A);this.privsetHash(h,d,w);};this.toAppHash=function(A,w){var h=this.privconstructHash(this.privappHashPrefix+A).hash;this.privsetHash(h,A,w);};}});sap.ushell.services.ShellNavigationHashChanger.prototype.initShellNavigation=function(s){this._oInitialNavigationManager=c();if(this._initializedByShellNav){jQuery.sap.log.info('initShellNavigation already called on this ShellNavigationHashChanger instance.');return false;}this.privfnShellCallback=s;hasher.changed.add(this.treatHashChanged,this);if(!hasher.isActive()){hasher.initialized.addOnce(this.treatHashChanged,this);hasher.init();}else{this.treatHashChanged(hasher.getHash());}this._initializedByShellNav=true;return true;};sap.ushell.services.ShellNavigationHashChanger.prototype.init=function(){if(this._initialized){jQuery.sap.log.info('init already called on this ShellNavigationHashChanger instance.');return false;}var n=this.privsplitHash(hasher.getHash()),A=n&&(n.appSpecificRoute||'  ').substring(2);this.fireEvent('hashChanged',{newHash:A});this._initialized=true;return true;};sap.ushell.services.ShellNavigationHashChanger.prototype.treatHashChanged=function(n,o){if(this.inAbandonFlow){return;}this._oInitialNavigationManager.onHashChanged();var A,O,N,b,s,d,f,g,E,i,F;n=this.oURLShortening.expandHash(n);o=this.oURLShortening.expandHash(o);N=this.privsplitHash(n);b=this.privsplitHash(o);if(!N){E=new Error(\"Illegal new hash - cannot be parsed: '\"+n+\"'\");this.fireEvent('shellHashChanged',{newShellHash:n,newAppSpecificRoute:null,oldShellHash:(b?b.shellPart:o),error:E});this.privfnShellCallback(n,null,(b?b.shellPart:o),(b?b.appSpecificRoute:null),E);return;}else{s=N.intent;}if(!b){b={shellPart:o,appSpecificRoute:null};}else{d=b.intent;}for(i=0;i<this.aNavigationFilters.length;i=i+1){try{F=this.aNavigationFilters[i].call(undefined,n,o);if(F===this.NavigationFilterStatus.Custom){return;}if(F===this.NavigationFilterStatus.Abandon){this.inAbandonFlow=true;hasher.replaceHash(o);this.inAbandonFlow=false;return;}}catch(e){jQuery.sap.log.error('Error while calling Navigation filter! ignoring filter...',e.message,'sap.ushell.services.ShellNavigation');}}if(s===d&&(o!==undefined)){if(!this._parametersChanged(N.params,b.params)){A=(N.appSpecificRoute||'  ').substring(2);O=(b.appSpecificRoute||'  ').substring(2);jQuery.sap.log.info(\"Inner App Hash changed from '\"+O+\"' to '\"+A+\"'\",null,'sap.ushell.services.ShellNavigation');this.fireEvent('hashChanged',{newHash:A,oldHash:O});return;}if(this.hasListeners('shellHashParameterChanged')){f=sap.ushell.Container.getService('URLParsing').paramsToString(N.params);g=sap.ushell.Container.getService('URLParsing').paramsToString(b.params);jQuery.sap.log.info(\"Shell hash parameters changed from '\"+g+\"' to '\"+f+\"'\",null,'sap.ushell.services.ShellNavigation');this.fireEvent('shellHashParameterChanged',{oNewParameters:N.params,oOldParameters:b.params});return;}}function r(h){window.location.hash='#'+encodeURI(h);window.location.reload();}if(o!==undefined){if(this.oServiceConfig&&this.oServiceConfig.reload){r(n);}}jQuery.sap.log.info(\"Outer shell hash changed from '\"+o+\"' to '\"+n+\"'\",null,'sap.ushell.services.ShellNavigation');this.fireEvent('shellHashChanged',{newShellHash:N.shellPart,newAppSpecificRoute:N.appSpecificRoute,oldShellHash:b.shellPart,oldAppSpecificRoute:b.appSpecificRoute});this.privfnShellCallback(N.shellPart,N.appSpecificRoute,b.shellPart,b.appSpecificRoute);};function a(){jQuery.sap.require('sap.m.MessageBox');sap.m.MessageBox.show('Due to a configuration change on the server,\\nclient and server are out of sync.\\n We strongly recommend to reload the page soon.\\nReload page now?',{icon:sap.m.MessageBox.Icon.ERROR,title:'Client out of sync with server.',actions:[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.NO],onClose:function(A){if(A===sap.m.MessageBox.Action.YES){window.setTimeout(function(){window.location.reload();},0);}}});}sap.ushell.services.ShellNavigationHashChanger.prototype.isInitialNavigation=function(){return this._oInitialNavigationManager&&this._oInitialNavigationManager.isInitialNavigation();};sap.ushell.services.ShellNavigationHashChanger.prototype._parametersChanged=function(n,o){return!jQuery.sap.equal(n,o);};sap.ushell.services.ShellNavigationHashChanger.prototype.setHash=function(h){this.toAppHash(h,true);};sap.ushell.services.ShellNavigationHashChanger.prototype.replaceHash=function(h){this.toAppHash(h,false);};sap.ushell.services.ShellNavigationHashChanger.prototype.getHash=function(){return this.getAppHash();};sap.ushell.services.ShellNavigationHashChanger.prototype.getAppHash=function(){var n=this.privsplitHash(hasher.getHash()),A=n&&(n.appSpecificRoute||'  ').substring(2);return A;};sap.ushell.services.ShellNavigationHashChanger.prototype.destroy=function(){hasher.changed.remove(this.treatHashChanged,this);sap.ui.core.routing.HashChanger.prototype.destroy.apply(this,arguments);};function S(C,p,s){var o=s&&s.config;this.hashChanger=new sap.ushell.services.ShellNavigationHashChanger(o);this.isInitialNavigation=function(){return this.hashChanger.isInitialNavigation();};this.hrefForExternal=function(A,v,b,d){return this.hashChanger.hrefForExternal(A,v,b,d);};this.hrefForAppSpecificHash=function(A){return this.hashChanger.hrefForAppSpecificHash(A);};this.compactParams=function(P,r,b,t){return this.hashChanger.compactParams(P,r,b,t);};this.toExternal=function(A,b,w){this.hashChanger.toExternal(A,b,w);};this.toAppHash=function(A,w){this.hashChanger.toAppHash(A,w);};this.init=function(f){hasher.prependHash='';sap.ui.core.routing.HashChanger.replaceHashChanger(this.hashChanger);var b=sap.ui.getCore().getEventBus();b.subscribe('sap.ui.core.UnrecoverableClientStateCorruption','RequestReload',a);this.hashChanger.initShellNavigation(f);return this;};this.NavigationFilterStatus=this.hashChanger.NavigationFilterStatus;this.registerNavigationFilter=function(f){this.hashChanger.registerNavigationFilter(f);};}sap.ushell.services.ShellNavigation=S;sap.ushell.services.ShellNavigation.hasNoAdapter=true;}());\n",
	"sap/ushell/services/SupportTicket.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.SupportTicket');sap.ushell.services.SupportTicket=function(a,c,p,s){var S=(s&&s.config)||{};this.createTicket=function(o){return a.createTicket(o);};this.isEnabled=function(){return S.enabled===true;};};}());\n",
	"sap/ushell/services/URLParsing.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.URLParsing');sap.ushell.services.URLParsing=function(){var r=/^(([A-Za-z0-9_\\/]+)-([A-Za-z0-9_\\/\\-]+)(~([A-Z0-9a-z=+\\/]+))?)?([?]([^&]|(&[^\\/]))*&?)?$/;this.getShellHash=function(s){var a=/[^#]*#(([^&]|&[^\\/])*)(&\\/.*)?/,m=a.exec(s);if(m){return m[1];}return undefined;};this.getHash=function(u){var a=/#(.*)/,m=a.exec(u);if(m){return m[1];}return undefined;};this.isIntentUrl=function(u){var a=/^#/,t,l,T,L,h,p;if(typeof u!=='string'){return false;}if(!a.test(u)){t=(new URI(u)).normalize();T=t.protocol()+'://'+t.host()+t.pathname();l=(new URI(window.location.href)).normalize();L=l.protocol()+'://'+l.host()+l.pathname();if(T!==L){return false;}}h=this.getHash(u);if(!h){return false;}p=this.parseShellHash(h);if(p&&p.semanticObject&&p.action){return true;}return false;};this.parseParameters=function(p){if(!p){return{};}return jQuery.sap.getUriParameters(p).mParams||{};};this.paramsToString=function(p){return this.privparamsToString(p,'&','=');};this.privparamsToString=function(p,d,A){var f,a,k,i,l,s='';f='';a=null;l=[];for(a in p){if(p.hasOwnProperty(a)){l.push(a);}}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];if(jQuery.isArray(p[a])){for(i=0;i<p[a].length;i=i+1){s+=f+encodeURIComponent(a)+A+encodeURIComponent(p[a][i]);f=d;}}else{s+=f+encodeURIComponent(a)+A+encodeURIComponent(p[a]);f=d;}}return s;};this.parseShellHash=function(h){var a=r,s,S,A,c,p,m,d;if(!h){return undefined;}s=this.splitHash(h);m=a.exec(s.shellPart);if(m){S=m[2];A=m[3];c=m[5];p=m[6];d=this.parseParameters(p);return{semanticObject:S,action:A,contextRaw:c,params:d,appSpecificRoute:s.appSpecificRoute};}if(s.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:s.appSpecificRoute};}return undefined;};this.privstripLeadingHash=function(h){if(h[0]==='#'){return h.substring(1);}return h;};this.splitHash=function(h){var a=/^(?:#|)([\\S\\s]*?)(&\\/[\\S\\s]*)?$/,m,s,A;if(h===undefined||h===null||h===''){return{};}m=a.exec(h);s=m[1];if(s!==''&&!r.test(s)){return{};}A=m[2];if(s||A){return{shellPart:s,appSpecificRoute:A};}return{};};function b(u,a){if(a){return u+a;}return u;}this.constructShellHash=function(s){var c,p,d,i=null,k,l=[],f='?',a=null;if(!s){return'';}if(!s.target){s.target={};s.target.semanticObject=s.semanticObject;s.target.action=s.action;s.target.contextRaw=s.contextRaw;}if(s.target.shellHash||s.target.shellHash===''){d=this.privstripLeadingHash(s.target.shellHash);return b(d,s.appSpecificRoute);}if(s.target.semanticObject&&s.target.action){c=s.target.semanticObject+'-'+s.target.action.replace(/[?].*/,'');}else{return b('',s.appSpecificRoute);}if(s.target.contextRaw){c+='~'+s.target.contextRaw;}f='?';a=null;l=[];for(a in s.params){if(s.params.hasOwnProperty(a)){l.push(a);}}p=(s.params&&JSON.parse(JSON.stringify(s.params)))||{};if(s.appStateKey){l.push('sap-xapp-state');p['sap-xapp-state']=s.appStateKey;}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];if(jQuery.isArray(p[a])){if(p[a].length>1){jQuery.sap.log.error('Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!');}for(i=0;i<p[a].length;i=i+1){c+=f+encodeURIComponent(a)+'='+encodeURIComponent(p[a][i]);f='&';}}else{c+=f+encodeURIComponent(a)+'='+encodeURIComponent(p[a]);f='&';}}return b(c,s.appSpecificRoute);};this.addSystemToServiceUrl=function(s,c){var R,C,S=c;if(!s||s.indexOf('/')!==0||s.indexOf('//')===0){throw new sap.ushell.utils.Error('Invalid URL: '+s,'sap.ushell.services.URLParsing');}if(c instanceof sap.ui.core.Component){C=(typeof c.getComponentData==='function')&&c.getComponentData();S=C&&C.startupParameters&&C.startupParameters['sap-system']&&C.startupParameters['sap-system'][0];}R=sap.ushell.Container.getService('NavTargetResolution').getCurrentResolution();if(!S&&!c&&R&&R.url){S=jQuery.sap.getUriParameters(R.url).get('sap-system');}if(/^[^?]*(;mo([\\/;?]|$))/.test(s)){s=s;}else if(/^[^?]*(;o=([\\/;?]|$))/.test(s)){s=s.replace(/;o=([\\/;?]|$)/,(S?';o='+S:'')+'$1');}else if(!/^[^?]*;o=/.test(s)&&S){s=s.replace(/(\\/[^?]*?)(\\/$|$|(\\/?\\?.*))/,'$1;o='+S+'$2');}sap.ushell.Container.addRemoteSystemForServiceUrl(s);return s;};};sap.ushell.services.URLParsing.hasNoAdapter=true;}());\n",
	"sap/ushell/services/URLShortening.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.URLShortening');jQuery.sap.require('jquery.sap.storage');sap.ushell.services.URLShortening=function(){var t=this;this.ABBREV_PARAM_NAME='sap-intent-param';this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this._replaceSapXAppStateRawWithKeyIfRequired=function(v,s){var V,k;if(typeof v!=='string'||/^[A-Z0-9]{40}$/.test(v)){return v;}try{V=JSON.parse(v);}catch(e){jQuery.sap.log.error('This cannot happen: sap-xapp-state parameter value is neither key nor JSON parseable');return v;}k=s&&s.getNextKey();this._storeValue(k,V,s);return k;};this.compactHash=function(u,r,s){var S,k,R,p,U,a,b=[this.ABBREV_PARAM_NAME,'sap-system','sap-xapp-state'];if(r){r.forEach(function(A){b.push(A);});}U=sap.ushell.Container.getService('URLParsing');S=U.parseShellHash(u);if(!S){jQuery.sap.log.error('the URL is not compliant and may break in a future version '+u);}p='';if(u.charAt(0)==='#'){p='#';}var v=S&&S.params&&S.params['sap-xapp-state']&&S.params['sap-xapp-state'][0];if(v){S.params['sap-xapp-state']=[this._replaceSapXAppStateRawWithKeyIfRequired(v,s)];u=p+U.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:S.params,appSpecificRoute:S.appSpecificRoute});}if(typeof u!=='string'||u.length<t.URL_LENGTH_LIMIT){return{hash:u};}if(S&&((S.params&&S.params[t.ABBREV_PARAM_NAME]))){return{hash:u};}k=s&&s.getNextKey();R=this._splitParameters(S.params,b,k);if(!R.key){return{hash:u};}a=U.paramsToString(R.tailParams);this._storeValue(R.key,a,s);return{hash:p+U.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:R.headParams,appSpecificRoute:S.appSpecificRoute}),params:R.headParams,skippedParams:R.tailParams};};this.checkHashLength=function(u){var s,r,p,U;if(typeof u!=='string'||u.length<t.URL_LENGTH_LIMIT){return{hash:u};}U=sap.ushell.Container.getService('URLParsing');s=U.parseShellHash(u);p='';if(u.charAt(0)==='#'){p='#';}r=this._splitParameters(s.params,[],'DummyKey');if(r.key){jQuery.sap.log.error('Application startup parameter length exceeds '+t.URL_PARAMS_LENGTH_LIMIT+' characters, truncation occured!');delete r.headParams[this.ABBREV_PARAM_NAME];return{hash:p+U.constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:r.headParams,appSpecificRoute:s.appSpecificRoute}),params:r.headParams,skippedParams:r.tailParams};}jQuery.sap.log.error('URL exceeds dangerous limits, arbitrary shortening or worse may occur!');return{hash:u};};this._findIndex=function(a,T){var r=a.indexOf(T);if(r>=0){return r;}r=-1;a.every(function(A,i){if(A.length>0&&A[A.length-1]==='*'&&A.substring(0,A.length-1)===T.substring(0,A.length-1)){r=i;return false;}return true;});return r;};this._cmpByList=function(a,A,b){var i,c;a=a||[];if(A===b){return 0;}i=this._findIndex(a,A);c=this._findIndex(a,b);if(i>=0&&c>=0){if((i-c)!==0){return i-c;}if(A<b){return-1;}if(A>b){return+1;}return 0;}if(i>=0){return-1;}if(c>=0){return+1;}if(A<b){return-1;}return+1;};this._sortByPriority=function(l,r){return l.sort(this._cmpByList.bind(this,r));};this._splitParameters=function(p,r,K){var a,i,k,h={},b={},c=false,o,d,e=0,f,l=[];if(!K||typeof K!=='string'){throw new Error('sap.ushell.services.URLShortening._splitParameters: key must be supplied!');}for(a in p){if(Object.prototype.hasOwnProperty.call(p,a)){l.push(a);}}l.sort();l=this._sortByPriority(l,r);for(k=0;k<l.length;k=k+1){a=l[k];o=p[a];if(o.length>1){jQuery.sap.log.error('Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!');}for(i=0;i<o.length;i=i+1){d=p[a][i];f=a.length+d.length;if(f+e>this.URL_PARAMS_LENGTH_LIMIT){if(b[a]){b[a].push(d);}else{b[a]=[d];}c=true;}else if(h[a]){h[a].push(d);}else{h[a]=[d];}e=e+f+1;}}if(c){h[this.ABBREV_PARAM_NAME]=[K];}return{key:K,tailParams:b,headParams:h};};this.expandHash=function(u){var r=function(k){return t._retrieveValue(k);};return this.expandParamGivenRetrievalFunction(u,this.ABBREV_PARAM_NAME,r);};this.expandParamGivenRetrievalFunction=function(u,p,r){var s,v,k,a,b;if(typeof u!=='string'){return u;}s=sap.ushell.Container.getService('URLParsing').parseShellHash(u);k=s&&s.params&&s.params[p]&&s.params[p][0];if(!k){return u;}a='';if(u.charAt(0)==='#'){a='#';}v=r(k);if(!v){return u;}b=this._blendParameters(s.params,p,v);return a+sap.ushell.Container.getService('URLParsing').constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:b,appSpecificRoute:s.appSpecificRoute});};this._retrieveValue=function(k){return undefined;};this._storeValue=function(k,v,s){if(s&&typeof s.store==='function'){s.store(v);}};this._blendParameters=function(p,P,v){var n=sap.ushell.Container.getService('URLParsing').parseParameters('?'+v),a;delete p[P];for(a in n){if(Object.prototype.hasOwnProperty.call(n,a)){if(p[a]){p[a]=p[a].concat(n[a]);}else{p[a]=n[a];}}}return p;};};sap.ushell.services.URLShortening.hasNoAdapter=true;}());\n",
	"sap/ushell/services/Ui5ComponentLoader.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.Ui5ComponentLoader');var U=function(c){this._oComponent=c;};U.onBeforeApplicationInstanceCreated=function(){jQuery.sap.require('sap.ushell.Fiori20AdapterTest');};U.prototype.getInstance=function(){return this._oComponent;};U.prototype.getMetadata=function(){return this._oComponent.getMetadata();};sap.ushell.services.Ui5ComponentLoader=function(c,p,C){this._oConfig=(C&&C.config)||{};function g(u){var P=jQuery.sap.getUriParameters(u).mParams,x=P['sap-xapp-state'],r;delete P['sap-xapp-state'];r={startupParameters:P};if(x){r['sap-xapp-state']=x;}return r;}this.createComponent=function(a,P,w){var d=new jQuery.Deferred(),s=window['sap-ui-debug']?'sap/fiori/core-ext-light-dbg.js':'sap/fiori/core-ext-light.js',b=a&&a.url,o,l=true,e=jQuery.sap.isDeclared('sap.fiori.core',true)||jQuery.sap.isDeclared('sap.fiori.core-ext-light',true),L=true,A=a&&a.applicationDependencies||{},i,u,f,h=(this._oConfig&&this._oConfig.hasOwnProperty('amendedLoading'))?this._oConfig.amendedLoading:true,j=false;if(jQuery.isArray(A.messages)){A.messages.forEach(function(m){var S=String.prototype.toLowerCase.call(m.severity||'');S=['trace','debug','info','warning','error','fatal'].indexOf(S)!==-1?S:'error';jQuery.sap.log[S](m.text,m.details,A.name);});}if(a&&a.ui5ComponentName){o=jQuery.extend(true,{},a.applicationDependencies);f=jQuery.extend(true,{startupParameters:{}},a.componentData);if(b){i=b.indexOf('?');if(i>=0){u=g(b);f.startupParameters=u.startupParameters;if(u['sap-xapp-state']){f['sap-xapp-state']=u['sap-xapp-state'];}b=b.slice(0,i);}}if(a.applicationConfiguration){f.config=jQuery.extend(true,{},a.applicationConfiguration);}o.componentData=f;if(a.hasOwnProperty('loadDefaultDependencies')){L=a.loadDefaultDependencies;delete a.loadDefaultDependencies;}if(this._oConfig&&this._oConfig.hasOwnProperty('loadDefaultDependencies')){L=L&&this._oConfig.loadDefaultDependencies;}L=L&&h;if(!o.asyncHints){o.asyncHints=L?{'libs':['sap.ca.scfld.md','sap.ca.ui','sap.me','sap.ui.unified']}:{};}if(a.hasOwnProperty('loadCoreExt')){l=a.loadCoreExt;delete a.loadCoreExt;}if(l&&h&&!e){o.asyncHints.preloadBundles=o.asyncHints.preloadBundles||[];o.asyncHints.preloadBundles.push(s);}j=l&&(l||e||(h===false));if(w){o.asyncHints.waitFor=w;}if(!o.name){o.name=a.ui5ComponentName;}if(b){o.url=b;}o.async=true;if(P){o.id='application-'+P.semanticObject+'-'+P.action+'-component';U.onBeforeApplicationInstanceCreated(o);}sap.ui.component(o).then(function(k){a.componentHandle=new U(k);if(j){a.coreResourcesFullyLoaded=true;}d.resolve(a);},function(E){var m=\"Failed to load UI5 component with properties '\"+JSON.stringify(o)+\"'.\",D;if(typeof E==='object'&&E.stack){D=E.stack;}else{D=E;}jQuery.sap.log.error(m,D,'sap.ushell.services.Ui5ComponentLoader');d.reject(E);});}else{d.resolve(a);}return d.promise();};};sap.ushell.services.Ui5ComponentLoader.hasNoAdapter=true;})();\n",
	"sap/ushell/services/UsageAnalytics.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.UsageAnalytics');sap.ushell.services.UsageAnalytics=function(c,p,S){var o=(S&&S.config)||{},D=[],a=false,i=false,l,I;window.oCustomProperties={};this.setLegalText=function(t){l=t;if(I){this.init(I.usageAnalyticsTitle,I.iAgree,I.iDisagree,I.remindMeLater);}};this.getLegalText=function(){return l;};this.setTrackUsageAnalytics=function(s){var d=jQuery.Deferred();var u;var b=s;var f=sap.ushell.Container.getUser().getTrackUsageAnalytics();try{var g=sap.ushell.Container.getService('UserInfo');if(f!==b){sap.ushell.Container.getUser().setTrackUsageAnalytics(b);u=g.updateUserPreferences(sap.ushell.Container.getUser());u.done(function(){sap.ushell.Container.getUser().resetChangedProperties();if(!i&&b){this.start();}else if(i&&b===false){window.swa.disable();}else if(i&&b){window.swa.enable();}d.resolve();}.bind(this));u.fail(function(E){sap.ushell.Container.getUser().setTrackUsageAnalytics(f);sap.ushell.Container.getUser().resetChangedProperties();jQuery.sap.log.error(E);d.reject(E);});}else{d.resolve();}}catch(e){jQuery.sap.log.error('Getting UserInfo service failed.');d.reject('Getting UserInfo service failed.');}return d.promise();};this.showLegalPopup=function(){setTimeout(function(){jQuery.sap.require('sap.m.MessageBox');var b=new sap.ui.layout.VerticalLayout('usageAnalyticsPopUpLayout',{content:[new sap.m.Text({text:l})]});var d=new sap.m.Dialog('agreementMessageBox',{title:I.usageAnalyticsTitle,type:'Message',stretch:sap.ui.Device.system.phone,buttons:[new sap.m.Button('remindMeLaterButton',{text:I.remindMeLater,press:function(){d.close();}}),new sap.m.Button('iAgreeButton',{text:I.iAgree,type:'Accept',press:function(){sap.ushell.Container.getService('UsageAnalytics').setTrackUsageAnalytics(true);d.close();}}),new sap.m.Button('iDisagreeButton',{text:I.iDisagree,press:function(){sap.ushell.Container.getService('UsageAnalytics').setTrackUsageAnalytics(false);d.close();}})],afterClose:function(){d.destroy();}}).addStyleClass('sapUshellUsageAnalyticsPopUp');d.addContent(b);d.open();},100);};this.systemEnabled=function(){if(!o.enabled||!o.pubToken||(this.isSetUsageAnalyticsPermitted()&&!l)){if(!o.pubToken){jQuery.sap.log.warning('No valid pubToken was found in the service configuration');}if(!l){jQuery.sap.log.warning('No Legal text message found.');}return false;}else{return true;}};this.userEnabled=function(){var u=sap.ushell.Container.getUser();if(!this.systemEnabled()){return false;}return u.getTrackUsageAnalytics();};this.start=function(){sap.ui.getCore().getEventBus().publish('sap.ushell.services.UsageAnalytics','usageAnalyticsStarted');this._initUsageAnalyticsLogging();i=true;window.swa.custom2={ref:sap.ui.getCore().getConfiguration().getLanguage()};};this.init=function(u,s,b,r){I={usageAnalyticsTitle:u,iAgree:s,iDisagree:b,remindMeLater:r};if(this.systemEnabled()&&!i){if(!this.isSetUsageAnalyticsPermitted()){this.start();}else if(l){if(this.userEnabled()===true){this.start();}else if(this.userEnabled()===null||this.userEnabled()===undefined){this.showLegalPopup();}}}};this.setCustomAttributes=function(C){var b,P='attribute',s,d='custom',e,f,F='customFunction';if(!this.userEnabled()&&this.isSetUsageAnalyticsPermitted()){return;}for(b=1;b<6;b++){e=d.concat(b+4);if(window.swa[e]!==undefined){continue;}s=P+b;if(C[s]===undefined){continue;}if(jQuery.isFunction(C[s])){f=F+b;window[f]=C[s];window.swa[e]={ref:f};}else{window.swa[e]={ref:C[s]};}}};this.logCustomEvent=function(e,b,A){if(!this.userEnabled()&&this.isSetUsageAnalyticsPermitted()){return;}if(!this._isAnalyticsScriptLoaded()){this._addDelayedEvent(e,b,A);return;}if(A){A.unshift(b);A.unshift(e);window.swa.trackCustomEvent.apply(window.swa.trackCustomEvent,A);}else{window.swa.trackCustomEvent(e,b);}};window._trackingScriptsLoaded=function(){var b,t;a=true;for(b=0;b<D.length;b++){t=D[b];this.logCustomEvent(t.eventType,t.customEventValue,t.aAdditionalValues);}D=null;};this._initUsageAnalyticsLogging=function(){if(window.swa===undefined){window.swa={};}window.swa.pubToken=o.pubToken;window.swa.baseUrl=o.baseUrl;window.swa.bannerEnabled=false;window.swa.loggingEnabled=true;window.swa.visitorCookieTimeout=63113852;window.swa.dntLevel=1;window.swa.trackerReadyCallback=window._trackingScriptsLoaded.bind(this);window.swa.clicksEnabled=(o.logClickEvents===false?false:true);window.swa.pageLoadEnabled=(o.logPageLoadEvents===false?false:true);this._handlingTrackingScripts();};this._handlingTrackingScripts=function(){var d=document,g=d.createElement('script'),s=d.getElementsByTagName('script')[0];g.onerror=function(){jQuery.sap.log.warning('SWA scripts not loaded!');};g.type='text/javascript';g.defer=true;g.async=true;g.src=window.swa.baseUrl+'js/privacy.js';s.parentNode.insertBefore(g,s);};this._isAnalyticsScriptLoaded=function(){return a;};this.isSetUsageAnalyticsPermitted=function(){if(o.setUsageAnalyticsPermitted===undefined){return true;}return o.setUsageAnalyticsPermitted;};this._addDelayedEvent=function(e,b,A){var d={eventType:e,customEventValue:b,aAdditionalValues:A};D.push(d);};};sap.ushell.services.UsageAnalytics.hasNoAdapter=true;}());\n",
	"sap/ushell/services/UserDefaultParameterPersistence.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.UserDefaultParameterPersistence');var v=['value','extendedValue','noEdit','alwaysAskPlugin','_shellData','pluginData'];sap.ushell.services.UserDefaultParameterPersistence=function(a,c,p,C){this._oAdapter=a;this._oData={};};sap.ushell.services.UserDefaultParameterPersistence.prototype._cleanseValue=function(V){var r=jQuery.extend(true,{},V),a;for(a in r){if(r.hasOwnProperty(a)){if(v.indexOf(a)<0){delete r[a];}}}return r;};sap.ushell.services.UserDefaultParameterPersistence.prototype._testValue=function(V){return true;};sap.ushell.services.UserDefaultParameterPersistence.prototype.loadParameterValue=function(p){var d=new jQuery.Deferred(),t=this;if(this._oData[p]){d.resolve(this._oData[p]);}else{this._oAdapter.loadParameterValue(p).done(function(V){var c=t._cleanseValue(V);if(t._testValue(c)){d.resolve(c);}else{jQuery.sap.log.error('flawed value returned from persistence');d.reject('flawed value returned from persistence');}}).fail(d.reject.bind(this));}return d.promise();};sap.ushell.services.UserDefaultParameterPersistence.prototype.saveParameterValue=function(p,V){var d,c;if(!V){return this.deleteParameter(p);}c=this._cleanseValue(V);d=new jQuery.Deferred();if(!this._testValue(c)||(V&&V.noStore===true)){return d.resolve().promise();}this._oData[p]=c;return this._oAdapter.saveParameterValue(p,c);};sap.ushell.services.UserDefaultParameterPersistence.prototype.deleteParameter=function(p){delete this._oData[p];return this._oAdapter.deleteParameter(p);};sap.ushell.services.UserDefaultParameterPersistence.prototype.getStoredParameterNames=function(){var d=new jQuery.Deferred();this._oAdapter.getStoredParameterNames().done(function(r){r.sort();d.resolve(r);}).fail(d.reject.bind(d));return d.promise();};}());\n",
	"sap/ushell/services/UserDefaultParameters.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.UserDefaultParameters');var e='valueStored';var r=['value','noEdit','noStore','extendedValue','alwaysAskPlugin'];sap.ushell.services.UserDefaultParameters=function(a,c,p,C){this._aPlugins=[];this._oUserDefaultParametersNames=undefined;var t=this,s=new sap.ui.base.EventProvider();function g(P){var v=(typeof P.getComponentData==='function'&&P.getComponentData()&&P.getComponentData().config&&P.getComponentData().config['sap-priority'])||0;if(typeof v!=='number'||isNaN(v)){return 0;}return v;}this._insertPluginOrdered=function(P,o){var f=g(o),i,h;for(i=0;(i<P.length)&&o;++i){h=g(P[i]);if(o&&(f>h)){P.splice(i,0,o);o=undefined;}}if(o){P.push(o);}return P;};this.registerPlugin=function(P){this._aPlugins=this._insertPluginOrdered(this._aPlugins,P);};function b(i,P,f,v,D){if(i>=P.length){D.resolve(v);return;}if(typeof P[i].getUserDefault!=='function'){b(i+1,P,f,v,D);return;}P[i].getUserDefault(f,v).done(function(n){if(n){b(i+1,P,f,n,D);}else{b(i+1,P,f,v,D);}}).fail(function(){jQuery.sap.log.error(\"invocation of getUserDefault(\\\"\"+f+\"\\\") for plugin \"+t._getComponentNameOfPlugin(P[i])+' rejected.',null,'sap.ushell.services.UserDefaultParameters');b(i+1,P,f,v,D);});return;}function d(o){return jQuery.extend(true,{},o);}this._getStoreDate=function(){return new Date().toString();};this._storeValue=function(P,v,f){var h=new jQuery.Deferred();var D=new jQuery.Deferred();if(f&&v.extendedValue){sap.ushell.Container.getService('ClientSideTargetResolution').getUserDefaultParameterNames(true).done(function(o){var E=t._extractKeyArrays(o);var i=E.extended;D.resolve(i.indexOf(P)<0);}).fail(function(){D.resolve(false);});}else{D.resolve(false);}D.done(function(R){if(R){v.extendedValue=undefined;}if(f&&t._isInitial(v)){v=undefined;}else{v._shellData=jQuery.extend(true,{storeDate:t._getStoreDate()},v._shellData);}sap.ushell.Container.getService('UserDefaultParameterPersistence').saveParameterValue(P,v).always(function(){var S={parameterName:P,parameterValue:d(v)};s.fireEvent(e,S);h.resolve();});});return h.promise();};this._getCurrentValue=function(P){var D=new jQuery.Deferred();sap.ushell.Container.getService('UserDefaultParameterPersistence').loadParameterValue(P).done(function(v){D.resolve(v);}).fail(function(){D.resolve({value:undefined});});return D.promise();};this._isNeverSetValue=function(v){return!v||(!v._shellData&&!v.value&&!v.extendedValue);};this._isInitial=function(v){return!(v&&(v.value||v.extendedValue));};this._isStoreDistinct=function(v,V){return!r.every(function(m){return(v[m]===V[m]||jQuery.sap.equal(v[m],V[m]));});};this._getUserDefaultParameterNames=function(){if(!this._oUserDefaultParametersNames){this._oUserDefaultParametersNames=new jQuery.Deferred();sap.ushell.Container.getService('ClientSideTargetResolution').getUserDefaultParameterNames(true).done(function(P){var E=t._extractKeyArrays(P);var f=E.extended;var A=E.allParameters;var m=t._arrayToObject(A);if(m.length===0){t._oUserDefaultParametersNames.resolve({});}else{t._oUserDefaultParametersNames.resolve({aAllParameterNames:A,aExtendedParameterNames:f,oMetadataObject:m});}});}return this._oUserDefaultParametersNames.promise();};this._isRelevantParameter=function(P){var D=new jQuery.Deferred();this._getUserDefaultParameterNames().done(function(R){if(R.aAllParameterNames&&R.aAllParameterNames.indexOf(P)!==-1){D.resolve();}else{D.reject();}});return D.promise();};this.hasRelevantMaintainableParameters=function(){var t=this,R=new jQuery.Deferred(),h=false,G=[];t._getUserDefaultParameterNames().done(function(P){if(!jQuery.isEmptyObject(P)&&P.aAllParameterNames){P.aAllParameterNames.forEach(function(f){var o=t.getValue(f);G.push(o);o.done(function(v){if(v&&!v.hasOwnProperty('noEdit')){h=true;return;}});});jQuery.when.apply(undefined,G).done(function(){R.resolve(h);}).fail(function(){R.resolve();});}else{R.resolve();}});return R.promise();};this.getValue=function(P){var t=this,D=new jQuery.Deferred(),o=new jQuery.Deferred();this._isRelevantParameter(P).fail(function(){D.resolve({});}).done(function(){t._getCurrentValue(P).done(function(v){var O;if(!v){v={};}O=d(v);if((v._shellData||!t._isInitial(v))&&!v.noStore&&!v.alwaysAskPlugin){o.resolve(v);}else{sap.ushell.Container.getService('PluginManager').loadPlugins('UserDefaults').done(function(){b(0,t._aPlugins,P,v,o);}).fail(function(){jQuery.sap.log.error('Cannot get value for '+P+'. One or more plugins could not be loaded.');o.reject('Initialization of plugins failed');});}o.done(function(n){if(t._isNeverSetValue(O)||t._isStoreDistinct(O,n)){t._storeValue(P,n);}D.resolve(n);}).fail(D.reject.bind(D));});});return D.promise();};this._addParameterValuesToParameters=function(P,f){var D=new jQuery.Deferred();var h=[];var t=this;f.forEach(function(i){var n=t.getValue(i);h.push(n);n.done(function(v){P[i].valueObject=v;});});jQuery.when.apply(jQuery,h).done(D.resolve.bind(D,P)).fail(D.reject.bind(D,P));return D.promise();};this._arrayToObject=function(P){var R={};P.forEach(function(f){R[f]={};});return R;};this._getComponentNameOfPlugin=function(P){if(typeof P!=='object'||typeof P.getMetadata!=='function'||!P.getMetadata()||typeof P.getMetadata().getComponentName!=='function'){return\"'name of plugin could not be determined'\";}return P.getMetadata().getComponentName()||'';};this._getEditorDataAndValue=function(D,A,E,m){var t=this;var P=[];var R=[];t._aPlugins.forEach(function(o,i){if(typeof o.getEditorMetadata==='function'){var n=new jQuery.Deferred();P.push(n);try{var f=P.length-1;o.getEditorMetadata(m).done(function(j){R[f]=j;}).always(function(){n.resolve();}).fail(function(){jQuery.sap.log.error('EditorMetadata for plugin '+t._getComponentNameOfPlugin(o)+'cannot be invoked.',null,'sap.ushell.services.UserDefaultParameters');n.resolve();});}catch(h){jQuery.sap.log.error('Error invoking getEditorMetaData on plugin: '+h+h.stack,null,'sap.ushell.services.UserDefaultParameters');n.resolve();}}});jQuery.when.apply(jQuery,P).done(function(){var f=[];var o=R.reverse().reduce(function(h,n){A.forEach(function(i){if(n[i]&&n[i].editorMetadata){h[i].editorMetadata=n[i].editorMetadata;}});return h;},m);A.forEach(function(h){if(!(o[h]&&o[h].editorMetadata)){f.push(h);}});t._addParameterValuesToParameters(o,A).done(function(h){var i=jQuery.extend(true,{},h),k;E.forEach(function(j){if(i[j]){i[j].editorMetadata=i[j].editorMetadata||{};i[j].editorMetadata.extendedUsage=true;}});k=Object.keys(i).splice(0);k.forEach(function(j){var l;if(i[j].valueObject&&i[j].valueObject.noEdit===true){delete i[j];l=f.indexOf(j);if(l>=0){f.splice(l,1);}}});if(f.length>0){jQuery.sap.log.error(\"The following parameter names have no editor metadata and thus likely no configured plugin:\\n\\\"\"+f.join(\"\\\",\\n\\\"\")+\"\\\".\");}D.resolve(i);}).fail(D.reject.bind(D));});};this.editorGetParameters=function(){var D=new jQuery.Deferred();var t=this;this._getUserDefaultParameterNames().done(function(P){if(P.oMetadataObject.length===0){D.resolve({});}else{sap.ushell.Container.getService('PluginManager').loadPlugins('UserDefaults').done(function(){t._getEditorDataAndValue(D,P.aAllParameterNames,P.aExtendedParameterNames,P.oMetadataObject);}).fail(function(){jQuery.sap.log.error('One or more plugins could not be loaded');D.reject('Initialization of plugins failed');});}});return D.promise();};this._extractKeyArrays=function(P){var R={extended:[],simple:[],allParameters:[]};R.simple=(P&&P.simple&&Object.keys(P.simple).sort())||[];R.extended=(P&&P.extended&&Object.keys(P.extended).sort())||[];R.allParameters=R.simple.concat(R.extended.filter(function(S){return R.simple.indexOf(S)<0;})).sort();return R;};this.editorSetValue=function(P,v){return this._storeValue(P,v,true);};this.attachValueStored=function(f){s.attachEvent(e,f);};this.detachValueStored=function(f){s.detachEvent(e,f);};};sap.ushell.services.UserDefaultParameters.hasNoAdapter=true;}());\n",
	"sap/ushell/services/UserInfo.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.UserInfo');sap.ushell.services.UserInfo=function(a,c){this.getId=function(){return sap.ushell.Container.getUser().getId();};this.getUser=function(){return sap.ushell.Container.getUser();};this.getThemeList=function(){if(this.getUser().isSetThemePermitted()===false){jQuery.sap.log.error('getThemeList failed');throw true;}var p=a.getThemeList();p.fail(function(){jQuery.sap.log.error('getThemeList failed');});return p;};this.updateUserPreferences=function(){var p=a.updateUserPreferences(sap.ushell.Container.getUser());p.fail(function(){jQuery.sap.log.error('updateAttributes: ');});return p;};};}());\n",
	"sap/ushell/services/UserRecents.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.services.UserRecents');jQuery.sap.require('sap.ushell.services.Personalization');sap.ushell.services.AppType={OVP:'OVP',SEARCH:'Search',FACTSHEET:'FactSheet',COPILOT:'Co-Pilot',APP:'Application',getDisplayName:function(A){switch(A){case this.OVP:case this.SEARCH:case this.FACTSHEET:case this.COPILOT:return A;default:return'App';}}};function R(m,e,c,l,s){var r=[],u=function(I,t){return r.some(function(o){var f;if(e(o.oItem,I)){o.oItem=I;o.iTimestamp=t;o.iCount=o.iCount+1;f=true;}else{f=false;}return f;});},i=function(I,t){var n={oItem:I,iTimestamp:t,iCount:1};if(r.length===m){r.sort(c);r.pop();}r.push(n);};this.newItem=function(I){var d=new jQuery.Deferred();var t=+new Date(),A;l().done(function(L){r=L||[];A=u(I,t);if(!A){i(I,t);}s(r).done(function(f){d.resolve(f);}).fail(function(){d.reject();});});return d.promise();};this.getRecentItems=function(){var d=new jQuery.Deferred();l().done(function(L){L=L||[];L.sort(c);r=L.slice(0,m);d.resolve(jQuery.map(r,function(o){return o.oItem;}));});return d.promise();};}function a(m,e,c,l,s){var r=[],u=function(I,t){return r.some(function(o){var f;if(e(o.oItem,I)){if((o.oItem.appType===I.appType)||(o.oItem.appType!==I.appType&&I.appType!=='Application')){jQuery.extend(o.oItem,I);o.iTimestamp=t;o.oItem.timestamp=t;o.iCount=o.iCount+1;o.mobile=undefined;o.tablet=undefined;o.desktop=undefined;}f=true;r.sort(c);}else{f=false;}return f;});},i=function(I,t,d){I.timestamp=t;I.icon=d;var n={oItem:I,iTimestamp:t,iCount:1,mobile:undefined,tablet:undefined,desktop:undefined};if(r.length===m){r.pop();}r.unshift(n);};this.newItem=function(I){var d=new jQuery.Deferred();var t=+new Date(),f=I.icon?I.icon:this.getActivityIcon(I.appType),A;l().done(function(L){r=L||[];A=u(I,t);if(!A){i(I,t,f);}s(r).done(function(g){d.resolve(g);}).fail(function(){d.reject();});});return d.promise();};this.getActivityIcon=function(A){switch(A){case sap.ushell.services.AppType.OVP:return'sap-icon://competitor';case sap.ushell.services.AppType.SEARCH:return'sap-icon://search';case sap.ushell.services.AppType.COPILOT:return'sap-icon://BusinessSuiteInAppSymbols/icon-heart';case sap.ushell.services.AppType.FACTSHEET:return'sap-icon://lead';default:return'sap-icon://BusinessSuiteInAppSymbols/icon-heart';}};this.getRecentItems=function(){var d=new jQuery.Deferred(),f,A,C,I=false,g=[],h=function(L){var j=[],D=0,k;for(k=0;k<L.length&&D<30;k++){A=L[k];if(A[C]){j.push(A);D++;}}d.resolve(jQuery.map(j,function(o){return o.oItem;}));};if(sap.ui.Device.system.desktop){C='desktop';}else if(sap.ui.Device.system.tablet){C='tablet';}else{C='mobile';}l().done(function(L){L=L||[];for(f=0;f<L.length&&!I;f++){A=L[f];if(A[C]===undefined){g.push(A.oItem.appId);}else{I=true;}}if(g.length>0){sap.ushell.Container.getService('CrossApplicationNavigation').isIntentSupported(g).done(function(o){I=false;for(f=0;f<L.length&&!I;f++){A=L[f];if(A[C]===undefined){var j=o[A.oItem.appId];A[C]=j&&j.supported?true:false;}else{I=true;}}s(L).done(function(k){d.resolve(h(L));}).fail(function(){d.reject();});}).fail(function(M){d.reject(M);});}else{h(L);}});return d.promise();};}function b(l,s){var A,t=this,m=30;this.init=function(){var t=this,p,c=this.getDayFromDateObj(this.getCurrentDate()),d=false;if(t._oInitDeferred===undefined){t._oInitDeferred=jQuery.Deferred();}if(!d||c!==A.recentDay){d=true;p=l();p.done(function(e){A=e||{recentDay:null,recentAppsUsageMap:{}};t.calculateInitialUsage(c);t._oInitDeferred.resolve(A);});p.fail(function(){jQuery.sap.log.error('UShell-lib ; RecentAppsUsage ; Load data in Init failed');t._oInitDeferred.reject();});}return this._oInitDeferred.promise();};this.calculateInitialUsage=function(c){var t=this;if(c!=A.recentDay){this.addNewDay();A.recentDay=c;setTimeout(function(){t.cleanUnusedHashes();},3000);this.saveAppsUsage(A);}};this.addAppUsage=function(h){if(!sap.ushell.utils.validHash(h)){return jQuery.Deferred().reject('Non valid hash').promise();}var p=this.init();p.done(function(){var c=A.recentAppsUsageMap[h]||[];if(c.length==0){c[0]=1;}else{c[c.length-1]+=1;}A.recentAppsUsageMap[h]=c;t.saveAppsUsage(A);});p.fail(function(){jQuery.sap.log.error('Ushell-lib ; addAppUsage ; Initialization falied!');});return p;};this.getAppsUsage=function(){var r,p,t=this,d=jQuery.Deferred();p=t.init();p.done(function(){r=t.summarizeUsage();d.resolve(r);});p.fail(function(){d.reject('Not initialized yet');});return d.promise();};this.summarizeUsage=function(){var u={},h,c,d,f=true;for(h in A.recentAppsUsageMap){u[h]=this.getHashUsageSum(h);if(f){c=d=u[h];f=false;}else{if(u[h]<d){d=u[h];}else if(u[h]>c){c=u[h];}}}return{usageMap:u,maxUsage:c,minUsage:d};};this.addNewDay=function(){var h,c;for(h in A.recentAppsUsageMap){c=A.recentAppsUsageMap[h];c[c.length]=0;if(c.length>m){c=c.shift();}}};this.cleanUnusedHashes=function(){var u,h;for(h in A.recentAppsUsageMap){u=t.getHashUsageSum(h);if(u==0){delete(A.recentAppsUsageMap[h]);}}};this.getHashUsageSum=function(h){var c=0,d,e=A.recentAppsUsageMap[h],f=e.length;for(d=0;d<f;d++){c+=e[d];}return c;};this.saveAppsUsage=function(o){var p=s(o);p.fail(function(){jQuery.sap.log.error('Ushell-lib ; saveAppsUsage ; Save action failed');});p.done(function(d){});return p;};this.getCurrentDate=function(){return new Date();};this.getDayFromDateObj=function(d){return(d.getUTCFullYear()+'/'+(d.getUTCMonth()+1)+'/'+d.getUTCDate());};}sap.ushell.services.UserRecents=function(){var r,o,c,A,d,p,e,s,f,D,g,l,S,h='RecentApps',i='RecentActivity',j='AppsUsage',k='RecentSearches',m='RecentDataSources',P='sap.ushell.services.UserRecents';this.addActivity=function(q){return c.newItem(q);};this.getRecentActivity=function(){return c.getRecentItems();};this.noticeDataSource=function(q){if((q&&q.objectName&&q.objectName.value&&q.objectName.value.toLowerCase()==='$$all$$')||(q.objectName&&q.objectName.toLowerCase&&q.objectName.toLowerCase()==='$$all$$')){return;}d.newItem(q);return d.getRecentItems();};this.getRecentDataSources=function(){return d.getRecentItems();};this.noticeSearch=function(q){r.newItem(q);return r.getRecentItems();};this.getRecentSearches=function(){return r.getRecentItems();};this.noticeApp=function(q){o.newItem(q);return o.getRecentItems();};this.getRecentApps=function(){return o.getRecentItems();};this.initAppsUsage=function(){A.init(new Date());};this.addAppUsage=function(q){var t=sap.ushell.utils.getBasicHash(q);A.addAppUsage(t);};this.getAppsUsage=function(){return A.getAppsUsage();};p=sap.ushell.Container.getService('Personalization');try{e=p.getPersonalizer({container:P,item:h});f=p.getPersonalizer({container:P,item:i});s=p.getPersonalizer({container:P,item:k});D=p.getPersonalizer({container:P,item:m});g=p.getPersonalizer({container:P,item:j});}catch(n){jQuery.sap.log.error('Personalization service does not work:');jQuery.sap.log.error(n.name+': '+n.message);}l=function(q){var t,u;try{t=q.getPersData();}catch(n){jQuery.sap.log.error('Personalization service does not work:');jQuery.sap.log.error(n.name+': '+n.message);u=new jQuery.Deferred();u.reject(n);t=u.promise();}return t;};S=function(q,L){var t;try{t=q.setPersData(L);}catch(n){jQuery.sap.log.error('Personalization service does not work:');jQuery.sap.log.error(n.name+': '+n.message);}return t;};r=new R(10,function(x,y){var q=false;if(x.oDataSource&&y.oDataSource){if(x.oDataSource.objectName&&y.oDataSource.objectName){q=((x.sTerm===y.sTerm)&&(x.oDataSource.objectName.value===y.oDataSource.objectName.value));}if(!x.oDataSource.objectName&&!y.oDataSource.objectName){q=(x.sTerm===y.sTerm);}}if(!x.oDataSource&&!y.oDataSource){q=(x.sTerm===y.sTerm);}return q;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,s),S.bind(this,s));d=new R(6,function(x,y){if(x.objectName&&y.objectName){return x.objectName.value===y.objectName.value;}return false;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,D),S.bind(this,D));o=new R(6,function(x,y){return x.semanticObject===y.semanticObject&&x.action===y.action;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,e),S.bind(this,e));c=new a(500,function(x,y){if(x.appType===y.appType){if(x.appType!=='Application'){return x.url===y.url;}else{return x.appId===y.appId;}}else{if(x.appType==='Application'||y.appType==='Application'){return(x.appId===y.appId)&&(x.url===y.url);}else{return false;}}},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,f),S.bind(this,f));A=new b(l.bind(this,g),S.bind(this,g));};sap.ushell.services.UserRecents.hasNoAdapter=true;}());\n",
	"sap/ushell/ui/appfinder/AppBox.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.appfinder.AppBox');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.appfinder.AppBox',{metadata:{library:'sap.ushell',properties:{'title':{type:'string',group:'Misc',defaultValue:null},'url':{type:'string',group:'Misc',defaultValue:null}},aggregations:{'pinButton':{type:'sap.m.Button',multiple:false}},events:{'press':{},'afterRendering':{}}}});sap.ushell.ui.appfinder.AppBox.M_EVENTS={'press':'press','afterRendering':'afterRendering'};(function(){'use strict';sap.ushell.ui.appfinder.AppBox.prototype.init=function(){};sap.ushell.ui.appfinder.AppBox.prototype.onAfterRendering=function(){this.fireAfterRendering();};sap.ushell.ui.appfinder.AppBox.prototype.setTitle=function(t){this.setProperty('title',t,true);};sap.ushell.ui.appfinder.AppBox.prototype.setUrl=function(i){this.setProperty('url',i,true);};sap.ushell.ui.appfinder.AppBox.prototype.onclick=function(e){this.firePress(e);};sap.ushell.ui.appfinder.AppBox.prototype.onsapspace=function(e){e.preventDefault();this.firePress(e);};sap.ushell.ui.appfinder.AppBox.prototype.onsapenter=sap.ushell.ui.appfinder.AppBox.prototype.onsapspace;}());\n",
	"sap/ushell/ui/appfinder/AppBoxRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.declare('sap.ushell.ui.appfinder.AppBoxRenderer');sap.ushell.ui.appfinder.AppBoxRenderer=sap.ui.core.Renderer.extend(sap.ui.core.Control);sap.ushell.ui.appfinder.AppBoxRenderer.render=function(r,a){r.write('<div');r.writeControlData(a);r.addClass('sapUshellAppBox');r.writeAccessibilityState({label:a.getTitle(),role:'button'});r.writeClasses();r.write('>');r.write('<div');r.addClass('sapUshellAppBoxInner');r.writeClasses();r.write('>');r.writeEscaped(a.getTitle());r.renderControl(a.getPinButton());r.write('</div>');r.write('</div>');};}());\n",
	"sap/ushell/ui/footerbar/AboutButton.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.footerbar.AboutButton');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItem');sap.ushell.ui.launchpad.ActionItem.extend('sap.ushell.ui.footerbar.AboutButton',{metadata:{library:'sap.ushell'}});(function(){'use strict';jQuery.sap.require('sap.ui.layout.form.SimpleForm');jQuery.sap.require('sap.m.ObjectHeader');jQuery.sap.require('sap.m.VBox');jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.footerbar.AboutButton');sap.ushell.ui.footerbar.AboutButton.prototype.init=function(){if(sap.ushell.ui.launchpad.ActionItem.prototype.init){sap.ushell.ui.launchpad.ActionItem.prototype.init.apply(this,arguments);}this.setIcon('sap-icon://hint');this.setText(sap.ushell.resources.i18n.getText('about'));this.setTooltip(sap.ushell.resources.i18n.getText('about'));this.attachPress(this.showAboutDialog);};sap.ushell.ui.footerbar.AboutButton.prototype.showAboutDialog=function(){jQuery.sap.require('sap.ushell.services.AppConfiguration');var t=sap.ushell.resources.i18n,m=sap.ushell.services.AppConfiguration.getMetadata(),s=new sap.ui.layout.form.SimpleForm({id:'aboutDialogFormID',editable:false,content:[new sap.m.Label({text:t.getText('technicalName')}),new sap.m.Text({text:m.libraryName||''}),new sap.m.Label({text:t.getText('fioriVersionFld')}),new sap.m.Text({text:m.version||''}),new sap.m.Label({text:t.getText('sapui5Fld')}),new sap.m.Text({text:(sap.ui.version||'')+(' ('+(sap.ui.buildinfo.buildtime||'')+')')||''}),new sap.m.Label({text:t.getText('userAgentFld')}),new sap.m.Text({text:navigator.userAgent||''}),new sap.m.Label({text:''})]}),h=new sap.m.ObjectHeader({title:m.title,icon:m.icon}).addStyleClass('sapUshellAboutDialogHeader'),d,v,o=new sap.m.Button({text:t.getText('okBtn'),press:function(){d.close();}});if(jQuery.isEmptyObject(m)||!m.icon){v=new sap.m.VBox({items:[s]});}else{v=new sap.m.VBox({items:[h,s]});}d=new sap.m.Dialog({id:'aboutContainerDialogID',title:t.getText('about'),contentWidth:'25rem',horizontalScrolling:false,leftButton:o,afterClose:function(){d.destroy();}});d.addContent(v);d.open();};}());\n",
	"sap/ushell/ui/footerbar/AboutButtonRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.AboutButtonRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItemRenderer');sap.ushell.ui.footerbar.AboutButtonRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.launchpad.ActionItemRenderer);}());\n",
	"sap/ushell/ui/footerbar/AddBookmarkButton.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.footerbar.AddBookmarkButton');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.m.Button');sap.m.Button.extend('sap.ushell.ui.footerbar.AddBookmarkButton',{metadata:{library:'sap.ushell',properties:{'beforePressHandler':{type:'any',group:'Misc',defaultValue:null},'afterPressHandler':{type:'any',group:'Misc',defaultValue:null},'title':{type:'string',group:'Misc',defaultValue:null},'subtitle':{type:'string',group:'Misc',defaultValue:null},'info':{type:'string',group:'Misc',defaultValue:null},'tileIcon':{type:'string',group:'Misc',defaultValue:null},'numberUnit':{type:'string',group:'Misc',defaultValue:null},'keywords':{type:'string',group:'Misc',defaultValue:null},'customUrl':{type:'any',group:'Misc',defaultValue:null},'serviceUrl':{type:'any',group:'Misc',defaultValue:null},'serviceRefreshInterval':{type:'string',group:'Misc',defaultValue:null},'showGroupSelection':{type:'boolean',group:'Misc',defaultValue:true},'appData':{type:'object',group:'Misc',defaultValue:null}}}});(function(){'use strict';jQuery.sap.require('sap.ui.layout.form.SimpleForm');jQuery.sap.require('sap.m.Label');jQuery.sap.require('sap.m.Input');jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.footerbar.AddBookmarkButton');sap.ushell.ui.footerbar.AddBookmarkButton.prototype.init=function(){this.setIcon('sap-icon://add-favorite');this.setText(sap.ushell.resources.i18n.getText('addToHomePageBtn'));this.setEnabled();this.oModel=new sap.ui.model.json.JSONModel({showGroupSelection:true,title:'',subtitle:'',numberValue:'',info:'',icon:'',numberUnit:'',keywords:''});var t=this;this.attachPress(function(){if(t.getBeforePressHandler()){t.getBeforePressHandler()();}t.showAddBookmarkDialog(function(){if(t.getAfterPressHandler()){t.getAfterPressHandler()();}});});if(sap.m.Button.prototype.init){sap.m.Button.prototype.init.apply(this,arguments);}};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.exit=function(){if(this.oDialog){this.oDialog.destroy();}if(this.oModel){this.oModel.destroy();}if(sap.m.Button.prototype.exit){sap.m.Button.prototype.exit.apply(this,arguments);}};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.setBookmarkTileView=function(v){this.bookmarkTileView=v;};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.getBookmarkTileView=function(){return this.bookmarkTileView;};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.showAddBookmarkDialog=function(c){this.oResourceBundle=sap.ushell.resources.i18n;this.appData=this.getAppData()||{};var t=this;this.cb=c;var i=jQuery.isEmptyObject(this.appData),b=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.ui.footerbar.SaveAsTile',viewData:{appData:this.appData,serviceUrl:i?this.getServiceUrl():this.appData.serviceUrl,customUrl:i?this.getCustomUrl():this.appData.customUrl,numberUnit:i?this.getNumberUnit():this.appData.numberUnit,serviceRefreshInterval:i?this.getServiceRefreshInterval():this.appData.serviceRefreshInterval,keywords:i?this.getKeywords():this.appData.keywords}});if(jQuery.isEmptyObject(this.appData)){b.setModel(this.oModel);}t.setBookmarkTileView(b);this.oSimpleForm=new sap.ui.layout.form.SimpleForm({id:'bookmarkFormId',layout:sap.ui.layout.form.SimpleFormLayout.GridLayout,content:[b]}).addStyleClass('sapUshellAddBookmarkForm');var d=t._openDialog(this.oSimpleForm);b.getTitleInput().attachLiveChange(function(){t._toggleOkButton(this.getValue().trim(),d.getBeginButton());});};sap.ushell.ui.footerbar.AddBookmarkButton.prototype._toggleOkButton=function(v,o){o.setEnabled(v?true:false);};sap.ushell.ui.footerbar.AddBookmarkButton.prototype._openDialog=function(c){var e=this.bookmarkTileView.getTitleInput().getValue().length?true:false,o=new sap.m.Button('bookmarkOkBtn',{text:this.oResourceBundle.getText('okBtn'),press:this._handleOkButtonPress.bind(this),enabled:e}),a=new sap.m.Button('bookmarkCancelBtn',{text:this.oResourceBundle.getText('cancelBtn'),press:function(){this.oDialog.close();this.cb();}.bind(this)});this.oDialog=new sap.m.Dialog({id:'bookmarkDialog',title:this.oResourceBundle.getText('addToHomePageBtn'),contentWidth:'25rem',content:c,beginButton:o,endButton:a,stretch:sap.ui.Device.system.phone,horizontalScrolling:false,afterClose:function(){this.oDialog.destroy();delete(this.oDialog);}.bind(this)});this.oDialog.open();return this.oDialog;};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.setTitle=function(t){this.setProperty('title',t,true);this.oModel.setProperty('/title',t);var o=sap.ui.getCore().byId('bookmarkOkBtn');if(o){this._toggleOkButton(t,o);}};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.setSubtitle=function(s){this.setProperty('subtitle',s,true);this.oModel.setProperty('/subtitle',s);};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.setInfo=function(i){this.setProperty('info',i,true);this.oModel.setProperty('/info',i);};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.setTileIcon=function(i){this.setProperty('tileIcon',i,true);this.oModel.setProperty('/icon',i);};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.setShowGroupSelection=function(s){this.setProperty('showGroupSelection',s,true);this.oModel.setProperty('/showGroupSelection',s);};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.setNumberUnit=function(n){this.setProperty('numberUnit',n,true);this.oModel.setProperty('/numberUnit',n);};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.setKeywords=function(k){this.setProperty('keywords',k,true);this.oModel.setProperty('/keywords',k);};sap.ushell.ui.footerbar.AddBookmarkButton.prototype._restoreDialogEditableValuesToDefault=function(){if(this.oModel){this.oModel.setProperty('/title',this.getTitle());this.oModel.setProperty('/subtitle',this.getSubtitle());this.oModel.setProperty('/info',this.getInfo());}};sap.ushell.ui.footerbar.AddBookmarkButton.prototype._handleOkButtonPress=function(){var b=this.getBookmarkTileView(),d=b.getBookmarkTileData(),t=d.group?d.group.object:'';delete d.group;var r=sap.ushell.Container.getService('Bookmark').addBookmark(d,t),R=sap.ushell.resources.i18n;r.done(function(){jQuery.proxy(this._restoreDialogEditableValuesToDefault(),this);if(sap.ushell.Container){sap.ushell.Container.getService('Message').info(R.getText('tile_created_msg'));}}.bind(this));r.fail(function(m){jQuery.sap.log.error('Failed to add bookmark',m,'sap.ushell.ui.footerbar.AddBookmarkButton');if(sap.ushell.Container){sap.ushell.Container.getService('Message').error(R.getText('fail_to_add_tile_msg'));}});this.oDialog.close();this.cb();};sap.ushell.ui.footerbar.AddBookmarkButton.prototype.setEnabled=function(e){var s='',p=true,S;if(sap.ushell.renderers&&sap.ushell.renderers.fiori2){S=sap.ushell.renderers.fiori2.RendererExtensions.getConfiguration();if(S.appState){s=S.appState;}if(S.enablePersonalization!==undefined){p=S.enablePersonalization;}}if(s==='headerless'||s==='standalone'||s==='embedded'||!p){e=false;}if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning(\"Disabling 'Save as Tile' button: unified shell container not initialized\",null,'sap.ushell.ui.footerbar.AddBookmarkButton');}e=false;}sap.m.Button.prototype.setEnabled.call(this,e);if(!e){this.addStyleClass('sapUshellAddBookmarkButton');}};}());\n",
	"sap/ushell/ui/footerbar/AddBookmarkButtonRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.AddBookmarkButtonRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.m.ButtonRenderer');sap.ushell.ui.footerbar.AddBookmarkButtonRenderer=sap.ui.core.Renderer.extend(sap.m.ButtonRenderer);}());\n",
	"sap/ushell/ui/footerbar/ContactSupportButton.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.footerbar.ContactSupportButton');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItem');sap.ushell.ui.launchpad.ActionItem.extend('sap.ushell.ui.footerbar.ContactSupportButton',{metadata:{library:'sap.ushell'}});(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ushell.ui.launchpad.AccessibilityCustomData');jQuery.sap.declare('sap.ushell.ui.footerbar.ContactSupportButton');sap.ushell.ui.footerbar.ContactSupportButton.prototype.init=function(){if(sap.ushell.ui.launchpad.ActionItem.prototype.init){sap.ushell.ui.launchpad.ActionItem.prototype.init.apply(this,arguments);}this.setIcon('sap-icon://email');this.setText(sap.ushell.resources.i18n.getText('contactSupportBtn'));this.attachPress(this.showContactSupportDialog);this.setEnabled();};sap.ushell.ui.footerbar.ContactSupportButton.prototype.showContactSupportDialog=function(){jQuery.sap.require('sap.ushell.services.Container');jQuery.sap.require('sap.ui.layout.form.SimpleForm');jQuery.sap.require('sap.m.TextArea');jQuery.sap.require('sap.m.Link');jQuery.sap.require('sap.m.Label');jQuery.sap.require('sap.m.Text');jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.ushell.UserActivityLog');this.translationBundle=sap.ushell.resources.i18n;this.oClientContext=sap.ushell.UserActivityLog.getMessageInfo();this.oLink=new sap.m.Link({text:this.translationBundle.getText('technicalDataLink')});this.oBottomSimpleForm=new sap.ui.layout.form.SimpleForm('bottomForm',{editable:false,content:[this.oLink]});this.sendButton=new sap.m.Button('contactSupportSendBtn',{text:this.translationBundle.getText('sendBtn'),enabled:false,press:function(){var s=sap.ushell.Container.getService('SupportTicket'),t=this.oTextArea.getValue(),S={text:t,clientContext:this.oClientContext},p=s.createTicket(S);p.done(function(){sap.ushell.Container.getService('Message').info(this.translationBundle.getText('supportTicketCreationSuccess'));}.bind(this));p.fail(function(){sap.ushell.Container.getService('Message').error(this.translationBundle.getText('supportTicketCreationFailed'));}.bind(this));this.oDialog.close();}.bind(this)});this.cancelButton=new sap.m.Button('contactSupportCancelBtn',{text:this.translationBundle.getText('cancelBtn'),press:function(){this.oDialog.close();}.bind(this)});this.oTextArea=new sap.m.TextArea('textArea',{rows:7,liveChange:function(){if(/\\S/.test(this.oTextArea.getValue())){this.sendButton.setEnabled(true);}else{this.sendButton.setEnabled(false);this.oTextArea.setValue('');}}.bind(this)});this.oTopSimpleForm=new sap.ui.layout.form.SimpleForm('topForm',{editable:false,content:[this.oTextArea]});this.oDialog=new sap.m.Dialog({id:'ContactSupportDialog',title:this.translationBundle.getText('contactSupportBtn'),contentWidth:'29.6rem',leftButton:this.sendButton,rightButton:this.cancelButton,initialFocus:'textArea',afterOpen:function(){jQuery('#textArea').on('focusout',function(){window.scrollTo(0,0);});},afterClose:function(){this.oDialog.destroy();}.bind(this)}).addStyleClass('sapUshellContactSupportDialog');this.oTextArea.setPlaceholder(this.translationBundle.getText('txtAreaPlaceHolderHeader'));this.oLink.attachPress(this._embedLoginDetailsInBottomForm.bind(this));this.oDialog.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'aria-label',value:this.translationBundle.getText('ContactSupportArialLabel'),writeToDom:true}));this.oDialog.addContent(this.oTopSimpleForm);this.oDialog.addContent(this.oBottomSimpleForm);this.oDialog.open();};sap.ushell.ui.footerbar.ContactSupportButton.prototype._embedLoginDetailsInBottomForm=function(){this.oDialog.removeContent(this.oBottomSimpleForm.getId());this.oBottomSimpleForm.destroy();var a='',u='',b='',B=[];if(this.oClientContext.navigationData.applicationInformation){a=this.oClientContext.navigationData.applicationInformation.applicationType;u=this.oClientContext.navigationData.applicationInformation.url;b=this.oClientContext.navigationData.applicationInformation.additionalInformation;}B.push(new sap.m.Text({text:this.translationBundle.getText('loginDetails')}).addStyleClass('sapUshellContactSupportHeaderInfoText'));B.push(new sap.m.Label({text:this.translationBundle.getText('userFld')}));B.push(new sap.m.Text({text:this.oClientContext.userDetails.fullName||''}));B.push(new sap.m.Label({text:this.translationBundle.getText('serverFld')}));B.push(new sap.m.Text({text:window.location.host}));if(this.oClientContext.userDetails.eMail&&this.oClientContext.userDetails.eMail!==''){B.push(new sap.m.Label({text:this.translationBundle.getText('eMailFld')}));B.push(new sap.m.Text({text:this.oClientContext.userDetails.eMail||''}));}B.push(new sap.m.Label({text:this.translationBundle.getText('languageFld')}));B.push(new sap.m.Text({text:this.oClientContext.userDetails.Language||''}));if(this.oClientContext.shellState==='app'||this.oClientContext.shellState==='standalone'){B.push(new sap.m.Text({text:''}));B.push(new sap.m.Text({text:this.translationBundle.getText('navigationDataFld')}).addStyleClass('sapUshellContactSupportHeaderInfoText'));B.push(new sap.m.Label({text:this.translationBundle.getText('hashFld')}));B.push(new sap.m.Text({text:this.oClientContext.navigationData.navigationHash||''}));B.push(new sap.m.Text({text:''}));B.push(new sap.m.Text({text:this.translationBundle.getText('applicationInformationFld')}).addStyleClass('sapUshellContactSupportHeaderInfoText'));B.push(new sap.m.Label({text:this.translationBundle.getText('applicationTypeFld')}));B.push(new sap.m.Text({text:a}));B.push(new sap.m.Label({text:this.translationBundle.getText('urlFld')}));B.push(new sap.m.Text({text:u}));B.push(new sap.m.Label({text:this.translationBundle.getText('additionalInfoFld')}));B.push(new sap.m.Text({text:b}));}this.oBottomSimpleForm=new sap.ui.layout.form.SimpleForm('technicalInfoBox',{layout:sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout,content:B}).addStyleClass('sapUshellTechnicalInfoBox');if(sap.ui.Device.os.ios&&sap.ui.Device.system.phone){this.oBottomSimpleForm.addStyleClass('sapUshellContactSupportFixWidth');}var o=this.oBottomSimpleForm.onAfterRendering;this.oBottomSimpleForm.onAfterRendering=function(){o.apply(this,arguments);var n=jQuery(this.getDomRef());n.attr('tabIndex',0);jQuery.sap.delayedCall(700,n,function(){this.focus();});};this.oDialog.addContent(this.oBottomSimpleForm);};sap.ushell.ui.footerbar.ContactSupportButton.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning(\"Disabling 'Contact Support' button: unified shell container not initialized\",null,'sap.ushell.ui.footerbar.ContactSupportButton');}e=false;}sap.ushell.ui.launchpad.ActionItem.prototype.setEnabled.call(this,e);};}());\n",
	"sap/ushell/ui/footerbar/ContactSupportButtonRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.ContactSupportButtonRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItemRenderer');sap.ushell.ui.footerbar.ContactSupportButtonRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.launchpad.ActionItemRenderer);}());\n",
	"sap/ushell/ui/footerbar/EndUserFeedback.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.footerbar.EndUserFeedback');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItem');sap.ushell.ui.launchpad.ActionItem.extend('sap.ushell.ui.footerbar.EndUserFeedback',{metadata:{library:'sap.ushell',properties:{'showAnonymous':{type:'boolean',group:'Misc',defaultValue:true},'anonymousByDefault':{type:'boolean',group:'Misc',defaultValue:true},'showLegalAgreement':{type:'boolean',group:'Misc',defaultValue:true},'showCustomUIContent':{type:'boolean',group:'Misc',defaultValue:true},'feedbackDialogTitle':{type:'string',group:'Misc',defaultValue:null},'textAreaPlaceholder':{type:'string',group:'Misc',defaultValue:null}},aggregations:{'customUIContent':{type:'sap.ui.core.Control',multiple:true,singularName:'customUIContent'}}}});(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.EndUserFeedback');jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ushell.ui.launchpad.AccessibilityCustomData');sap.ushell.ui.footerbar.EndUserFeedback.prototype.init=function(){if(sap.ushell.ui.launchpad.ActionItem.prototype.init){sap.ushell.ui.launchpad.ActionItem.prototype.init.apply(this,arguments);}jQuery.sap.require('sap.ushell.services.Container');var u=sap.ushell.Container.getUser(),f=sap.ushell.utils.getFormFactor();this.oUserDetails={userId:u.getId(),eMail:u.getEmail()};this.translationBundle=sap.ushell.resources.i18n;this.oEndUserFeedbackService=sap.ushell.Container.getService('EndUserFeedback');this.appConfiguration=sap.ushell.services.AppConfiguration;this.oEndUserFeedbackModel=new sap.ui.model.json.JSONModel();this.oEndUserFeedbackModel.setData({feedbackViewTitle:this.translationBundle.getText('userFeedback_title'),legalAgreementViewTitle:this.translationBundle.getText('userFeedbackLegal_title'),textAreaPlaceholderText:this.translationBundle.getText('feedbackPlaceHolderHeader'),presentationStates:{showAnonymous:this.getShowAnonymous(),showLegalAgreement:this.getShowLegalAgreement(),showCustomUIContent:this.getShowCustomUIContent()},clientContext:{userDetails:jQuery.extend(true,{},this.oUserDetails),navigationData:{formFactor:f,applicationInformation:{},navigationHash:null}},isAnonymous:this.getAnonymousByDefault(),applicationIconPath:'',leftButton:{feedbackView:this.translationBundle.getText('sendBtn'),legalAgreementView:this.translationBundle.getText('approveBtn')},rightButton:{feedbackView:this.translationBundle.getText('cancelBtn'),legalAgreementView:this.translationBundle.getText('declineBtn')},states:{isLegalAgreementChecked:false,isRatingSelected:false,isInFeedbackView:true},technicalLink:{state:0,title:[this.translationBundle.getText('technicalDataLink'),this.translationBundle.getText('technicalDataLinkHide')]},textArea:{inputText:''},contextText:'',ratingButtons:[{text:sap.ushell.resources.i18n.getText('ratingExcellentText'),color:'sapUshellRatingLabelFeedbackPositiveText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-very-happy',id:'rateBtn1',index:1},{text:sap.ushell.resources.i18n.getText('ratingGoodText'),color:'sapUshellRatingLabelFeedbackPositiveText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-happy',id:'rateBtn2',index:2},{text:sap.ushell.resources.i18n.getText('ratingAverageText'),color:'sapUshellRatingLabelFeedbackNeutralText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-neutral',id:'rateBtn3',index:3},{text:sap.ushell.resources.i18n.getText('ratingPoorText'),color:'sapUshellRatingLabelFeedbackCriticalText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-bad',id:'rateBtn4',index:4},{text:sap.ushell.resources.i18n.getText('ratingVeyPoorText'),color:'sapUshellRatingLabelFeedbackNegativeText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-very-bad',id:'rateBtn5',index:5}],selectedRating:{text:'',color:'',index:0}});this.setIcon('sap-icon://marketing-campaign');this.setText(sap.ushell.resources.i18n.getText('endUserFeedbackBtn'));this.attachPress(this.ShowEndUserFeedbackDialog);this.setEnabled();};sap.ushell.ui.footerbar.EndUserFeedback.prototype.ShowEndUserFeedbackDialog=function(){this.updateModelContext();if(this.oDialog){this.updateTechnicalInfo();this.oDialog.open();return;}jQuery.sap.require('sap.ui.layout.form.SimpleForm');jQuery.sap.require('sap.ui.layout.HorizontalLayout');jQuery.sap.require('sap.ui.layout.VerticalLayout');jQuery.sap.require('sap.m.TextArea');jQuery.sap.require('sap.m.Link');jQuery.sap.require('sap.m.Label');jQuery.sap.require('sap.m.Text');jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.m.Image');var m=jQuery.sap.getModulePath('sap.ushell'),d=m+'/themes/base/img/launchpadDefaultIcon.jpg',i=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/formFactor')==='desktop';this.oLegalAgreementInfoLayout=null;this.oBackButton=new sap.m.Button('endUserFeedbackBackBtn',{visible:{path:'/states/isInFeedbackView',formatter:function(I){return!I;}},icon:sap.ui.core.IconPool.getIconURI('nav-back'),press:function(){this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',true);}.bind(this),tooltip:sap.ushell.resources.i18n.getText('feedbackGoBackBtn_tooltip')});this.oPopoverTitle=new sap.m.Text('PopoverTitle',{text:{parts:[{path:'/states/isInFeedbackView'},{path:'/feedbackViewTitle'}],formatter:function(I){return this.oEndUserFeedbackModel.getProperty(I?'/feedbackViewTitle':'/legalAgreementViewTitle');}.bind(this)}});this.oHeadBar=new sap.m.Bar({contentLeft:[this.oBackButton],contentMiddle:[this.oPopoverTitle]});this.oLogoImg=new sap.m.Image('sapFeedbackLogo',{src:d,width:'4.5rem',height:'4.5rem',visible:{path:'/applicationIconPath',formatter:function(b){return!b;}}});this.oAppIcon=new sap.ui.core.Icon('sapFeedbackAppIcon',{src:'{/applicationIconPath}',width:'4.5rem',height:'4.5rem',visible:{path:'/applicationIconPath',formatter:function(b){return!!b;}}}).addStyleClass('sapUshellFeedbackAppIcon');this.oContextName=new sap.m.Text('contextName',{text:'{/contextText}'});this.oContextLayout=new sap.ui.layout.HorizontalLayout('contextLayout',{content:[this.oLogoImg,this.oAppIcon,this.oContextName]});this.oRatingLabel=new sap.m.Label('ratingLabel',{required:true,text:sap.ushell.resources.i18n.getText('ratingLabelText')});this.oRatingSelectionText=new sap.m.Text('ratingSelectionText',{text:{path:'/selectedRating',formatter:function(s){if(this.lastSelectedColor){this.removeStyleClass(this.lastSelectedColor);}if(s.color){this.addStyleClass(s.color);}this.lastSelectedColor=s.color;return s.text;}}});this.oRatingButtonTemplate=new sap.m.Button({icon:'{iconSymbol}',height:'100%',width:'20%'});this.oRatingButtonTemplate.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'aria-label',value:'{text}',writeToDom:true}));this.oRatingButtons=new sap.m.SegmentedButton('ratingButtons',{width:'98%',selectedButton:'noDefalut',buttons:{path:'/ratingButtons',template:this.oRatingButtonTemplate},select:function(e){var I=e.mParameters.id,p=sap.ui.getCore().byId(I).getBindingContext().getPath(),b=this.oEndUserFeedbackModel.getProperty(p);this.oEndUserFeedbackModel.setProperty('/selectedRating',{text:b.text,color:b.color,index:b.index});this.oEndUserFeedbackModel.setProperty('/states/isRatingSelected',true);}.bind(this)});this.oRatingButtons.addAriaLabelledBy('ratingLabel');this.oRatingButtons.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'aria-required',value:'true',writeToDom:true}));if(i){this.oRatingIndicationLayout=new sap.ui.layout.HorizontalLayout('ratingIndicationLayout',{content:[this.oRatingLabel,this.oRatingSelectionText]});}else{this.oRatingIndicationLayout=new sap.ui.layout.VerticalLayout('ratingIndicationLayoutMob',{content:[this.oRatingLabel,this.oRatingSelectionText]});}this.oRatingLayout=new sap.ui.layout.VerticalLayout('ratingLayout',{width:'100%',content:[this.oRatingIndicationLayout,this.oRatingButtons]});this.oAnonymousCheckbox=new sap.m.CheckBox('anonymousCheckbox',{name:'anonymousCheckbox',visible:'{/presentationStates/showAnonymous}',text:sap.ushell.resources.i18n.getText('feedbackSendAnonymousText'),selected:'{/isAnonymous}',select:function(e){var c=e.getParameter('selected');this._handleAnonymousSelection(c);}.bind(this)});var a=(!this.oEndUserFeedbackModel.getProperty('/presentationStates/showAnonymous')||this.oEndUserFeedbackModel.getProperty('/isAnonymous'));this._handleAnonymousSelection(a);this.oLegalAgrementCheckbox=new sap.m.CheckBox('legalAgreement',{name:'legalAgreement',visible:'{/presentationStates/showLegalAgreement}',selected:'{/states/isLegalAgreementChecked}',text:this.translationBundle.getText('agreementAcceptanceText')});this.oLegalAgreeementLink=new sap.m.Link('legalAgreementLink',{text:this.translationBundle.getText('legalAgreementLinkText'),visible:'{/presentationStates/showLegalAgreement}',press:function(){var p=this.oEndUserFeedbackService.getLegalText();p.done(this._showLegalAgreementInfo.bind(this));}.bind(this)});this.aCustomUIContent=jQuery.extend([],this.getCustomUIContent());this.oCustomUILayout=new sap.ui.layout.VerticalLayout('customUILayout',{visible:{path:'/presentationStates/showCustomUIContent',formatter:function(s){return(s&&this.aCustomUIContent.length)?true:false;}.bind(this)},content:this.getCustomUIContent(),width:'100%'});this.oLegalLayout=new sap.ui.layout.VerticalLayout('legalLayout',{content:[this.oAnonymousCheckbox,this.oLegalAgrementCheckbox,this.oLegalAgreeementLink]});this.oTechnicalDataLink=new sap.m.Link('technicalDataLink',{text:{path:'/technicalLink/state',formatter:function(s){return this.getModel().getProperty('/technicalLink/title/'+s);}},press:function(){var _=this.oEndUserFeedbackModel.getProperty('/technicalLink/state');this.oEndUserFeedbackModel.setProperty('/technicalLink/state',Math.abs(_-1));this.oDialog.rerender();}.bind(this)});this.oTechnicalDataLayout=new sap.ui.layout.HorizontalLayout('technicalDataLayout',{content:[this.oTechnicalDataLink]});this.leftButton=new sap.m.Button('EndUserFeedbackLeftBtn',{text:{path:'/states/isInFeedbackView',formatter:function(I){return this.getModel().getProperty('/leftButton/'+(I?'feedbackView':'legalAgreementView'));}},enabled:{parts:[{path:'/states/isInFeedbackView'},{path:'/states/isLegalAgreementChecked'},{path:'/states/isRatingSelected'},{path:'/presentationStates/showLegalAgreement'}],formatter:function(I,b,c,s){return!I||(c&&(b||!s));}},press:function(){var I=this.oEndUserFeedbackModel.getProperty('/states/isInFeedbackView');if(I){var f={feedbackText:this.oEndUserFeedbackModel.getProperty('/textArea/inputText'),ratings:[{questionId:'Q10',value:this.oEndUserFeedbackModel.getProperty('/selectedRating/index')}],clientContext:this.oEndUserFeedbackModel.getProperty('/clientContext'),isAnonymous:this.oEndUserFeedbackModel.getProperty('/isAnonymous')},p=this.oEndUserFeedbackService.sendFeedback(f);p.done(function(){sap.ushell.Container.getService('Message').info(this.translationBundle.getText('feedbackSendToastTxt'));}.bind(this));p.fail(function(){sap.ushell.Container.getService('Message').error(this.translationBundle.getText('feedbackFailedToastTxt'));}.bind(this));this.oDialog.close();}else{this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',true);this.oEndUserFeedbackModel.setProperty('/states/isLegalAgreementChecked',true);}}.bind(this)});this.rightButton=new sap.m.Button('EndUserFeedbackRightBtn',{text:{path:'/states/isInFeedbackView',formatter:function(I){return this.getModel().getProperty('/rightButton/'+(I?'feedbackView':'legalAgreementView'));}},press:function(){var I=this.oEndUserFeedbackModel.getProperty('/states/isInFeedbackView');if(I){this.oDialog.close();}else{this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',true);this.oEndUserFeedbackModel.setProperty('/states/isLegalAgreementChecked',false);}}.bind(this)});this.oTextArea=new sap.m.TextArea('feedbackTextArea',{rows:6,value:'{/textArea/inputText}',placeholder:'{/textAreaPlaceholderText}'});this.oDialog=new sap.m.Dialog({id:'UserFeedbackDialog',contentWidth:'25rem',leftButton:this.leftButton,rightButton:this.rightButton,stretch:sap.ui.Device.system.phone,initialFocus:'textArea',afterOpen:function(){jQuery('#textArea').on('focusout',function(){window.scrollTo(0,0);});}}).addStyleClass('sapUshellEndUserFeedbackDialog');this.oDialog.setModel(this.oEndUserFeedbackModel);this.oDialog.setCustomHeader(this.oHeadBar);this.oDialog.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'aria-label',value:this.translationBundle.getText('endUserFeedbackAreaLabel'),writeToDom:true}));this.oTechnicalInfoBoxLayout=this._createTechnicalDataContent();this.oFeedbackLayout=new sap.ui.layout.VerticalLayout('feedbackLayout',{visible:'{/states/isInFeedbackView}',content:[this.oContextLayout,this.oRatingLayout,this.oTextArea,this.oTechnicalDataLayout,this.oTechnicalInfoBoxLayout,this.oLegalLayout,this.oCustomUILayout]}).addStyleClass('sapUshellFeedbackLayout');this.oMainLayout=new sap.ui.layout.VerticalLayout('mainLayout',{editable:false,content:[this.oFeedbackLayout]});this.oDialog.addContent(this.oMainLayout);this.oDialog.open();};sap.ushell.ui.footerbar.EndUserFeedback.prototype._handleAnonymousSelection=function(c){var a=this.translationBundle.getText('feedbackAnonymousTechFld');this.oEndUserFeedbackModel.setProperty('/isAnonymous',c);this.oEndUserFeedbackModel.setProperty('/clientContext/userDetails/eMail',c?a:this.oUserDetails.eMail);this.oEndUserFeedbackModel.setProperty('/clientContext/userDetails/userId',c?a:this.oUserDetails.userId);};sap.ushell.ui.footerbar.EndUserFeedback.prototype._createTechnicalDataContent=function(){this.oTechnicalInfoBox=new sap.ui.layout.form.SimpleForm('feedbackTechnicalInfoBox',{layout:sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout,content:this.getTechnicalInfoContent()});if(sap.ui.Device.os.ios&&sap.ui.Device.system.phone){this.oTechnicalInfoBox.addStyleClass('sapUshellContactSupportFixWidth');}var o=this.oTechnicalInfoBox.onAfterRendering;this.oTechnicalInfoBox.onAfterRendering=function(){o.apply(this,arguments);var n=jQuery(this.getDomRef());n.attr('tabIndex',0);jQuery.sap.delayedCall(700,n,function(){this.focus();});};return new sap.ui.layout.HorizontalLayout('technicalInfoBoxLayout',{visible:{path:'/technicalLink/state',formatter:function(s){return s===1;}},content:[this.oTechnicalInfoBox]});};sap.ushell.ui.footerbar.EndUserFeedback.prototype._createLegalAgreementLayout=function(l){this.oLegalText=new sap.m.TextArea('legalText',{cols:50,rows:22});this.oLegalText.setValue([l]);this.oLegalText.setEditable(false);var o=this.oLegalText.onAfterRendering;this.oLegalText.onAfterRendering=function(){if(o){o.apply(this,arguments);}var j=jQuery(this.getDomRef());j.find('textarea').attr('tabindex','0');};this.oLegalAgreementInfoLayout=new sap.ui.layout.VerticalLayout('legalAgreementInfoLayout',{visible:{path:'/states/isInFeedbackView',formatter:function(i){return!i;}},content:[this.oLegalText]});this.oMainLayout.addContent(this.oLegalAgreementInfoLayout);};sap.ushell.ui.footerbar.EndUserFeedback.prototype._showLegalAgreementInfo=function(l){this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',false);if(!this.oLegalAgreementInfoLayout){this._createLegalAgreementLayout(l);}};sap.ushell.ui.footerbar.EndUserFeedback.prototype.addCustomUIContent=function(c){var i=c&&c.getMetadata&&c.getMetadata().getStereotype&&c.getMetadata().getStereotype()==='control';if(i){if(this.getShowCustomUIContent()){this.oEndUserFeedbackModel.setProperty('/presentationStates/showCustomUIContent',true);}this.addAggregation('customUIContent',c);}};sap.ushell.ui.footerbar.EndUserFeedback.prototype.setShowAnonymous=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/presentationStates/showAnonymous',v);this.setProperty('showAnonymous',v,true);}};sap.ushell.ui.footerbar.EndUserFeedback.prototype.setAnonymousByDefault=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/isAnonymous',v);this.setProperty('anonymousByDefault',v,true);}};sap.ushell.ui.footerbar.EndUserFeedback.prototype.setShowLegalAgreement=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/presentationStates/showLegalAgreement',v);this.setProperty('showLegalAgreement',v,true);}};sap.ushell.ui.footerbar.EndUserFeedback.prototype.setShowCustomUIContent=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/presentationStates/showCustomUIContent',v);this.setProperty('showCustomUIContent',v,true);}};sap.ushell.ui.footerbar.EndUserFeedback.prototype.setFeedbackDialogTitle=function(v){if(typeof v==='string'){this.oEndUserFeedbackModel.setProperty('/feedbackViewTitle',v);this.setProperty('feedbackDialogTitle',v,true);}};sap.ushell.ui.footerbar.EndUserFeedback.prototype.setTextAreaPlaceholder=function(v){if(typeof v==='string'){this.oEndUserFeedbackModel.setProperty('/textAreaPlaceholderText',v);this.setProperty('textAreaPlaceholder',v,true);}};sap.ushell.ui.footerbar.EndUserFeedback.prototype.updateModelContext=function(){var u=sap.ushell.Container.getService('URLParsing'),h,p,i,c,s,U;h=u.getShellHash(window.location);p=u.parseShellHash(h);i=(p!==undefined)?p.semanticObject+'-'+p.action:'';c=this.getModel().getProperty('/currentState/stateName');if(c==='home'||c==='catalog'){s=this.translationBundle.getText(c+'_title');}this.currentApp=this.appConfiguration.getCurrentAppliction();this.bHasAppName=(this.currentApp&&this.appConfiguration.getMetadata(this.currentApp)&&this.appConfiguration.getMetadata(this.currentApp).title);this.sAppIconPath=(this.currentApp&&this.appConfiguration.getMetadata(this.currentApp)&&this.appConfiguration.getMetadata(this.currentApp).icon);this.oEndUserFeedbackModel.setProperty('/contextText',this.bHasAppName?this.appConfiguration.getMetadata(this.currentApp).title:this.translationBundle.getText('feedbackHeaderText'));U=null;if(this.currentApp&&this.currentApp.url){U=this.currentApp.url.split('?')[0];}else if(c){U=this.translationBundle.getText('flp_page_name');}this.oEndUserFeedbackModel.setProperty('/clientContext/navigationData/applicationInformation',{url:U,additionalInformation:(this.currentApp&&this.currentApp.additionalInformation)?this.currentApp.additionalInformation:null,applicationType:(this.currentApp&&this.currentApp.applicationType)?this.currentApp.applicationType:null});this.oEndUserFeedbackModel.setProperty('/clientContext/navigationData/navigationHash',s?s:i);this.oEndUserFeedbackModel.setProperty('/selectedRating',{text:'',color:'',index:0});this.oEndUserFeedbackModel.setProperty('/states/isRatingSelected',false);this.oEndUserFeedbackModel.setProperty('/states/isLegalAgreementChecked',false);this.oEndUserFeedbackModel.setProperty('/technicalLink/state',0);this.oEndUserFeedbackModel.setProperty('/textArea/inputText','');this.oEndUserFeedbackModel.setProperty('/applicationIconPath',this.sAppIconPath);this._handleAnonymousSelection(this.oEndUserFeedbackModel.getProperty('/isAnonymous'));};sap.ushell.ui.footerbar.EndUserFeedback.prototype.updateTechnicalInfo=function(){this.oTechnicalInfoBox.destroyContent();this.oTechnicalInfoBox.removeAllContent();var t=this.getTechnicalInfoContent(),c;for(c in t){this.oTechnicalInfoBox.addContent(t[c]);}this.oRatingButtons.setSelectedButton('noDefalut');};sap.ushell.ui.footerbar.EndUserFeedback.prototype.getTechnicalInfoContent=function(){var f=[],F=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/formFactor'),u=this.oEndUserFeedbackModel.getProperty('/clientContext/userDetails/userId'),e=this.oEndUserFeedbackModel.getProperty('/clientContext/userDetails/eMail'),a=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/applicationInformation/url'),A=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/applicationInformation/applicationType'),s=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/applicationInformation/additionalInformation'),n=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/navigationHash'),c=this.getModel().getProperty('/currentState/stateName'),d=(c==='home'||c==='catalog')?false:true;f.push(new sap.m.Text({text:this.translationBundle.getText('loginDetails')}).addStyleClass('sapUshellContactSupportHeaderInfoText'));f.push(u?new sap.m.Label({text:this.translationBundle.getText('userFld')}):null);f.push(u?new sap.m.Text('technicalInfoUserIdTxt',{text:'{/clientContext/userDetails/userId}'}):null);f.push(e?new sap.m.Label({text:this.translationBundle.getText('eMailFld')}):null);f.push(e?new sap.m.Text({text:'{/clientContext/userDetails/eMail}'}):null);f.push(F?new sap.m.Label({text:this.translationBundle.getText('formFactorFld')}):null);f.push(F?new sap.m.Text({text:'{/clientContext/navigationData/formFactor}'}):null);f.push(new sap.m.Text({text:''}));f.push(new sap.m.Text({text:this.translationBundle.getText(this.currentApp?'applicationInformationFld':'feedbackHeaderText')}).addStyleClass('sapUshellEndUserFeedbackHeaderInfoText').addStyleClass('sapUshellEndUserFeedbackInfoTextSpacing'));f.push(a&&d?new sap.m.Label({text:this.translationBundle.getText('urlFld')}):null);f.push(a&&d?new sap.m.Text({text:'{/clientContext/navigationData/applicationInformation/url}'}):null);f.push(A?new sap.m.Label({text:this.translationBundle.getText('applicationTypeFld')}):null);f.push(A?new sap.m.Text({text:'{/clientContext/navigationData/applicationInformation/applicationType}'}):null);f.push(s?new sap.m.Label({text:this.translationBundle.getText('additionalInfoFld')}):null);f.push(s?new sap.m.Text({text:'{/clientContext/navigationData/applicationInformation/additionalInformation}'}):null);f.push(n&&d?new sap.m.Label({text:this.translationBundle.getText('hashFld')}):null);f.push(n&&d?new sap.m.Text({text:'{/clientContext/navigationData/navigationHash}'}):null);return f.filter(Boolean);};sap.ushell.ui.footerbar.EndUserFeedback.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning(\"Disabling 'End User Feedback' button: unified shell container not initialized\",null,'sap.ushell.ui.footerbar.EndUserFeedback');}e=false;}sap.ushell.ui.launchpad.ActionItem.prototype.setEnabled.call(this,e);};}());\n",
	"sap/ushell/ui/footerbar/EndUserFeedbackRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.EndUserFeedbackRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItemRenderer');sap.ushell.ui.footerbar.EndUserFeedbackRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.launchpad.ActionItemRenderer);}());\n",
	"sap/ushell/ui/footerbar/HideGroupsButton.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.footerbar.HideGroupsButton');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItem');sap.ushell.ui.launchpad.ActionItem.extend('sap.ushell.ui.footerbar.HideGroupsButton',{metadata:{library:'sap.ushell',events:{'save':{}}}});sap.ushell.ui.footerbar.HideGroupsButton.M_EVENTS={'save':'save'};(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.HideGroupsButton');jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ushell.ui.launchpad.AccessibilityCustomData');sap.ushell.ui.footerbar.HideGroupsButton.prototype.init=function(){if(sap.ushell.ui.launchpad.ActionItem.prototype.init){sap.ushell.ui.launchpad.ActionItem.prototype.init.apply(this,arguments);}this.setIcon('sap-icon://group-2');this.setTooltip(sap.ushell.resources.i18n.getText('hideGroupsBtn_tooltip'));this.setText(sap.ushell.resources.i18n.getText('hideGroupsBtn_title'));this.attachPress(this.openHideGroupsDialog);};sap.ushell.ui.footerbar.HideGroupsButton.prototype.openHideGroupsDialog=function(){jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.m.Table');jQuery.sap.require('sap.m.Switch');var t=this;this.oModel=this.getModel();this.handleChange=function(a){var b=a.oSource.getParent(),g=b.getBindingContextPath(),c=this.oModel.getProperty(g);var d=jQuery.grep(this.aGroupsStates,function(G){return G.groupId===c.groupId;})[0];if(d){d.isGroupVisible=!d.isGroupVisible;}b.toggleStyleClass('sapUshellHideGroupsTableItem');b.getCells()[0].toggleStyleClass('sapUshellHideGroupsDisabledCell');}.bind(this);var s=function(a,l){return a&&!l;};this.groupsTableTemplate=new sap.m.ColumnListItem({cells:[new sap.m.Text({text:'{title}'}),new sap.m.Switch({visible:{parts:[{path:'isEnabled'},{path:'isGroupLocked'}],formatter:s},change:t.handleChange,customTextOff:' ',customTextOn:' ',tooltip:sap.ushell.resources.i18n.getText('hideGroups_switchTooltip')})]});this.groupsTable=new sap.m.Table('sapUshellHideGroupsTable',{backgroundDesign:sap.m.BackgroundDesign.Transparent,showSeparators:sap.m.ListSeparators.Inner,columns:[new sap.m.Column({vAlign:'Middle'}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Right,vAlign:'Middle',width:'4.94rem'})]});this.groupsTable.addStyleClass('sapUshellHideGroupsTable');var o=this.groupsTable.onAfterRendering;this.groupsTable.onAfterRendering=function(a){o.apply(t.groupsTable,arguments);var b=a.srcControl.mAggregations.items;if(b){var m=b[0].getModel(),i,g;for(i=0;i<b.length;i++){g=m.getProperty(b[i].getBindingContextPath());b[i].getCells()[1].setState(g.isGroupVisible);if(g&&g.isGroupLocked&&(g.tiles.length===0||!sap.ushell.utils.groupHasVisibleTiles(g.tiles))){b[i].setVisible(false);}else if(!b[i].getCells()[1].getState()){b[i].addStyleClass('sapUshellHideGroupsTableItem');b[i].getCells()[0].addStyleClass('sapUshellHideGroupsDisabledCell');}}}setTimeout(function(){jQuery('.sapMListTblRow').first().focus();},200);};this.groupsTable.setModel(this.getModel());var p=this.getModel().getProperty('/personalization');var e=[];if(!p){e.push(new sap.ui.model.Filter('tiles/length',sap.ui.model.FilterOperator.GT,0));}this.groupsTable.bindItems({path:'/groups',template:this.groupsTableTemplate,filters:e});this.saveButton=new sap.m.Button('saveBtn',{text:sap.ushell.resources.i18n.getText('okBtn'),press:function(){setTimeout(function(){var m=this.getModel();var g=t.aGroupsStates;if(g){var l=sap.ushell.Container.getService('LaunchPage');var h=[],i,a;for(i=0;i<g.length;i++){if(!g[i].isGroupVisible){a=l.getGroupId(g[i].object);h.push(a);}}l.hideGroups(h).done(function(){m.setProperty('/groups',g);t.handleToastMessage(h.length);t.fireSave();}).fail(function(){var b=new sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage('HideGroupsErrorMessage',{title:sap.ushell.resources.i18n.getText('error'),content:new sap.m.Text({text:sap.ushell.resources.i18n.getText('hideGroups_error')})});b.open();});}}.bind(this),100);this.oDialog.close();}.bind(this)});this.handleToastMessage=function(n){var m='';if(typeof n===undefined){return;}if(n===0){m=sap.ushell.resources.i18n.getText('hideGroups_none');}else if(n===1){m=sap.ushell.resources.i18n.getText('hideGroups_single');}else{m=sap.ushell.resources.i18n.getText('hideGroups_multiple',n);}sap.ushell.Container.getService('Message').show(sap.ushell.services.Message.Type.INFO,m);};this.cancelButton=new sap.m.Button('CancelBtn',{text:sap.ushell.resources.i18n.getText('cancelBtn'),press:function(){if(t.aGroupsOriginalStates){var g=this.getModel().getProperty('/groups'),i;for(i=0;i<t.aGroupsOriginalStates.length;i++){if(g[i].groupId===t.aGroupsOriginalStates[i].groupId){g[i].isGroupVisible=t.aGroupsOriginalStates[i].isVisible;}}}this.oDialog.close();}.bind(this)});this.oDialog=new sap.m.Dialog({id:'groupsVisibilityDialog',title:sap.ushell.resources.i18n.getText('hideGroups_title'),contentWidth:'29.6rem',contentHeight:'36.07rem',stretch:sap.ui.Device.system.phone,content:this.groupsTable,beginButton:this.saveButton,endButton:this.cancelButton,initialFocus:'groupsVisibilityDialog',afterClose:function(){this.oDialog.destroy();}.bind(this)}).addStyleClass('sapUshellGroupsVisibilityDialog');this.oDialog.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'aria-label',value:sap.ushell.resources.i18n.getText('hideGroupsDialog_ariaLabel'),writeToDom:true}));this.getModelStates=function(g){if(!g){return;}var S=[],i;for(i=0;i<g.length;i++){S.push({groupId:g[i].groupId,isVisible:g[i].isGroupVisible});}return S;};this.aGroupsStates=this.oModel.getProperty('/groups');this.aGroupsOriginalStates=this.getModelStates(this.aGroupsStates);this.oDialog.open();};}());\n",
	"sap/ushell/ui/footerbar/HideGroupsButtonRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.HideGroupsButtonRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItemRenderer');sap.ushell.ui.footerbar.HideGroupsButtonRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.launchpad.ActionItemRenderer);}());\n",
	"sap/ushell/ui/footerbar/JamDiscussButton.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.footerbar.JamDiscussButton');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.m.Button');sap.m.Button.extend('sap.ushell.ui.footerbar.JamDiscussButton',{metadata:{library:'sap.ushell',properties:{'beforePressHandler':{type:'any',group:'Misc',defaultValue:null},'afterPressHandler':{type:'any',group:'Misc',defaultValue:null},'jamData':{type:'object',group:'Misc',defaultValue:null}}}});(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.footerbar.JamDiscussButton');sap.ushell.ui.footerbar.JamDiscussButton.prototype.init=function(){jQuery.sap.require('sap.ushell.services.Container');var t=this;this.setEnabled();this.setIcon('sap-icon://discussion-2');this.setText(sap.ushell.resources.i18n.getText('discussBtn'));this.attachPress(function(){if(t.getBeforePressHandler()){t.getBeforePressHandler()();}this.showDiscussDialog(t.getAfterPressHandler());});if(sap.m.Button.prototype.init){sap.m.Button.prototype.init.apply(this,arguments);}};sap.ushell.ui.footerbar.JamDiscussButton.prototype.showDiscussDialog=function(c){jQuery.sap.require('sap.collaboration.components.fiori.feed.dialog.Component');if(!this.discussComponent){this.discussComponent=sap.ui.getCore().createComponent({name:'sap.collaboration.components.fiori.feed.dialog'});}this.discussComponent.setSettings(this.getJamData());this.discussComponent.open();if(c){c();}};sap.ushell.ui.footerbar.JamDiscussButton.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning('Disabling JamDiscussButton: unified shell container not initialized',null,'sap.ushell.ui.footerbar.JamDiscussButton');}e=false;}else{var u=sap.ushell.Container.getUser();if(!(u&&u.isJamActive())){if(this.getEnabled()){jQuery.sap.log.info('Disabling JamDiscussButton: user not logged in or Jam not active',null,'sap.ushell.ui.footerbar.JamDiscussButton');}e=false;this.setVisible(false);}}sap.m.Button.prototype.setEnabled.call(this,e);};}());\n",
	"sap/ushell/ui/footerbar/JamDiscussButtonRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.JamDiscussButtonRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.m.ButtonRenderer');sap.ushell.ui.footerbar.JamDiscussButtonRenderer=sap.ui.core.Renderer.extend(sap.m.ButtonRenderer);}());\n",
	"sap/ushell/ui/footerbar/JamShareButton.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.footerbar.JamShareButton');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.m.Button');sap.m.Button.extend('sap.ushell.ui.footerbar.JamShareButton',{metadata:{library:'sap.ushell',properties:{'beforePressHandler':{type:'any',group:'Misc',defaultValue:null},'afterPressHandler':{type:'any',group:'Misc',defaultValue:null},'jamData':{type:'object',group:'Misc',defaultValue:null}}}});(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.JamShareButton');jQuery.sap.require('sap.ushell.resources');sap.ushell.ui.footerbar.JamShareButton.prototype.init=function(){jQuery.sap.require('sap.ushell.services.Container');var t=this;this.setEnabled();this.setIcon('sap-icon://share-2');this.setText(sap.ushell.resources.i18n.getText('shareBtn'));this.attachPress(function(){if(t.getBeforePressHandler()){t.getBeforePressHandler()();}this.showShareDialog(t.getAfterPressHandler());});if(sap.m.Button.prototype.init){sap.m.Button.prototype.init.apply(this,arguments);}};sap.ushell.ui.footerbar.JamShareButton.prototype.showShareDialog=function(c){jQuery.sap.require('sap.collaboration.components.fiori.sharing.dialog.Component');if(!this.shareComponent){this.shareComponent=sap.ui.getCore().createComponent({name:'sap.collaboration.components.fiori.sharing.dialog'});}this.shareComponent.setSettings(this.getJamData());this.shareComponent.open();if(c){c();}};sap.ushell.ui.footerbar.JamShareButton.prototype.exit=function(){if(this.shareComponent){this.shareComponent.destroy();}if(sap.m.Button.prototype.exit){sap.m.Button.prototype.exit.apply(this,arguments);}};sap.ushell.ui.footerbar.JamShareButton.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning('Disabling JamShareButton: unified shell container not initialized',null,'sap.ushell.ui.footerbar.JamShareButton');}e=false;}else{var u=sap.ushell.Container.getUser();if(!(u&&u.isJamActive())){if(this.getEnabled()){jQuery.sap.log.info('Disabling JamShareButton: user not logged in or Jam not active',null,'sap.ushell.ui.footerbar.JamShareButton');}e=false;this.setVisible(false);}}sap.m.Button.prototype.setEnabled.call(this,e);};}());\n",
	"sap/ushell/ui/footerbar/JamShareButtonRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.JamShareButtonRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.m.ButtonRenderer');sap.ushell.ui.footerbar.JamShareButtonRenderer=sap.ui.core.Renderer.extend(sap.m.ButtonRenderer);}());\n",
	"sap/ushell/ui/footerbar/LogoutButton.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.footerbar.LogoutButton');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItem');sap.ushell.ui.launchpad.ActionItem.extend('sap.ushell.ui.footerbar.LogoutButton',{metadata:{library:'sap.ushell'}});(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.LogoutButton');jQuery.sap.require('sap.ushell.resources');sap.ushell.ui.footerbar.LogoutButton.prototype.init=function(){if(sap.ushell.ui.launchpad.ActionItem.prototype.init){sap.ushell.ui.launchpad.ActionItem.prototype.init.apply(this,arguments);}this.setIcon('sap-icon://log');this.setText(sap.ushell.resources.i18n.getText('logoutBtn_title'));this.attachPress(this.logout);this.setEnabled();};sap.ushell.ui.footerbar.LogoutButton.prototype.logout=function(){jQuery.sap.require('sap.m.MessageBox');var s=true,i=false,l=new sap.ushell.ui.launchpad.LoadingDialog({text:''});sap.ushell.Container.getGlobalDirty().done(function(d){s=false;if(i===true){l.exit();l=new sap.ushell.ui.launchpad.LoadingDialog({text:''});}var _=function(d){var L={},r=sap.ushell.resources.i18n;if(d===sap.ushell.Container.DirtyState.DIRTY){L.message=r.getText('unsaved_data_warning_popup_message');L.icon=sap.m.MessageBox.Icon.WARNING;L.messageTitle=r.getText('unsaved_data_warning_popup_title');}else{L.message=r.getText('logoutConfirmationMsg');L.icon=sap.m.MessageBox.Icon.QUESTION;L.messageTitle=r.getText('logoutMsgTitle');}return L;};var L=_(d);sap.m.MessageBox.show(L.message,L.icon,L.messageTitle,[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],function(a){if(a===sap.m.MessageBox.Action.OK){l.openLoadingScreen();l.showAppInfo(sap.ushell.resources.i18n.getText('beforeLogoutMsg'),null);sap.ushell.Container.logout();}},sap.ui.core.ElementMetadata.uid('confirm'));});if(s===true){l.openLoadingScreen();i=true;}};sap.ushell.ui.footerbar.LogoutButton.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning(\"Disabling 'Logout' button: unified shell container not initialized\",null,'sap.ushell.ui.footerbar.LogoutButton');}e=false;}sap.ushell.ui.launchpad.ActionItem.prototype.setEnabled.call(this,e);};}());\n",
	"sap/ushell/ui/footerbar/LogoutButtonRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.LogoutButtonRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItemRenderer');sap.ushell.ui.footerbar.LogoutButtonRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.launchpad.ActionItemRenderer);}());\n",
	"sap/ushell/ui/footerbar/SaveAsTile.controller.js":"sap.ui.controller('sap.ushell.ui.footerbar.SaveAsTile',{onExit:function(){'use strict';var v=this.getView();var t=v.getTileView();t.destroy();},onInit:function(){'use strict';var a=sap.ushell.services.AppConfiguration.getMetadata();this.oPageBuilderService=sap.ushell.Container.getService('LaunchPage');this.oView=this.getView();this.appData=this.oView.viewData.appData||{};if(!jQuery.isEmptyObject(this.appData)){this.oModel=new sap.ui.model.json.JSONModel({showGroupSelection:this.appData.showGroupSelection===false?false:true,title:this.appData.title?this.appData.title.substring(0,256):'',subtitle:this.appData.subtitle?this.appData.subtitle.substring(0,256):'',numberValue:'',info:this.appData.info?this.appData.info.substring(0,256):'',icon:this.appData.icon||a.icon,numberUnit:this.appData.numberUnit,keywords:this.appData.keywords||'',groups:[]});this.oView.setModel(this.oModel);}},calcTileDataFromServiceUrl:function(s){'use strict';var t=this;OData.read({requestUri:s},function(r){if(typeof r==='string'){r={number:r};}t.oModel.setProperty('/numberValue',r.number);var k=['infoState','stateArrow','numberState','numberDigits','numberFactor','numberUnit'];for(var i=0;i<k.length;i++){var a=k[i];if(r[a]){t.oModel.setProperty('/'+a,r[a]);}}},function(e){window.console.log(e);},{read:function(r){r.data=JSON.parse(r.body).d;}});},loadPersonalizedGroups:function(){'use strict';var g=this.oPageBuilderService.getGroups(),t=this,d=jQuery.Deferred();g.done(function(G){var p=t.loadGroupsFromArray(G);p.done(function(a){d.resolve(a);});});return d;},loadGroupsFromArray:function(g){'use strict';var t=this,d=jQuery.Deferred(),m=t.oView.getModel();this.oPageBuilderService.getDefaultGroup().done(function(D){g=g.filter(function(a){return(!t.oPageBuilderService.isGroupLocked(a)&&t.oPageBuilderService.isGroupVisible(a));}).map(function(a){return{title:(a===D&&t.getLocalizedText('my_group'))||t.oPageBuilderService.getGroupTitle(a),object:a};});m.setProperty('/groups',g);m.setProperty('/groups/length',g.length);d.resolve();});return d;},getLocalizedText:function(m,p){'use strict';return p?sap.ushell.resources.i18n.getText(m,p):sap.ushell.resources.i18n.getText(m);}});\n",
	"sap/ushell/ui/footerbar/SaveAsTile.view.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';sap.ui.jsview('sap.ushell.ui.footerbar.SaveAsTile',{getControllerName:function(){return'sap.ushell.ui.footerbar.SaveAsTile';},createContent:function(c){this.oResourceBundle=sap.ushell.resources.i18n;this.viewData=this.getViewData()||{};this.appData=this.viewData.appData||{};this.oTitleInput=new sap.m.Input('bookmarkTitleInput',{tooltip:this.oResourceBundle.getText('bookmarkDialogoTitle_tooltip'),value:{path:'/title',mode:sap.ui.model.BindingMode.TwoWay}}).addStyleClass('sapUshellInputField');this.oTitleInput.addAriaLabelledBy('titleLbl');this.oSubTitleInput=new sap.m.Input('bookmarkSubTitleInput',{tooltip:this.oResourceBundle.getText('bookmarkDialogoSubTitle_tooltip'),value:{path:'/subtitle',mode:sap.ui.model.BindingMode.TwoWay}}).addStyleClass('sapUshellInputField');this.oSubTitleInput.addAriaLabelledBy('subtitleLbl');this.oInfoInput=new sap.m.Input('bookmarkInfoInput',{tooltip:this.oResourceBundle.getText('bookmarkDialogoInfo_tooltip'),value:{path:'/info',mode:sap.ui.model.BindingMode.TwoWay}}).addStyleClass('sapUshellInputField');this.oInfoInput.addAriaLabelledBy('infoLbl');var t={numberValue:'{/numberValue}',title:'{/title}',subtitle:'{/subtitle}',info:'{/info}',icon:'{/icon}',infoState:'{/infoState}',numberFactor:'{/numberFactor}',numberUnit:'{/numberUnit}',numberDigits:'{/numberDigits}',numberState:'{/numberState}',stateArrow:'{/stateArrow}',targetURL:'{/targetURL}',keywords:'{/keywords}'},p=function(b){var r=b;switch(b){case'Positive':r='Good';break;case'Negative':r='Critical';break;}return r;};var T,s;if(this.viewData.serviceUrl){T=new sap.m.GenericTile({header:t.title,subheader:t.subtitle,size:'Auto',tileContent:[new sap.m.TileContent({size:'Auto',footer:t.info,unit:t.numberUnit,content:[new sap.m.NumericContent({scale:t.numberFactor,value:t.numberValue,truncateValueTo:5,valueColor:p(t.numberState),indicator:t.stateArrow,icon:t.icon,width:'100%'})]})]});s=(typeof(this.viewData.serviceUrl)==='function')?this.viewData.serviceUrl():this.viewData.serviceUrl;c.calcTileDataFromServiceUrl(s);}else{T=new sap.m.GenericTile({header:t.title,subheader:t.subtitle,size:'Auto',tileContent:[new sap.m.TileContent({size:'Auto',footer:t.info,content:new sap.m.NumericContent({icon:t.icon,value:' ',width:'100%'})})]});}this.setTileView(T);var a=new sap.ushell.ui.launchpad.Tile({'long':false,tileViews:[T]}).addStyleClass('sapUshellBookmarkFormPreviewTileMargin');var P=new sap.m.Label('previewLbl',{text:' '+this.oResourceBundle.getText('previewFld')}),o=new sap.m.Label('titleLbl',{required:true,text:' '+this.oResourceBundle.getText('titleFld'),labelFor:this.oTitleInput}),S=new sap.m.Label('subtitleLbl',{text:this.oResourceBundle.getText('subtitleFld'),labelFor:this.oSubTitleInput}),i=new sap.m.Label('infoLbl',{text:this.oResourceBundle.getText('infoMsg'),labelFor:this.oInfoInput}),h=new sap.m.HBox('saveAsTileHBox',{items:[a],alignItems:sap.m.FlexAlignItems.Center,justifyContent:sap.m.FlexJustifyContent.Center}).addStyleClass('sapUiStrongBackgroundColor').addStyleClass('sapUshellBookmarkFormPreviewBoxBottomMargin');o.setLabelFor('bookmarkTitleInput');S.setLabelFor('bookmarkSubTitleInput');i.setLabelFor('bookmarkInfoInput');var g=new sap.m.Label('groupLbl',{text:this.oResourceBundle.getText('GroupListItem_label'),visible:'{/showGroupSelection}'});this.oGroupsSelect=new sap.m.Select('groupsSelect',{tooltip:this.oResourceBundle.getText('bookmarkDialogoGroup_tooltip'),items:{path:'/groups',template:new sap.ui.core.ListItem({text:'{title}'})},width:'100%',visible:{parts:['/showGroupSelection','/groups'],formatter:function(b,G){if(b&&!(G&&G.length)){this.oController.loadPersonalizedGroups();}return b;}.bind(this)}});this.oGroupsSelect.addAriaLabelledBy('groupLbl');return[P,h,o,this.oTitleInput,S,this.oSubTitleInput,i,this.oInfoInput,g,this.oGroupsSelect];},getTitleInput:function(){return this.oTitleInput;},getTileView:function(){return this.tileView;},setTileView:function(t){this.tileView=t;},getBookmarkTileData:function(){var s;if(this.oGroupsSelect&&this.oGroupsSelect.getSelectedItem()){s=this.oGroupsSelect.getSelectedItem().getBindingContext().getObject();}var u;if(this.viewData.customUrl){if(typeof(this.viewData.customUrl)==='function'){u=this.viewData.customUrl();}else{u=this.viewData.customUrl;}}else{u=hasher.getHash()?('#'+hasher.getHash()):window.location.href;}return{title:this.oTitleInput.getValue()?this.oTitleInput.getValue().substring(0,256).trim():'',subtitle:this.oSubTitleInput.getValue()?this.oSubTitleInput.getValue().substring(0,256).trim():'',url:u,icon:this.getModel().getProperty('/icon'),info:this.oInfoInput.getValue()?this.oInfoInput.getValue().substring(0,256).trim():'',numberUnit:this.viewData.numberUnit,serviceUrl:typeof(this.viewData.serviceUrl)==='function'?this.viewData.serviceUrl():this.viewData.serviceUrl,serviceRefreshInterval:this.viewData.serviceRefreshInterval,group:s,keywords:this.viewData.keywords};}});}());\n",
	"sap/ushell/ui/footerbar/SettingsButton.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.footerbar.SettingsButton');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.m.Button');sap.m.Button.extend('sap.ushell.ui.footerbar.SettingsButton',{metadata:{library:'sap.ushell'}});(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.SettingsButton');jQuery.sap.require('sap.ushell.resources');sap.ushell.ui.footerbar.SettingsButton.prototype.init=function(){jQuery.sap.require('sap.ushell.ui.footerbar.AboutButton');jQuery.sap.require('sap.ushell.ui.footerbar.UserPreferencesButton');jQuery.sap.require('sap.ushell.ui.footerbar.LogoutButton');this.setIcon('sap-icon://action-settings');this.setTooltip(sap.ushell.resources.i18n.getText('helpBtn_tooltip'));this.attachPress(this.showSettingsMenu);var a=new sap.ushell.ui.footerbar.AboutButton(),u=new sap.ushell.ui.footerbar.UserPreferencesButton(),l=new sap.ushell.ui.footerbar.LogoutButton();this.defaultMenuItems=[a,u,l];if(sap.m.Button.prototype.init){sap.m.Button.prototype.init.apply(this,arguments);}};sap.ushell.ui.footerbar.SettingsButton.prototype.setMenuItems=function(b){this.menuItems=b;};sap.ushell.ui.footerbar.SettingsButton.prototype.showSettingsMenu=function(){var a=new sap.m.ActionSheet({id:'settingsMenu',showHeader:false,buttons:(this.menuItems||[]).concat(this.defaultMenuItems)});a.setPlacement(sap.m.PlacementType.Vertical);a.openBy(this);a.attachAfterClose(function(){a.removeAllButtons();a.destroy();});};}());\n",
	"sap/ushell/ui/footerbar/SettingsButtonRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.SettingsButtonRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.m.ButtonRenderer');sap.ushell.ui.footerbar.SettingsButtonRenderer=sap.ui.core.Renderer.extend(sap.m.ButtonRenderer);}());\n",
	"sap/ushell/ui/footerbar/UserPreferencesButton.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.footerbar.UserPreferencesButton');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItem');sap.ushell.ui.launchpad.ActionItem.extend('sap.ushell.ui.footerbar.UserPreferencesButton',{metadata:{library:'sap.ushell'}});(function(){'use strict';jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ushell.services.Container');jQuery.sap.require('sap.ushell.ui.launchpad.AccessibilityCustomData');jQuery.sap.declare('sap.ushell.ui.footerbar.UserPreferencesButton');sap.ushell.ui.footerbar.UserPreferencesButton.prototype.init=function(){if(sap.ushell.ui.launchpad.ActionItem.prototype.init){sap.ushell.ui.launchpad.ActionItem.prototype.init.apply(this,arguments);}this.setIcon('sap-icon://person-placeholder');this.translationBundle=sap.ushell.resources.i18n;this.setText(this.translationBundle.getText('userPreferences'));this.attachPress(this.showUserPreferencesDialog);};sap.ushell.ui.footerbar.UserPreferencesButton.prototype.createDialog=function(){var s;var c;var t=this;s=this._createSaveButton();c=this._createCancelButton();this.oDialog=new sap.m.Dialog({id:'userPreferencesDialog',title:'{/userPreferences/dialogTitle}',contentWidth:'29.6rem',content:null,contentHeight:'17rem',buttons:[s,c],afterClose:function(){t.oDialog.destroy();this.oUser.resetChangedProperties();}.bind(t),stretch:sap.ui.Device.system.phone}).addStyleClass('sapUshellUserPreferencesDialog');this._addDialogBackButton();this.oDialog.setModel(this.getModel());this.oDialog.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'aria-label',value:t.translationBundle.getText('UserPreferences_Dialog_Main_label'),writeToDom:true}));this.oDialog.addContent(this._getOriginalDialogContent());};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._getOriginalDialogContent=function(){if(!this.oInitialContent){var u;var e;u=this._getUserDetailsControl();e=this._getEntryListControl();this.oInitialContent=new sap.ui.layout.VerticalLayout('userPreferencesLayout',{content:[u,e],width:'100%'});}return this.oInitialContent;};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._getEntryListControl=function(){var e=this._getUserPrefEntriesTemplate();var x=this.getModel()&&this.getModel().getProperty('/enableHelp');var t=this,u=this.oUser.getFullName();var a=new sap.m.List('userPrefEnteryList',{items:{path:'/userPreferences/entries',template:e}});a.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'aria-label',value:t.translationBundle.getText('UserPreferences_EntryList_label')+u,writeToDom:true}));var o=a.onAfterRendering;a.onAfterRendering=function(){var E=this.getItems();var b;o.apply(this,arguments);for(var i=0;i<E.length;i++){b=E[i].getBindingContext().getPath();if(!t.getModel().getProperty(b+'/valueResult')){t._setEntryValueResult(b);}if(x){t._addXRayHelpId(b,E[i]);}}};return a;};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._addXRayHelpId=function(e,l){var h=this.getModel().getProperty(e+'/entryHelpID');if(h){l.addStyleClass('help-id-'+h);}};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._setEntryValueResult=function(e){var t=this;var i=this.getModel().getProperty(e+'/editable');var v=this.getModel().getProperty(e+'/valueArgument');if(typeof v==='function'){this.getModel().setProperty(e+'/valueResult',this.translationBundle.getText('genericLoading'));this.getModel().setProperty(e+'/editable',false);var V=v();V.done(function(a){t.getModel().setProperty(e+'/editable',i);t.getModel().setProperty(e+'/visible',typeof(a)==='object'?!!a.value:true);t.getModel().setProperty(e+'/valueResult',typeof(a)==='object'?a.displayText:a);});V.fail(function(){t.getModel().setProperty(e+'/valueResult',t.translationBundle.getText('loadingErrorMessage'));});}else if(!!v){this.getModel().setProperty(e+'/valueResult',v);this.getModel().setProperty(e+'/editable',i);}else{this.getModel().setProperty(e+'/valueResult',this.translationBundle.getText('loadingErrorMessage'));}};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._getUserPrefEntriesTemplate=function(){var t=this;var p=function(e){var a=true;var b=e.getSource().getLabel();var c=e.getSource().getBindingContext().getPath();t.getModel().setProperty('/userPreferences/activeEntryPath',c);t._setDetailedEntryModeMode(true,c,b,c);t.oDialog.removeAllContent();var C=t.getModel().getProperty(c+'/contentResult');if(C){t.oDialog.addContent(C);}else{var B=null;var s=true,I=false;var d=t.getModel().getProperty(c+'/contentFunc');if(typeof d==='function'){t.getModel().setProperty(c+'/isDirty',true);var o=d();o.done(function(f){s=false;if(I===true){t.oDialog.removeAllContent();B.destroy();}if(f instanceof sap.ui.core.Control){t.getModel().setProperty(c+'/contentResult',f);t.oDialog.addContent(f);}else{a=false;}});o.fail(function(){s=false;if(I===true){t.oDialog.removeAllContent();B.destroy();}a=false;});o.always(function(){if(a===false){var E=new sap.m.FlexBox('userPrefErrorFlexBox',{height:'5rem',alignItems:sap.m.FlexAlignItems.Center,justifyContent:sap.m.FlexJustifyContent.Center,items:[new sap.m.Text('userPrefErrorText',{text:t.translationBundle.getText('loadingErrorMessage')})]});t.getModel().setProperty(c+'/contentResult',E);t.oDialog.addContent(E);}});if(s===true){B=new sap.m.BusyIndicator('userPrefLoadingBusyIndicator',{size:'2rem'});t.oDialog.addContent(B);I=true;}}}};var i=new sap.m.DisplayListItem({label:'{title}',value:'{valueResult}',tooltip:{path:'valueResult',formatter:function(v){return typeof(v)==='string'?v:'';}},type:{path:'editable',formatter:function(e){return(e===true)?'Navigation':'Inactive';}},visible:{path:'visible',formatter:function(v){return(v!==undefined)?v:true;}},press:p,customData:new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'aria-label',value:{parts:[{path:'title'},{path:'valueResult'}],formatter:function(T,v){v=v?v:'';return T+' '+v;}},writeToDom:true})});return i;};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._getUserDetailsControl=function(){return new sap.m.ObjectIdentifier({title:this.oUser.getFullName(),text:this.oUser.getEmail()}).addStyleClass('sapUshellUserPrefUserIdentifier');};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._createCancelButton=function(){var t=this;return new sap.m.Button({id:'cancelButton',text:{parts:['/userPreferences/entries'],formatter:function(e){var E=e.some(function(o){return o.editable;});return E>0?t.translationBundle.getText('cancelBtn'):t.translationBundle.getText('close');}},press:t._dialogCancelButtonHandler.bind(t),visible:true});};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._createSaveButton=function(){var t=this;return new sap.m.Button({id:'saveButton',text:this.translationBundle.getText('saveBtn'),press:t._dialogSaveButtonHandler.bind(t),visible:{parts:['/userPreferences/entries'],formatter:function(e){return e.some(function(E){return E.editable;});}}});};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._setDetailedEntryModeMode=function(i,e,a,b){this.getModel().setProperty('/userPreferences/isDetailedEntryMode',!!i);this.getModel().setProperty('/userPreferences/dialogTitle',a);};sap.ushell.ui.footerbar.UserPreferencesButton.prototype.showUserPreferencesDialog=function(){this.oUser=sap.ushell.Container.getUser();this.createDialog();this.oDialog.open();};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._dialogBackButtonHandler=function(e){this.getModel().setProperty('/userPreferences/isDetailedEntryMode',false);this.getModel().setProperty('/userPreferences/dialogTitle',this.translationBundle.getText('userPreferences'));this.oDialog.removeAllContent();this.oDialog.addContent(this._getOriginalDialogContent());this._setEntryValueResult(this.getModel().getProperty('/userPreferences/activeEntryPath'));this.getModel().setProperty('/userPreferences/activeEntryPath',null);};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._destroyDialog=function(){this.oHeadBar.destroy();this.oInitialContent.destroy();this.oInitialContent=null;this._modelCleanUpToInitial();this._entriesCleanUp();this.oDialog.destroy();};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._entriesCleanUp=function(){var e=this.getModel().getProperty('/userPreferences/entries');for(var i=0;i<e.length;i++){if(e[i].contentResult){e[i].contentResult.destroy();e[i].contentResult=null;}e[i].isDirty=false;e[i].valueResult=null;}this.getModel().setProperty('/userPreferences/entries',e);};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._modelCleanUpToInitial=function(){this.getModel().setProperty('/userPreferences/isDetailedEntryMode',false);this.getModel().setProperty('/userPreferences/dialogTitle',this.translationBundle.getText('userPreferences'));};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._dialogSaveButtonHandler=function(){var s;s=this._saveUserPrefEntries();var t=this;var i=this.getModel().getProperty('/userPreferences/isDetailedEntryMode');if(i){this.getModel().setProperty('/userPreferences/activeEntryPath',null);}s.done(function(){t._showSaveMessageToast();});s.fail(function(f){jQuery.sap.require('sap.m.MessageBox');var e;var a='';if(f.length===1){e=t.translationBundle.getText('savingEntryError')+' ';}else{e=t.translationBundle.getText('savingEntriesError')+'\\n';}f.forEach(function(b){e+=b.entry+'\\n';a+='Entry: '+b.entry+' - Error message: '+b.message+'\\n';});sap.m.MessageBox.show(e,{icon:sap.m.MessageBox.Icon.ERROR,title:t.translationBundle.getText('Error'),actions:[sap.m.MessageBox.Action.OK]});jQuery.sap.log.error('Failed to save the following entries',a,'sap.ushell.ui.footerbar.UserPreferencesButton');});this.oDialog.close();this._destroyDialog();};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._dialogCancelButtonHandler=function(){var e=this.getModel().getProperty('/userPreferences/entries');for(var i=0;i<e.length;i++){if(e[i]&&e[i].onCancel){e[i].onCancel();}}this.oDialog.close();this._destroyDialog();};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._saveUserPrefEntries=function(){var e=this.getModel().getProperty('/userPreferences/entries');var r=jQuery.Deferred();var w;var c;var t=0;var f=0;var s=0;var p=[];var a=[];var b;var d=function(){s++;r.notify();};var g=function(h){a.push({entry:b,message:h});f++;r.notify();};for(var i=0;i<e.length;i++){if(e[i]&&e[i].isDirty===true){c=e[i].onSave();c.done(d);b=e[i].title;c.fail(g);p.push(c);t++;}}w=jQuery.when.apply(null,p);w.done(function(){r.resolve();});r.progress(function(){if(f>0&&(f+s===t)){r.reject(a);}});return r.promise();};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._addDialogBackButton=function(){var t=this;var b=new sap.m.Button('userPrefBackBtn',{visible:'{/userPreferences/isDetailedEntryMode}',icon:sap.ui.core.IconPool.getIconURI('nav-back'),press:t._dialogBackButtonHandler.bind(t),tooltip:this.translationBundle.getText('feedbackGoBackBtn_tooltip')});var d=new sap.m.Text('userPrefTitle',{text:'{/userPreferences/dialogTitle}'});this.oHeadBar=new sap.m.Bar({contentLeft:[b],contentMiddle:[d]});this.oDialog.setCustomHeader(this.oHeadBar);};sap.ushell.ui.footerbar.UserPreferencesButton.prototype._showSaveMessageToast=function(){jQuery.sap.require('sap.m.MessageToast');var m=this.translationBundle.getText('savedChanges');sap.m.MessageToast.show(m,{duration:3000,width:'15em',my:'center bottom',at:'center bottom',of:window,offset:'0 -50',collision:'fit fit'});};}());\n",
	"sap/ushell/ui/footerbar/UserPreferencesButtonRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.footerbar.UserPreferencesButtonRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.ushell.ui.launchpad.ActionItemRenderer');sap.ushell.ui.footerbar.UserPreferencesButtonRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.launchpad.ActionItemRenderer);}());\n",
	"sap/ushell/ui/launchpad/AccessibilityCustomData.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/CustomData','sap/ushell/library'],function(q,C,l){'use strict';var A=C.extend('sap.ushell.ui.launchpad.AccessibilityCustomData'),o=C.prototype._checkWriteToDom;A.prototype._checkWriteToDom=function(r){var k=this.getKey().toLowerCase(),i=sap.ui.getCore().getConfiguration().getAccessibility();if(!i){return;}if(k.indexOf('aria')===0||k==='role'||k==='tabindex'){if(!this.getWriteToDom()){return null;}var v=this.getValue();if(typeof v!='string'){q.sap.log.error('CustomData with key '+k+' should be written to HTML of '+r+' but the value is not a string.');return null;}if(!(sap.ui.core.ID.isValid(k))||(k.indexOf(':')!=-1)){q.sap.log.error('CustomData with key '+k+' should be written to HTML of '+r+' but the key is not valid (must be a valid sap.ui.core.ID without any colon).');return null;}if(k==q.sap._FASTNAVIGATIONKEY){v=/^\\s*(x|true)\\s*$/i.test(v)?'true':'false';}else if(k.indexOf('sap-ui')==0){q.sap.log.error('CustomData with key '+k+' should be written to HTML of '+r+\" but the key is not valid (may not start with 'sap-ui').\");return null;}return{key:k,value:v};}else{return o.apply(this,arguments);}};return A;},true);\n",
	"sap/ushell/ui/launchpad/ActionItem.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.ActionItem');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.m.Button');sap.m.Button.extend('sap.ushell.ui.launchpad.ActionItem',{metadata:{library:'sap.ushell',properties:{'actionType':{type:'string',group:'Appearance',defaultValue:'standard'}},events:{'press':{},'afterRendering':{}}}});sap.ushell.ui.launchpad.ActionItem.M_EVENTS={'press':'press','afterRendering':'afterRendering'};(function(){'use strict';sap.ushell.ui.launchpad.ActionItem.prototype.init=function(){if(sap.m.Button.prototype.init){sap.m.Button.prototype.init.apply(this,arguments);}this.sOrigType=undefined;};sap.ushell.ui.launchpad.ActionItem.prototype.setActionType=function(t){if(!this.sOrigType){this.sOrigType=this.getType();}if(t==='action'){this.setType(sap.m.ButtonType.Unstyled);this.addStyleClass('sapUshellActionItem');}else{this.sOrigType?this.setType(this.sOrigType):this.setType(sap.m.ButtonType.Standard);this.removeStyleClass('sapUshellActionItem');}this.setProperty('actionType',t,true);};}());\n",
	"sap/ushell/ui/launchpad/ActionItemRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.launchpad.ActionItemRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.m.ButtonRenderer');sap.ushell.ui.launchpad.ActionItemRenderer={};sap.ushell.ui.launchpad.ActionItemRenderer=sap.ui.core.Renderer.extend(sap.m.ButtonRenderer);}());\n",
	"sap/ushell/ui/launchpad/AnchorItem.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.AnchorItem');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.launchpad.AnchorItem',{metadata:{library:'sap.ushell',properties:{'title':{type:'string',group:'Misc',defaultValue:null},'selected':{type:'boolean',group:'Misc',defaultValue:false},'groupId':{type:'string',group:'Misc',defaultValue:null},'defaultGroup':{type:'boolean',group:'Misc',defaultValue:false},'index':{type:'int',group:'Misc',defaultValue:null},'visible':{type:'boolean',group:'Misc',defaultValue:null},'isGroupVisible':{type:'boolean',group:'Misc',defaultValue:true},'isGroupRendered':{type:'boolean',group:'Misc',defaultValue:false}},events:{'press':{},'afterRendering':{}}}});sap.ushell.ui.launchpad.AnchorItem.M_EVENTS={'press':'press','afterRendering':'afterRendering'};(function(){'use strict';sap.ushell.ui.launchpad.AnchorItem.prototype.onAfterRendering=function(){this.fireAfterRendering();};sap.ushell.ui.launchpad.AnchorItem.prototype.setTitle=function(t){this.setProperty('title',t,true);this.$().find('.sapUshellAnchorItemInner').text(t);};sap.ushell.ui.launchpad.AnchorItem.prototype.setGroupId=function(v){this.setProperty('groupId',v,true);};sap.ushell.ui.launchpad.AnchorItem.prototype.setSelected=function(s){s=!!s;this.setProperty('selected',s,true);if(s){var j=jQuery('.sapUshellAnchorItemSelected');j.each(function(){jQuery(this).toggleClass('sapUshellAnchorItemSelected',false);jQuery(this).attr('aria-selected',false);});}this.$().attr('aria-selected',s);this.$().toggleClass('sapUshellAnchorItemSelected',s);};sap.ushell.ui.launchpad.AnchorItem.prototype.setIsGroupRendered=function(r){r=!!r;this.setProperty('isGroupRendered',r,true);if(r){this.removeStyleClass('sapUshellAnchorItemNotRendered');}else{this.addStyleClass('sapUshellAnchorItemNotRendered');}};sap.ushell.ui.launchpad.AnchorItem.prototype.setIsGroupVisible=function(v){v=!!v;this.setProperty('isGroupVisible',v,true);this.toggleStyleClass('sapUshellShellHidden',!v);};sap.ushell.ui.launchpad.AnchorItem.prototype.onclick=function(){this.firePress();};}());\n",
	"sap/ushell/ui/launchpad/AnchorItemRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.declare('sap.ushell.ui.launchpad.AnchorItemRenderer');sap.ushell.ui.launchpad.AnchorItemRenderer=sap.ui.core.Renderer.extend(sap.ui.core.Control);sap.ushell.ui.launchpad.AnchorItemRenderer.render=function(r,a){var A=a.getParent(),o=A.getGroups(),b=o.filter(function(g){return g.getVisible();}),c=b.indexOf(a)>-1?b.indexOf(a)+1:'';r.write('<li');r.writeControlData(a);r.addClass('sapUshellAnchorItem');r.writeAccessibilityState(a,{role:'option',posinset:c,setsize:b.length});r.writeAttribute('tabindex','0');if(!a.getVisible()){r.addClass('sapUshellShellHidden');}r.writeClasses();r.write('>');r.write('<div');r.addClass('sapUshellAnchorItemInner');r.writeClasses();r.write('>');r.writeEscaped(a.getTitle());r.write('</div>');r.write('</li>');};}());\n",
	"sap/ushell/ui/launchpad/AnchorNavigationBar.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.AnchorNavigationBar');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.m.Bar');sap.m.Bar.extend('sap.ushell.ui.launchpad.AnchorNavigationBar',{metadata:{library:'sap.ushell',properties:{'accessibilityLabel':{type:'string',group:'',defaultValue:null},'selectedItemIndex':{type:'int',group:'Misc',defaultValue:0}},aggregations:{'groups':{type:'sap.ushell.ui.launchpad.AnchorItem',multiple:true,singularName:'group'}},events:{'afterRendering':{},'itemPress':{}}}});sap.ushell.ui.launchpad.AnchorNavigationBar.M_EVENTS={'afterRendering':'afterRendering','itemPress':'itemPress'};(function(){'use strict';jQuery.sap.require('sap.ushell.override');var u=sap.ushell.override.updateAggregatesFactory('groups');sap.ushell.ui.launchpad.AnchorNavigationBar.prototype.updateGroups=function(){u.apply(this,arguments);if(this.getDomRef()&&this.getGroups().length){this.reArrangeNavigationBarElements();}};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype.init=function(){sap.ui.Device.resize.attachHandler(this.reArrangeNavigationBarElements,this);this.bGroupWasPressed=false;this.bIsRtl=sap.ui.getCore().getConfiguration().getRTL();};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype.onAfterRendering=function(){this.reArrangeNavigationBarElements();var s=this.getSelectedItemIndex()||0;setTimeout(function(){this.adjustItemSelection(s);}.bind(this),100);var g=this.getGroups(),t=this;jQuery.each(g,function(i,G){this.attachPress(function(e){t.fireItemPress({group:e.getSource()});t.bGroupWasPressed=true;});});jQuery('.sapUshellAnchorNavigationBarItemsScroll').scroll(this.setNavigationBarItemsVisibility.bind(this));};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype.closeOverflowPopup=function(){this.oPopover.close();};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype.reArrangeNavigationBarElements=function(){this.anchorItems=this.getVisibleGroups();var s=this.getSelectedItemIndex()||0;if(this.anchorItems.length){this.adjustItemSelection(s);}if(sap.ui.Device.system.phone&&this.anchorItems.length){this.anchorItems.forEach(function(i,a){i.setIsGroupVisible(false);});this.anchorItems[this.getSelectedItemIndex()].setIsGroupVisible(true);}else{setTimeout(function(){this.setNavigationBarItemsVisibility();}.bind(this),200);}this._adjustAnchorBarAriaProperties(this.anchorItems);};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype._scrollToGroupByGroupIndex=function(g){var a=sap.ui.Device.system.tablet?jQuery('.sapUshellAnchorNavigationBarItemsScroll'):jQuery('.sapUshellAnchorNavigationBarItems'),b=a.offset()?a.offset().left:0,j=this.anchorItems[g].getDomRef(),s,c;if(j){s=j.offsetLeft;c=this.bIsRtl?this._normalizeScrollBarWidth()+s+64:s-b-48;a.animate({scrollLeft:c},200,this.setNavigationBarItemsVisibility.bind(this));}};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype._normalizeScrollBarWidth=function(){var l=this.anchorItems[this.anchorItems.length-1].getDomRef().offsetLeft,f=this.anchorItems[0].getDomRef().offsetLeft,t=Math.abs(l)-Math.abs(f);return t;};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype.setNavigationBarItemsVisibility=function(){if(!sap.ui.Device.system.phone){if(this.anchorItems.length&&(!this.isMostRightAnchorItemVisible()||!this.isMostLeftAnchorItemVisible())||sap.ui.Device.system.phone){this.oOverflowButton.removeStyleClass('sapUshellShellHidden');jQuery('.sapUshellAnchorItemOverFlow').removeClass('sapUshellShellHidden');}else if(this.oOverflowButton){this.oOverflowButton.addStyleClass('sapUshellShellHidden');jQuery('.sapUshellAnchorItemOverFlow').addClass('sapUshellShellHidden');}if(this.bIsRtl){if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass('sapUshellShellHidden');jQuery('.sapUshellAnchorNavigationBarItems').addClass('sapUshellOverflowLeft');}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass('sapUshellShellHidden');jQuery('.sapUshellAnchorNavigationBarItems').removeClass('sapUshellOverflowLeft');}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass('sapUshellShellHidden');jQuery('.sapUshellAnchorNavigationBarItems').addClass('sapUshellOverflowRight');}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass('sapUshellShellHidden');jQuery('.sapUshellAnchorNavigationBarItems').removeClass('sapUshellOverflowRight');}}else{if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass('sapUshellShellHidden');jQuery('.sapUshellAnchorNavigationBarItems').addClass('sapUshellOverflowLeft');}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass('sapUshellShellHidden');jQuery('.sapUshellAnchorNavigationBarItems').removeClass('sapUshellOverflowLeft');}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass('sapUshellShellHidden');jQuery('.sapUshellAnchorNavigationBarItems').addClass('sapUshellOverflowRight');}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass('sapUshellShellHidden');jQuery('.sapUshellAnchorNavigationBarItems').removeClass('sapUshellOverflowRight');}}jQuery('.sapUshellAnchorItem.firstItem').removeClass('firstItem');var j=jQuery('.sapUshellAnchorItem:visible').first();j.addClass('firstItem');}else{if(this.anchorItems.length){this.oOverflowButton.removeStyleClass('sapUshellShellHidden');var s=this.getSelectedItemIndex()||0;this.oPopover.setTitle(this.anchorItems[s].getTitle());}}};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype.adjustItemSelection=function(s){setTimeout(function(){if(this.anchorItems&&this.anchorItems.length){this.anchorItems.forEach(function(i){i.setSelected(false);});this.anchorItems[s].setSelected(true);this._scrollToGroupByGroupIndex(s);}}.bind(this),200);};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype.isMostRightAnchorItemVisible=function(){var j=jQuery('.sapUshellAnchorNavigationBar'),n=!jQuery.isEmptyObject(j)?j.width():0,a=!jQuery.isEmptyObject(j)&&j.offset()?j.offset().left:0,l=this.bIsRtl?this.anchorItems[0].getDomRef():this.anchorItems[this.anchorItems.length-1].getDomRef(),b=!jQuery.isEmptyObject(l)?jQuery(l).width():0,c;if(b<0){b=80;}c=l&&jQuery(l).offset()?jQuery(l).offset().left:0;if(c+b<=a+n){return true;}return false;};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype.isMostLeftAnchorItemVisible=function(){var j=jQuery('.sapUshellAnchorNavigationBar'),n=!jQuery.isEmptyObject(j)&&j.offset()?j.offset().left:0,f=this.bIsRtl?this.anchorItems[this.anchorItems.length-1].getDomRef():this.anchorItems[0].getDomRef(),a=!jQuery.isEmptyObject(f)&&jQuery(f).offset()?jQuery(f).offset().left:0;if(a>=n){return true;}return false;};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype.setSelectedItemIndex=function(s){if(s!==undefined){this.setProperty('selectedItemIndex',s,true);}};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype._getOverflowLeftArrowButton=function(){this.oOverflowLeftButton=new sap.m.Button({icon:'sap-icon://slim-arrow-left',tooltip:sap.ushell.resources.i18n.getText('scroll_beginning'),press:function(e){this._scrollToGroupByGroupIndex(0);}.bind(this)}).addStyleClass('sapUshellShellHidden');return this.oOverflowLeftButton;};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype._getOverflowRightArrowButton=function(){this.oOverflowRightButton=new sap.m.Button({icon:'sap-icon://slim-arrow-right',tooltip:sap.ushell.resources.i18n.getText('scroll_end'),press:function(e){this._scrollToGroupByGroupIndex(this.anchorItems.length-1);}.bind(this)}).addStyleClass('sapUshellShellHidden');return this.oOverflowRightButton;};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype._getOverflowButton=function(){var t=this,l;l=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,rememberSelections:false,selectionChange:function(e){t.fireItemPress({group:e.getParameter('listItem')});t.oPopover.close();}});this.oPopover=new sap.m.Popover({showArrow:false,showHeader:false,placement:sap.m.PlacementType.Bottom,content:[l],horizontalScrolling:false,beforeOpen:function(){jQuery('.sapUshellAnchorItemOverFlow').addClass('sapUshellAnchorItemOverFlowOpen');var j=jQuery('.sapUshellAnchorItemOverFlow'),i=sap.ui.getCore().getConfiguration().getRTL(),r=i?'auto':jQuery(window).width()-(j.offset().left+j.outerWidth())+'px',a=i?j.offset().left+'px':'auto';setTimeout(function(){jQuery(this.getDomRef()).css({'right':r,'left':a});}.bind(this),0);},afterClose:function(){jQuery('.sapUshellAnchorItemOverFlow').removeClass('sapUshellAnchorItemOverFlowOpen');jQuery('.sapUshellAnchorItemOverFlow').toggleClass('sapUshellAnchorItemOverFlowPressed',false);}}).addStyleClass('sapUshellAnchorItemsPopover').addStyleClass('sapContrastPlus');this.oOverflowButton=new sap.m.Button({icon:'sap-icon://slim-arrow-down',tooltip:sap.ushell.resources.i18n.getText('more_groups'),press:function(e){t.anchorItems=t.getVisibleGroups();l.destroyItems();t.anchorItems.forEach(function(g){var i=new sap.ushell.ui.launchpad.GroupListItem({title:g.getTitle(),groupId:g.getGroupId(),type:sap.m.ListType.Active});if(g.sId===jQuery('.sapUshellAnchorItemSelected').attr('id')){i.addStyleClass('sapUshellAnchorPopoverItemSelected');}else{i.addStyleClass('sapUshellAnchorPopoverItemNonSelected');}l.addItem(i);});t.oPopover.openBy(this);jQuery('.sapUshellAnchorItemOverFlow').toggleClass('sapUshellAnchorItemOverFlowPressed',true);}}).addStyleClass('sapUshellShellHidden').addStyleClass('sapContrastPlus');return this.oOverflowButton;};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype.getVisibleGroups=function(){return this.getGroups().filter(function(g){return g.getVisible();});};sap.ushell.ui.launchpad.AnchorNavigationBar.prototype._adjustAnchorBarAriaProperties=function(g){var i;for(i=0;i<g.length;i++){var j=jQuery(g[i].getDomRef());j.attr('aria-posinset',i+1);j.attr('aria-setsize',g.length);}};}());\n",
	"sap/ushell/ui/launchpad/AnchorNavigationBarRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.launchpad.AnchorNavigationBarRenderer');sap.ushell.ui.launchpad.AnchorNavigationBarRenderer={};sap.ushell.ui.launchpad.AnchorNavigationBarRenderer.render=function(r,c){r.write('<div');r.addClass('sapUshellAnchorNavigationBar');r.writeClasses();r.writeControlData(c);r.write('>');r.write('<div');r.addClass('sapUshellAnchorNavigationBarInner');r.writeClasses();r.write('>');r.write('<div');r.addClass('sapUshellAnchorLeftOverFlowButton');r.writeClasses();r.write('>');r.renderControl(c._getOverflowLeftArrowButton());r.write('</div>');r.write('<div');r.addClass('sapUshellAnchorNavigationBarItems');r.writeClasses();r.writeAccessibilityState(c,{role:'list'});r.write('>');r.write('<ul');r.addClass('sapUshellAnchorNavigationBarItemsScroll');r.writeClasses();r.writeAttribute('tabindex','0');r.writeAccessibilityState(c,{role:'listbox'});r.write('>');this.renderAnchorNavigationItems(r,c);r.write('</ul>');r.write('</div>');r.write('<div');r.addClass('sapUshellAnchorRightOverFlowButton');r.writeClasses();r.write('>');r.renderControl(c._getOverflowRightArrowButton());r.write('</div>');r.write('<div');r.addClass('sapUshellAnchorItemOverFlow');r.writeClasses();r.writeAccessibilityState(c._getOverflowButton(),{'hidden':true});r.write('>');r.renderControl(c._getOverflowButton());r.write('</div>');r.write('</div>');r.write('</div>');};sap.ushell.ui.launchpad.AnchorNavigationBarRenderer.renderAnchorNavigationItems=function(r,c){var g=c.getGroups();jQuery.each(g,function(i,G){r.renderControl(this);});};sap.ushell.ui.launchpad.AnchorNavigationBarRenderer.shouldAddIBarContext=function(){return false;};}());\n",
	"sap/ushell/ui/launchpad/CatalogTileContainer.js":"sap.ui.define(['sap/ushell/ui/launchpad/TileContainer'],function(c){'use strict';return sap.ushell.ui.launchpad.TileContainer.extend('sap.ushell.ui.launchpad.CatalogTileContainer',{updateTiles:function(r){var n='tiles';if(this.isTreeBinding(n)){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}else{jQuery.sap.log.debug('Updating TileContainer. Reason: ',r);try{this.filterTiles();}catch(e){this.updateAggregation(n);}}}});});\n",
	"sap/ushell/ui/launchpad/CatalogTileContainerRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.launchpad.CatalogTileContainerRenderer');jQuery.sap.require('sap.ushell.ui.launchpad.TileContainerRenderer');sap.ushell.ui.launchpad.CatalogTileContainerRenderer={};sap.ushell.ui.launchpad.CatalogTileContainerRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.launchpad.TileContainerRenderer);}());\n",
	"sap/ushell/ui/launchpad/DashboardGroupsContainer.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.DashboardGroupsContainer');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.launchpad.DashboardGroupsContainer',{metadata:{library:'sap.ushell',properties:{'accessibilityLabel':{type:'string',group:'',defaultValue:null}},aggregations:{'groups':{type:'sap.ui.core.Control',multiple:true,singularName:'group'}},events:{'afterRendering':{}}}});sap.ushell.ui.launchpad.DashboardGroupsContainer.M_EVENTS={'afterRendering':'afterRendering'};(function(){'use strict';sap.ushell.ui.launchpad.DashboardGroupsContainer.prototype.updateGroups=sap.ushell.override.updateAggregatesFactory('groups');sap.ushell.ui.launchpad.DashboardGroupsContainer.prototype.onAfterRendering=function(){this.fireAfterRendering();};sap.ushell.ui.launchpad.DashboardGroupsContainer.prototype.getGroupControlByGroupId=function(g){try{var a=this.getGroups();for(var i=0;i<a.length;i++){if(a[i].getGroupId()==g){return a[i];}}}catch(e){}return null;};}());\n",
	"sap/ushell/ui/launchpad/DashboardGroupsContainerRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.launchpad.DashboardGroupsContainerRenderer');sap.ushell.ui.launchpad.DashboardGroupsContainerRenderer={};sap.ushell.ui.launchpad.DashboardGroupsContainerRenderer.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUshellDashboardGroupsContainer');r.writeClasses();if(c.getAccessibilityLabel()){r.writeAccessibilityState(c,{role:'navigation',label:c.getAccessibilityLabel()});}r.write('>');var g=c.getGroups();jQuery.each(g,function(i,G){r.write('<div');r.addClass('sapUshellDashboardGroupsContainerItem');if(G.getIsGroupLocked()||G.getDefaultGroup()){r.addClass('sapUshellDisableDragAndDrop');}r.writeClasses();r.write('>');r.renderControl(this);r.write('</div>');});r.write('</div>');};}());\n",
	"sap/ushell/ui/launchpad/EmbeddedSupportErrorMessage.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.m.Dialog');sap.m.Dialog.extend('sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage',{metadata:{library:'sap.ushell',events:{'afterClose':{}}}});sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage.M_EVENTS={'afterClose':'afterClose'};(function(){'use strict';jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage');sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage.prototype.open=function(){var c,C;this.translationBundle=sap.ushell.resources.i18n;c=new sap.m.Button({id:sap.ui.core.ElementMetadata.uid('supportBtn'),text:this.translationBundle.getText('contactSupportBtn'),press:function(){this.close();jQuery.sap.require('sap.ushell.ui.footerbar.ContactSupportButton');this.oContactSupport=new sap.ushell.ui.footerbar.ContactSupportButton('ContactSupportErrorMsg',{visible:true});if(this.oContactSupport){this.oContactSupport.showContactSupportDialog();this.oContactSupport.destroy();}}.bind(this)});C=new sap.m.Button({id:sap.ui.core.ElementMetadata.uid('closeBtn'),text:this.translationBundle.getText('close'),press:function(){this.close();}.bind(this)});this.setType(sap.m.DialogType.Message);this.setIcon('sap-icon://alert');this.setRightButton(C);this.setLeftButton(c);this._addStyleClassToContent();this.addStyleClass('sapMMessageBoxError');this.attachAfterClose(function(){this.destroy();}.bind(this));if(sap.m.Dialog.prototype.open){sap.m.Dialog.prototype.open.apply(this,arguments);}};sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage.prototype._addStyleClassToContent=function(){var c=this.getContent(),C,i;for(i in c){C=c[i];if(C.getMetadata().getName()==='sap.m.Text'&&!C.aCustomStyleClasses){C.addStyleClass('sapMMsgBoxText');}}};sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage.prototype.onAfterRendering=function(){var j=jQuery('#EmbeddedSupportErrorMessage').eq(0);if(j){var l=j.attr('aria-labelledby');j.attr('aria-labelledby',l+this.getContent()[0].getId());}};}());\n",
	"sap/ushell/ui/launchpad/EmbeddedSupportErrorMessageRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.launchpad.EmbeddedSupportErrorMessageRenderer');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.m.DialogRenderer');sap.ushell.ui.launchpad.EmbeddedSupportErrorMessageRenderer=sap.ui.core.Renderer.extend(sap.m.DialogRenderer);}());\n",
	"sap/ushell/ui/launchpad/GroupHeaderActions.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.GroupHeaderActions');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.launchpad.GroupHeaderActions',{metadata:{library:'sap.ushell',properties:{'isOverflow':{type:'boolean',group:'Misc',defaultValue:false},'tileActionModeActive':{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{'content':{type:'sap.ui.core.Control',multiple:true,singularName:'content'},'overflowCtrl':{type:'sap.ui.core.Control',multiple:true,singularName:'overflowCtrl'}},events:{'afterRendering':{}}}});sap.ushell.ui.launchpad.GroupHeaderActions.M_EVENTS={'afterRendering':'afterRendering'};(function(){'use strict';sap.ushell.ui.launchpad.GroupHeaderActions.prototype.onAfterRendering=function(){this.fireAfterRendering();};sap.ushell.ui.launchpad.GroupHeaderActions.prototype._getActionOverflowControll=function(){var t=this;return[new sap.m.Button({icon:'sap-icon://overflow',type:'Transparent',press:function(e){var a=new sap.m.ActionSheet({placement:sap.m.PlacementType.Auto});t.getContent().forEach(function(b){var c=b.clone();c.setModel(b.getModel());c.setBindingContext(b.getBindingContext());a.addButton(c);});a.openBy(e.getSource());}}).addStyleClass('sapUshellHeaderActionButton')];};}());\n",
	"sap/ushell/ui/launchpad/GroupHeaderActionsRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.launchpad.GroupHeaderActionsRenderer');sap.ushell.ui.launchpad.GroupHeaderActionsRenderer={};sap.ushell.ui.launchpad.GroupHeaderActionsRenderer.render=function(r,c){var i=c.getIsOverflow(),a=c.getTileActionModeActive();r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');var C=c.getContent();if(a){if(i){jQuery.each(c._getActionOverflowControll(),function(){r.renderControl(this);});}else{jQuery.each(C,function(){r.renderControl(this);});}}r.write('</div>');};}());\n",
	"sap/ushell/ui/launchpad/GroupListItem.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.GroupListItem');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.m.ListItemBase');sap.m.ListItemBase.extend('sap.ushell.ui.launchpad.GroupListItem',{metadata:{library:'sap.ushell',properties:{'title':{type:'string',group:'Misc',defaultValue:null},'defaultGroup':{type:'boolean',group:'Misc',defaultValue:false},'show':{type:'boolean',group:'Misc',defaultValue:true},'groupId':{type:'string',group:'Misc',defaultValue:null},'index':{type:'int',group:'Misc',defaultValue:null},'numberOfTiles':{type:'int',group:'Misc',defaultValue:0},'isGroupVisible':{type:'boolean',group:'Misc',defaultValue:true}},events:{'press':{},'afterRendering':{}}}});sap.ushell.ui.launchpad.GroupListItem.M_EVENTS={'press':'press','afterRendering':'afterRendering'};(function(){'use strict';jQuery.sap.require('sap.m.Input');sap.ushell.ui.launchpad.GroupListItem.prototype.exit=function(){sap.m.ListItemBase.prototype.exit.apply(this,arguments);};sap.ushell.ui.launchpad.GroupListItem.prototype.onAfterRendering=function(){this.fireAfterRendering();};sap.ushell.ui.launchpad.GroupListItem.prototype.groupHasVisibleTiles=function(){var g=this.getModel().getProperty('/groups/'+this.getIndex()+'/tiles');var a=this.getModel().getProperty('/groups/'+this.getIndex()+'/links');return sap.ushell.utils.groupHasVisibleTiles(g,a);};sap.ushell.ui.launchpad.GroupListItem.prototype.onclick=function(){this.firePress({id:this.getId()});};sap.ushell.ui.launchpad.GroupListItem.prototype.onsapenter=function(){this.firePress({id:this.getId(),action:'sapenter'});};sap.ushell.ui.launchpad.GroupListItem.prototype.setGroupId=function(g){this.setProperty('groupId',g,true);return this;};sap.ushell.ui.launchpad.GroupListItem.prototype.setTitle=function(t){this.setProperty('title',t);this.$().find('.sapMSLITitleOnly').text(t);return this;};}());\n",
	"sap/ushell/ui/launchpad/GroupListItemRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.launchpad.GroupListItemRenderer');jQuery.sap.require('sap.m.ListItemBaseRenderer');sap.ushell.ui.launchpad.GroupListItemRenderer=sap.ui.core.Renderer.extend(sap.m.ListItemBaseRenderer);var t=sap.ushell.resources.i18n;sap.ushell.ui.launchpad.GroupListItemRenderer.renderLIAttributes=function(r){r.addClass('sapUshellGroupLI');r.addClass('sapUshellGroupListItem');};sap.ushell.ui.launchpad.GroupListItemRenderer.renderLIContent=function(r,l){r.write('<div');r.addClass('sapMSLIDiv');r.addClass('sapMSLITitleDiv');r.writeClasses();if(!l.getVisible()){r.addStyle('display','none');r.writeStyles();}r.write('>');r.write('<div');r.addClass('sapMSLITitleOnly');r.writeClasses();r.writeAccessibilityState(l,{label:l.getTitle()+t.getText('GroupListItem_label')});r.write('>');r.writeEscaped(l.getTitle());r.write('</div>');r.write('</div>');};}());\n",
	"sap/ushell/ui/launchpad/HeaderTile.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.HeaderTile');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ushell.ui.launchpad.Tile');sap.ushell.ui.launchpad.Tile.extend('sap.ushell.ui.launchpad.HeaderTile',{metadata:{library:'sap.ushell',properties:{'headerLevel':{type:'sap.m.HeaderLevel',group:'Appearance',defaultValue:sap.m.HeaderLevel.H3},'headerText':{type:'string',group:'Appearance',defaultValue:null}}}});\n",
	"sap/ushell/ui/launchpad/HeaderTileRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\njQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.launchpad.HeaderTileRenderer');sap.ushell.ui.launchpad.HeaderTileRenderer={};var translationBundle=sap.ushell.resources.i18n;\nsap.ushell.ui.launchpad.HeaderTileRenderer.render=function(r,c){r.write('<');r.write(c.getHeaderLevel().toLowerCase());r.writeControlData(c);r.addClass('sapUshellHeaderTile');r.addClass('sapUiStrongBackgroundTextColor');if(!c.getVisible()){r.addClass('sapUshellHidden');}r.writeClasses();r.writeAccessibilityState(c,{label:c.getHeaderText()+translationBundle.getText('HeaderCategory')});r.write('>');r.writeEscaped(c.getHeaderText());r.write('</');r.write(c.getHeaderLevel().toLowerCase());r.write('>');};\n",
	"sap/ushell/ui/launchpad/LinkTileWrapper.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.LinkTileWrapper');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.launchpad.LinkTileWrapper',{metadata:{library:'sap.ushell',properties:{'uuid':{type:'string',group:'Misc',defaultValue:null},'tileCatalogId':{type:'string',group:'Misc',defaultValue:null},'target':{type:'string',group:'Misc',defaultValue:null},'visible':{type:'boolean',group:'Misc',defaultValue:true},'debugInfo':{type:'string',group:'Misc',defaultValue:null},'animationRendered':{type:'boolean',group:'Misc',defaultValue:false},'isLocked':{type:'boolean',group:'Misc',defaultValue:false},'tileActionModeActive':{type:'boolean',group:'Misc',defaultValue:false},'ieHtml5DnD':{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{'tileViews':{type:'sap.ui.core.Control',multiple:true,singularName:'tileView'},'footItems':{type:'sap.ui.core.Control',multiple:true,singularName:'footItem'}},events:{'press':{},'coverDivPress':{},'afterRendering':{},'showActions':{}}}});sap.ushell.ui.launchpad.LinkTileWrapper.M_EVENTS={'press':'press','coverDivPress':'coverDivPress','afterRendering':'afterRendering','showActions':'showActions'};(function(){'use strict';jQuery.sap.require('sap.ushell.override');sap.ushell.ui.launchpad.LinkTileWrapper.prototype.ontap=function(e,u){jQuery.sap.log.info('Tile clicked:',this.getDebugInfo(),'sap.ushell.ui.launchpad.LinkTileWrapper');return;};sap.ushell.ui.launchpad.LinkTileWrapper.prototype.destroy=function(s){this.destroyTileViews();sap.ui.core.Control.prototype.destroy.call(this,s);};sap.ushell.ui.launchpad.LinkTileWrapper.prototype.addTileView=function(o,s){o.setParent(null);jQuery.sap.require('sap.ushell.ui.launchpad.AccessibilityCustomData');o.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:'tabindex',value:'-1',writeToDom:true}));sap.ui.base.ManagedObject.prototype.addAggregation.call(this,'tileViews',o,s);};sap.ushell.ui.launchpad.LinkTileWrapper.prototype.destroyTileViews=function(){if(this.mAggregations['tileViews']){this.mAggregations['tileViews'].length=0;}};sap.ushell.ui.launchpad.LinkTileWrapper.prototype.onAfterRendering=function(){this.fireAfterRendering();};sap.ushell.ui.launchpad.LinkTileWrapper.prototype._launchTileViaKeyboard=function(e){if(e.target.tagName!=='BUTTON'){var t=this.getTileViews()[0],p=false;if(t.firePress){var c=document.createEvent('MouseEvents');c.initEvent('click',false,true);t.getDomRef().dispatchEvent(c);}else{while(t.getContent&&!p){t=t.getContent()[0];if(t.firePress){t.firePress({id:this.getId()});p=true;}}}}};sap.ushell.ui.launchpad.LinkTileWrapper.prototype.onsapenter=function(e){this._launchTileViaKeyboard(e);};sap.ushell.ui.launchpad.LinkTileWrapper.prototype.onsapspace=function(e){this._launchTileViaKeyboard(e);};sap.ushell.ui.launchpad.LinkTileWrapper.prototype.onclick=function(e){if(this.getTileActionModeActive()){e.preventDefault();}else{var c=this.getTileViews()[0],c=c.getContent?c.getContent()[0]:c,C=c.getHref();sap.ui.getCore().getEventBus().publish('launchpad','dashboardTileLinkClick',{targetHash:C});}};sap.ushell.ui.launchpad.LinkTileWrapper.prototype.setVisible=function(v){this.setProperty('visible',v,true);return this.toggleStyleClass('sapUshellHidden',!v);};sap.ushell.ui.launchpad.LinkTileWrapper.prototype.setAnimationRendered=function(v){this.setProperty('animationRendered',v,true);};sap.ushell.ui.launchpad.LinkTileWrapper.prototype._handleTileShadow=function(j,a){if(j.length){j.unbind('mouseenter mouseleave');var u,t=j.css('border').split('px')[0],m=this.getModel();if(t>0){u=j.css('border-color');}else{u=this.getRgba();}j.hover(function(){if(!m.getProperty('/tileActionModeActive')){var o=jQuery(j).css('box-shadow'),T=o?o.split(') ')[1]:null,U;if(T){U=T+' '+u;jQuery(this).css('box-shadow',U);}}},function(){jQuery(this).css('box-shadow','');});}};sap.ushell.ui.launchpad.LinkTileWrapper.prototype.setUuid=function(u){this.setProperty('uuid',u,true);return this;};}());\n",
	"sap/ushell/ui/launchpad/LinkTileWrapperRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.launchpad.LinkTileWrapperRenderer');sap.ushell.ui.launchpad.LinkTileWrapperRenderer={};sap.ushell.ui.launchpad.LinkTileWrapperRenderer.render=function(r,c){var t=null,m=c.getModel();try{t=c.getTileViews()[0];}catch(e){jQuery.sap.log.warning('Failed to load tile view: ',e.message);t=new sap.m.Text({text:'Failed to load. '});}r.write('<div');if(m&&m.getProperty('/enableHelp')){r.writeAttribute('data-tileCatalogId',c.getTileCatalogId());}r.writeControlData(c);r.addClass('sapUshellLinkTile');if(!c.getVisible()){r.addClass('sapUshellHidden');}if(c.getIsLocked()){r.addClass('sapUshellLockedTile');}r.writeClasses();if(c.getIeHtml5DnD()){r.writeAttribute('draggable','true');}r.writeAttributeEscaped('tabindex','-1');var l=c.data('layoutPosition');if(l){var s='-webkit-transform:'+l.translate3D+';-ms-transform:'+l.translate2D+';transform:'+l.translate3D;r.writeAttribute('style',s);}r.write('>');r.addClass('sapUshellTileInner');if(this.renderTileView){this.renderTileView(r,t,c.getTarget());}r.write('</div>');};sap.ushell.ui.launchpad.LinkTileWrapperRenderer.renderTileView=function(r,t,T){if((T||'')!==''){r.write('<a');r.writeClasses();r.writeAttributeEscaped('href','#'+T);r.write('>');r.renderControl(t);r.write('</a>');}else{r.write('<div');r.writeClasses();r.writeAttribute('title',t.getText?t.getText():'');r.write('>');r.renderControl(t);r.write('</div>');}};}());\n",
	"sap/ushell/ui/launchpad/LoadingDialog.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.LoadingDialog');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.launchpad.LoadingDialog',{metadata:{library:'sap.ushell',properties:{'iconUri':{type:'sap.ui.core.URI',group:'Appearance',defaultValue:null},'text':{type:'sap.ui.core.URI',group:'Appearance',defaultValue:null},'loadAnimationWithInterval':{type:'boolean',group:'Appearance',defaultValue:true}}}});(function(){'use strict';jQuery.sap.require('sap.ui.core.Icon');jQuery.sap.require('sap.ui.core.Popup');jQuery.sap.require('sap.m.Label');jQuery.sap.require('sap.ushell.ui.launchpad.AccessibilityCustomData');sap.ushell.ui.launchpad.LoadingDialog.prototype.init=function(){this._oPopup=new sap.ui.core.Popup();this._oPopup.restoreFocus=false;this._oPopup.setShadow(false);this._oPopup.setModal(true,'sapUshellLoadingDialog');this.oIcon=new sap.ui.core.Icon();this._sLabelId=this.getId()+'loadingLabel';this._oLabel=new sap.m.Label(this._sLabelId);};sap.ushell.ui.launchpad.LoadingDialog.prototype.exit=function(){this._oPopup.close();this._oPopup.destroy();this.oIcon.destroy();this._oLabel.destroy();};sap.ushell.ui.launchpad.LoadingDialog.prototype.isOpen=function(){return this._oPopup.isOpen();};sap.ushell.ui.launchpad.LoadingDialog.prototype.openLoadingScreen=function(){if(this.getLoadAnimationWithInterval()){this.toggleStyleClass('sapUshellVisibilityHidden',true);this._iTimeoutId=setTimeout(function(){this.toggleStyleClass('sapUshellVisibilityHidden',false);}.bind(this),3000);}else{this.toggleStyleClass('sapUshellVisibilityHidden',false);}if(!this.getVisible()){this.setProperty('visible',true,true);this.$().show();}if(!this.isOpen()){if(!this._oPopup.getContent()){this._oPopup.setContent(this);}this._oPopup.setPosition('center center','center center',document,'0 0','fit');this._oPopup.open();}};sap.ushell.ui.launchpad.LoadingDialog.prototype.setLoadAnimationWithInterval=function(s){this.setProperty('loadAnimationWithInterval',s,true);};sap.ushell.ui.launchpad.LoadingDialog.prototype.showAppInfo=function(a,i,A){this.setProperty('text',a,true);this.setProperty('iconUri',i,true);this.oIcon.setSrc(i);this._oLabel.setText(a);};sap.ushell.ui.launchpad.LoadingDialog.prototype.closeLoadingScreen=function(){if(this._iTimeoutId){clearTimeout(this._iTimeoutId);}this._oLabel.setText('');if(this.getVisible()){this.setProperty('visible',false,true);this.$().hide();this._oPopup.close();}};sap.ushell.ui.launchpad.LoadingDialog.prototype.onAfterRendering=function(){this.$().css('width','20rem');setTimeout(function(){this._oPopup.setContent(this.getDomRef());}.bind(this),0);};sap.ushell.ui.launchpad.LoadingDialog.prototype.setText=function(t){this.setProperty('text',t,true);var j=jQuery('#'+this._sLabelId);if(j&&j[0]){j[0].textContent=t;}};}());\n",
	"sap/ushell/ui/launchpad/LoadingDialogRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.launchpad.LoadingDialogRenderer');sap.ushell.ui.launchpad.LoadingDialogRenderer={};sap.ushell.ui.launchpad.LoadingDialogRenderer.render=function(r,c){var t=c.getTooltip_AsString();if(jQuery('#sapUshellLoadingAccessibilityHelper').length===0){r.write('<div');r.writeAttribute('id','sapUshellLoadingAccessibilityHelper');r.addClass('sapUshellLoadingAccessibilityHelper');r.writeClasses();r.write('>');r.write('<div');r.writeAttribute('id','sapUshellLoadingAccessibilityHelper-appInfo');r.writeAttribute('aria-atomic','true');r.writeAttribute('role','alert');r.write('>');r.write('</div>');r.write('<div');r.writeAttribute('id','sapUshellLoadingAccessibilityHelper-loadingComplete');r.writeAttribute('aria-atomic','true');r.writeAttribute('aria-live','polite');r.write('>');r.write('</div>');r.write('</div>');}c._oLabel.addStyleClass('sapUshellLoadingDialogLabel');r.write('<div');r.writeControlData(c);r.addClass('sapUshellLoadingDialogControl');r.writeClasses();if(t){r.writeAttributeEscaped('title',t);}r.write('>');if(jQuery.os.ios||!c._isPlatformDependent){this.renderAppInfo(r,c);this.renderFioriFlower(r,c);}else{this.renderFioriFlower(r,c);this.renderAppInfo(r,c);}r.write('</div>');};sap.ushell.ui.launchpad.LoadingDialogRenderer.renderAppInfo=function(r,c){r.write('<div').addClass('sapUshellLoadingDialogAppData').writeClasses();r.write('>');if(c.getIconUri()){r.renderControl(c.oIcon);}r.renderControl(c._oLabel);r.write('</div>');};sap.ushell.ui.launchpad.LoadingDialogRenderer.renderFioriFlower=function(r,c){var i,R=false,u=[/Android\\s4\\.2.+GT-I9505.+Chrome\\/18/];if(navigator.userAgent){for(i=0;i<u.length;i=i+1){if(u[i].test(navigator.userAgent)){R=true;break;}}}if(jQuery.support.cssAnimations&&!R){r.write(\"<div id='fiori2-loader'>\");r.write(\"<div class='fiori2-blossom'>\");for(i=1;i<6;i=i+1){r.write(\"<div class='fiori2-leafContainer fiori2-leafContainer\"+i+\"'>\");r.write(\"<div class='fiori2-leaf fiori2-leaf\"+i+\"'></div>\");r.write('</div>');}r.write('</div>');r.write('</div>');}};}());\n",
	"sap/ushell/ui/launchpad/LoadingOverlay.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.LoadingOverlay');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.launchpad.LoadingOverlay',{metadata:{library:'sap.ushell'}});(function(){'use strict';sap.ushell.ui.launchpad.LoadingOverlay.prototype.init=function(){var b=document.getElementsByTagName('body')[0],e=document.createElement('DIV'),a=document.createElement('DIV'),c=document.createElement('DIV'),d=document.createElement('DIV'),f=document.createElement('DIV');f.setAttribute('id','sapUshellLoadingArea');f.setAttribute('class','sapUshellLoadingDialogArea');f.setAttribute('style','height: 0px; width: 0px; overflow: hidden; float: left;');b.insertBefore(f,b.firstChild);a.setAttribute('id','sapUshellLoadingAccessibilityHelper');a.setAttribute('class','sapUshellLoadingAccessibilityHelper');c.setAttribute('id','sapUshellLoadingAccessibilityHelper-appInfo');c.setAttribute('aria-atomic','true');d.setAttribute('id','sapUshellLoadingAccessibilityHelper-loadingComplete');d.setAttribute('aria-atomic','true');d.setAttribute('aria-live','polite');e.setAttribute('id','sapUshellLoadingOverlay');e.setAttribute('class','sapUshellLoadingOverlayStyle sapUshellShellHidden');e.setAttribute('style','z-index: 8;visibility: visible;');a.appendChild(c);a.appendChild(d);f.appendChild(a);b.insertBefore(e,f);};sap.ushell.ui.launchpad.LoadingOverlay.prototype.openLoadingScreen=function(){jQuery('#sapUshellLoadingOverlay').toggleClass('sapUshellShellHidden',false);};sap.ushell.ui.launchpad.LoadingOverlay.prototype.isOpen=function(){return!jQuery('#sapUshellLoadingOverlay').hasClass('sapUshellShellHidden');};sap.ushell.ui.launchpad.LoadingOverlay.prototype.closeLoadingScreen=function(){jQuery('#sapUshellLoadingOverlay').toggleClass('sapUshellShellHidden',true);};}());\n",
	"sap/ushell/ui/launchpad/Panel.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.Panel');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.m.Panel');sap.m.Panel.extend('sap.ushell.ui.launchpad.Panel',{metadata:{library:'sap.ushell',properties:{'translucent':{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{'headerContent':{type:'sap.ui.core.Control',multiple:true,singularName:'headerContent'},'headerBar':{type:'sap.m.Bar',multiple:false}}}});jQuery.sap.require('sap.ushell.override');sap.ushell.ui.launchpad.Panel.prototype.updateAggregation=sap.ushell.override.updateAggregation;\n",
	"sap/ushell/ui/launchpad/PanelRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\njQuery.sap.declare('sap.ushell.ui.launchpad.PanelRenderer');sap.ushell.ui.launchpad.PanelRenderer={};\nsap.ushell.ui.launchpad.PanelRenderer.render=function(r,c){if(!c.getVisible()){return;}r.write('<section');r.writeControlData(c);r.addClass('sapMPanel');r.addClass('sapUshellPanel');if(!c.getTranslucent()){r.addClass('sapMPanelBG');}r.addStyle('width',c.getWidth());r.addStyle('height',c.getHeight());r.writeClasses();r.writeStyles();r.write('>');var h=c.getHeaderContent();var l=h.length;if(c.getHeaderText()||l>0||c.getHeaderBar()){r.write('<header');r.addClass('sapMPanelHdr');r.addClass('sapUshellCatalogHeader');r.writeClasses();r.write('>');if(c.getHeaderText()||l>0){r.write('<');r.write(c.getHeaderLevel().toLowerCase());r.write('>');if(c.getHeaderText()){r.writeEscaped(c.getHeaderText());}for(var j=0;j<l;j++){r.renderControl(h[j]);}r.write('</');r.write(c.getHeaderLevel().toLowerCase());r.write('>');}if(c.getHeaderBar()){r.renderControl(c.getHeaderBar());}r.write('</header>');}r.write('<div');r.addClass('sapMPanelContent');r.addClass('sapUshellPanelContent');r.writeClasses();r.write('>');var C=c.getContent();var L=C.length;for(var i=0;i<L;i++){r.renderControl(C[i]);}r.write('</div>');r.write('</section>');};\n",
	"sap/ushell/ui/launchpad/PlusTile.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.PlusTile');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ushell.ui.launchpad.Tile');sap.ushell.ui.launchpad.Tile.extend('sap.ushell.ui.launchpad.PlusTile',{metadata:{library:'sap.ushell',properties:{'groupId':{type:'string',group:'Misc',defaultValue:''}},events:{'press':{}}}});sap.ushell.ui.launchpad.PlusTile.M_EVENTS={'press':'press'};(function(){'use strict';sap.ushell.ui.launchpad.PlusTile.prototype.init=function(){this.oIcon=new sap.ui.core.Icon({src:'sap-icon://add',tooltip:sap.ushell.resources.i18n.getText('open_appFinder')});};sap.ushell.ui.launchpad.PlusTile.prototype.exit=function(){if(this.oIcon){this.oIcon.destroy();}};sap.ushell.ui.launchpad.PlusTile.prototype.onclick=function(){var g=this.getParent().getBindingContext().getObject();if(!g.object){return;}this.firePress();};sap.ushell.ui.launchpad.PlusTile.prototype.onsapspace=function(){this.firePress();};sap.ushell.ui.launchpad.PlusTile.prototype.onsapenter=function(){this.firePress();};sap.ushell.ui.launchpad.PlusTile.prototype.setGroupId=function(v){this.setProperty('groupId',v,true);return this;};}());\n",
	"sap/ushell/ui/launchpad/PlusTileRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.launchpad.PlusTileRenderer');sap.ushell.ui.launchpad.PlusTileRenderer={};var t=sap.ushell.resources.i18n;sap.ushell.ui.launchpad.PlusTileRenderer.render=function(r,c){r.write('<li');r.writeAttribute('tabindex','-1');r.writeControlData(c);r.addClass('sapUshellTile');r.addClass('sapUshellPlusTile');r.writeClasses();r.writeAccessibilityState(c,{label:t.getText('TilePlus_label')});r.write('>');r.renderControl(c.oIcon);r.write('</li>');};}());\n",
	"sap/ushell/ui/launchpad/Tile.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.Tile');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.launchpad.Tile',{metadata:{library:'sap.ushell',properties:{'long':{type:'boolean',group:'Misc',defaultValue:false},'uuid':{type:'string',group:'Misc',defaultValue:null},'tileCatalogId':{type:'string',group:'Misc',defaultValue:null},'target':{type:'string',group:'Misc',defaultValue:null},'visible':{type:'boolean',group:'Misc',defaultValue:true},'debugInfo':{type:'string',group:'Misc',defaultValue:null},'rgba':{type:'string',group:'Misc',defaultValue:null},'animationRendered':{type:'boolean',group:'Misc',defaultValue:false},'isLocked':{type:'boolean',group:'Misc',defaultValue:false},'showActionsIcon':{type:'boolean',group:'Misc',defaultValue:false},'tileActionModeActive':{type:'boolean',group:'Misc',defaultValue:false},'ieHtml5DnD':{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{'tileViews':{type:'sap.ui.core.Control',multiple:true,singularName:'tileView'},'footItems':{type:'sap.ui.core.Control',multiple:true,singularName:'footItem'}},events:{'press':{},'coverDivPress':{},'afterRendering':{},'showActions':{},'deletePress':{}}}});sap.ushell.ui.launchpad.Tile.M_EVENTS={'press':'press','coverDivPress':'coverDivPress','afterRendering':'afterRendering','showActions':'showActions','deletePress':'deletePress'};(function(){'use strict';jQuery.sap.require('sap.ushell.override');sap.ushell.ui.launchpad.Tile.prototype.getActionSheetIcon=function(){if(!this.getTileActionModeActive()){return undefined;}if(!this.actionSheetIcon){this.actionSheetIcon=new sap.ui.core.Icon({src:'sap-icon://overflow'});this.actionSheetIcon.addStyleClass('sapUshellTileActionIconDivBottomInner');}return this.actionSheetIcon;};sap.ushell.ui.launchpad.Tile.prototype.ontap=function(e,u){jQuery.sap.log.info('Tile clicked:',this.getDebugInfo(),'sap.ushell.ui.launchpad.Tile');this.firePress();return;};sap.ushell.ui.launchpad.Tile.prototype.destroy=function(s){this.destroyTileViews();sap.ui.core.Control.prototype.destroy.call(this,s);};sap.ushell.ui.launchpad.Tile.prototype.addTileView=function(o,s){o.setParent(null);sap.ui.base.ManagedObject.prototype.addAggregation.call(this,'tileViews',o,s);};sap.ushell.ui.launchpad.Tile.prototype.destroyTileViews=function(){if(this.mAggregations['tileViews']){this.mAggregations['tileViews'].length=0;}};sap.ushell.ui.launchpad.Tile.prototype.onAfterRendering=function(){var c=this.$().find('div.sapUshellTileActionLayerDiv'),r;if(this.getTileActionModeActive()){c.css('display','block');}else{c.css('display','none');}r=this.getRgba();if(r){this._redrawRGBA();}this.fireAfterRendering();};sap.ushell.ui.launchpad.Tile.prototype._launchTileViaKeyboard=function(e){if(this.getTileActionModeActive()){this.fireCoverDivPress({id:this.getId()});}else{if(e.target.tagName!=='BUTTON'){var t=this.getTileViews()[0],p=false;if(t.firePress){t.firePress({id:this.getId()});}else{while(t.getContent&&!p){t=t.getContent()[0];if(t.firePress){t.firePress({id:this.getId()});p=true;}}}}}};sap.ushell.ui.launchpad.Tile.prototype.onsapenter=function(e){this._launchTileViaKeyboard(e);if(!this.getTileActionModeActive()){this._announceLoadingApplication();}};sap.ushell.ui.launchpad.Tile.prototype.onsapspace=function(e){this._launchTileViaKeyboard(e);if(!this.getTileActionModeActive()){this._announceLoadingApplication();}};sap.ushell.ui.launchpad.Tile.prototype.onclick=function(e){if(this.getTileActionModeActive()){var s=e.originalEvent.srcElement;if(jQuery(s).closest('.sapUshellTileDeleteClickArea').length>0){this.fireDeletePress();}else{this.fireCoverDivPress({id:this.getId()});}}else{this._announceLoadingApplication();}};sap.ushell.ui.launchpad.Tile.prototype._announceLoadingApplication=function(){var a=document.getElementById('sapUshellLoadingAccessibilityHelper-appInfo'),l=sap.ushell.resources.i18n.getText('screenReaderNavigationLoading');if(a){a.setAttribute('role','alert');a.innerHTML=l;setTimeout(function(){a.removeAttribute('role');a.innerHTML='';},0);}};sap.ushell.ui.launchpad.Tile.prototype._initDeleteAction=function(){var t=this;if(!this.deleteIcon){this.deleteIcon=new sap.ui.core.Icon({src:'sap-icon://decline',tooltip:sap.ushell.resources.i18n.getText('removeButtonTItle')});this.deleteIcon.addEventDelegate({onclick:function(e){t.fireDeletePress();e.stopPropagation();}});this.deleteIcon.addStyleClass('sapUshellTileDeleteIconInnerClass');}return this.deleteIcon;};sap.ushell.ui.launchpad.Tile.prototype.setShowActionsIcon=function(s){var t=this,i;if(s){i=new sap.ui.core.Icon({size:'1rem',src:'sap-icon://overflow',press:function(e){t.fireShowActions();t.addStyleClass('showTileActionsIcon');var E=sap.ui.getCore().getEventBus(),a=function(n,b,c){c.removeStyleClass('showTileActionsIcon');E.unsubscribe('dashboard','actionSheetClose',a);};E.subscribe('dashboard','actionSheetClose',a);}});i.addStyleClass('sapUshellTileActionsIconClass');this.actionIcon=i;}else if(this.actionIcon){this.actionIcon.destroy(true);}this.setProperty('showActionsIcon',s);};sap.ushell.ui.launchpad.Tile.prototype.setVisible=function(v){this.setProperty('visible',v,true);return this.toggleStyleClass('sapUshellHidden',!v);};sap.ushell.ui.launchpad.Tile.prototype.setRgba=function(v){this.setProperty('rgba',v,true);this._redrawRGBA(arguments);};sap.ushell.ui.launchpad.Tile.prototype.setAnimationRendered=function(v){this.setProperty('animationRendered',v,true);};sap.ushell.ui.launchpad.Tile.prototype._handleTileShadow=function(j,a){if(j.length){j.unbind('mouseenter mouseleave');var u,t=j.css('border').split('px')[0],m=this.getModel();if(t>0){u=j.css('border-color');}else{u=this.getRgba();}j.hover(function(){if(!m.getProperty('/tileActionModeActive')){var o=jQuery(j).css('box-shadow'),T=o?o.split(') ')[1]:null,U;if(T){U=T+' '+u;jQuery(this).css('box-shadow',U);}}},function(){jQuery(this).css('box-shadow','');});}};sap.ushell.ui.launchpad.Tile.prototype._redrawRGBA=function(a){var r=this.getRgba(),j,i;if(r){j=jQuery.sap.byId(this.getId());i=(jQuery.browser.msie&&(parseInt(jQuery.browser.version,9)===9));if(!j){return;}if(!this.getModel().getProperty('/animationRendered')){if(i){j.animate({backgroundColor:r},2000);}else{j.css('transition','background-color 2s');j.css('background-color',r);}}else{j.css('background-color',r);}this._handleTileShadow(j,a);}};sap.ushell.ui.launchpad.Tile.prototype.setLong=function(l){this.setProperty('long',l,true);return this.toggleStyleClass('sapUshellLong',l);};sap.ushell.ui.launchpad.Tile.prototype.setUuid=function(u){this.setProperty('uuid',u,true);return this;};}());\n",
	"sap/ushell/ui/launchpad/TileContainer.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.TileContainer');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.launchpad.TileContainer',{metadata:{library:'sap.ushell',properties:{'scrollType':{type:'string',group:'Misc',defaultValue:'item'},'animationSpeed':{type:'int',group:'Misc',defaultValue:500},'groupId':{type:'string',group:'Misc',defaultValue:null},'showHeader':{type:'boolean',group:'Misc',defaultValue:true},'showPlaceholder':{type:'boolean',group:'Misc',defaultValue:true},'defaultGroup':{type:'boolean',group:'Misc',defaultValue:false},'isLastGroup':{type:'boolean',group:'Misc',defaultValue:false},'headerText':{type:'string',group:'Misc',defaultValue:null},'headerLevel':{type:'sap.m.HeaderLevel',group:'Misc',defaultValue:sap.m.HeaderLevel.H2},'groupHeaderLevel':{type:'sap.m.HeaderLevel',group:'Misc',defaultValue:sap.m.HeaderLevel.H4},'showGroupHeader':{type:'boolean',group:'Misc',defaultValue:true},'visible':{type:'boolean',group:'Misc',defaultValue:true},'sortable':{type:'boolean',group:'Misc',defaultValue:true},'showNoData':{type:'boolean',group:'Misc',defaultValue:false},'noDataText':{type:'string',group:'Misc',defaultValue:null},'isGroupLocked':{type:'boolean',group:'Misc',defaultValue:null},'editMode':{type:'boolean',group:'Misc',defaultValue:false},'showBackground':{type:'boolean',group:'Misc',defaultValue:false},'icon':{type:'string',group:'Misc',defaultValue:'sap-icon://locked'},'showIcon':{type:'boolean',group:'Misc',defaultValue:false},'deluminate':{type:'boolean',group:'Misc',defaultValue:false},'showMobileActions':{type:'boolean',group:'Misc',defaultValue:false},'enableHelp':{type:'boolean',group:'Misc',defaultValue:false},'tileActionModeActive':{type:'boolean',group:'Misc',defaultValue:false},'ieHtml5DnD':{type:'boolean',group:'Misc',defaultValue:false},'showDragIndicator':{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{'tiles':{type:'sap.ushell.ui.launchpad.Tile',multiple:true,singularName:'tile'},'links':{type:'sap.ushell.ui.launchpad.LinkTileWrapper',multiple:true,singularName:'link'},'beforeContent':{type:'sap.ui.core.Control',multiple:true,singularName:'beforeContent'},'afterContent':{type:'sap.ui.core.Control',multiple:true,singularName:'afterContent'},'footerContent':{type:'sap.ui.core.Control',multiple:true,singularName:'footerContent'},'headerActions':{type:'sap.ui.core.Control',multiple:true,singularName:'headerAction'}},events:{'afterRendering':{},'add':{},'titleChange':{}}}});sap.ushell.ui.launchpad.TileContainer.M_EVENTS={'afterRendering':'afterRendering','add':'add','titleChange':'titleChange'};(function(){'use strict';jQuery.sap.require('sap.ushell.override');sap.ushell.ui.launchpad.TileContainer.prototype.init=function(){jQuery.sap.require('sap.ushell.ui.launchpad.PlusTile');this.bIsFirstTitleChange=true;this._sDefaultValue=sap.ushell.resources.i18n.getText('new_group_name');this._sOldTitle='';this.oIcon=new sap.ui.core.Icon({src:this.getIcon()});this.oIcon.addStyleClass('sapUshellContainerIcon');this.oPlusTile=new sap.ushell.ui.launchpad.PlusTile({groupId:this.getGroupId(),press:[this.fireAdd,this]});this.oPlusTile.setParent(this);};sap.ushell.ui.launchpad.TileContainer.prototype.exit=function(){if(this.oPlusTile){this.oPlusTile.destroy();}};sap.ushell.ui.launchpad.TileContainer.prototype.onAfterRendering=function(){var t=this,j;if(this.getEnableHelp()){this.oPlusTile.addStyleClass('help-id-plusTile');}this.handleNoItemsToDisplayMessage();var E=this.getModel()&&this.getModel().getProperty('/enableRenameLockedGroup')||false;jQuery('#'+this.getId()+'-title').find(this.getHeaderLevel()).click(function(){var e=E||!t.getIsGroupLocked()&&!t.getDefaultGroup()&&t.getTileActionModeActive();t.setEditMode(e);});if((document.documentMode)&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints)){j=jQuery(this.getDomRef());j.on('MSHoldVisual contextmenu','.sapUshellTile',function(e){e.preventDefault();});}this.fireAfterRendering();};sap.ushell.ui.launchpad.TileContainer.prototype.updateAggregation=sap.ushell.override.updateAggregation;sap.ushell.ui.launchpad.TileContainer.prototype.updateTiles=function(r){var n='tiles';if(this.isTreeBinding(n)){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}else{jQuery.sap.log.debug('Updating TileContainer. Reason: ',r);switch(r){case'filter':try{this.filterTiles();}catch(e){this.updateAggregation(n);}break;default:this.updateAggregation(n);}}};sap.ushell.ui.launchpad.TileContainer.prototype.handleNoItemsToDisplayMessage=function(){var t=this.getBinding('tiles'),i=t&&t.getContexts().length;if(i){this.$().find('.sapUshellNoFilteredItems').hide();}else{if(this.getShowNoData()){if(this.getNoDataText()){this.setNoDataText(this.getNoDataText());}else{this.setNoDataText(sap.ushell.resources.i18n.getText('noFilteredItems'));}this.$().find('.sapUshellNoFilteredItems').show();}}};sap.ushell.ui.launchpad.TileContainer.prototype.createMissingElementsInOnScreenElements=function(i,e,a,g,s,b,f,A){var p,n=null,G=null,j=a,S=this.getShowGroupHeader(),c=e.length,o;for(j=a;j<c;j++){p=e[j].getPath();if(!i.onScreenPathIndexMap[p]){if(g&&s.length>0){n=s[0].fnGroup(e[j]);if(typeof n==='string'){n={key:n};}if(G===null&&j>0){G=s[0].fnGroup(e[j-1]);}if(n.key!==G){if(b.groupHeaderFactory){o=b.groupHeaderFactory(n);}if(!i.onScreenHeaders[n.key]){A(n,o);i.onScreenHeaders[n.key]={aItemsRefrenceIndex:this.getTiles().length-1,isVisible:S};}G=n.key;}}f(e[j]);i.onScreenPathIndexMap[p]={aItemsRefrenceIndex:this.getTiles().length-1,isVisible:true};}else{throw true;}}};sap.ushell.ui.launchpad.TileContainer.prototype.addNewItem=function(e){var n='tiles',a=this.getMetadata().getJSONKeys()[n],b=this.mBindingInfos[n],f=b.factory,c=jQuery.proxy(function(C){var i=this.getId()+'-'+jQuery.sap.uid(),o=f(i,C);o.setBindingContext(C,b.model);this[a._sMutator](o);},this);c(e);};sap.ushell.ui.launchpad.TileContainer.prototype.markVisibleOnScreenElements=function(e,i){var a=0,p,b=e.length;for(a=0;a<b;a++){p=e[a].getPath();if(i.onScreenPathIndexMap[p]){i.onScreenPathIndexMap[p].isVisible=true;}else{return a;}}return a;};sap.ushell.ui.launchpad.TileContainer.prototype.indexOnScreenElements=function(o){var p,i,a={onScreenHeaders:{},onScreenPathIndexMap:{}},b=o.length,c;for(i=0;i<b;i++){c=o[i];if(c.getHeaderText){a.onScreenHeaders[c.getHeaderText()]={aItemsRefrenceIndex:i,isVisible:false};}else if(c.getBindingContext()){p=c.getBindingContext().getPath();a.onScreenPathIndexMap[p]={aItemsRefrenceIndex:i,isVisible:false};}}return a;};sap.ushell.ui.launchpad.TileContainer.prototype.showHideTilesAndHeaders=function(i,o){var s,n='tiles',S=this.getShowGroupHeader(),b=this.mBindingInfos[n].binding,g,r,e;for(s in i.onScreenPathIndexMap){if(i.onScreenPathIndexMap.hasOwnProperty(s)){e=i.onScreenPathIndexMap[s];r=o[e.aItemsRefrenceIndex];r.setVisible(e.isVisible);if(e.isVisible){g=b.aSorters[0].fnGroup(r.getBindingContext());i.onScreenHeaders[g].isVisible=S;}}}for(s in i.onScreenHeaders){if(i.onScreenHeaders.hasOwnProperty(s)){e=i.onScreenHeaders[s];o[e.aItemsRefrenceIndex].setVisible(e.isVisible);}}};sap.ushell.ui.launchpad.TileContainer.prototype.filterTiles=function(){var n='tiles',b=this.mBindingInfos[n],B=this.mBindingInfos[n].binding,a=B.getContexts(),i=this.getTiles(),c,d,l,f,s,e,g,h;d=this.indexOnScreenElements(i);c=this.markVisibleOnScreenElements(a,d);if(a[c]&&this.getTiles().length>0){l=this.getTiles()[this.getTiles().length-1].getBindingContext().getPath();f=a[c].getPath();s=l.split('/');e=f.split('/');h=s[s.length-1];g=e[e.length-1];if(parseInt(h,10)>parseInt(g,10)){throw true;}}this.createMissingElementsInOnScreenElements(d,a,c,B.isGrouped(),B.aSorters,b,this.addNewItem.bind(this),this.addTileGroup.bind(this));i=this.getTiles();this.showHideTilesAndHeaders(d,i);this.handleNoItemsToDisplayMessage();};sap.ushell.ui.launchpad.TileContainer.prototype.addTileGroup=function(g,h){this.addAggregation('tiles',h||new sap.ushell.ui.launchpad.HeaderTile({headerText:g.text||g.key,headerLevel:g.headerLevel||this.getGroupHeaderLevel(),visible:this.getShowGroupHeader()}));};sap.ushell.ui.launchpad.TileContainer.prototype.setNoDataText=function(n){this.setProperty('noDataText',n,true);if(this.getShowNoData()){this.$().find('.sapUshellNoFilteredItems').text(n);}return this;};sap.ushell.ui.launchpad.TileContainer.prototype.setGroupId=function(v){this.setProperty('groupId',v,true);if(this.oPlusTile){this.oPlusTile.setGroupId(v);}return this;};sap.ushell.ui.launchpad.TileContainer.prototype.setHeaderText=function(h){this.setProperty('headerText',h,true);this.$().find('.sapUshellContainerTitle').text(h);return this;};sap.ushell.ui.launchpad.TileContainer.prototype.setVisible=function(v){this.setProperty('visible',v,true);this.toggleStyleClass('sapUshellHidden',!v);return this;};sap.ushell.ui.launchpad.TileContainer.prototype.setShowMobileActions=function(s){var S=true;if(this.oHeaderButton){this.oHeaderButton.setVisible(s);}else if(s){S=false;}this.setProperty('showMobileActions',s,S);};sap.ushell.ui.launchpad.TileContainer.prototype.setShowIcon=function(s){this.setProperty('showIcon',s,true);jQuery('#'+this.getId()).find('.'+'sapUshellContainerIcon').toggleClass('sapUshellContainerIconHidden',!s);};sap.ushell.ui.launchpad.TileContainer.prototype.setDeluminate=function(d){this.setProperty('deluminate',d,true);this.toggleStyleClass('sapUshellDisableLockedGroupDuringDrag',d);return this;};sap.ushell.ui.launchpad.TileContainer.prototype.groupHasTiles=function(){var p='',t=this.getTiles(),l=[];if(this.getBindingContext()){p=this.getBindingContext().sPath;t=this.getModel().getProperty(p).tiles;}return sap.ushell.utils.groupHasVisibleTiles(t,l);};sap.ushell.ui.launchpad.TileContainer.prototype.getInnerContainerDomRef=function(){var c=this.getDomRef(),i;if(!c){return null;}i=jQuery(c).find('.sapUshellTilesContainer-sortable');return i[0];};sap.ushell.ui.launchpad.TileContainer.prototype.setEditMode=function(v){this.setProperty('editMode',v,false);if(v){this.addStyleClass('sapUshellEditing');this._startEdit();}else{this.removeStyleClass('sapUshellEditing');}};sap.ushell.ui.launchpad.TileContainer.prototype._startEdit=function(){if(this.getModel()&&!this.getModel().getProperty('/editTitle')){this.getModel().setProperty('/editTitle',true,false);}if(!this.oEditInputField){jQuery.sap.require('sap.m.Input');var t=this;this.oEditInputField=new sap.m.Input({placeholder:this._sDefaultValue,value:this.getHeaderText()}).addStyleClass('sapUshellTileContainerTitleInput');this.oEditInputField.addEventDelegate({onfocusout:function(e){t._stopEdit();jQuery.proxy(t.setEditMode,t,false)();},onsapenter:function(e){t._stopEdit();jQuery.proxy(t.setEditMode,t,false)();setTimeout(function(){var T=e.srcControl,j=jQuery(T.getDomRef()).prev();j.focus();},0);}});}this._sOldTitle=this._sDefaultValue;this.oEditInputField.setValue(this.getHeaderText());var t=this;setTimeout(function(){if(sap.ui.Device.system.phone){var e=sap.ui.getCore().getEventBus();e.publish('launchpad','scrollToGroup',{group:t,groupChanged:false,focus:false});}jQuery(t.oEditInputField.getDomRef()).find('input').focus();t.oEditInputField.selectText(0,t.oEditInputField.getValue().length);},100);};sap.ushell.ui.launchpad.TileContainer.prototype._stopEdit=function(){var c=this.getHeaderText();var n=this.oEditInputField.getValue(),h;n=n.substring(0,256).trim()||this._sDefaultValue;h=n!==c;if(this.bIsFirstTitleChange&&n===this.oEditInputField.getPlaceholder()){h=true;}this.bIsFirstTitleChange=false;if(this.getModel()&&this.getModel().getProperty('/editTitle')){this.getModel().setProperty('/editTitle',false,false);}if(!this._sOldTitle){this._sOldTitle=c;this.setHeaderText(c);}else if(h){this.fireTitleChange({newTitle:n});this.setHeaderText(n);}};sap.ushell.ui.launchpad.TileContainer.prototype.exit=function(){if(this.oHeaderButton){this.oHeaderButton.destroy();}if(this.oActionSheet){this.oActionSheet.destroy();}if(sap.ui.core.Control.prototype.exit){sap.ui.core.Control.prototype.exit.apply(this,arguments);}};}());\n",
	"sap/ushell/ui/launchpad/TileContainerRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.launchpad.TileContainerRenderer');sap.ushell.ui.launchpad.TileContainerRenderer={};sap.ushell.ui.launchpad.TileContainerRenderer.render=function(r,c){var t=c.getTiles(),h=c.getHeaderActions(),b=c.getBeforeContent(),a=c.getAfterContent(),f=c.getFooterContent()||[],v=false,d,l=c.getLinks();r.write('<div');r.writeControlData(c);r.addClass('sapUshellTileContainer');r.writeClasses();r.write('>');if(b.length){r.write('<div');r.addClass('sapUshellTileContainerBeforeContent');r.writeClasses();r.write('>');jQuery.each(b,function(){r.renderControl(this);});r.write('</div>');}r.write('<div');r.addClass('sapUshellTileContainerContent');if(c.getIsGroupLocked()){r.addClass('sapUshellTileContainerLocked');}if(c.getDefaultGroup()){r.addClass('sapUshellTileContainerDefault');}if(c.getShowBackground()){r.addClass('sapUshellTileContainerEditMode');}r.writeClasses();r.writeAttribute('tabindex','-1');r.write('>');if(c.getShowDragIndicator()){r.write('<div');r.addClass('sapUshellCircleBase');r.writeClasses();r.write('>');r.write('<div');r.addClass('sapUshellCircle');r.writeClasses();r.write('>');r.write('</div>');r.write('<div');r.addClass('sapUshellCircle');r.writeClasses();r.write('>');r.write('</div>');r.write('<div');r.addClass('sapUshellCircle');r.writeClasses();r.write('>');r.write('</div>');r.write('<div');r.addClass('sapUshellCircle');r.writeClasses();r.write('>');r.write('</div>');r.write('</div>');}if(c.getShowHeader()){r.write('<div');r.addClass('sapUshellTileContainerHeader sapContrastPlus');r.writeAttribute('id',c.getId()+'-groupheader');r.writeClasses();if(c.getIeHtml5DnD()&&!c.getIsGroupLocked()&&!c.getDefaultGroup()&&c.getTileActionModeActive()){r.writeAttribute('draggable','true');}r.write('>');r.write('<div');r.writeAttribute('id',c.getId()+'-title');r.write('>');r.write('<');r.write(c.getHeaderLevel().toLowerCase());r.addClass('sapUshellContainerTitle');r.writeClasses();r.writeAttributeEscaped('title',c.getHeaderText());r.writeAccessibilityState(c,{label:sap.ushell.resources.i18n.getText('tileContainerHeader')+sap.ushell.resources.i18n.getText('tileContainerTitle')+c.getHeaderText()});r.write('>');r.writeEscaped(c.getHeaderText());r.write('</');r.write(c.getHeaderLevel().toLowerCase());r.writeAttribute('id',c.getId()+'-groupheader');r.write('>');if(c.getShowIcon()){c.oIcon.removeStyleClass('sapUshellContainerIconHidden');}else{c.oIcon.addStyleClass('sapUshellContainerIconHidden');}r.renderControl(c.oIcon);r.renderControl(c.oEditInputField);r.write('<div');r.addClass('sapUshellContainerHeaderActions');r.writeClasses();r.write('>');jQuery.each(h,function(){r.renderControl(this);});r.write('</div>');r.write('</div>');r.write('</div>');}r.write('<ul');d=c.data('containerHeight');if(d){r.writeAttribute('style','height:'+d);}r.addClass('sapUshellTilesContainer-sortable');r.addClass('sapUshellInner');r.writeClasses();r.writeAccessibilityState(c,{role:'listbox'});r.write('>');jQuery.each(t,function(){if(this.getVisible()){v=true;}if(this.getVisible){r.renderControl(this);}});if(c.getShowPlaceholder()){r.renderControl(c.oPlusTile);}if(c.getShowNoData()){this.renderNoData(r,c,!t.length||!v);}r.write('</ul>');if(l.length>0){if(c.getShowBackground()&&!(c.getIsGroupLocked()&&t.length===0)){r.write('<div');r.addClass('sapUshellTilesContainerSeparator');r.writeClasses();r.write('>');r.write('</div>');}r.write('<div');r.addClass('sapUshellLinksContainer');r.writeClasses();r.write('>');jQuery.each(l,function(){r.renderControl(this);});r.write('</div>');}if(f.length>0){r.write('<footer');r.addClass('sapUshellTilesContainerFtr');r.writeClasses();r.write('>');jQuery.each(f,function(){r.renderControl(this);});r.write('</footer>');}r.write('</div>');if(a.length){r.write('<div');r.addClass('sapUshellTileContainerAfterContent');r.writeClasses();r.write('>');jQuery.each(a,function(){r.renderControl(this);});r.write('</div>');}r.write('</div>');};sap.ushell.ui.launchpad.TileContainerRenderer.renderNoData=function(r,c,d){r.write(\"<div id='\"+c.getId()+\"-listNoData' class='sapUshellNoFilteredItems sapUiStrongBackgroundTextColor'>\");if(d){if(c.getNoDataText()){r.writeEscaped(c.getNoDataText());}else{r.writeEscaped(c.getNoDataText(sap.ushell.resources.i18n.getText('noFilteredItems')));}}else{r.writeEscaped('');}r.write('</div>');};}());\n",
	"sap/ushell/ui/launchpad/TileRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.launchpad.TileRenderer');sap.ushell.ui.launchpad.TileRenderer={};sap.ushell.ui.launchpad.TileRenderer.render=function(r,c){var t=null,m=c.getModel(),C;try{t=c.getTileViews()[0];}catch(e){jQuery.sap.log.warning('Failed to load tile view: ',e.message);t=new sap.m.Text({text:'Failed to load. '});}var T=c.getParent(),o=T.getTiles?T.getTiles():[],v=o.filter(function(a){return a.getVisible();}),i=v.indexOf(c)>-1?v.indexOf(c)+1:'';r.write('<li');if(m&&m.getProperty('/enableHelp')){r.writeAttribute('data-tileCatalogId',c.getTileCatalogId());}r.writeControlData(c);r.addClass('sapUshellTile');if(t&&t.getContent&&sap.suite&&sap.suite.ui&&sap.suite.ui.commons&&sap.suite.ui.commons.FeedTile){C=t.getContent();C.forEach(function(I){if(I instanceof sap.suite.ui.commons.FeedTile){r.addClass('sapUshellFeedTileBG');}});}if(c.getFootItems()&&c.getFootItems().length>0){r.addClass('sapUshellTileFooter');}if(c.getLong()){r.addClass('sapUshellLong');}if(!c.getVisible()){r.addClass('sapUshellHidden');}if(c.getIsLocked()){r.addClass('sapUshellLockedTile');}r.writeClasses();r.writeAccessibilityState(c,{role:'option',posinset:i,setsize:v.length});r.writeAttribute('aria-describedby',c.getParent().getId()+'-groupheader');if(c.getIeHtml5DnD()){r.writeAttribute('draggable','true');}r.writeAttributeEscaped('tabindex','-1');var l=c.data('layoutPosition');if(l){var s='-webkit-transform:'+l.translate3D+';-ms-transform:'+l.translate2D+';transform:'+l.translate3D;r.writeAttribute('style',s);}r.write('>');r.write('<div');r.addClass('sapUshellTileActionLayerDiv');r.writeClasses();r.write('>');if(!c.getShowActionsIcon()){if(!c.getIsLocked()&&c.getTileActionModeActive()){r.write('<div');r.addClass('sapUshellTileDeleteClickArea');r.writeClasses();r.write('>');r.write('<div');r.addClass('sapUshellTileDeleteIconOuterClass');r.writeClasses();r.write('>');r.renderControl(c._initDeleteAction());r.write('</div>');r.write('</div>');}}if(c.getTileActionModeActive()){r.write(\"<div class='sapUshellTileActionDivCenter'></div>\");r.write('<div');r.addClass('sapUshellTileActionIconDivBottom');r.writeClasses();r.write('>');r.write('<div');r.addClass('sapUshellTileActionIconDivBottomInnerDiv');r.writeClasses();r.write('>');r.renderControl(c.getActionSheetIcon());r.write('</div>');r.write('</div>');}r.write('</div>');r.addClass('sapUshellTileInner');if(c.getProperty('tileActionModeActive')){r.addClass('sapUshellTileActionBG');}if(this.renderTileView){this.renderTileView(r,t,c.getTarget());}if(c.getShowActionsIcon()){r.renderControl(c.actionIcon);}r.write('<footer');if(m&&m.getProperty('/enableHelp')){r.writeAttribute('data-tileCatalogId','addRemoveTile-'+c.getTileCatalogId());}r.addClass('sapUshellTileFooterElement');r.writeClasses();r.write('>');jQuery.each(c.getFootItems(),function(){r.renderControl(this);});r.write('</footer>');r.write('</li>');};sap.ushell.ui.launchpad.TileRenderer.renderTileView=function(r,t,T){if((T||'')!==''){r.write('<a');r.writeClasses();r.writeAttributeEscaped('href','#'+T);r.write('>');r.renderControl(t);r.write('</a>');}else{r.write('<div');r.writeClasses();r.write('>');r.renderControl(t);r.write('</div>');}};}());\n",
	"sap/ushell/ui/launchpad/TileState.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.TileState');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.launchpad.TileState',{metadata:{library:'sap.ushell',properties:{'state':{type:'string',group:'Misc',defaultValue:'Loaded'}}}});jQuery.sap.require('sap.m.Text');jQuery.sap.require('sap.ui.core.IconPool');\nsap.ushell.ui.launchpad.TileState.prototype.init=function(){this._rb=sap.ushell.resources.i18n;this._sFailedToLoad=this._rb.getText('cannotLoadTile');this._oWarningIcon=new sap.ui.core.Icon(this.getId()+'-warn-icon',{src:'sap-icon://notification',size:'1.37rem'});this._oWarningIcon.addStyleClass('sapSuiteGTFtrFldIcnMrk');};\nsap.ushell.ui.launchpad.TileState.prototype.exit=function(){this._oWarningIcon.destroy();};\nsap.ushell.ui.launchpad.TileState.prototype.setState=function(s,i){this.setProperty('state',s,i);return this;};\n",
	"sap/ushell/ui/launchpad/TileStateRenderer.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.TileStateRenderer');sap.ushell.ui.launchpad.TileStateRenderer={};\nsap.ushell.ui.launchpad.TileStateRenderer.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUshellGT');r.writeClasses();r.write('>');var s=c.getState();r.write('<div');r.addClass('sapUshellOverlay');r.writeClasses();r.writeAttribute('id',c.getId()+'-overlay');if(s==='Failed'){r.writeAttribute('title',c._sFailedToLoad);}r.write('>');switch(s){case'Loading':var b=new sap.ui.core.HTML({content:\"<div class='sapUshellTileStateLoading'><div>\"});b.setBusyIndicatorDelay(0);b.setBusy(true);r.renderControl(b);break;case'Failed':r.write('<div');r.writeAttribute('id',c.getId()+'-failed-ftr');r.addClass('sapUshellTileStateFtrFld');r.writeClasses();r.write('>');r.write('<div');r.writeAttribute('id',c.getId()+'-failed-icon');r.addClass('sapUshellTileStateFtrFldIcn');r.writeClasses();r.write('>');r.renderControl(c._oWarningIcon);r.write('</div>');r.write('<div');r.writeAttribute('id',c.getId()+'-failed-text');r.addClass('sapUshellTileStateFtrFldTxt');r.writeClasses();r.write('>');r.writeEscaped(c._sFailedToLoad);r.write('</div>');r.write('</div>');break;default:}r.write('</div>');r.write('</div>');};\n",
	"sap/ushell/ui/launchpad/ViewPortContainer.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.launchpad.ViewPortContainer');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.launchpad.ViewPortContainer',{metadata:{library:'sap.ushell',properties:{'height':{type:'sap.ui.core.CSSSize',group:'Dimension',defaultValue:'100%'},'width':{type:'sap.ui.core.CSSSize',group:'Dimension',defaultValue:'100%'},'visible':{type:'boolean',group:'Appearance',defaultValue:true},'defaultState':{type:'sap.ushell.ui.launchpad.ViewPortState',group:'Appearance',defaultValue:sap.ushell.ui.launchpad.ViewPortState.Center}},aggregations:{'leftViewPort':{type:'sap.ui.core.Control',multiple:true,singularName:'leftViewPort'},'centerViewPort':{type:'sap.ui.core.Control',multiple:true,singularName:'centerViewPort'},'rightViewPort':{type:'sap.ui.core.Control',multiple:true,singularName:'rightViewPort'}},associations:{'initialCenterViewPort':{type:'sap.ui.core.Control',multiple:false},'initialRightViewPort':{type:'sap.ui.core.Control',multiple:false},'initialLeftViewPort':{type:'sap.ui.core.Control',multiple:false}},events:{'navigate':{},'afterSwitchState':{parameters:{'from':{type:'sap.ui.core.Control'},'to':{type:'sap.ui.core.Control'}}},'afterNavigate':{parameters:{'from':{type:'sap.ui.core.Control'},'to':{type:'sap.ui.core.Control'}}}}}});sap.ushell.ui.launchpad.ViewPortContainer.M_EVENTS={'navigate':'navigate','afterSwitchState':'afterSwitchState','afterNavigate':'afterNavigate'};(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.launchpad.ViewPortContainer');jQuery.sap.require('sap.ui.core.theming.Parameters');sap.ushell.ui.launchpad.ViewPortContainer.prototype.init=function(){this.bShiftCenterTransition=true;this.bShiftCenterTransitionEnabled=false;var c=sap.ui.getCore().getConfiguration();this.bIsRTL=!jQuery.isEmptyObject(c)&&c.getRTL?c.getRTL():false;this.bTransitionEndHandlerRegistered=false;this._oViewPortsNavigationHistory={leftViewPort:{visitedControls:[],indexOfCurrentlyDisplayedControl:null},centerViewPort:{visitedControls:[],indexOfCurrentlyDisplayedControl:null},rightViewPort:{visitedControls:[],indexOfCurrentlyDisplayedControl:null}};this._states={Left:{translateX:'',visibleViewPortsData:[{viewPortId:'leftViewPort',className:'leftClass',isActive:true}]},Center:{translateX:'',visibleViewPortsData:[{viewPortId:'centerViewPort',className:'centerClass',isActive:true}]},Right:{translateX:'',visibleViewPortsData:[{viewPortId:'rightViewPort',className:'rightClass',isActive:true}]},LeftCenter:{translateX:'',visibleViewPortsData:[{viewPortId:'leftViewPort',className:'front',isActive:true},{viewPortId:'centerViewPort',className:'backLeft',isActive:false}]},CenterLeft:{translateX:'',visibleViewPortsData:[{viewPortId:'centerViewPort',className:'frontLeft',isActive:true},{viewPortId:'leftViewPort',className:'back',isActive:false}]},RightCenter:{translateX:'',visibleViewPortsData:[{viewPortId:'rightViewPort',className:'front',isActive:true},{viewPortId:'centerViewPort',className:'backRight',isActive:false}]},CenterRight:{translateX:'',visibleViewPortsData:[{viewPortId:'centerViewPort',className:'frontRight',isActive:true},{viewPortId:'rightViewPort',className:'back',isActive:false}]}};sap.ui.Device.media.attachHandler(this._handleSizeChange.bind(this),null,sap.ui.Device.media.RANGESETS.SAP_STANDARD);sap.ui.Device.orientation.attachHandler(this._handleSizeChange,this);jQuery(window).bind('resize',function(){this._handleSizeChange();}.bind(this));};sap.ushell.ui.launchpad.ViewPortContainer.prototype.removeCenterViewPort=function(c,s){this.removeAggregation('centerViewPort',c,s);this._popFromViewPortNavigationHistory('centerViewPort',c);};sap.ushell.ui.launchpad.ViewPortContainer.prototype._popFromViewPortNavigationHistory=function(v,c){var n=this._oViewPortsNavigationHistory[v],V=n?n.visitedControls:[],i=V.indexOf(c);if(V.length>0){n.visitedControls=V.slice(i+1,n.visitedControls.length);n.indexOfCurrentlyDisplayedControl=n.visitedControls.length-1;}};sap.ushell.ui.launchpad.ViewPortContainer.prototype.addCenterViewPort=function(c){var i=this._isInCenterViewPort(c);c.toggleStyleClass('hidden',true);c.addStyleClass('sapUshellViewPortItemSlideFrom');if(!i){this.addAggregation('centerViewPort',c,true);}if(this.domRef&&!i){this.getRenderer().renderViewPortPart(c,this.domRef,'centerViewPort');}};sap.ushell.ui.launchpad.ViewPortContainer.prototype.addLeftViewPort=function(c){c.toggleStyleClass('hidden',true);if(this.domRef){this.getRenderer().renderViewPortPart(c,this.domRef,'leftViewPort');}this.addAggregation('leftViewPort',c,true);};sap.ushell.ui.launchpad.ViewPortContainer.prototype.addRightViewPort=function(c){c.toggleStyleClass('hidden',true);if(this.domRef){this.getRenderer().renderViewPortPart(c,this.domRef,'rightViewPort');}this.addAggregation('rightViewPort',c,true);};sap.ushell.ui.launchpad.ViewPortContainer.prototype.setInitialCenterViewPort=function(c){var C=this._getCurrentlyDispalyedControl('centerViewPort'),i=this._isInCenterViewPort(c);c.addStyleClass('sapUshellViewPortItemSlideFrom');if(this.domRef&&!i){this.getRenderer().renderViewPortPart(c,this.domRef,'centerViewPort');}this._setCurrentlyDisplayedControl('centerViewPort',c);if(!i){this.addAggregation('centerViewPort',c,true);}this.setAssociation('initialCenterViewPort',c,true);if(C&&C!==c.getId()){this.fireAfterNavigate({fromId:C,from:sap.ui.getCore().byId(C),to:sap.ui.getCore().byId(c),toId:c.getId()});}};sap.ushell.ui.launchpad.ViewPortContainer.prototype.setInitialLeftViewPort=function(c){var C=this._getCurrentlyDispalyedControl('leftViewPort');this.addAggregation('leftViewPort',c,true);this._setCurrentlyDisplayedControl('leftViewPort',c);if(this.domRef){this.getRenderer().renderViewPortPart(c,this.domRef,'leftViewPort');}this.setAssociation('initialLeftViewPort',c,true);if(C&&C!==c.getId()){this.fireAfterNavigate({fromId:C,from:sap.ui.getCore().byId(C),to:sap.ui.getCore().byId(c),toId:c.getId()});}};sap.ushell.ui.launchpad.ViewPortContainer.prototype.setInitialRightViewPort=function(c){var C=this._getCurrentlyDispalyedControl('rightViewPort');this.addAggregation('rightViewPort',c,true);this._setCurrentlyDisplayedControl('rightViewPort',c);if(this.domRef){this.getRenderer().renderViewPortPart(c,this.domRef,'rightViewPort');}this.setAssociation('initialRightViewPort',c,true);if(C&&C!==c.getId()){this.fireAfterNavigate({fromId:C,from:sap.ui.getCore().byId(C),to:sap.ui.getCore().byId(c),toId:c.getId()});}};sap.ushell.ui.launchpad.ViewPortContainer.prototype._isInViewPort=function(v,c){var V=this.getAggregation(v),i=V?V.indexOf(c)>-1:false;return i;};sap.ushell.ui.launchpad.ViewPortContainer.prototype._isInCenterViewPort=function(c){return this._isInViewPort('centerViewPort',c);};sap.ushell.ui.launchpad.ViewPortContainer.prototype._isInLeftViewPort=function(c){return this._isInViewPort('leftViewPort',c);};sap.ushell.ui.launchpad.ViewPortContainer.prototype._isInRightViewPort=function(c){return this._isInViewPort('rightViewPort',c);};sap.ushell.ui.launchpad.ViewPortContainer.prototype.getCurrentCenterPage=function(){return this._getCurrentlyDispalyedControl('centerViewPort');};sap.ushell.ui.launchpad.ViewPortContainer.prototype.getCurrentRightPage=function(){return this._getCurrentlyDispalyedControl('rightViewPort');};sap.ushell.ui.launchpad.ViewPortContainer.prototype.getCurrentLeftPage=function(){return this._getCurrentlyDispalyedControl('leftViewPort');};sap.ushell.ui.launchpad.ViewPortContainer.prototype.navTo=function(v,c,t,d,T){var C=this._getCurrentlyDispalyedControl(v),V=this.getAggregation(v),b=V.some(function(a,i){if(a.getId()===c){return true;}});if(!b){jQuery.sap.log.error(\"ViewPort Container Error: Couldn't find target control\");}else if(!C||C!==c){var o=sap.ui.getCore().byId(c);o.toggleStyleClass('hidden',false);var O=function(){this.fireAfterNavigate({toId:c,to:c?sap.ui.getCore().byId(c):null,fromId:C,from:C?sap.ui.getCore().byId(C):null});}.bind(this);this._setCurrentlyDisplayedControl(v,o,t,O);}};sap.ushell.ui.launchpad.ViewPortContainer.prototype._getCurrentlyDispalyedControl=function(v){var n=this._oViewPortsNavigationHistory[v];return n.visitedControls[n.indexOfCurrentlyDisplayedControl];};sap.ushell.ui.launchpad.ViewPortContainer.prototype._setCurrentlyDisplayedControl=function(v,c,t,o){var n=this._oViewPortsNavigationHistory[v],V=n.visitedControls,C=this._getCurrentlyDispalyedControl(v),a=C?sap.ui.getCore().byId(C):null,T=(v==='centerViewPort'&&t)?t:'show';V.push(c.getId());n.indexOfCurrentlyDisplayedControl=jQuery.isNumeric(n.indexOfCurrentlyDisplayedControl)?n.indexOfCurrentlyDisplayedControl+1:0;this._handleViewPortTransition(v,T,c,a,o);this._updateTranslateXvalues();};sap.ushell.ui.launchpad.ViewPortContainer.prototype._handleSizeChange=function(){this._updateTranslateXvalues();var t=this._getTranslateXValue(this.sCurrentState);if(this.getDomRef()){jQuery(this.getDomRef()).css(this.bIsRTL?'right':'left',t);}this.fixViewportScrollbars();};sap.ushell.ui.launchpad.ViewPortContainer.prototype._updateTranslateXvalues=function(){var t=sap.ui.core.theming.Parameters,l,r;if(window.matchMedia('(min-width: 1920px)').matches){l=t.get('sapUshellLeftViewPortWidthLarge');r=t.get('sapUshellRightViewPortWidthXXXLarge');}else if(window.matchMedia('(min-width: 1600px)').matches){l=t.get('sapUshellLeftViewPortWidthMedium');r=t.get('sapUshellRightViewPortWidthXXLarge');}else if(window.matchMedia('(min-width: 1440px)').matches){l=t.get('sapUshellLeftViewPortWidthMedium');r=t.get('sapUshellRightViewPortWidthXLarge');}else if(window.matchMedia('(min-width: 1280px)').matches){l=t.get('sapUshellLeftViewPortWidthMedium');r=t.get('sapUshellRightViewPortWidthLarge');}else if(window.matchMedia('(min-width: 1024px)').matches){l=t.get('sapUshellLeftViewPortWidthSmall');r=t.get('sapUshellRightViewPortWidthMedium');}else if(window.matchMedia('(min-width: 601px)').matches){l=t.get('sapUshellLeftViewPortWidthSmall');r=t.get('sapUshellRightViewPortWidthSmall');}else if(window.matchMedia('(max-width : 600px)').matches){l=jQuery(window).width()/parseFloat(jQuery('body').css('font-size'));r=jQuery(window).width()/parseFloat(jQuery('body').css('font-size'));}this._updateStatesWithTranslateXvalues(l,r);};sap.ushell.ui.launchpad.ViewPortContainer.prototype._updateStatesWithTranslateXvalues=function(l,r){var t=0,L;if(l!==null&&r!==null){this._states.Center.translateX='-'+parseFloat(l)+'rem';this._states.LeftCenter.translateX='0';t=-1*(parseFloat(l)+parseFloat(r));this._states.RightCenter.translateX=t.toString()+'rem';L=this._calculateRightViewPortLeftPosotion();jQuery('.sapUshellViewPortRight').css('left',L);}};sap.ushell.ui.launchpad.ViewPortContainer.prototype._calculateRightViewPortLeftPosotion=function(){var l=0,w,L;w=jQuery(window).width();L=jQuery('.sapUshellViewPortLeft').width();l=w+L;return l;};sap.ushell.ui.launchpad.ViewPortContainer.prototype._handleViewPortTransition=function(v,t,T,c,o){if(v!=='centerViewPort'){return;}if(!c){t='show';}switch(t){case'show':T.toggleStyleClass('hidden',false);if(c){c.toggleStyleClass('hidden');}if(o){o();}break;case'slide':T.toggleStyleClass('hidden',false);setTimeout(function(){var a=jQuery(T.getDomRef());a.css({'transition':'transform 0.4s','-webkit-transform':'translateX(-100%)','transform':'translateX(-100%)'});setTimeout(function(){a.css({'transition':'transform 0s','-webkit-transform':'translateX(0%)','transform':'translateX(0%)'});c.toggleStyleClass('hidden',true);if(o){o();}},500);},100);break;case'slideBack':var j=jQuery('#'+this.getCurrentCenterPage());setTimeout(function(){j.css({'transition':'transform 0.7s','-webkit-transform':'translateX(100%)','transform':'translateX(100%)'});},50);setTimeout(function(){T.toggleStyleClass('hidden',false);setTimeout(function(){if(c){j.css({'transition':'transform 0s','-webkit-transform':'translateX(0%)','transform':'translateX(0%)'});c.toggleStyleClass('hidden',true);}if(o){o();}},200);},500);break;case'fade':var a=jQuery(T.getDomRef());if(c){var b=jQuery(c.getDomRef());b.fadeToggle(250);}a.fadeIn(500,o?o:null);break;}};sap.ushell.ui.launchpad.ViewPortContainer.prototype.onAfterRendering=function(){this.domRef=this.getDomRef();if(this.sCurrentState.indexOf('Center')==0){var r=this._states['Right'].visibleViewPortsData[0].viewPortId;jQuery(document.getElementById(r)).css('display','none');}};sap.ushell.ui.launchpad.ViewPortContainer.prototype.onBeforeRendering=function(){this._updateTranslateXvalues();};sap.ushell.ui.launchpad.ViewPortContainer.prototype.setDefaultState=function(s){this.setCurrentState(s);this.setProperty('defaultState',s,true);};sap.ushell.ui.launchpad.ViewPortContainer.prototype.endOfAnimationEventHandler=function(){var t=this._states[this.sTargetState].translateX,v=this.getDomRef();jQuery(v).css({'-webkit-transform':'translateX(0%)','transform':'translateX(0%)','transition':'initial'});jQuery(v).css(this.bIsRTL?'right':'left',t);};sap.ushell.ui.launchpad.ViewPortContainer.prototype.switchState=function(s){var v,a,t=[],f=[],b,T;this.sTargetState=s;if(s!==this.sCurrentState){var c=this._getTranslateXValue(s),V=this._states[this.sCurrentState].visibleViewPortsData,d=this._states[s].visibleViewPortsData,j=jQuery(this.getDomRef());if(s.indexOf('Right')==0){var r=d[0].viewPortId;jQuery(document.getElementById(r)).css('display','block');}V.forEach(function(e){j.find('#'+e.viewPortId).removeClass(e.className);});this._handleCenterViewPortAnimation(s);v=this.getDomRef();if(this.bIsRTL){T=parseInt(c,10);T=-T;c=T.toString()+'rem';}jQuery(v).css({'-webkit-transform':'translateX('+c+')','transform':'translateX('+c+')','transition':'transform 0.5s'});setTimeout(function(){this.endOfAnimationEventHandler();}.bind(this),550);for(b=0;b<this._states[this.sCurrentState].visibleViewPortsData.length;b++){f.push(this._states[this.sCurrentState].visibleViewPortsData[b].viewPortId);}for(b=0;b<this._states[s].visibleViewPortsData.length;b++){t.push(this._states[s].visibleViewPortsData[b].viewPortId);}setTimeout(function(){var e=0,k;if(this.sCurrentState.indexOf('Center')==0){var r=this._states['Right'].visibleViewPortsData[0].viewPortId;jQuery(document.getElementById(r)).css('display','none');}for(k=0;k<f.length;k++){a=this.getAggregation(f[k]);for(e=0;e<a.length;e++){if(a[e].onViewStateHide){a[e].onViewStateHide();}}}for(k=0;k<t.length;k++){a=this.getAggregation(t[k]);for(e=0;e<a.length;e++){if(a[e].onViewStateShow){a[e].onViewStateShow();}}}this.fixViewportScrollbars();d.forEach(function(l){j.find('#'+l.viewPortId).addClass(l.className);});}.bind(this),700);jQuery('#'+V[0].viewPortId).removeClass('active');var S=function(){this.switchState('Center');}.bind(this);var g=function(e){var k=parseInt(window.getComputedStyle(e.currentTarget).width,10);if(e.offsetX>k){this.switchState('Center');}}.bind(this);var h=jQuery(this.getDomRef()).find('.sapUshellViewPortWrapper');var i=jQuery(this.getDomRef()).find('.sapUshellViewPortLeft');if(s!=='Center'){h.on('click',S);h.addClass('sapUshellViewPortWrapperClickable');i.on('click',g);}else{h.off('click',S);h.removeClass('sapUshellViewPortWrapperClickable');i.off('click',g);}this.setCurrentState(s);}};sap.ushell.ui.launchpad.ViewPortContainer.prototype.fixViewportScrollbars=function(){var a=this.getCurrentState(),v=this._states[a].visibleViewPortsData;jQuery('#'+v[0].viewPortId).css('height','100%');if(v[0].viewPortId==='leftViewPort'){if(this.bIsRTL){var p=window.innerWidth-jQuery('#leftViewPort').width();jQuery('#leftViewPort').css('padding-left',p);}else{var b=window.innerWidth-jQuery('#leftViewPort').width();jQuery('#leftViewPort').css('padding-right',b);}}jQuery('#'+v[0].viewPortId).addClass('active');};sap.ushell.ui.launchpad.ViewPortContainer.prototype.setCurrentState=function(s){var f=this.sCurrentState;this.sCurrentState=s;this.fireAfterSwitchState({to:s,from:f});};sap.ushell.ui.launchpad.ViewPortContainer.prototype.getCurrentState=function(){return this.sCurrentState;};sap.ushell.ui.launchpad.ViewPortContainer.prototype.getViewPortControl=function(v,d){var V=this.getAggregation(v),i;if(V){for(i=0;i<V.length;i++){if(V[i]&&(V[i].getId()===d)){return V[i];}}}return null;};sap.ushell.ui.launchpad.ViewPortContainer.prototype.getViewPort=function(p){var P=this.getCenterViewPort(),i;for(i=0;i<P.length;i++){if(P[i]&&(P[i].getId()===p)){return P[i];}}return null;};sap.ushell.ui.launchpad.ViewPortContainer.prototype._handleCenterViewPortAnimation=function(n){var c=this._getCenterViewPortJQueryObject(),s=this._shiftCenterTransition();if(this.sCurrentState==='Center'){if(n==='RightCenter'){if(s===true){c.addClass('sapUshellScaledShiftedCenterWhenInRightViewPort');}else{c.addClass('sapUshellScaledCenterWhenInRightViewPort');}}else if(n==='LeftCenter'){c.addClass('sapUshellScaledCenterWhenInLeftViewPort');}}else if(n==='Center'){if(this.sCurrentState==='RightCenter'){c.removeClass('sapUshellScaledCenterWhenInRightViewPort');c.removeClass('sapUshellScaledShiftedCenterWhenInRightViewPort');}else if(this.sCurrentState==='LeftCenter'){c.removeClass('sapUshellScaledCenterWhenInLeftViewPort');}}else if((this.sCurrentState==='LeftCenter')&&(n==='RightCenter')){if(s===true){c.addClass('sapUshellScaledShiftedCenterWhenInRightViewPort');}else{c.addClass('sapUshellScaledCenterWhenInRightViewPort');}c.removeClass('sapUshellScaledCenterWhenInLeftViewPort');}else if((this.sCurrentState==='RightCenter')&&(n==='LeftCenter')){c.addClass('sapUshellScaledCenterWhenInLeftViewPort');c.removeClass('sapUshellScaledCenterWhenInRightViewPort');c.removeClass('sapUshellScaledShiftedCenterWhenInRightViewPort');}};sap.ushell.ui.launchpad.ViewPortContainer.prototype.shiftCenterTransitionEnabled=function(e){this.bShiftCenterTransitionEnabled=e;};sap.ushell.ui.launchpad.ViewPortContainer.prototype.shiftCenterTransition=function(s){this.bShiftCenterTransition=s;};sap.ushell.ui.launchpad.ViewPortContainer.prototype._shiftCenterTransition=function(){return sap.ushell.Container.getService('Notifications').isEnabled()&&this.bShiftCenterTransitionEnabled&&this.bShiftCenterTransition;};sap.ushell.ui.launchpad.ViewPortContainer.prototype._getCenterViewPortJQueryObject=function(){var j=jQuery(this.getDomRef()),c=this._states.Center.visibleViewPortsData[0].viewPortId,a=j.find('#'+c);return a;};sap.ushell.ui.launchpad.ViewPortContainer.prototype._getTranslateXValue=function(t,g){var T=this._states[t].translateX,c,i,C;if(g!==undefined){c=this._states[g].translateX;}else{c=this._states[this.sCurrentState].translateX;}C=parseInt(c,10);i=parseInt(T,10);if(!g&&(t===this.sCurrentState)){return T;}return(i-C).toString()+'rem';};sap.ushell.ui.launchpad.ViewPortContainer.transitions=sap.ushell.ui.launchpad.ViewPortContainer.transitions||{};}());\n",
	"sap/ushell/ui/launchpad/ViewPortContainerRenderer.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';q.sap.declare('sap.ushell.ui.launchpad.ViewPortContainerRenderer');var V={};V.renderViewPortPart=function(c,a,v){var j=q(a).find('#'+v);var r=sap.ui.getCore().createRenderManager();r.render(c,j[0]);r.destroy();};V._renderViewPort=function(r,v,i,a){r.write('<div');a.forEach(function(c){r.addClass(c);});r.writeClasses();r.writeAttribute('id',i);r.write('>');v.forEach(function(o){r.renderControl(o);});r.write('</div>');};V._renderCenterViewPort=function(r,v,i,a){r.write('<div');r.addClass('sapUshellViewPortWrapper');r.writeClasses();r.writeAttribute('id',i+'-wrapper');r.write('>');V._renderViewPort(r,v,i,a);r.write('</div>');};V.render=function(r,c){if(!c.getVisible()){return;}r.write('<div');r.writeControlData(c);if(c.getWidth()){r.addStyle('width',c.getWidth());}c.getHeight();if(c.getHeight()){r.addStyle('height',c.getHeight());}if(this.renderAttributes){this.renderAttributes(r,c);}var s=c._states,S=s[c.sCurrentState],v=S.visibleViewPortsData,t=c._getTranslateXValue(c.sCurrentState),l=['sapUshellViewPortLeft'],C=['sapUshellViewPortCenter'],R=['sapUshellViewPortRight'];var o=sap.ui.getCore().getConfiguration();this.bIsRTL=!q.isEmptyObject(o)&&o.getRTL?o.getRTL():false;r.addStyle(this.bIsRTL?'right':'left',t);r.writeStyles();r.write('>');v.forEach(function(e){switch(e.viewPortId){case'leftViewPort':l.push(e.className);break;case'centerViewPort':C.push(e.className);break;case'rightViewPort':R.push(e.className);break;}});V._renderViewPort(r,c.getLeftViewPort(),'leftViewPort',l);V._renderCenterViewPort(r,c.getCenterViewPort(),'centerViewPort',C);V._renderViewPort(r,c.getRightViewPort(),'rightViewPort',R);r.write('</div>');};return V;},true);\n",
	"sap/ushell/ui/launchpad/ViewPortState.js":"",
	"sap/ushell/ui/shell/FloatingContainer.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ushell/library','sap/ui/Device'],function(q,l,D){'use strict';var F=sap.ui.core.Control.extend('sap.ushell.ui.shell.FloatingContainer',{metadata:{properties:{},aggregations:{content:{type:'sap.ui.core.Control',multiple:true}}},renderer:{render:function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUshellFloatingContainer');r.writeClasses();r.write('>');if(c.getContent()&&c.getContent().length){r.renderControl(c.getContent()[0]);}r.write('</div>');}}});F.prototype.init=function(){sap.ui.Device.resize.attachHandler(F.prototype._resizeHandler,this);};F.prototype._getWindowHeight=function(){return q(window).height();};F.prototype._setContainerHeight=function(c,f){c.css('max-height',f);};F.prototype._resizeHandler=function(){var c=q('.sapUshellFloatingContainer'),s=q.sap.storage(q.sap.storage.Type.local,'com.sap.ushell.adapters.local.FloatingContainer'),w=c.parent()[0],W=q(window).width(),i=q(window).height(),C=c.width(),a=c.height(),b,d,L,t;if(w){L=w.style.left.replace('%','');L=W*L/100;t=w.style.top.replace('%','');t=i*t/100;b=W<(L+C);d=i<(t+a);if(b){L=W-C;}if(d){t=i-a;}if(!b&&!d&&s&&s.get('floatingContainerStyle')){w.setAttribute('style',s.get('floatingContainerStyle'));return;}w.setAttribute('style','left:'+L*100/W+'%;top:'+t*100/i+'%;position:absolute;');}};F.prototype.setContent=function(c){if(this.getDomRef()){var r=sap.ui.getCore().createRenderManager();r.renderControl(c);r.flush(this.getDomRef());r.destroy();}this.setAggregation('content',c,true);};return F;},true);\n",
	"sap/ushell/ui/shell/NavigationMiniTile.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ushell/library','sap/ui/layout/Grid'],function(q){'use strict';var N=sap.ui.core.Control.extend('sap.ushell.ui.shell.NavigationMiniTile',{metadata:{properties:{title:{type:'string',group:'Misc',defaultValue:null},subtitle:{type:'string',group:'Misc',defaultValue:null},icon:{type:'sap.ui.core.URI',group:'Appearance',defaultValue:null},intent:{type:'string',group:'Misc',defaultValue:null}},aggregations:{},events:{press:{}}},renderer:{render:function(r,c){var t=c.getTitle();var s=c.getSubtitle();var i=c.getIcon();var I=sap.ui.core.IconPool.createControlByURI(i);r.write('<div tabindex=\"0\" class=\"sapUshellNavMiniTile\" ');r.writeControlData(c);r.writeAttributeEscaped('aria-label',t);r.write('>');r.write('<div>');r.write('<span tabindex=\"0\" class=\"sapUshellNavMiniTileTitle\" >');if(t){r.writeEscaped(t);}r.write('</span>');r.write('</div>');if(I){r.write('<div>');r.write('<span tabindex=\"0\" class=\"sapUshellNavMiniTileIcon\">');r.renderControl(I);r.write('</span>');r.write('</div>');}else{r.write('<div>');r.write('<span tabindex=\"0\" class=\"sapUshellNavMiniTileSubtitle\" >');if(s){r.writeEscaped(s);}r.write('</span>');r.write('</div>');}r.write('</div>');}}});N.prototype.ontap=function(e){this.firePress({});};N.prototype.onsapenter=function(e){this.firePress({});};N.prototype.onsapspace=function(e){this.firePress({});};return N;},true);\n",
	"sap/ushell/ui/shell/RightFloatingContainer.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ushell/library','sap/ui/Device','sap/ui/core/theming/Parameters'],function(q,l,D,t,R){'use strict';var a=sap.ui.core.Control.extend('sap.ushell.ui.shell.RightFloatingContainer',{metadata:{properties:{size:{type:'sap.ui.core.CSSSize',group:'Appearance',defaultValue:'56px'},top:{type:'string',group:'Appearance',defaultValue:'0'},right:{type:'string',group:'Appearance',defaultValue:'0'},textVisible:{type:'boolean',group:'Appearance',defaultValue:true},insertItemsWithAnimation:{type:'boolean',group:'Appearance',defaultValue:true},hideItemsAfterPresentation:{type:'boolean',group:'Appearance',defaultValue:false},enableBounceAnimations:{type:'boolean',group:'Appearance',defaultValue:false}},aggregations:{floatingContainerItems:{type:'sap.ui.core.Control',multiple:true}},events:{afterRendering:{}}},renderer:{render:function(r,o){var i=sap.ui.getCore().getConfiguration().getRTL();r.write('<ul');r.writeControlData(o);r.addStyle('top',o.getTop()+'rem');r.addStyle(i?'left':'right',o.getRight());r.writeStyles();r.addClass('sapUshellRightFloatingContainer');r.writeClasses();r.write('>');this.renderFloatingContainerItems(r,o);r.write('</ul>');},renderFloatingContainerItems:function(r,o){var I=o.getFloatingContainerItems(),i;for(i=0;i<I.length;i++){r.renderControl(I[i]);}}}});a.prototype.init=function(){var b;q(window).bind('resize',function(){clearTimeout(b);b=setTimeout(this._handleResize.bind(this),100);}.bind(this));this.iRequiredItemsNumber=5;};a.prototype.onBeforeRendering=function(){};a.prototype._setSize=function(){};a.prototype._handleResize=function(){if(this.getDomRef()&&this.getFloatingContainerItems().length){var n=this.iRequiredItemsNumber,b=window.innerHeight,d=this.getDomRef(),c=d.getBoundingClientRect().top,j=q(d).find('li').first(),e,I;if(!j.length){return;}e=j[0].clientHeight;this.iRequiredItemsNumber=Math.min(parseInt((b-c)/e,10),5);if(n!==this.iRequiredItemsNumber){I=this.getFloatingContainerItems();for(var i=0;i<I.length;i++){if(i<this.iRequiredItemsNumber||isNaN(this.iRequiredItemsNumber)){I[i].removeStyleClass('sapUshellShellHidden');}else{I[i].addStyleClass('sapUshellShellHidden');}}}}};a.prototype.onAfterRendering=function(){this.fireAfterRendering();setTimeout(function(){this._handleResize();}.bind(this),500);};a.prototype.setVisible=function(v){this.setProperty('visible',v,true);if(v){q(this.getDomRef()).css('visibility','visible');}else{q(this.getDomRef()).css('visibility','hidden');}};a.prototype.setFloatingContainerItemsVisiblity=function(v){var b=this.getFloatingContainerItems(),c=v?300:0;for(var i=0;i<b.length;i++){(function(d){return function(){setTimeout(function(){if(v){b[d].removeStyleClass('sapUshellRightFloatingContainerItemBounceOut').addStyleClass('sapUshellRightFloatingContainerItemBounceIn');}else{b[d].removeStyleClass('sapUshellRightFloatingContainerItemBounceIn').addStyleClass('sapUshellRightFloatingContainerItemBounceOut');}},c+d*100);};})(i)();}};a.prototype.addFloatingContainerItem=function(n){this.addAggregation('floatingContainerItems',n);if(this.getInsertItemsWithAnimation()){n.addStyleClass('sapUshellRightFloatingContainerItemHidden');if(this.getEnableBounceAnimations()){var i=this.getFloatingContainerItems(),b=i.indexOf(n);setTimeout(function(){n.addStyleClass('sapUshellRightFloatingContainerItmHeightVisible').addStyleClass('sapUshellRightFloatingContainerItemBounceIn');},500+b*100);}else{setTimeout(function(){var i=this.getFloatingContainerItems();if(i.length>5){var c=i[i.length-1];c.addStyleClass('sapUshellRightFloatingContainerHideLastItem');}n.addStyleClass('sapUshellRightFloatingContainerItemBackToViewport').addStyleClass('sapUshellRightFloatingContainerItmHeightVisible');}.bind(this),500);}}if(this.getHideItemsAfterPresentation()){setTimeout(function(){n.removeStyleClass('sapUshellRightFloatingContainerItemBackToViewport');},3200);}};return a;},true);\n",
	"sap/ushell/ui/shell/ShellAppTitle.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/m/Button','sap/ui/core/IconPool','sap/ushell/library','./ShellNavigationMenu'],function(q,B,I){'use strict';var S=B.extend('sap.ushell.ui.shell.ShellAppTitle',{metadata:{properties:{text:{type:'string',group:'Misc',defaultValue:null},tooltip:{type:'string',group:'Misc',defaultValue:null}},associations:{navigationMenu:{type:'sap.ushell.ui.shell.ShellNavigationMenu'}},events:{press:{}}},renderer:{render:function(r,c){var n=c.getNavigationMenu();var t=c.getText();var v=false;if(n){var N=sap.ui.getCore().byId(n);v=N?N.getItems()&&N.getItems().length>0:false;c.bIconVisible=v;}r.write('<div tabindex=\"0\" ');r.writeControlData(c);r.addClass('sapUshellShellAppTitleContainer sapUshellAppTitle');if(v){r.addClass('sapUshellAppTitleClickable');}r.writeAttributeEscaped('aria-label',t);r.writeClasses();r.write('>');if(v){r.write('<div ');r.addClass('sapUshellShellHeadAction');r.writeClasses();r.write(\"><span class='sapUshellShellHeadActionImg sapUshellShellAppTitleHeadActionImg'>\");r.renderControl(c.oIcon);r.write('</span>');r.write('</div>');}r.write('<span class=\"sapUshellHeadTitle\" >');if(t){r.writeEscaped(t);}r.write('</span>');r.write('</div>');}}});S.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.oIcon=I.createControlByURI(sap.ui.core.IconPool.getIconURI('slim-arrow-down'));this.oIcon.addStyleClass('sapUshellAppTitleMenuIcon');};S.prototype.onclick=function(E){if(!this.bIconVisible){return;}if(!this.oPopover){this.oPopover=new sap.m.Popover('sapUshellAppTitlePopover',{showArrow:false,placement:sap.m.PlacementType.Bottom}).addStyleClass('sapUshellAppTitleNavigationMenuPopover');this.bAppTitleClick=false;var n=sap.ui.getCore().byId(this.getNavigationMenu());this.oPopover.addContent(n);this.oPopover.attachBeforeOpen(function(){n._beforeOpen();});this.oPopover.attachAfterOpen(function(){this.oPopover.$().on('touchmove.scrollFix',function(e){e.stopPropagation();});n._afterOpen();}.bind(this));this.oPopover.attachBeforeClose(function(e){if(document.activeElement.id===this.getId()){this.bAppTitleClick=true;}}.bind(this));}if(!this.bAppTitleClick){this.oPopover.openBy(this.oIcon);this.firePress();}else{this.bAppTitleClick=false;}};S.prototype.close=function(){if(this.oPopover&&this.oPopover.isOpen()){this.oPopover.close();}};S.prototype.setTooltip=function(t){this.oIcon.setTooltip(t);};S.prototype.onsapspace=S.prototype.onclick;S.prototype.exit=function(){var n=sap.ui.getCore().byId(this.getNavigationMenu());if(n){n.destroy();}if(this.oPopover){this.oPopover.destroy();}};return S;},true);\n",
	"sap/ushell/ui/shell/ShellFloatingAction.js":"sap.ui.define(['jquery.sap.global','sap/m/Button','sap/ushell/library'],function(q,B){'use strict';var S=B.extend('sap.ushell.ui.shell.ShellFloatingAction');S.prototype.init=function(){this.addStyleClass('sapUshellShellFloatingAction');if(B.prototype.init){B.prototype.init.apply(this,arguments);}};S.prototype.exit=function(){B.prototype.exit.apply(this,arguments);};S.prototype.onAfterRendering=function(){if(this.data('transformY')){this.removeStyleClass('sapUshellShellFloatingActionTransition');q(this.getDomRef()).css('transform','translateY('+this.data('transformY')+')');}else{this.addStyleClass('sapUshellShellFloatingActionTransition');}};});\n",
	"sap/ushell/ui/shell/ShellFloatingActionRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\nsap.ui.define(['jquery.sap.global','sap/ui/core/Renderer','sap/m/ButtonRenderer'],function(q,R,B){'use strict';var S=R.extend(B);return S;},true);\n",
	"sap/ushell/ui/shell/ShellFloatingActions.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','./ShellFloatingAction','sap/ushell/library'],function(q,S){'use strict';var a=sap.ui.core.Control.extend('sap.ushell.ui.shell.ShellFloatingActions',{metadata:{properties:{isFooterVisible:{type:'boolean',defaultValue:false}},aggregations:{floatingActions:{type:'sap.ushell.ui.shell.ShellFloatingAction',multiple:true,singularName:'floatingAction'}}},renderer:{render:function(r,A){var f=A.getFloatingActions();r.write('<div');r.writeControlData(A);r.addClass('sapUshellShellFloatingActions');r.writeClasses();r.write('>');if(f.length){var F;if(f.length===1){F=f[0];}else{F=A._createMultipleFloatingActionsButton(f);q.each(f,function(){this.setVisible(false);r.renderControl(this);});}r.renderControl(F);}r.write('</div>');}}});a.prototype._createMultipleFloatingActionsButton=function(f){var F;var t=this;return new S({id:this.getId()+'-multipleFloatingActions',icon:'sap-icon://add',visible:true,press:function(){if(!this.hasStyleClass('sapUshellShellFloatingActionRotate')){this.addStyleClass('sapUshellShellFloatingActionRotate');if(!F){F=parseInt(this.$().outerHeight(),10)+parseInt(t.$().css('bottom'),10);}f.forEach(function(o){o.setVisible(true);});setTimeout(function(){f.forEach(function(o,i){var b=F*(i+1);o.$().css('transform','translateY(-'+b+'px)');o.data('transformY','-'+b+'px');});},0);}else{this.removeStyleClass('sapUshellShellFloatingActionRotate');f.forEach(function(o){o.$().css('transform','translateY(0)');});setTimeout(function(){f.forEach(function(o){o.setVisible(false);o.data('transformY',undefined);});},150);}},tooltip:sap.ushell.resources.i18n.getText('XXX')});};a.prototype.addFloatingAction=function(A){this.addAggregation('floatingActions',A,true);if(this.getDomRef()){var r=sap.ui.getCore().createRenderManager();r.renderControl(A);r.flush(this.getDomRef());r.destroy();}return this;};a.prototype.removeFloatingAction=function(A){if(typeof A==='number'){A=this.getAggregation('floatingActions')[A];}this.removeAggregation('floatingActions',A,true);var i=A.getId();q('#'+i).remove();return this;};return a;},true);\n",
	"sap/ushell/ui/shell/ShellHeadItem.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Control','sap/ui/core/IconPool','sap/ushell/library'],function(q,C,I){'use strict';var S=C.extend('sap.ushell.ui.shell.ShellHeadItem',{metadata:{properties:{startsSection:{type:'boolean',group:'Appearance',defaultValue:false,deprecated:true},showSeparator:{type:'boolean',group:'Appearance',defaultValue:true},enabled:{type:'boolean',group:'Appearance',defaultValue:true},selected:{type:'boolean',group:'Appearance',defaultValue:false},showMarker:{type:'boolean',group:'Appearance',defaultValue:false,deprecated:true},icon:{type:'sap.ui.core.URI',group:'Appearance',defaultValue:null},target:{type:'sap.ui.core.URI',group:'Appearance',defaultValue:null},ariaLabel:{type:'string',group:'Appearance',defaultValue:null},text:{type:'string',group:'Appearance',defaultValue:null},visible:{type:'boolean',group:'Appearance',defaultValue:true},floatingNumber:{type:'int',group:'Appearance',defaultValue:null},floatingNumberMaxValue:{type:'int',group:'Appearance',defaultValue:999}},events:{press:{}}},renderer:{render:function(r,i){if((i.getTarget()||'')!==''){r.write(\"<a tabindex='0' href='\");r.writeEscaped(i.getTarget());r.write(\"'\");}else{r.write(\"<a tabindex='0'\");}r.writeAccessibilityState(i,{role:'button'});r.writeControlData(i);r.addClass('sapUshellShellHeadItm');var R=i._shouldRenderText();if(R){r.addClass('sapUshellShellHeadItmText');}if(i._headerHideSeperators){r.addClass('sapUshellHeaderHideSeparators');}if(!i.getEnabled()){r.addClass('sapUshellShellHeadItmDisabled');}if(i.getFloatingNumber&&i.getFloatingNumber()>0&&i.getVisible()){var f=i.getDisplayFloatingNumber();r.addClass('sapUshellShellHeadItmCounter');r.writeAttribute('counter-content',f);}if(i.getStartsSection()){r.addClass('sapUshellShellHeadItmDelim');}if(i.getShowSeparator()){r.addClass('sapUshellShellHeadItmSep');}if(!i.getVisible()){r.addClass('sapUshellShellHidden');}if(i.getAriaLabel()){r.writeAccessibilityState({label:i.getAriaLabel(),role:'button'});}if(i.getSelected()){r.addClass('sapUshellShellHeadItmSel');}if(i.getShowMarker()){r.addClass('sapUshellShellHeadItmMark');}r.writeClasses();var t=i.getTooltip_AsString();if(t){r.writeAttributeEscaped('title',t);}r.write(\"><span></span><div class='sapUshellShellHeadItmMarker'><div></div></div>\");if(R){r.writeEscaped(i.getText());}r.write('</a>');}}});S.prototype._shouldRenderText=function(){if(this.getText()&&this.getParent()){return!(this.getParent()instanceof sap.ushell.ui.shell.ShellHeader);}return false;};S.prototype.onAfterRendering=function(){this._refreshIcon();};S.prototype.onclick=function(e){if(this.getEnabled()){this.firePress();if(!this.getTarget()){e.preventDefault();}}};S.prototype.onsapspace=function(){var d=this.getDomRef();if(d){d.click();}};S.prototype.onsapenter=function(){this.onsapspace();};S.prototype.setStartsSection=function(s){s=!!s;this.setProperty('startsSection',s,true);this.$().toggleClass('sapUshellShellHeadItmDelim',s);return this;};S.prototype.setShowSeparator=function(s){s=!!s;this.setProperty('showSeparator',s,true);this.$().toggleClass('sapUshellShellHeadItmSep',s);return this;};S.prototype.setSelected=function(s){s=!!s;this.setProperty('selected',s,true);this.$().toggleClass('sapUshellShellHeadItmSel',s);return this;};S.prototype.setEnabled=function(e){e=!!e;this.setProperty('enabled',e,true);this.$().toggleClass('sapUshellShellHeadItmDisabled',!e);return this;};S.prototype.setAriaLabel=function(a){this.setProperty('ariaLabel',a);return this;};S.prototype.setVisible=function(v){if(sap.ui.Device.system.phone){this.setProperty('visible',!!v,false);}else{this.setProperty('visible',!!v,true);}if(v){this.$().removeClass('sapUshellShellHidden');}else{this.$().addClass('sapUshellShellHidden');}return this;};S.prototype.setShowMarker=function(m){m=!!m;this.setProperty('showMarker',m,true);this.$().toggleClass('sapUshellShellHeadItmMark',m);return this;};S.prototype.setIcon=function(i){this.setProperty('icon',i,true);if(this.getDomRef()){this._refreshIcon();}return this;};S.prototype._refreshIcon=function(){var i=q(this.$().children()[0]);var s=this.getIcon();if(I.isIconURI(s)){var o=I.getIconInfo(s);i.html('').css('style','');if(o){i.text(o.content).css('font-family',\"'\"+o.fontFamily+\"'\");}}else{var $=this.$('img-inner');if($.length===0||$.attr('src')!==s){q(this.$().children()[0]).addClass('userImgSpan');q(this.$().children().first().before(\"<div class='userImg'></div>\"));i.css('style','').html(\"<img id='\"+this.getId()+\"-img-inner' src='\"+q.sap.encodeHTML(s)+\"'></img>\");}}};S.prototype.getDisplayFloatingNumber=function(){var n=this.getFloatingNumber(),m=this.getFloatingNumberMaxValue();var d=n+'';if(n>m){d=m+'+';}return d;};q.sap.declare('sap.ui.unified.ShellHeadItem');sap.ui.unified.ShellHeadItem=S;return S;},true);\n",
	"sap/ushell/ui/shell/ShellHeadUserItem.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Element','sap/ui/core/IconPool','sap/ushell/library'],function(q,E,I){'use strict';var S=E.extend('sap.ushell.ui.shell.ShellHeadUserItem',{metadata:{properties:{username:{type:'string',group:'Appearance',defaultValue:''},ariaLabel:{type:'string',group:'Appearance',defaultValue:null},image:{type:'sap.ui.core.URI',group:'Appearance',defaultValue:null}},events:{press:{}}}});I.getIconInfo('','');S.prototype.onclick=function(e){this.firePress();e.preventDefault();};S.prototype.onsapspace=S.prototype.onclick;S.prototype.onsapenter=S.prototype.onclick;S.prototype.setImage=function(i){this.setProperty('image',i,true);if(this.getDomRef()){this._refreshImage();}return this;};S.prototype.setAriaLabel=function(a){this.setProperty('ariaLabel',a);return this;};S.prototype._refreshImage=function(){var i=this.$('img');var s=this.getImage();if(!s){i.html('').css('style','').css('display','none');}else if(I.isIconURI(s)){var o=I.getIconInfo(s);i.html('').css('style','');if(o){i.text(o.content).css('font-family',\"'\"+o.fontFamily+\"'\");}}else{var $=this.$('img-inner');if($.length===0||$.attr('src')!==s){i.css('style','').html(\"<img id='\"+this.getId()+\"-img-inner' src='\"+q.sap.encodeHTML(s)+\"'></img>\");}}};S.prototype._checkAndAdaptWidth=function(s){if(!this.getDomRef()){return false;}var r=this.$(),n=this.$('name');var b=r.width();r.toggleClass('sapUshellShellHeadActionLimit',false);var m=240;if(s){m=Math.min(m,0.5*document.documentElement.clientWidth-225);}if(m<n.width()){r.toggleClass('sapUshellShellHeadActionLimit',true);}return b!==r.width();};return S;},true);\n",
	"sap/ushell/ui/shell/ShellHeader.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ushell/library','./ShellHeadItem','./ShellHeadUserItem','./ShellTitle','./ShellAppTitle'],function(q,S,a,b){'use strict';var c=sap.ui.core.Control.extend('sap.ushell.ui.shell.ShellHeader',{metadata:{properties:{logo:{type:'sap.ui.core.URI',defaultValue:''},showLogo:{type:'boolean',defaultValue:true},searchVisible:{type:'boolean',defaultValue:true},ariaLabel:{type:'string',defaultValue:undefined},showSeparators:{type:'boolean',group:'Appearance',defaultValue:true}},aggregations:{headItems:{type:'sap.ushell.ui.shell.ShellHeadItem',multiple:true},headEndItems:{type:'sap.ushell.ui.shell.ShellHeadItem',multiple:true},search:{type:'sap.ui.core.Control',multiple:false},user:{type:'sap.ushell.ui.shell.ShellHeadUserItem',multiple:false},title:{type:'sap.ushell.ui.shell.ShellTitle',multiple:false},appTitle:{type:'sap.ushell.ui.shell.ShellAppTitle',multiple:false}}},renderer:{render:function(r,h){var i=h.getId();r.write('<div');r.writeControlData(h);if(h.getAriaLabel()){r.writeAccessibilityState({label:h.getAriaLabel(),role:'banner'});}r.writeAttribute('class','sapUshellShellHeader');r.write('>');r.write(\"<div id='\",i,\"-hdr-begin' class='sapUshellShellHeadBegin'>\");this.renderHeaderItems(r,h,true);r.write('</div>');r.write(\"<div id='\",i,\"-hdr-center' class='sapUshellShellHeadCenter' >\");this.renderSearch(r,h);this.renderTitle(r,h);if(h.getAppTitle()){this.renderAppTitle(r,h);}r.write('</div>');r.write(\"<div id='\",i,\"-hdr-end' class='sapUshellShellHeadEnd'>\");this.renderHeaderItems(r,h,false);r.write('</div>');r.write('</div>');},renderSearch:function(r,h){var s=h.getSearch();r.write(\"<div id='\",h.getId(),\"-hdr-search'\");r.writeAttribute('class','sapUshellShellSearch'+(h.getSearchVisible()?'':' sapUshellShellHidden'));r.write('>');if(s){r.renderControl(s);}r.write('</div>');},renderTitle:function(r,h){var C='sapUshellShellHeadTitle';if(h.getAppTitle()){C='sapUshellShellHeadSubtitle';}r.write(\"<div id='\",h.getId(),\"-hdr-title' class='\"+C+\"'>\");r.renderControl(h.getTitle());r.write('</div>');},renderAppTitle:function(r,h){r.write(\"<div id='\",h.getId(),\"-hdr-appTitle' class='sapUshellShellHeadTitle'>\");r.renderControl(h.getAppTitle());r.write('</div>');},renderHeaderItems:function(r,h,d){r.write(\"<div class='sapUshellShellHeadContainer'>\");var t,u,U,I=d?h.getHeadItems():h.getHeadEndItems(),i;for(i=0;i<I.length;i++){I[i]._headerHideSeperators=!h.getShowSeparators();r.renderControl(I[i]);}u=h.getUser();if(!d&&u){r.write(\"<a tabindex='0'\");r.writeElementData(u);r.addClass('sapUshellShellHeadAction sapUshellShellHeadSeparator');r.writeClasses();t=u.getTooltip_AsString();if(t){r.writeAttributeEscaped('title',t);}if(u.getAriaLabel()){r.writeAccessibilityState({label:u.getAriaLabel(),haspopup:'true',role:'button'});}r.write(\"><span id='\",u.getId(),\"-img' class='sapUshellShellHeadActionImg'></span>\");r.write(\"<span id='\"+u.getId()+\"-name' class='sapUshellShellHeadActionName'\");r.write('>');U=u.getUsername()||'';r.writeEscaped(U);r.write(\"</span><span class='sapUshellShellHeadActionExp'></span></a>\");}r.write('</div>');if(d){this._renderLogo(r,h);}},_renderLogo:function(r,h){var l=sap.ushell.resources.i18n.getText('SHELL_LOGO_TOOLTIP'),i=h._getLogo(),C='';if(!h.getShowLogo()){C+='sapUshellShellHideIco';}else{C+='sapUshellShellIco';}r.write(\"<div class='\"+C+\"'\");r.writeAttributeEscaped('aria-label',l);r.writeAttributeEscaped('tabindex','0');r.write('>');r.write(\"<img id='\",h.getId(),\"-icon'\");r.writeAttributeEscaped('title',l);r.writeAttributeEscaped('alt',l);r.writeAttributeEscaped('aria-hidden','true');r.write(\"src='\");r.writeEscaped(i);r.write(\"' style='\",i?'':'display:none;',\"'></img>\");r.write('</div>');}}});c.prototype.init=function(){var t=this;this._rtl=sap.ui.getCore().getConfiguration().getRTL();this._handleMediaChange=function(p){if(!t.getDomRef()){return;}t._refresh();};sap.ui.Device.media.attachHandler(this._handleMediaChange,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);this._handleResizeChange=function(){if(!t.getDomRef()||!t.getUser()){return;}var C,u=this.getUser();C=u._checkAndAdaptWidth(!t.$('hdr-search').hasClass('sapUshellShellHidden')&&!!t.getSearch());if(C){t._refresh();}};sap.ui.Device.resize.attachHandler(this._handleResizeChange,this);this.data('sap-ui-fastnavgroup','true',true);this.oTitle=null;};c.prototype.exit=function(){sap.ui.Device.media.detachHandler(this._handleMediaChange,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);delete this._handleMediaChange;sap.ui.Device.resize.detachHandler(this._handleResizeChange,this);delete this._handleResizeChange;if(this.oTitle){this.oTitle.destroy();}};c.prototype.onAfterRendering=function(){this._refresh();this.$('hdr-center').toggleClass('sapUshellShellAnim',this.getParent().getShowAnimation());};c.prototype.onThemeChanged=function(){if(this.getDomRef()){this.invalidate();}};c.prototype._getLogo=function(){var i=this.getLogo();if(!i){q.sap.require('sap.ui.core.theming.Parameters');i=sap.ui.core.theming.Parameters._getThemeImage(null,true);}return i;};c.prototype._refresh=function(){var u=this.getUser(),i=q('html').hasClass('sapUiMedia-Std-Phone'),s=sap.ui.getCore().byId('sf'),d=s?!s.getVisible():false,$=this.$('icon');if(u){u._refreshImage();u._checkAndAdaptWidth(!!this.getSearch());}$.parent().toggleClass('sapUshellShellHidden',i&&d&&!!this.getSearch());var w=this.$('hdr-end').outerWidth(),e=this.$('hdr-begin').outerWidth(),f=e+'px',g=w+'px';this.$('hdr-center').css({'left':this._rtl?g:f,'right':this._rtl?f:g});if(this.getAppTitle()){this.$('hdr-title').css({'left':'1rem','position':'absolute'});}};c.prototype.setTitleControl=function(t,i){this.oTitle=this.oTitle||sap.ui.getCore().byId('shellTitle');if(this.oTitle){this.oTitle.destroy();}this.oTitle=new sap.ushell.ui.shell.ShellTitle('shellTitle',{text:t,icon:sap.ui.core.IconPool.getIconURI('overflow')});this.oTitle.setInnerControl(i);this.setTitle(this.oTitle);};c.prototype.removeHeadItem=function(i){if(typeof i==='number'){i=this.getHeadItems()[i];}i.setVisible(false);this.removeAggregation('headItems',i,true);};c.prototype.addHeadItem=function(i){if(!i.getDomRef()){this.addAggregation('headItems',i);i.setVisible(true);}else{this.addAggregation('headItems',i,true);i.setVisible(true);}};return c;},true);\n",
	"sap/ushell/ui/shell/ShellLayout.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ui/Device','sap/ui/core/Control','sap/ushell/library','./ShellHeader','./SplitContainer','./ToolArea','./RightFloatingContainer','./FloatingContainer','./ShellFloatingActions'],function(q,D,C,S,a,T,b){'use strict';var c=C.extend('sap.ushell.ui.shell.ShellLayout',{metadata:{properties:{headerHiding:{type:'boolean',group:'Appearance',defaultValue:false},headerVisible:{type:'boolean',group:'Appearance',defaultValue:true},toolAreaVisible:{type:'boolean',group:'Appearance',defaultValue:false},floatingContainerVisible:{type:'boolean',group:'Appearance',defaultValue:false},backgroundColorForce:{type:'boolean',group:'Appearance',defaultValue:true},showBrandLine:{type:'boolean',group:'Appearance',defaultValue:true},showAnimation:{type:'boolean',group:'Appearance',defaultValue:true}},aggregations:{header:{type:'sap.ushell.ui.shell.ShellHeader',multiple:false},toolArea:{type:'sap.ushell.ui.shell.ToolArea',multiple:false},rightFloatingContainer:{type:'sap.ushell.ui.shell.RightFloatingContainer',multiple:false},floatingContainer:{type:'sap.ushell.ui.shell.FloatingContainer',multiple:false},canvasSplitContainer:{type:'sap.ushell.ui.shell.SplitContainer',multiple:false},floatingActionsContainer:{type:'sap.ushell.ui.shell.ShellFloatingActions',multiple:false}}}});c._SIDEPANE_WIDTH_PHONE=13;c._SIDEPANE_WIDTH_TABLET=13;c._SIDEPANE_WIDTH_DESKTOP=15;c._HEADER_ALWAYS_VISIBLE=true;c._HEADER_AUTO_CLOSE=true;c._HEADER_TOUCH_TRESHOLD=15;if(D.browser.chrome&&D.browser.version<36){c._HEADER_TOUCH_TRESHOLD=10;}c.prototype.init=function(){this._rtl=sap.ui.getCore().getConfiguration().getRTL();this._showHeader=true;this._iHeaderHidingDelay=3000;this._useStrongBG=false;D.media.attachHandler(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD);};c.prototype.exit=function(){D.media.detachHandler(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD);};c.prototype.onAfterRendering=function(){var t=this;function h(B){var e=q.event.fix(B);if(q.sap.containsOrEquals(t.getDomRef('hdr'),e.target)){t._timedHideHeader(e.type==='focus');}}if(window.addEventListener&&!c._HEADER_ALWAYS_VISIBLE){var H=this.getDomRef('hdr');H.addEventListener('focus',h,true);H.addEventListener('blur',h,true);}this.getCanvasSplitContainer()._applySecondaryContentSize();this._setSidePaneWidth();};c.prototype.onThemeChanged=function(){this._refreshAfterRendering();};(function(){function _(s){if(s._startY===undefined||s._currY===undefined){return;}var y=s._currY-s._startY;if(Math.abs(y)>c._HEADER_TOUCH_TRESHOLD){s._doShowHeader(y>0);s._startY=s._currY;}}if(D.support.touch){c._HEADER_ALWAYS_VISIBLE=false;c.prototype.ontouchstart=function(e){this._startY=e.touches[0].pageY;if(this._startY>2*48){this._startY=undefined;}this._currY=this._startY;};c.prototype.ontouchend=function(){_(this);this._startY=undefined;this._currY=undefined;};c.prototype.ontouchcancel=c.prototype.ontouchend;c.prototype.ontouchmove=function(e){this._currY=e.touches[0].pageY;_(this);};}})();c.prototype.setHeaderHiding=function(e){e=!!e;return this._modifyAggregationOrProperty(function(r){return this.setProperty('headerHiding',e,r);},function(){this._doShowHeader(!e?true:this._showHeader);});};c.prototype.setHeaderHidingDelay=function(d){this._iHeaderHidingDelay=d;return this;};c.prototype.getHeaderHidingDelay=function(){return this._iHeaderHidingDelay;};c.prototype.setToolAreaVisible=function(v){this.setProperty('toolAreaVisible',!!v,true);this.getToolArea().$().toggleClass('sapUshellShellHidden',!v);this.getCanvasSplitContainer()._applySecondaryContentSize();return this;};c.prototype.setFloatingContainerVisible=function(v){this.setProperty('floatingContainerVisible',!!v,true);if(this.getDomRef()){this.$().find('.sapUshellShellFloatingContainerWrapper').toggleClass('sapUshellShellHidden',!v);}return this;};c.prototype.setHeaderVisible=function(h){this.setProperty('headerVisible',!!h,true);this.$().toggleClass('sapUshellShellNoHead',!h);return this;};c.prototype._setStrongBackground=function(u){this._useStrongBG=!!u;this.$('strgbg').toggleClass('sapUiStrongBackgroundColor',this._useStrongBG);};c.prototype._modifyAggregationOrProperty=function(u,d){var r=!!this.getDomRef();var e=u.apply(this,[r]);if(r&&d){if(d instanceof sap.ushell.ui.shell.shell_ContentRenderer){d.render();}else{d.apply(this);}}return e;};c.prototype._doShowHeader=function(s){var w=this._showHeader;this._showHeader=this._isHeaderHidingActive()?!!s:true;this.$().toggleClass('sapUshellShellHeadHidden',!this._showHeader).toggleClass('sapUshellShellHeadVisible',this._showHeader);if(this._showHeader){this._timedHideHeader();}if(w!==this._showHeader&&this._isHeaderHidingActive()){q.sap.delayedCall(500,this,function(){try{var r=document.createEvent('UIEvents');r.initUIEvent('resize',true,false,window,0);window.dispatchEvent(r);}catch(e){q.sap.log.error(e);}});}};c.prototype._timedHideHeader=function(d){if(this._headerHidingTimer){q.sap.clearDelayedCall(this._headerHidingTimer);this._headerHidingTimer=null;}if(d||!c._HEADER_AUTO_CLOSE||!this._isHeaderHidingActive()||this._iHeaderHidingDelay<=0){return;}this._headerHidingTimer=q.sap.delayedCall(this._iHeaderHidingDelay,this,function(){if(this._isHeaderHidingActive()&&this._iHeaderHidingDelay>0&&!q.sap.containsOrEquals(this.getDomRef('hdr'),document.activeElement)){this._doShowHeader(false);}});};c.prototype._isHeaderHidingActive=function(){if(c._HEADER_ALWAYS_VISIBLE||!this.getHeaderHiding()||sap.ushell.ui.shell.shell_iNumberOfOpenedShellOverlays>0||!this.getHeaderVisible()){return false;}return true;};c.prototype._setSidePaneWidth=function(r){var s=this.getCanvasSplitContainer();if(s){if(!r){r=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;}var w=c['_SIDEPANE_WIDTH_'+r.toUpperCase()]+'rem';s.setSecondaryContentSize(w);}};c.prototype._handleMediaChange=function(p){if(!this.getDomRef()){return false;}this._setSidePaneWidth(p.name);this.getCanvasSplitContainer()._applySecondaryContentSize();};c.prototype._refreshAfterRendering=function(){var d=this.getDomRef();if(!d){return false;}this._timedHideHeader();return true;};return c;},true);\n",
	"sap/ushell/ui/shell/ShellLayoutRenderer.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,s){var i=s.getId(),c;r.write('<div');r.writeControlData(s);r.addClass('sapUshellShell');if(s.getShowAnimation()){r.addClass('sapUshellShellAnim');}if(!s.getHeaderVisible()){r.addClass('sapUshellShellNoHead');}r.addClass('sapUshellShellHead'+(s._showHeader?'Visible':'Hidden'));r.writeClasses();r.write('>');if(!s.getShowBrandLine()){r.write(\"<div id='\",i,\"-strgbg' class='sapUshellShellBG sapContrastPlus\"+(s._useStrongBG?' sapUiStrongBackgroundColor':'')+\"'></div>\");r.write(\"<div class='sapUiGlobalBackgroundImage sapUiGlobalBackgroundImageForce sapUshellShellBG sapContrastPlus'></div>\");}if(s.getShowBrandLine()){r.write(\"<hr id='\",i,\"-brand' class='sapUshellShellBrand'/>\");}r.write(\"<header id='\",i,\"-hdr'  class='sapContrastPlus sapUshellShellHead'><div>\");r.write(\"<div id='\",i,\"-hdrcntnt' class='sapUshellShellCntnt'>\");if(s.getHeader()){r.renderControl(s.getHeader());}r.write('</div>','</div>','</header>');if(s.getFloatingContainer()){r.write('<div');r.addClass('sapUshellShellFloatingContainerWrapper ');if(!s.getFloatingContainerVisible()){r.addClass('sapUshellShellHidden');}r.writeClasses();r.write('>');r.renderControl(s.getFloatingContainer());r.write('</div>');}if(s.getToolArea()){r.write('<aside>');r.renderControl(s.getToolArea());r.write('</aside>');}if(s.getRightFloatingContainer()){r.write('<aside>');r.renderControl(s.getRightFloatingContainer());r.write('</aside>');}c='sapUshellShellCntnt sapUshellShellCanvas';if(s.getBackgroundColorForce()){c+=' sapUiGlobalBackgroundColor sapUiGlobalBackgroundColorForce';}r.write(\"<div id='\",i,\"-cntnt' class='\"+c+\"'>\");if(s.getShowBrandLine()){r.write(\"<div id='\",i,\"-strgbg' class='sapUshellShellBG sapContrastPlus\"+(s._useStrongBG?' sapUiStrongBackgroundColor':'')+\"'></div>\");r.write(\"<div class='sapUiGlobalBackgroundImage sapUiGlobalBackgroundImageForce sapUshellShellBG sapContrastPlus'></div>\");}r.renderControl(s.getCanvasSplitContainer());r.write('</div>');r.write(\"<span id='\",i,\"-main-focusDummyOut' tabindex='-1'></span>\");r.renderControl(s.getFloatingActionsContainer());r.write('</div>');};return S;},true);\n",
	"sap/ushell/ui/shell/ShellNavigationMenu.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ushell/library','sap/m/FlexBox','sap/m/List'],function(q){'use strict';var S=sap.ui.core.Control.extend('sap.ushell.ui.shell.ShellNavigationMenu',{metadata:{properties:{},aggregations:{items:{type:'sap.m.ListItem',group:'Misc',defaultValue:null,singularName:'item'},miniTiles:{type:'sap.ushell.ui.shell.NavigationMiniTile',group:'Misc',defaultValue:null,singularName:'miniTile'}},events:{}},renderer:{render:function(r,c){r.write('<div  tabindex=\"0\" ');r.writeControlData(c);r.write('>');r.write('<div  tabindex=\"0\" id=\"hierarchyItems\" >');r.renderControl(c.oItemsList);r.write('</div>');var m=c.getMiniTiles();if(m&&m.length>0){r.renderControl(c.oTextTabBar);}r.write('</div>');}}});var K=function(m){this.init(m);};K.prototype.init=function(m){this.keyCodes=q.sap.KeyCodes;this.jqElement=m.$();this.jqElement.on('keydown.keyboardNavigation',this.keydownHandler.bind(this));};K.prototype.destroy=function(){if(this.jqElement){this.jqElement.off('.keyboardNavigation');}delete this.jqElement;};K.prototype.keydownHandler=function(e){switch(e.keyCode){case this.keyCodes.ARROW_UP:this.upDownHandler(e,true);break;case this.keyCodes.ARROW_DOWN:this.upDownHandler(e,false);break;case this.keyCodes.ARROW_LEFT:this.leftRightHandler(e,false);break;case this.keyCodes.ARROW_RIGHT:this.leftRightHandler(e,true);break;case this.keyCodes.HOME:this.homeEndHandler(e,true);break;case this.keyCodes.END:this.homeEndHandler(e,false);break;case this.keyCodes.PAGE_UP:this.pageUpDownHandler(e,true);break;case this.keyCodes.PAGE_DOWN:this.pageUpDownHandler(e,false);break;default:break;}};K.prototype.pageUpDownHandler=function(e,i){var j=q(document.activeElement);if(!j.hasClass('sapUshellNavMiniTile')){return false;}};K.prototype.upDownHandler=function(e,i){var j=q(document.activeElement);if(!j.hasClass('sapUshellNavMiniTile')){return false;}var a=j.parent().parent();var c=j.parent().index();var b=a.children();var n;if(i){n=c-3;if(n<0){n+=9;}}else{n=(c+3)%b.length;}var d=b[n].children[0];this._swapItemsFocus(e,j,d);};K.prototype.leftRightHandler=function(e,i){var n=i?'next':'prev';var j=q(document.activeElement);if(!j.hasClass('sapUshellNavMiniTile')){return false;}var a=j.parent()[n]();var b=a.children();if(!b.length){return false;}this._swapItemsFocus(e,j,b);};K.prototype.homeEndHandler=function(e,i){var n=i?'first':'last';var j=q(document.activeElement);if(!j.hasClass('sapUshellNavMiniTile')){return false;}e.preventDefault();var a=this.jqElement.find('.sapUshellNavMiniTile')[n]();this._swapItemsFocus(e,j,a);};K.prototype._swapItemsFocus=function(e,j,a){e.preventDefault();a.focus();};S.prototype.init=function(){this.oItemsList=new sap.m.List('sapUshellNavHierarchyItems');this.oMiniTilesBox=new sap.m.FlexBox('sapUshellNavRelatedAppsFlexBox');};S.prototype._beforeOpen=function(){if(!this.bInitialized){this.oMiniTilesTab=new sap.m.IconTabFilter('sapUshellNavRelatedAppsTabFilter',{text:sap.ushell.resources.i18n.getText('shellNavMenu_relatedApps'),content:[this.oMiniTilesBox]});this.oTextTabBar=new sap.m.IconTabBar('sapUshellNavMenuTabBar',{expanded:true,expandable:false,items:[this.oMiniTilesTab]});this.bInitialized=true;}};S.prototype._afterOpen=function(){if(sap.ui.Device.system.desktop){if(this.keyboardNavigation){this.keyboardNavigation.destroy();}this.keyboardNavigation=new K(this.oMiniTilesBox);}};S.prototype.getMiniTiles=function(){return this.oMiniTilesBox.getItems();};S.prototype.insertMiniTile=function(m,i){this.oMiniTilesBox.insertItem(m,i);return this;};S.prototype.addMiniTile=function(m){if(this.oMiniTilesBox.getItems().length<9){this.oMiniTilesBox.addItem(m);}else{q.sap.log.warning('ShellNavigationMenu.addMiniTile - miniTiles aggregation is already at maximum size of 9 elements '+'- current item was not added.');}return this;};S.prototype.removeMiniTile=function(i){this.oMiniTilesBox.removeItem(i);return this;};S.prototype.removeAllMiniTiles=function(){this.oMiniTilesBox.removeAllItems();return this;};S.prototype.destroyMiniTiles=function(){this.oMiniTilesBox.destroyItems();return this;};S.prototype.indexOfMiniTile=function(m){return this.oMiniTilesBox.indexOfItem(m);};S.prototype.getItems=function(){return this.oItemsList.getItems();};S.prototype.insertItem=function(h,i){this.oItemsList.insertItem(h,i);return this;};S.prototype.addItem=function(h){this.oItemsList.addItem(h);return this;};S.prototype.removeItem=function(i){this.oItemsList.removeItem(i);return this;};S.prototype.removeAllItems=function(){this.oItemsList.removeAllItems();return this;};S.prototype.destroyItems=function(){this.oItemsList.destroyItems();return this;};S.prototype.indexOfItem=function(h){return this.oItemsList.indexOfItem(h);};S.prototype.exit=function(){this.oItemsList.destroy();this.oMiniTilesBox.destroy();if(this.bInitialized){this.oMiniTilesTab.destroy();this.oTextTabBar.destroy();}if(this.keyboardNavigation){this.keyboardNavigation.destroy();}};return S;},true);\n",
	"sap/ushell/ui/shell/ShellTitle.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/m/Button','sap/ui/core/IconPool','sap/ushell/library'],function(q,B,I){'use strict';var S=B.extend('sap.ushell.ui.shell.ShellTitle',{metadata:{properties:{text:{type:'string',group:'Misc',defaultValue:null},icon:{type:'sap.ui.core.URI',group:'Appearance',defaultValue:null}},events:{press:{}}},renderer:{render:function(r,c){var i=c.getInnerControl();var t=c.getText();if(!t){return;}if(i){r.write(\"<a tabindex='0' href='javascript:void(0);'\");r.addClass('sapUshellShellHeadAction sapUshellHideIconOnDesktop');r.writeClasses();if(c.getTooltip()){r.writeAttributeEscaped('title',c.getTooltip());}r.writeControlData(c);r.write(\"><span class='sapUshellShellHeadActionImg sapUshellShellTitleHeadActionImg'>\");var o=I.createControlByURI(c.getIcon());r.renderControl(o);r.write('</span>');r.write(\"<span class='sapUshellShellHeadActionName sapUshellHeadTitle'\");r.writeAttributeEscaped('title',c.getText());r.write('>');r.writeEscaped(c.getText());r.write(\"</span><span class='sapUshellShellHeadActionExp'></span></a>\");}else{r.write('<span id=\"shell-header-hdr-shell-title\" class=\"sapUshellHeadTitle\">');r.writeEscaped(c.getText());r.write('</span>');}}}});S.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.innerControl=null;this.oPopover=null;};S.prototype.getInnerControl=function(){return this.innerControl;};S.prototype.setInnerControl=function(i){this.innerControl=i;};S.prototype.onclick=function(e){if(!this.oPopover){this.oPopover=new sap.m.Popover('shellTitlePopover',{showHeader:false,content:this.getInnerControl(),placement:sap.m.PlacementType.VerticalPreferedBottom});}this.oPopover.openBy(this);this.firePress();};S.prototype.exit=function(){if(this.oPopover){this.innerControl.destroy();this.oPopover.destroy();}};S.prototype.onsapspace=S.prototype.onclick;return S;},true);\n",
	"sap/ushell/ui/shell/ShellUtilities.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ushell/library'],function(q){'use strict';sap.ui.base.Object.extend('sap.ushell.ui.shell.shell_ContentRenderer',{constructor:function(c,C,o,a){sap.ui.base.Object.apply(this);this._id=C;this._cntnt=o;this._ctrl=c;this._rm=sap.ui.getCore().createRenderManager();this._cb=a||function(){};},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){q.sap.clearDelayedCall(this._rerenderTimer);delete this._rerenderTimer;}sap.ui.base.Object.prototype.destroy.apply(this,arguments);},render:function(){if(!this._rm){return;}if(this._rerenderTimer){q.sap.clearDelayedCall(this._rerenderTimer);}this._rerenderTimer=q.sap.delayedCall(0,this,function(){var $=q.sap.byId(this._id);var d=$.length>0;if(d){if(typeof(this._cntnt)==='string'){var c=this._ctrl.getAggregation(this._cntnt,[]);for(var i=0;i<c.length;i++){this._rm.renderControl(c[i]);}}else{this._cntnt(this._rm);}this._rm.flush($[0]);}this._cb(d);});}});sap.ushell.ui.shell.shell_iNumberOfOpenedShellOverlays=0;},false);\n",
	"sap/ushell/ui/shell/SplitContainer.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Control','sap/ui/core/theming/Parameters','sap/ushell/library','./ShellUtilities'],function(q,C,P){'use strict';var S=C.extend('sap.ushell.ui.shell.SplitContainer',{metadata:{library:'sap.ushell.ui.shell',properties:{showSecondaryContent:{type:'boolean',group:'Appearance',defaultValue:null},secondaryContentSize:{type:'sap.ui.core.CSSSize',group:'Appearance',defaultValue:'250px'},secondaryContentWidth:{type:'sap.ui.core.CSSSize',group:'Appearance',defaultValue:'250px',deprecated:true},orientation:{type:'sap.ui.core.Orientation',group:'Appearance',defaultValue:sap.ui.core.Orientation.Horizontal}},defaultAggregation:'content',aggregations:{content:{type:'sap.ui.core.Control',multiple:true,singularName:'content'},secondaryContent:{type:'sap.ui.core.Control',multiple:true,singularName:'secondaryContent'},subHeader:{type:'sap.ui.core.Control',multiple:true,singularName:'subHeader'}}}});(function(w){S.prototype.init=function(){this.bRtl=sap.ui.getCore().getConfiguration().getRTL();this._paneRenderer=new sap.ushell.ui.shell.shell_ContentRenderer(this,this.getId()+'-panecntnt','secondaryContent');this._subHeadersRenderer=new sap.ushell.ui.shell.shell_ContentRenderer(this,this.getId()+'-canvassubHeader','subHeader');this._canvasRenderer=new sap.ushell.ui.shell.shell_ContentRenderer(this,this.getId()+'-canvasrootContent','content');this._moveContent=true;};S.prototype.exit=function(){this._paneRenderer.destroy();delete this._paneRenderer;this._canvasRenderer.destroy();delete this._canvasRenderer;this._subHeadersRenderer.destroy();delete this._subHeadersRenderer;delete this._contentContainer;delete this._secondaryContentContainer;};S.prototype.onAfterRendering=function(){this._contentContainer=this.$('canvas');this._secondaryContentContainer=this.$('pane');this._toolArea=this.getParent()&&this.getParent().getToolArea&&this.getParent().getToolArea()?this.getParent().getToolArea():{};this._shellLayout=this.getParent();this._applySecondaryContentSize();};S.prototype._applySecondaryContentSize=function(){if(this.getDomRef()){var v=this.getOrientation()===sap.ui.core.Orientation.Vertical;var s,o;var d,O,D;var a=this.getSecondaryContentSize();var b=this.getShowSecondaryContent();if(v){s='height';o='width';d='top';O=this.bRtl?'right':'left';}else{s='width';o='height';d=this.bRtl?'right':'left';O='top';}if(this._closeContentDelayId){q.sap.clearDelayedCall(this._closeContentDelayId);}this._secondaryContentContainer.css(s,a);this._secondaryContentContainer.css(o,'');if(this.getParent().getToolAreaVisible&&!this.getParent().getToolAreaVisible()){D='0';}else{D=this._toolArea.getSize?this._toolArea.getSize():'0';}this._secondaryContentContainer.css(d,b?D:'-'+a);this._secondaryContentContainer.css(O,'');if(this._moveContent){a=this._adjustSecondaryContentSize();this._contentContainer.css(d,b?a:D);}else{this._contentContainer.css(d,D);}if(!b){var h=parseInt(P.get('sapUshellSplitContAnimationDuration'),10);this._closeContentDelayId=q.sap.delayedCall(h,this,function(){if(this._secondaryContentContainer){this._secondaryContentContainer.toggleClass('sapUshellSplitContSecondClosed',true);}});}else{this._secondaryContentContainer.toggleClass('sapUshellSplitContSecondClosed',false);}}};S.prototype._modifyAggregationOrProperty=function(m,d){var r=!!this.getDomRef();var a=m.apply(this,[r]);if(r&&d){d.render();}return a;};S.prototype._adjustSecondaryContentSize=function(){var c=this.getProperty('secondaryContentSize'),b=this._shellLayout.getToolAreaVisible&&this._shellLayout.getToolAreaVisible()?this._toolArea.getSize():'0rem';c=parseFloat(c,10)+parseFloat(b,10)+'rem';return c;};S.prototype.setShowSecondaryContent=function(s){var r=this.getDomRef();this.setProperty('showSecondaryContent',!!s,r);this._applySecondaryContentSize();return this;};S.prototype.setSecondaryContentSize=function(s){this.setProperty('secondaryContentSize',s,true);this._applySecondaryContentSize();return this;};S.prototype.getSecondaryContentWidth=function(){q.sap.log.warning(\"SplitContainer: Use of deprecated property \\\"SecondaryContentWidth\\\", please use \"+\"\\\"SecondaryContentSize\\\" instead.\");return this.getSecondaryContentSize.apply(this,arguments);};S.prototype.setSecondaryContentWidth=function(){q.sap.log.warning(\"SplitContainer: Use of deprecated property \\\"SecondaryContentWidth\\\", please use \"+\"\\\"SecondaryContentSize\\\" instead.\");return this.setSecondaryContentSize.apply(this,arguments);};S.prototype.insertContent=function(c,i){return this._modifyAggregationOrProperty(function(r){return this.insertAggregation('content',c,i,r);},this._canvasRenderer);};S.prototype.addContent=function(c){return this._modifyAggregationOrProperty(function(r){return this.addAggregation('content',c,r);},this._canvasRenderer);};S.prototype.removeContent=function(i){return this._modifyAggregationOrProperty(function(r){return this.removeAggregation('content',i,r);},this._canvasRenderer);};S.prototype.removeAllContent=function(){return this._modifyAggregationOrProperty(function(r){return this.removeAllAggregation('content',r);},this._canvasRenderer);};S.prototype.destroyContent=function(){return this._modifyAggregationOrProperty(function(r){return this.destroyAggregation('content',r);},this._canvasRenderer);};S.prototype.insertSecondaryContent=function(c,i){return this._modifyAggregationOrProperty(function(r){return this.insertAggregation('secondaryContent',c,i,r);},this._paneRenderer);};S.prototype.addSecondaryContent=function(c){return this._modifyAggregationOrProperty(function(r){return this.addAggregation('secondaryContent',c,r);},this._paneRenderer);};S.prototype.removeSecondaryContent=function(i){return this._modifyAggregationOrProperty(function(r){return this.removeAggregation('secondaryContent',i,r);},this._paneRenderer);};S.prototype.removeAllSecondaryContent=function(){return this._modifyAggregationOrProperty(function(r){return this.removeAllAggregation('secondaryContent',r);},this._paneRenderer);};S.prototype.destroySecondaryContent=function(){return this._modifyAggregationOrProperty(function(r){return this.destroyAggregation('secondaryContent',r);},this._paneRenderer);};S.prototype.setSubHeader=function(c){return this._modifyAggregationOrProperty(function(r){return this.setAggregation('subHeader',c,r);},this._subHeadersRenderer);};S.prototype.removeSubHeader=function(){return this._modifyAggregationOrProperty(function(r){return this.removeAllAggregation('subHeader',r);},this._subHeadersRenderer);};S.prototype.destroySubHeader=function(){return this._modifyAggregationOrProperty(function(r){return this.destroyAggregation('subHeader',r);},this._subHeadersRenderer);};})(window);return S;},true);\n",
	"sap/ushell/ui/shell/SplitContainerRenderer.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){var i=c.getId();var v=c.getOrientation()===sap.ui.core.Orientation.Vertical;r.write('<div');r.writeControlData(c);r.addClass('sapUshellSpltCont');r.addClass('sapUshellSpltCont'+(v?'V':'H'));if(sap.ui.getCore().getConfiguration().getAnimation()){r.addClass('sapUshellSpltContAnim');}if(!c.getShowSecondaryContent()){r.addClass('sapUshellSpltContPaneHidden');}r.writeClasses();r.write('>');var s=i+'-pane';var w=c.getShowSecondaryContent()?c.getSecondaryContentSize():'0';r.write(\"<aside id='\",s,\"' style='width:\",w,\"'\");r.addClass('sapUshellSpltContPane');if(!c.getShowSecondaryContent()){r.addClass('sapUshellSplitContSecondClosed');}r.writeClasses();r.write('>');this.renderSecondaryContent(r,s,c.getSecondaryContent());r.write('</aside>');var C=i+'-canvas';r.write(\"<section id='\",C,\"' class='sapUshellSpltContCanvas'>\");var o=c.getAggregation('subHeader');this.renderRootContent(r,C,c.getContent(),o);r.write('</section>');r.write('</div>');};S.renderRootContent=function(r,i,c,s){r.write(\"<div id='\",i,\"cntnt' class='sapUshellSpltContCntnt'\");r.writeAttribute('data-sap-ui-root-content','true');r.write('>');if(s&&s.length){r.write(\"<div id='\",i,\"subHeader'>\");r.renderControl(s[0]);r.write('</div>');}if(c&&c.length){r.write(\"<div id='\",i,\"rootContent' class='sapUshellSpltContainerContentWrapper'>\");c.forEach(function(C,a){r.renderControl(C);});r.write('</div>');}r.write('</div>');};S.renderSecondaryContent=function(r,I,c){r.write(\"<div id='\",I,\"cntnt' class='sapUshellSpltContCntnt'\");r.writeAttribute('data-sap-ui-root-content','true');r.write('>');for(var i=0;i<c.length;i++){r.renderControl(c[i]);}r.write('</div>');};return S;},true);\n",
	"sap/ushell/ui/shell/ToolArea.js":"/*!\n * ${copyright}\n */\nsap.ui.define(['jquery.sap.global','sap/ushell/library','sap/ui/Device','./ToolAreaItem'],function(q,l,D,T){'use strict';var a=sap.ui.core.Control.extend('sap.ushell.ui.shell.ToolArea',{metadata:{properties:{size:{type:'sap.ui.core.CSSSize',group:'Appearance',defaultValue:'56px'},textVisible:{type:'boolean',group:'Appearance',defaultValue:true}},aggregations:{toolAreaItems:{type:'sap.ushell.ui.shell.ToolAreaItem',multiple:true}}},renderer:{render:function(r,t){if(!t.getToolAreaItems().length){return;}else{var i=t.getId();r.write('<div');r.writeControlData(t);r.writeAttribute('class','sapUshellToolArea');r.write('>');r.write(\"<div id='\",i,\"-cntnt' class='sapUshellToolAreaContainer'>\");this.renderToolAreaItems(r,t);r.write('</div>');}},renderToolAreaItems:function(r,t){var I=t.getToolAreaItems(),i;for(i=0;i<I.length;i++){r.write('<div');r.addClass('sapUshellToolAreaContent');if(I[i].getSelected()){r.addClass('sapUshellToolAreaItemSelected');}r.writeClasses();r.write('>');r.renderControl(I[i]);r.write('</div>');r.write(\"<div class='sapUshellToolAreaContentSeparator'></div>\");}}}});a.prototype.init=function(){D.media.attachHandler(this._setSize,this);D.resize.attachHandler(this._setSize,this);};a.prototype.addToolAreaItem=function(t){var s=!!this.getToolAreaItems.length;if(!this.getVisible()){this.setVisible(true);}this.addAggregation('toolAreaItems',t,s);if(this.getDomRef()){var r=sap.ui.getCore().createRenderManager();r.renderControl(t);r.flush(this.getDomRef());r.destroy();}};a.prototype.removeToolAreaItem=function(i){var t=this.getToolAreaItems(),o=typeof i==='object'?i:t[i];this.removeAggregation('toolAreaItems',o);if(this.getToolAreaItems().length<1){this.setVisible(false);}};a.prototype.onBeforeRendering=function(){var I=this.getToolAreaItems(),i;this._bRenderText=I.length;for(i=0;i<I.length;i++){if(!I[i].getText()){this._bRenderText=false;}}};a.prototype._setSize=function(){var s=q('.sapUshellToolArea').width()/16;if(!this._bRenderText){this.setProperty('textVisible',false,true);s=q('.sapUshellToolAreaItm').height()/16;this.$().toggleClass('sapUshellToolAreaTextHidden',true);}this.setProperty('size',s+'rem',true);};a.prototype.onAfterRendering=function(){if(this.getToolAreaItems().length){this.setVisible(true);this._setSize();}};return a;},true);\n",
	"sap/ushell/ui/shell/ToolAreaItem.js":"sap.ui.define(['jquery.sap.global','sap/ui/core/Control','sap/ui/core/IconPool','sap/ushell/library'],function(q,C,I){'use strict';var T=C.extend('sap.ushell.ui.shell.ToolAreaItem',{metadata:{properties:{icon:{type:'sap.ui.core.URI',group:'Appearance',defaultValue:null},selected:{type:'boolean',group:'Appearance',defaultValue:false},text:{type:'string',group:'Appearance',defaultValue:null},ariaLabel:{type:'string',group:'Appearance',defaultValue:null},visible:{type:'boolean',group:'Appearance',defaultValue:true},expandable:{type:'boolean',group:'Appearance',defaultValue:false}},events:{press:{},expand:{}}},renderer:{render:function(r,t){var i;r.write('<div');r.writeControlData(t);if(!t.getIcon()){r.addClass('sapUshellToolAreaItmTextOnly');}else{r.addClass('sapUshellToolAreaItm');}if(!t.getVisible()){r.addClass('sapUshellShellHidden');}if(t.getAriaLabel()){r.writeAccessibilityState({label:this.getAriaLabel(),role:'button'});}r.writeClasses();var a=t.getTooltip_AsString();if(a){r.writeAttributeEscaped('title',a);}r.write('>');if(t.getIcon()){i=I.createControlByURI(t.getIcon());i.setUseIconTooltip(false);i.addStyleClass('sapUshellToolAreaItemIcon');r.renderControl(i);}if(t.getText()){r.write('<span');r.addClass('sapUshellToolAreaItemText');r.writeClasses();r.write('>');r.writeEscaped(t.getText());r.write('</span>');}if(t.getExpandable()){this.renderExpandable(r);}r.write('</div>');},renderExpandable:function(r){var i=I.createControlByURI('sap-icon://icon-dropdown');i.addStyleClass('sapUshellToolAreaItemExpandable');r.renderControl(i);}}});T.prototype.onclick=function(e){if(this.$().parent().hasClass('sapUshellToolAreaItemSelected')){this.setSelected(false);}else{this.setSelected(true);}if(e.target.className.indexOf('sapUshellToolAreaItemExpandable')>0){this.fireExpand();}else{this.firePress();}};T.prototype.onsapenter=T.prototype.onclick;T.prototype.setExpandable=function(e){e=!!e;this.setProperty('expandable',e,true);this.$().toggleClass('sapUshellToolAreaItemExpandable',e);};T.prototype.setSelected=function(s){s=!!s;if(s){var j=q('.sapUshellToolAreaItemSelected');j.each(function(){q(this).removeClass('sapUshellToolAreaItemSelected');});}this.setProperty('selected',s,true);this.$().parent().toggleClass('sapUshellToolAreaItemSelected',s);};T.prototype.setVisible=function(v){var r=this.getParent().getDomRef();this.setProperty('visible',!!v,r);this.$().toggleClass('sapUshellShellHidden',!v);};T.prototype.setAriaLabel=function(a){this.setProperty('ariaLabel',a);return this;};return T;},true);\n",
	"sap/ushell/ui/tile/DynamicTile.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.tile.DynamicTile');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ushell.ui.tile.TileBase');sap.ushell.ui.tile.TileBase.extend('sap.ushell.ui.tile.DynamicTile',{metadata:{library:'sap.ushell',properties:{'numberValue':{type:'string',group:'Data',defaultValue:'0.0'},'numberState':{type:'sap.ushell.ui.tile.State',group:'Appearance',defaultValue:sap.ushell.ui.tile.State.Neutral},'numberUnit':{type:'string',group:'Data',defaultValue:null},'numberDigits':{type:'int',group:'Appearance',defaultValue:0},'stateArrow':{type:'sap.ushell.ui.tile.StateArrow',group:'Appearance',defaultValue:sap.ushell.ui.tile.StateArrow.None},'numberFactor':{type:'string',group:'Data',defaultValue:null}}}});\n",
	"sap/ushell/ui/tile/DynamicTileRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.declare('sap.ushell.ui.tile.DynamicTileRenderer');jQuery.sap.require('sap.ushell.ui.tile.TileBaseRenderer');jQuery.sap.require('sap.ushell.ui.tile.State');jQuery.sap.require('sap.ui.core.format.NumberFormat');sap.ushell.ui.tile.DynamicTileRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.tile.TileBaseRenderer);var t=sap.ushell.resources.i18n;sap.ushell.ui.tile.DynamicTileRenderer.renderPart=function(r,c){var n=c.getNumberValue(),a=c.getNumberFactor(),d=n.toString();var m=c.getIcon()?4:5;var s=this._shouldProcessDigits(d,c);if(d.length>m||s){var N=this._normalizeNumber(n,m,a,c);a=N.numberFactor;d=N.displayNumber;}else if(d!==''){var o=sap.ui.core.format.NumberFormat.getFloatInstance({maxFractionDigits:m});d=o.format(n);}r.write('<div');r.addClass('sapUshellDynamicTile');r.writeClasses();r.write('>');r.write('<div');r.addClass('sapUshellDynamicTileData');r.addClass((c.getNumberState()?'sapUshellDynamicTileData'+c.getNumberState():'sapUshellDynamicTileData'+sap.ushell.ui.tile.State.Neutral));r.writeClasses();r.write('>');r.write(\"<div class='sapUshellDynamicTileIndication'>\");if(c.getStateArrow()){r.write('<div');r.addClass('sapUshellDynamicTileStateArrow');r.addClass('sapUshellDynamicTileData'+c.getStateArrow());r.writeClasses();r.write('>');r.write('</div>');}r.write('<br><div');r.addClass('sapUshellDynamicTileNumberFactor');r.writeClasses();r.writeAccessibilityState(c,{label:t.getText('TileUnits_lable')+a});r.write('>');r.writeEscaped(a);r.write('</div>');r.write('</div>');r.write('<div');r.addClass('sapUshellDynamicTileNumber');r.writeClasses();if(d&&d!==''){r.writeAccessibilityState(c,{label:t.getText('TileValue_lable')+d});r.write('>');r.writeEscaped(d);}else{r.write('>');r.writeEscaped(c.getNumberValue());}r.write('</div>');r.write('</div>');r.write('</div>');};sap.ushell.ui.tile.DynamicTileRenderer._normalizeNumber=function(n,m,a,c){var b;if(isNaN(n)){b=n;}else{var N=sap.ui.core.format.NumberFormat.getFloatInstance({maxFractionDigits:c.getNumberDigits()});if(!a){if(n>=1000000000){a='B';n/=1000000000;}else if(n>=1000000){a='M';n/=1000000;}else if(n>=1000){a='K';n/=1000;}}b=N.format(n);}var d=b;var e=d[m-1];m-=(e==='.'||e===',')?1:0;d=d.substring(0,m);return{displayNumber:d,numberFactor:a};};sap.ushell.ui.tile.DynamicTileRenderer._shouldProcessDigits=function(d,c){var n=c.getNumberDigits(),a;if(d.indexOf('.')!==-1){a=d.split('.')[1].length;if(a>n){return true;}}return false;};sap.ushell.ui.tile.DynamicTileRenderer.getInfoPrefix=function(c){return c.getNumberUnit();};}());\n",
	"sap/ushell/ui/tile/ImageTile.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.tile.ImageTile');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ushell.ui.tile.TileBase');sap.ushell.ui.tile.TileBase.extend('sap.ushell.ui.tile.ImageTile',{metadata:{library:'sap.ushell',properties:{'imageSource':{type:'string',group:'Appearance',defaultValue:null}}}});\n",
	"sap/ushell/ui/tile/ImageTileRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.tile.ImageTileRenderer');jQuery.sap.require('sap.ushell.ui.tile.TileBaseRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.ushell.ui.tile.ImageTileRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.tile.TileBaseRenderer);sap.ushell.ui.tile.ImageTileRenderer.renderPart=function(r,c){r.write('<img');r.addClass('sapUshellImageTile');r.writeClasses();r.writeAttributeEscaped('src',c.getImageSource());r.write('/>');};}());\n",
	"sap/ushell/ui/tile/StaticTile.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.tile.StaticTile');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ushell.ui.tile.TileBase');sap.ushell.ui.tile.TileBase.extend('sap.ushell.ui.tile.StaticTile',{metadata:{library:'sap.ushell'}});\n",
	"sap/ushell/ui/tile/StaticTileRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui.tile.StaticTileRenderer');jQuery.sap.require('sap.ushell.ui.tile.TileBaseRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.ushell.ui.tile.StaticTileRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.tile.TileBaseRenderer);sap.ushell.ui.tile.StaticTileRenderer.renderPart=function(r,c){r.write('<span');r.addClass('sapUshellStaticTile');r.writeClasses();r.write('>');r.write('</span>');};}());\n",
	"sap/ushell/ui/tile/TileBase.js":"/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare('sap.ushell.ui.tile.TileBase');jQuery.sap.require('sap.ushell.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.ushell.ui.tile.TileBase',{metadata:{library:'sap.ushell',properties:{'title':{type:'string',group:'Data',defaultValue:null},'subtitle':{type:'string',group:'Data',defaultValue:null},'icon':{type:'string',group:'Data',defaultValue:null},'info':{type:'string',group:'Data',defaultValue:null},'infoState':{type:'sap.ushell.ui.tile.State',group:'',defaultValue:sap.ushell.ui.tile.State.Neutral},'targetURL':{type:'string',group:'Behavior',defaultValue:null},'highlightTerms':{type:'any',group:'Appearance',defaultValue:[]}},aggregations:{'content':{type:'sap.ui.core.Control',multiple:true,singularName:'content'}},events:{'press':{}}}});sap.ushell.ui.tile.TileBase.M_EVENTS={'press':'press'};(function(){'use strict';sap.ushell.ui.tile.TileBase.prototype.ontap=function(e){this.firePress({});};sap.ushell.ui.tile.TileBase.prototype.onsapenter=function(e){this.firePress({});};sap.ushell.ui.tile.TileBase.prototype.onsapspace=function(e){this.firePress({});};}());\n",
	"sap/ushell/ui/tile/TileBaseRenderer.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.require('sap.ushell.resources');jQuery.sap.declare('sap.ushell.ui.tile.TileBaseRenderer');sap.ushell.ui.tile.TileBaseRenderer={};var t=sap.ushell.resources.i18n;sap.ushell.ui.tile.TileBaseRenderer.highlight=function(h,T){var i,r,e=jQuery.sap.encodeHTML(T).replace(/&#xa;/g,'<br/>');if(h&&h.length&&h.length>0){for(i=0;i<h.length;i=i+1){r=new RegExp('('+jQuery.sap.encodeHTML(h[i]).replace(/([.*+?\\^=!:${}()|\\[\\]\\/\\\\])/g,'\\\\$1')+')','gi');e=e.replace(r,'<b>$1</b>');}}return e;};sap.ushell.ui.tile.TileBaseRenderer.render=function(r,c){var i,I;r.write('<div');r.writeControlData(c);if(c.getTargetURL()){r.writeAttributeEscaped('data-targeturl',c.getTargetURL());}r.addClass('sapUshellTileBase');r.writeClasses();r.write('>');r.write('<div');r.addClass('sapUshellTileBaseHeader');r.writeClasses();r.write('>');r.write('<h3');r.addClass('sapUshellTileBaseTitle');r.writeClasses();r.writeAccessibilityState(c,{label:t.getText('tileTypeListItem')+t.getText('TileDetails_lable')+t.getText('TileTitle_lable')+c.getTitle()});r.write('>');r.write(this.highlight(c.getHighlightTerms(),c.getTitle()||''));r.write('</h3>');if(c.getSubtitle()){r.write('<h4');r.addClass('sapUshellTileBaseSubtitle');r.writeClasses();r.writeAccessibilityState(c,{label:t.getText('TileSubTitle_lable')+c.getSubtitle()});r.write('>');r.write(this.highlight(c.getHighlightTerms(),c.getSubtitle()));r.write('</h4>');}r.write('</div>');if(typeof(this.renderPart)==='function'){this.renderPart(r,c);}if(c.getIcon()){I=new sap.ui.core.Icon({src:c.getIcon()});I.addStyleClass('sapUshellTileBaseIcon');r.renderControl(I);}if(c.getInfo()||((typeof(this.getInfoPrefix)==='function'))&&this.getInfoPrefix(c)){r.write('<div');r.addClass('sapUshellTileBaseInfo');r.addClass(c.getInfoState()?'sapUshellTileBase'+c.getInfoState():'sapUshellTileBase'+sap.ushell.ui.tile.State.Neutral);r.writeClasses();r.writeAccessibilityState(c,{label:t.getText('TileInfo_lable')+c.getInfo()});r.write('>');if(typeof(this.getInfoPrefix)==='function'){i=this.getInfoPrefix(c);r.writeEscaped(i);}if(c.getInfo()){if(i){r.write(', ');}r.write(this.highlight(c.getHighlightTerms(),c.getInfo()));}r.write('</div>');}r.write('</div>');};}());\n",
	"sap/ushell/ui5service/ShellUIService.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.ui5service.ShellUIService');jQuery.sap.require('sap.ui.core.service.ServiceFactoryRegistry');jQuery.sap.require('sap.ui.core.service.ServiceFactory');jQuery.sap.require('sap.ui.base.EventProvider');var l;var e=new sap.ui.base.EventProvider();var O={hierarchyChanged:'hierarchyChanged',relatedAppsChanged:'relatedAppsChanged',titleChanged:'titleChanged'};var a;sap.ui.core.service.Service.extend('sap.ushell.ui5service.ShellUIService',{init:function(){var t=this,p=this.getInterface();p.init=function(){t._amendPublicServiceInstance.call(t,this);};sap.ui.core.service.ServiceFactoryRegistry.register('sap.ushell.ui5service.ShellUIService',new sap.ui.core.service.ServiceFactory(p));},_setActiveComponentId:function(i){a=i;},_getActiveComponentId:function(){return a;},_getEventProvider:function(){return e;},_getLastSetTitle:function(){return l;},_ensureArrayOfObjectOfStrings:function(A,m){var v=jQuery.isArray(A)&&A.every(function(o){return jQuery.isPlainObject(o)&&Object.keys(o).length>0&&Object.keys(o).every(function(k){return typeof o[k]==='string';});});if(!v){jQuery.sap.log.error(\"'\"+m+\"' was called with invalid parameters\",'An array of non-empty objects with string values is expected','sap.ushell.ui5service.ShellUIService');}return v;},_ensureString:function(A,m){var t=typeof A;if(t!=='string'){jQuery.sap.log.error(\"'\"+m+\"' was called with invalid arguments\",\"the parameter should be a string, got '\"+t+\"' instead\",'sap.ushell.ui5service.ShellUIService');return false;}return true;},_addCallAllowedCheck:function(p,P){var t=this;p[P]=function(){var c=p.getContext();if(!c||c.scopeObject.getId()!==a){jQuery.sap.log.warning('Call to '+P+' is not allowed',\"This may be caused by an app component other than the active '\"+a+\"' that tries to call the method\",'sap.ushell.ui5service.ShellUIService');return undefined;}return t[P].apply(p,arguments);};},_amendPublicServiceInstance:function(p){var t=this,c;c=p.getContext();if(typeof c==='undefined'){return;}['setTitle','setHierarchy','setRelatedApps'].forEach(function(m){t._addCallAllowedCheck(p,m);});if(c.scopeType==='component'){this._setActiveComponentId(c.scopeObject.getId());return;}jQuery.sap.log.error('Invalid context for ShellUIService interface','The context must be empty or an object like { scopeType: ..., scopeObject: ... }','sap.ushell.ui5service.ShellUIService');},setHierarchy:function(h){if(typeof h!=='undefined'&&!sap.ushell.ui5service.ShellUIService.prototype._ensureArrayOfObjectOfStrings(h,'setHierarchy')){return;}var c=this.getContext().scopeObject;e.fireEvent(O.hierarchyChanged,{data:h,component:c});return;},setTitle:function(t){if(typeof t!=='undefined'&&!sap.ushell.ui5service.ShellUIService.prototype._ensureString(t,'setTitle')){return;}var c=this.getContext().scopeObject;l=t;e.fireEvent(O.titleChanged,{data:t,component:c});return;},getTitle:function(){return this._getLastSetTitle();},setRelatedApps:function(r){if(typeof r!=='undefined'&&!sap.ushell.ui5service.ShellUIService.prototype._ensureArrayOfObjectOfStrings(r,'setRelatedApps')){return;}var c=this.getContext().scopeObject;e.fireEvent(O.relatedAppsChanged,{data:r,component:c});return;},getUxdVersion:function(){if((new jQuery.sap.Version(sap.ui.version).compareTo('1.37.0'))>=0){return 2;}return 1;},_attachHierarchyChanged:function(f){this._getEventProvider().attachEvent(O.hierarchyChanged,f);},_detachHierarchyChanged:function(f){this._getEventProvider().detachEvent(O.hierarchyChanged,f);},_attachTitleChanged:function(f){this._getEventProvider().attachEvent(O.titleChanged,f);},_detachTitleChanged:function(f){this._getEventProvider().detachEvent(O.titleChanged,f);},_attachRelatedAppsChanged:function(f){this._getEventProvider().attachEvent(O.relatedAppsChanged,f);},_detachRelatedAppsChanged:function(f){this._getEventProvider().detachEvent(O.relatedAppsChanged,f);}});}());\n",
	"sap/ushell/utils.js":"// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n(function(){'use strict';jQuery.sap.declare('sap.ushell.utils');sap.ushell.utils={};sap.ushell.utils.isArray=function(o){return Object.prototype.toString.apply(o)==='[object Array]';};sap.ushell.utils.getMember=function(o,a){var p=a.split('.'),n=o;if(!o){return undefined;}p.forEach(function(s){if(typeof n!=='object'){return undefined;}n=n[s.replace(/[|]/g,'.')];});return n;};sap.ushell.utils.addTime=function(i,I,e){if(!window['sap-ushell-startTime']){window['sap-ushell-startTime']=Date.now();}var s=window['sap-ushell-startTime'];e=e||Date.now();if(e<s){e=s+1;}jQuery.sap.measure.add('sap.ushell.fromStart.'+i,I,s,e,e-s,e-s);};sap.ushell.utils.Error=function(m,c){this.name='sap.ushell.utils.Error';this.message=m;jQuery.sap.log.error(m,null,c);};sap.ushell.utils.Error.prototype=new Error();sap.ushell.utils.localStorageSetItem=function(k,v,l){var E;try{localStorage.setItem(k,v);if(l){E=document.createEvent('StorageEvent');E.initStorageEvent('storage',false,false,k,'',v,'',localStorage);dispatchEvent(E);}}catch(e){jQuery.sap.log.warning('Error calling localStorage.setItem(): '+e,null,'sap.ushell.utils');}};sap.ushell.utils.getLocalStorage=function(){return window.localStorage;};sap.ushell.utils.reload=function(){location.reload();};sap.ushell.utils.calculateOrigin=function(d){var u;if(d.origin){return d.origin;}if(d.protocol&&d.hostname){return d.protocol+'//'+d.hostname+(d.port?':'+d.port:'');}if(d.href){u=new URI(d.href);return u.protocol()+'://'+u.hostname()+(u.port()?':'+u.port():'');}};sap.ushell.utils._getPrivateEpcm=function(){if(window.external&&window.external&&typeof window.external.getPrivateEpcm!=='undefined'){return window.external.getPrivateEpcm();}return undefined;};sap.ushell.utils.hasNativeNavigationCapability=function(){return sap.ushell.utils.isFeatureBitEnabled(1);};sap.ushell.utils.hasNativeLogoutCapability=function(){return sap.ushell.utils.isFeatureBitEnabled(2);};sap.ushell.utils.isFeatureBitEnabled=function(f){var F='0',p;p=sap.ushell.utils._getPrivateEpcm();if(p){try{F=p.getNwbcFeatureBits();jQuery.sap.log.debug('Detected epcm getNwbcFeatureBits returned feature bits: '+F);}catch(e){jQuery.sap.log.error('failed to get feature bit vector via call getNwbcFeatureBits on private epcm object',e.stack,'sap.ushell.utils');}}return(parseInt(F,16)&f)>0;};sap.ushell.utils.isApplicationTypeNWBCRelated=function(a){return a==='NWBC'||a==='TR';};sap.ushell.utils.appendUserIdToUrl=function(p,u){var U=sap.ushell.Container.getService('UserInfo').getUser().getId(),s=u.indexOf('?')>=0?'&':'?';return u+s+p+'='+U;};sap.ushell.utils.isNativeWebGuiNavigation=function(r){if(this.hasNativeNavigationCapability()&&r&&r.applicationType==='TR'){return true;}return false;};sap.ushell.utils.Map=function(){this.entries={};};sap.ushell.utils.Map.prototype.put=function(k,v){var o=this.get(k);this.entries[k]=v;return o;};sap.ushell.utils.Map.prototype.containsKey=function(k){if(typeof k!=='string'){throw new sap.ushell.utils.Error('Not a string key: '+k,'sap.ushell.utils.Map');}return Object.prototype.hasOwnProperty.call(this.entries,k);};sap.ushell.utils.Map.prototype.get=function(k){if(this.containsKey(k)){return this.entries[k];}};sap.ushell.utils.Map.prototype.keys=function(){return Object.keys(this.entries);};sap.ushell.utils.Map.prototype.remove=function(k){delete this.entries[k];};sap.ushell.utils.Map.prototype.toString=function(){var r=['sap.ushell.utils.Map('];r.push(JSON.stringify(this.entries));r.push(')');return r.join('');};sap.ushell.utils.getParameterValueBoolean=function(p,P){var a=jQuery.sap.getUriParameters(P).mParams&&jQuery.sap.getUriParameters(P).mParams[p],t=['true','x'],f=['false',''],v;if(!a||a.length===0){return undefined;}v=a[0].toLowerCase();if(t.indexOf(v)>=0){return true;}if(f.indexOf(v)>=0){return false;}return undefined;};sap.ushell.utils.call=function(s,f,a){var m;if(a){setTimeout(function(){sap.ushell.utils.call(s,f,false);},0);return;}try{s();}catch(e){m=e.message||e.toString();jQuery.sap.log.error('Call to success handler failed: '+m,e.stack,'sap.ushell.utils');if(f){f(m);}}};sap.ushell.utils.handleTilesVisibility=function(){var s=new Date(),t=sap.ushell.utils.getVisibleTiles(),d,l;if(t&&t.length){l=sap.ushell.Container.getService('LaunchPage');t.forEach(function(T){var a=sap.ushell.utils.getTileObject(T);if(a!==null){l.setTileVisible(a,T.isDisplayedInViewPort);}});jQuery.sap.log.debug('Visible Tiles: '+t.filter(function(T){return T.isDisplayedInViewPort;}).length);jQuery.sap.log.debug('NonVisible Tiles: '+t.filter(function(T){return!T.isDisplayedInViewPort;}).length);}d=new Date()-s;jQuery.sap.log.debug('Start time is: '+s+' and duration is: '+d);};sap.ushell.utils.refreshTiles=function(){var t=sap.ushell.utils.getVisibleTiles(),l;if(t&&t.length){l=sap.ushell.Container.getService('LaunchPage');t.forEach(function(T){var a=sap.ushell.utils.getTileObject(T);if(a!==null){l.refreshTile(a);}});}};sap.ushell.utils.setTilesNoVisibility=function(){var t=sap.ushell.utils.getVisibleTiles(),l;if((typeof t!=='undefined')&&t.length>0){l=sap.ushell.Container.getService('LaunchPage');t.forEach(function(T){l.setTileVisible(sap.ushell.utils.getTileObject(T),false);});jQuery.sap.log.debug('Visible Tiles: '+t.filter(function(T){return T.isDisplayedInViewPort;}).length);jQuery.sap.log.debug('NonVisible Tiles: '+t.filter(function(T){return!T.isDisplayedInViewPort;}).length);}};sap.ushell.utils.getBasicHash=function(h){if(!sap.ushell.utils.validHash(h)){jQuery.sap.log.debug('Utils ; getBasicHash ; Got invalid hash');return false;}var u=sap.ushell.Container.getService('URLParsing'),s=u.parseShellHash(h);return s?s.semanticObject+'-'+s.action:h;};sap.ushell.utils.validHash=function(h){return(h&&h.constructor===String&&jQuery.trim(h)!=='');};sap.ushell.utils.handleTilesOpacity=function(m){jQuery.sap.require('sap.ui.core.theming.Parameters');var t,c,a,C=sap.ui.core.theming.Parameters.get('sapUshellTileBackgroundColor'),r=this.hexToRgb(C),j,b,R,d,s,e,o,p,g,f,i,u=sap.ushell.Container.getService('UserRecents');if(r){R='rgba('+r.r+','+r.g+','+r.b+',{0})';a=u.getAppsUsage();a.done(function(h){t=h.usageMap;j=jQuery('.sapUshellTile').not('.sapUshellTileFooter');var k=m.getProperty('/groups');m.setProperty('/animationRendered',true);for(i=0;i<j.length;i++){d=jQuery(j[i]);s=this.getBasicHash(d.find('.sapUshellTileBase').attr('data-targeturl'));if(s){b=this.convertToRealOpacity(t[s],h.maxUsage);e=R.replace('{0}',b);c=sap.ui.getCore().byId(d.attr('id'));o=c.getBindingContext();p=o.sPath.split('/');g=p[2];f=p[4];k[g].tiles[f].rgba=e;}}m.setProperty('/groups',k);}.bind(this));}};sap.ushell.utils.convertToRealOpacity=function(a,m){var o=[1,0.95,0.9,0.85,0.8],O=Math.floor(m/o.length),i;if(!a){return o[0];}if(!m){return o[o.length-1];}i=Math.floor((m-a)/O);return i<o.length?o[i]:o[o.length-1];};sap.ushell.utils.getCurrentHiddenGroupIds=function(m){var l=sap.ushell.Container.getService('LaunchPage'),g=m.getProperty('/groups'),h=[],G,a,b;for(a in g){if(g[a].object){G=l.getGroupId(g[a].object);b=g[a].isGroupVisible;}if(!b&&G!==undefined){h.push(G);}}return h;};sap.ushell.utils.hexToRgb=function(h){var i=!h||h[0]!='#'||(h.length!=4&&h.length!=7),r;h=!i&&h.length===4?'#'+h[1]+h[1]+h[2]+h[2]+h[3]+h[3]:h;r=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(h);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null;};sap.ushell.utils.getFormFactor=function(){var s=sap.ui.Device.system;if(s.desktop){return s.SYSTEMTYPE.DESKTOP;}if(s.tablet){return s.SYSTEMTYPE.TABLET;}if(s.phone){return s.SYSTEMTYPE.PHONE;}};sap.ushell.utils.getVisibleTiles=function(){var n=document.body.clientHeight,c=sap.ui.getCore().byId('dashboardGroups'),N=sap.ui.getCore().byId('viewPortContainer'),g,t,a,b,T,d,e,f,h,s=jQuery('#shell-hdr').height(),i=[],G,I,j;if(c&&c.getGroups()&&N){G=jQuery(c.getDomRef());I=G?G.is(':visible'):false;j=c.getGroups();for(g=0;g<j.length;g=g+1){a=j[g];b=a.getTiles();if(b){for(t=0;t<b.length;t=t+1){T=b[t];if(!I||window.document.hidden){T.isDisplayedInViewPort=false;i.push(T);}else{d=jQuery(T.getDomRef());e=d.offset();if(e){f=d.offset().top;h=f+d.height();T.isDisplayedInViewPort=a.getVisible()&&(h>s)&&(f<n);i.push(T);}}}}}}return i;};sap.ushell.utils.getTileObject=function(u){var b=u.getBindingContext();return b.getObject()?b.getObject().object:null;};sap.ushell.utils.addBottomSpace=function(){var j=jQuery('#dashboardGroups').find('.sapUshellTileContainer:visible');var l=j.last(),h=jQuery('.sapUshellShellHead > div').height(),a=l.parent().height(),g=parseInt(l.find('.sapUshellContainerTitle').css('margin-top'),10),b=parseInt(jQuery('.sapUshellDashboardGroupsContainer').css('padding-bottom'),10),n;if(j.length===1){n=0;}else{n=jQuery(window).height()-h-a-g-b;n=(n<0)?0:n;}jQuery('.sapUshellDashboardGroupsContainer').css('margin-bottom',n+'px');};sap.ushell.utils.calcVisibilityModes=function(g,p){var i=true,I=true,h=sap.ushell.utils.groupHasVisibleTiles(g.tiles,g.links);if(!h&&(!p||(g.isGroupLocked)||(g.isDefaultGroup))){i=false;}if(!h&&(!p)){I=false;}return[i,I];};sap.ushell.utils.groupHasVisibleTiles=function(g,a){var v=false,t,b,c=!g?[]:g,l=!a?[]:a;c=c.concat(l);if(c.length===0){return false;}for(t=0;t<c.length;t=t+1){b=c[t];if(b.isTileIntentSupported){v=true;break;}}return v;};sap.ushell.utils.invokeUnfoldingArrayArguments=function(f,A){var b,d,p,r,t;if(!jQuery.isArray(A[0])){return f.apply(this,A);}b=A[0];if(b.length===0){return new jQuery.Deferred().resolve([]).promise();}d=new jQuery.Deferred();p=[];r=[];t=new jQuery.Deferred().resolve();b.forEach(function(n,i){if(!jQuery.isArray(n)){jQuery.sap.log.error('Expected Array as nTh Argument of multivalue invokation: first Argument must be array of array of arguments: single valued f(p1,p2), f(p1_2,p2_2), f(p1_3,p2_3) : multivalued : f([[p1,p2],[p1_2,p2_2],[p1_3,p2_3]]');throw new Error('Expected Array as nTh Argument of multivalue invokation: first Argument must be array of array of arguments: single valued f(p1,p2), f(p1_2,p2_2), f(p1_3,p2_3) : multivalued : f([[p1,p2],[p1_2,p2_2],[p1_3,p2_3]]');}var c=f.apply(this,n),e=new jQuery.Deferred();c.done(function(){var a=Array.prototype.slice.call(arguments);r[i]=a;e.resolve();}).fail(e.reject.bind(e));p.push(e.promise());t=jQuery.when(t,e);});jQuery.when.apply(jQuery,p).done(function(){d.resolve(r);}).fail(function(){d.reject('failure');});return d.promise();};sap.ushell.utils.isClientSideNavTargetResolutionEnabled=function(){var d=true,l;if(jQuery.sap.storage===undefined){l=window.localStorage.getItem('targetresolution-client');l=(l===false||l==='false'||l==='')?false:true;}else{l=jQuery.sap.storage(jQuery.sap.getObject('jQuery.sap.storage.Type.local'),'targetresolution').get('client');}if(l===''||l===false||sap.ushell.utils.getParameterValueBoolean('sap-ushell-nav-cs')===false){return false;}return d;};sap.ushell.utils._getCurrentDate=function(){return new Date();};sap.ushell.utils.formatDate=function(c){var C,n,t,d,h,m;C=new Date(c);n=sap.ushell.utils._getCurrentDate();t=n.getTime()-C;d=parseInt(t/(1000*60*60*24),10);if(d>0){if(d===1){return sap.ushell.resources.i18n.getText('time_day',d);}return sap.ushell.resources.i18n.getText('time_days',d);}h=parseInt(t/(1000*60*60),10);if(h>0){if(h===1){return sap.ushell.resources.i18n.getText('time_hour',h);}return sap.ushell.resources.i18n.getText('time_hours',h);}m=parseInt(t/(1000*60),10);if(m>0){if(m===1){return sap.ushell.resources.i18n.getText('time_minute',m);}return sap.ushell.resources.i18n.getText('time_minutes',m);}return sap.ushell.resources.i18n.getText('just_arrived');};sap.ushell.utils.toExternalWithParameters=function(s,a,p){var c=sap.ushell.Container.getService('CrossApplicationNavigation'),t={},P={},i,T,b;t.target={semanticObject:s,action:a};if(p&&p.length>0){P={};for(i=0;i<p.length;i++){T=p[i].Key;b=p[i].Value;P[T]=b;}t.params=P;}c.toExternal(t);};}());\n"
}}
