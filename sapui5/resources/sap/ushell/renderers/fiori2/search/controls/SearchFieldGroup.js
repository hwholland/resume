(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchSelect');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchInput');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchButton');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup",{metadata:{properties:{"selectActive":{defaultValue:true,type:"boolean"},"inputActive":{defaultValue:true,type:"boolean"},"buttonActive":{defaultValue:true,type:"boolean"}},aggregations:{"select":{type:"sap.ui.core.Control",multiple:false},"input":{type:"sap.ui.core.Control",multiple:false},"button":{type:"sap.ui.core.Control",multiple:false}}},init:function(){var t=this;t.initSelect();t.initInput();t.initButton();},initSelect:function(){var t=this;var a=new sap.ushell.renderers.fiori2.search.controls.SearchSelect(t.getId()+'-select',{});a.attachChange(function(){if(t.getAggregation("input")){var i=t.getAggregation("input");i.focus();i.destroySuggestionRows();}});t.setAggregation("select",a);},initInput:function(){var t=this;var i=new sap.ushell.renderers.fiori2.search.controls.SearchInput(t.getId()+'-input',{});t.setAggregation("input",i);},initButton:function(){var t=this;var b=new sap.ushell.renderers.fiori2.search.controls.SearchButton(t.getId()+'-button',{press:function(e){if(!t.getAggregation("input")){return;}var m=t.getAggregation('input').getModel();if(!s.isSearchAppActive()&&t.getAggregation("input").getValue()===""&&m.getDataSource()===m.allDataSource){return;}b.getModel().invalidateQuery();var i=t.getAggregation("input");i.destroySuggestionRows();i.triggerSearch(e);}});t.setAggregation("button",b);},setModel:function(m){if(this.getSelectActive()){this.getAggregation("select").setModel(m);}if(this.getInputActive()){this.getAggregation("input").setModel(m);}if(this.getButtonActive()){this.getAggregation("button").setModel(m);}},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass("SearchFieldGroup");r.writeClasses();r.write('>');r.write('<div class="sapUshellSearchFieldGroupContainer">');r.write('<div class="sapUshellSearchFieldGroupSubContainer">');if(c.getSelectActive()===true){r.renderControl(c.getAggregation("select"));}if(c.getInputActive()===true){r.renderControl(c.getAggregation("input"));}r.write('</div>');if(c.getButtonActive()===true){r.renderControl(c.getAggregation("button"));}r.write('</div>');r.write('</div>');}});}());
