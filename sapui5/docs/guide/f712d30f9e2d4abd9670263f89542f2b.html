<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>





<meta name="abstract" content="The SmartForm control is used to obtain a form-like layout for several controls."/>
<meta name="description" content="The SmartForm control is used to obtain a form-like layout for several controls."/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=13188763247962365"/>
<title>Step 4: Smart Form</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->

  <script src="../../resources/sap/ui/thirdparty/jquery.js"></script>
    <script src="../../resources/sap/ui/demokit/js/highlight-query-terms.js"></script>
    <script src="../../resources/sap/ui/demokit/js/framewrapper.js"></script>
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <script src="../../resources/sap/ui/demokit/js/google-code-prettify/run_prettify.js"></script>
    <script src="../../resources/sap/ui/demokit/js/google-code-prettify/lang-css.js"></script>
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
  </head>
<body class="" id="loiof712d30f9e2d4abd9670263f89542f2b">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Step 4: Smart Form</h1>

	
	<div class="body conbody"><p class="shortdesc">The <samp class="ph codeph">SmartForm</samp> control is used to obtain a form-like layout for several
		controls.</p>

		<p class="p"><samp class="ph codeph">SmartForm</samp> internally uses the <samp class="ph codeph">sap.ui.layout.form.Form</samp>
			control. When using the <samp class="ph codeph">SmartForm</samp> control in combination with the
				<samp class="ph codeph">SmartField</samp> controls, the <samp class="ph codeph">view.xml</samp> file remains
			very compact since required information about labels and headers is automatically
			extracted from the OData metadata. In addition, you can specify in
				<samp class="ph codeph">SmartForm</samp> that it is toggle-editable in which case you get the
			option to switch between read-only and edit mode. In this case, the powerful features of
			the <samp class="ph codeph">SmartField</samp> control really come to life, such as the value help and
			the smart links.</p>

		<div class="section"><div class="section_title">Preview</div><div type="Preview">
			
			<div class="fig fignone" id="loiof712d30f9e2d4abd9670263f89542f2b__fig_r1j_pst_mr"><div class="figcontainer">
				
				<img class="image" id="loiof712d30f9e2d4abd9670263f89542f2b__image_ut5_nlj_js" src="loio31271994a13747beb5be3466892c88a5_HiRes.png"/>
			<div class="figcap"> Smart Form with Several Smart Fields (initial read-only mode)</div></div></div>

			<p class="p">When you press the pencil icon, the dialog for <samp class="ph codeph">SmartForm</samp> becomes
				editable:</p>

			<div class="fig fignone" id="loiof712d30f9e2d4abd9670263f89542f2b__fig_ey3_klj_js"><div class="figcontainer">
				
				<img class="image" id="loiof712d30f9e2d4abd9670263f89542f2b__image_ig3_plj_js" src="loio0fd542de81794ed38b0ee6db8f812fbb_HiRes.png"/>
			<div class="figcap">Smart Form with Several Smart Fields (edit mode)</div></div></div>

			<p class="p">When pressing the eyeglasses icon, you return to the display view of
					<samp class="ph codeph">SmartForm</samp>.</p>

		</div></div>

		<div class="section"><div class="section_title">Coding</div><div type="Coding">
			
			<p class="p">You can view and download all files in the <span class="ph uicontrol">Explored</span> app in the
				Demo Kit <span class="ph">at
						<a class="xref" target="_blank" href="../../explored.html#/sample/sap.ui.comp.tutorial.smartControls.04/preview" alt="../../explored.html#/sample/sap.ui.comp.tutorial.smartControls.04/preview" title="../../explored.html#/sample/sap.ui.comp.tutorial.smartControls.04/preview">Smart Controls - Step 4 - Smart
					Form</a></span>.</p>

		</div></div>

		<div class="section"><div class="section_title">SmartForm.view.xml</div><div type="SmartForm.view.xml">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><samp class="ph codeph">#!js</samp>&lt;mvc:View 
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	controllerName="sap.ui.demo.smartControls.SmartForm"
	xmlns:smartForm="sap.ui.comp.smartform" 
	xmlns:smartField="sap.ui.comp.smartfield"&gt;
	&lt;Page 
		id="smartFormPage" 
		title="Product" 
		enableScrolling="false"&gt;
		&lt;content&gt;
			&lt;smartForm:SmartForm 
				id="smartForm"
				editTogglable="true" 
				title="{Name}"
				flexEnabled="false"&gt;
				&lt;smartForm:Group label="Product"&gt;
					&lt;smartForm:GroupElement&gt;
						&lt;smartField:SmartField value="{ProductId}" /&gt;
					&lt;/smartForm:GroupElement&gt;
					&lt;smartForm:GroupElement&gt;
						&lt;smartField:SmartField value="{Name}" /&gt;
					&lt;/smartForm:GroupElement&gt;
					&lt;smartForm:GroupElement elementForLabel="1"&gt;
						&lt;smartField:SmartField value="{CategoryName}" /&gt;
						&lt;smartField:SmartField value="{Description}" /&gt;
					&lt;/smartForm:GroupElement&gt;
					&lt;smartForm:GroupElement&gt;
						&lt;smartField:SmartField value="{Price}" /&gt;
					&lt;/smartForm:GroupElement&gt;
				&lt;/smartForm:Group&gt;
				&lt;smartForm:Group label="Supplier"&gt;
					&lt;smartForm:GroupElement&gt;
						&lt;smartField:SmartField value="{SupplierName}" /&gt;
					&lt;/smartForm:GroupElement&gt;
				&lt;/smartForm:Group&gt;
			&lt;/smartForm:SmartForm&gt;
		&lt;/content&gt;
	&lt;/Page&gt;
&lt;/mvc:View&gt;</pre></div>

			<p class="p">We see that we have several new elements here. <samp class="ph codeph">Group</samp> instructs the
					<samp class="ph codeph">SmartForm</samp> to add a container for the child elements. In this
				case, we have two top-level containers of elements, one for <samp class="ph codeph">Product</samp>
				and one for <samp class="ph codeph">Supplier</samp>. With the <samp class="ph codeph">GroupElement</samp> added
				as a wrapper control for <samp class="ph codeph">SmartFields</samp>, we instruct the
					<samp class="ph codeph">SmartForm</samp> to inspect the OData metadata and automatically add
				the labels found there. Within such <samp class="ph codeph">GroupElements</samp>, we can even
				define a compound field having exactly one label in front. We do this in the example
				above in order to combine <samp class="ph codeph">CategoryName</samp> with
					<samp class="ph codeph">Description</samp>. With <samp class="ph codeph">elementForLabel="1"</samp> we
				define that the label <samp class="ph codeph">Description</samp> for <samp class="ph codeph">SmartField</samp>
				(found in the OData metadata) is used for both fields.
					<samp class="ph codeph">flexEnabled="false"</samp> is set to deactivate the flexibility
				services, since they are not part of this tutorial.</p>

		</div></div>

		<div class="section"><div class="section_title">SmartForm.controller.js</div><div type="SmartForm.controller.js">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><samp class="ph codeph">#!js</samp>sap.ui.define([
	"sap/ui/core/mvc/Controller"
], function(Controller) {
	"use strict";

	return Controller.extend("sap.ui.demo.smartControls.SmartForm", {
		onInit: function() {
			this.getView().byId("smartFormPage").bindElement("/Products('4711')");
		}
	});

});</pre></div>

			<p class="p">The controller follows the pattern that we already know.</p>

		</div></div>

		<div class="section"><div class="section_title">metadata.xml</div><div type="metadata.xml">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><samp class="ph codeph">#!xml</samp>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;edmx:Edmx Version="1.0"
	xmlns:edmx="http://schemas.microsoft.com/ado/2007/06/edmx"
	xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"
	xmlns:sap="http://www.sap.com/Protocols/SAPData"&gt;
	&lt;edmx:DataServices m:DataServiceVersion="2.0"&gt;
		&lt;Schema Namespace="com.sap.wt04" 
			sap:schema-version="1" xmlns="http://schemas.microsoft.com/ado/2008/09/edm"&gt;
			&lt;EntityType Name="Product"&gt;
				&lt;Key&gt;
					&lt;PropertyRef Name="ProductId" /&gt;
				&lt;/Key&gt;
				&lt;Property Name="ProductId" Type="Edm.String" Nullable="false"
					sap:updatable="false" MaxLength="20" sap:label="Product ID" /&gt;
				&lt;Property Name="Name" Type="Edm.String" Nullable="false"
					MaxLength="30" sap:label="Name" /&gt;
				&lt;Property Name="CategoryName" Type="Edm.String" sap:label="Category Description"
					sap:updatable="true" /&gt;
				&lt;Property Name="Description" Type="Edm.String" MaxLength="256"
					sap:label="Description" sap:updatable="true" /&gt;
				&lt;Property Name="Price" Type="Edm.String" Nullable="false"
					sap:unit="CurrencyCode" MaxLength="3" sap:label="Price"
					sap:updatable="true" /&gt;
				&lt;Property Name="CurrencyCode" Type="Edm.String" Nullable="true"
					MaxLength="3" sap:label="Currency" sap:semantics="currency-code"
					sap:updatable="true" /&gt;
				&lt;Property Name="SupplierName" Type="Edm.String" Nullable="false"
					sap:label="Supplier" sap:updatable="true" /&gt;
			&lt;/EntityType&gt;
			&lt;EntityContainer m:IsDefaultEntityContainer="true"
				sap:supported-formats="atom json"&gt;
				&lt;EntitySet Name="Products" EntityType="com.sap.wt04.Product" /&gt;
			&lt;/EntityContainer&gt;
		&lt;/Schema&gt;
	&lt;/edmx:DataServices&gt;
&lt;/edmx:Edmx&gt;	</pre></div>

			<p class="p">With <samp class="ph codeph">Nullable="false"</samp> we define that the field is mandatory and
				therefore cannot be null. The label for the mandatory field is then marked with * on
				the UI. Other than that, there are no substantial differences in the metadata file.
				We only notice that the <samp class="ph codeph">sap:label</samp> attributes defined here appear in
				the final form as explained before.</p>

		</div></div>

		<div class="section"><div class="section_title">Products.json</div><div type="Products.json">
			
			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint"><samp class="ph codeph">#!js</samp>[{	
	"ProductId": "4711",
	"Name": "Power Projector 4711",
	"CategoryName": "Projector",
	"SupplierName": "Titanium",
	"Description": "A very powerful projector with special features for Internet usability, USB",
	"Price": 856.49,
	"CurrencyCode": "EUR"
}]</pre></div>

			<p class="p">We see that a few attributes have been changed and added to the JSON file, reflecting
				the fact that, in this step, more data is shown.</p>

		</div></div>

	</div>

	<div class="related-links"> 

<div class="familylinks">
<div class="parentlink"><br/>
<strong>Parent topic: </strong><a class="link" href="64bde9a8879d4f418e2849f7285dd757.html" title="In this tutorial you learn how to work with smart controls.">Smart Controls</a><br/>
</div>
<div class="previouslink"><br/>
<strong>Previous: </strong><a class="link" href="c81d6b3382df43abb56e3468a2b5d22e.html" title="We now show yet another but quite different feature of the SmartField control, SmartField used in combination with SmartLink, which allow you to embed a dialog with related cross-application links.">Step 3: Smart Field with Smart Link</a><br/>
</div>
<div class="nextlink"><br/>
<strong>Next: </strong><a class="link" href="1daa46220969467faf04329308c24613.html" title="In this step, we will look at the SmartTable control along with the SmartFilterBar control that allow you to filter table entries.">Step 5: Smart Filter Bar and Smart Table</a><br/>
</div>
</div>
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="99e33bdfde074bb48d2e603fa5ecd2d0.html" title="The sap.ui.comp.smartform.SmartForm control makes it possible to render a form. Depending on user authorizations, the form enables users, for example, to switch from display to edit mode, add and group fields, rename field labels, and implement a user input check.">Smart Form</a></div>
</div>
</div>
</div></div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="Step 4: Smart Form";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>