<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content="To optimize performance, make the annotations for the desired side effects as specific as possible."/>
<meta name="description" content="To optimize performance, make the annotations for the desired side effects as specific as possible."/>

<link rel="stylesheet" type="text/css" href="css/prettify.css?x=3886586434019369"/>
<link rel="stylesheet" type="text/css" href="css/documentation.css?x=3886586434019369"/>
<title>Using the Global Side Effect</title>
  <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
    <script src="../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script>
  </head>
<body class="" id="loio955ae316856a4dcdbe07a1dbf584fa98">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Using the Global Side Effect</h1>

	
	<div class="body conbody"><p class="shortdesc">To optimize performance, make the annotations for the desired side effects as specific
      as possible.</p>

      <p class="p">You can annotate a global side effect (side effect that is triggered when the user chooses
            <kbd class="key">Enter</kbd>) for each service and specify the targets (entities or properties) that
         might be affected by changes to any properties. These targets will be requested whenever
         the user chooses <kbd class="key">Enter</kbd>. Only if you annotate a side effect, a page will be
         refreshed automatically when a change is made. </p>

      <p class="p">The <samp class="ph codeph">forceGlobalRefresh</samp> parameter in the manifest.json defines the global
         refresh behavior: If the parameter is set to <samp class="ph codeph">true</samp>, a global refresh is
         triggered when the user chooses <kbd class="key">Enter</kbd>, even if no global side effect has been
         annotated. If the parameter is set to <samp class="ph codeph">false</samp>, the system reacts according
         to what has been annotated.</p>

      <p class="p">If the parameter is not set, for compatibility reasons, the (runtime) default is
            <samp class="ph codeph">true</samp>.</p>

      <p class="p">For newly generated apps, the (design time) default is <samp class="ph codeph">false</samp>, that is, the
         wizard generates <samp class="ph codeph">"forceGlobalRefresh": false</samp>.</p>

      <div class="note note"><span class="notetitle">Note</span> 
         <p class="p">If you are on a SAP UI5 version below 1.46, you need to change the manifest.json as
            follows to enable the system behavior as described above. If you do not make this
            setting, when the user chooses <kbd class="key">Enter</kbd>, the global side effect is triggered
            anyway if you have not annotated any side effect.</p>

         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">"sap.ui.generic.app": {
                              "_version": "1.2.0",
                              "settings": {
                              "forceGlobalRefresh": false
                              },
</pre></div>

      </div>

      <div class="note sap-samplecodeblock samplecode"><span class="samplecodetitle">Sample Code</span> 
         <div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">
&lt;Annotations Target="NAMESPACE.ENTITYTYPE"&gt;

&lt;Annotation Term="com.sap.vocabularies.Common.v1.SideEffects" Qualifier="GlobalSideEffect"&gt;

   &lt;Record&gt;

      &lt;PropertyValue Property="EffectTypes" EnumMember="ValueChange"/&gt;

      &lt;PropertyValue Property="TargetProperties"&gt;

         &lt;Collection&gt;

            &lt;PropertyPath&gt;TaxAmount&lt;/PropertyPath&gt;

            &lt;PropertyPath&gt;NetAmount&lt;/PropertyPath&gt;

            &lt;PropertyPath&gt;GrossAmount&lt;/PropertyPath&gt;

         &lt;/Collection&gt;

      &lt;/PropertyValue&gt;

   &lt;/Record&gt;

&lt;/Annotation&gt;

&lt;/Annotations&gt;
</pre></div>

      </div>

   </div>

</div></div>

</body>
</html>