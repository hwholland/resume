<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>

<link rel="stylesheet" type="text/css" href="css/prettify.css?x=13694054222862473"/>
<link rel="stylesheet" type="text/css" href="css/documentation.css?x=13694054222862473"/>
<title>Working With UI Annotations</title>
  <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
    <script src="../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script>
  </head>
<body class="" id="loio83c89ccef12f48ab98f6c3811bd025b3">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Working With UI Annotations</h1>

	
	<div class="body conbody"><p class="shortdesc"/>

		<div class="p">Vocabularies and annotations allow you to extend OData services by adding information
			about how to interpret the OData service and its data. For a general introduction to
			vocabularies and annotations, see the following links:<ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_p5d_bjr_qt">
				<li class="li">
					<p class="p"><a class="xref" href="http://scn.sap.com/community/gateway/blog/2013/10/07/vocabulary-based-annotations" alt="http://scn.sap.com/community/gateway/blog/2013/10/07/vocabulary-based-annotations" title="http://scn.sap.com/community/gateway/blog/2013/10/07/vocabulary-based-annotations">Vocabulary Based Annotations</a></p>

				</li>

				<li class="li"><a class="xref" href="http://www.odata.org/vocabularies/" alt="http://www.odata.org/vocabularies/" title="http://www.odata.org/vocabularies/">Vocabularies</a></li>

			</ul>

		</div>

		<p class="p">On the <span class="ph pname">SAP Gateway</span> front-end
			server, you can find SAP-specific vocabularies in the <span class="ph pname">SAP Gateway</span> Service Builder
			(transaction <samp class="ph codeph">SEGW</samp>) under <span class="ph menucascade"><img src="images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/><span class="ph uicontrol">Extras</span> <img src="images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">Vocabulary Repository</span><img src="images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span>.</p>

		<div class="p">The following types of vocabulary-based annotations are available:<ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_k3f_qgr_lt">
				<li class="li">
					<p class="p">In-place: These are part of the metadata document of the service.</p>

				</li>

				<li class="li">
					<p class="p">Ex-place: These are composed of an Annotation Provider Class (APC) outside the metadata
						document. The APC is bound to the service using a registration in
						transaction <samp class="ph codeph">/IWBEP/REG_VOCAN</samp>.</p>

				</li>

			</ul>
</div>

		<p class="p">These annotations are available using a query to the <span class="ph pname">SAP Gateway</span> catalog service,
				<samp class="ph codeph"> /sap/opu/odata/IWFND/CATALOGSERVICE;v=2/</samp>. Entity Set:
			‚Annotations‘.</p>

		<div class="section"><div class="section_title">Reusability</div><div type="Reusability">
			
			<div class="p">If the OData service is editable instead of read-only, annotation elements must be added as
				required to activate or control the draft infrastructure. Existing read-only OData
				services that are annotated, fact sheets for example, can be reused for the list
				report and object page templates under the following circumstances:<ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_bkt_1xh_55">
					<li class="li">
						<p class="p">The annotations should be stored in the back-end system.  They also need
							to have the  life cycle of the data model in the back-end system. Note
							that facet texts need to be defined in a front-end file after
							generation.</p>

					</li>

					<li class="li">
						<p class="p">The OData service models (entity sets and entity types) are derived from
							CDS views. The CDS entities are the primary artifacts for the data
							model.  The transactional runtime model (based on the BOPF) is generated
							based on annotations.</p>

					</li>

					<li class="li">The UI annotations are attached to CDS views using the tags as defined by
						the <a class="xref" href="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm" alt="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm" title="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm">SAP - ABAP Programming Model for SAP
							Fiori</a>.</li>

					<li class="li">In the front end, CDS UI annotations are exposed generically and dynamically
						through <span class="ph pname">SAP Gateway</span>
						APIs (APC) as OData Version 4.0 annotation documents that can be addressed
						separately.</li>

				</ul>
<ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_txl_dhr_lt">
					<li class="li">
						<p class="p">Although you can use any annotation source, the recommendation is to use
							CDS annotations in CDS consumption views, and to expose them using
								<span class="ph pname">SAP Gateway</span>
							and SADL. The exposure will then generate OData annotations (XML format)
							from the CDS annotations. The following sections will explain which
							OData annotation controls each UI element. </p>

						<p class="p">For more information, search for <span class="ph uicontrol">SAP-ABAP Programming Model for SAP Fiori
							</span> and for <span class="ph uicontrol">CDS Annotations</span> in the
							documentation for your SAP NetWeaver version on the SAP Help Portal at
								<a class="xref" href="https://help.sap.com/viewer/p/SAP_NETWEAVER" alt="https://help.sap.com/viewer/p/SAP_NETWEAVER" title="https://help.sap.com/viewer/p/SAP_NETWEAVER">https://help.sap.com/viewer/p/SAP_NETWEAVER</a>. </p>

					</li>

				</ul>
</div>

		</div></div>

		<div class="section"><div class="section_title">Actions</div><div type="Actions">
			
			<p class="p">General actions are available for draft-enabled documents (edit, save, cancel/discard). You
				can also define additional actions using annotations.</p>

			<p class="p">The draft-handling actions are handled by the <a class="xref" href="http://help.sap.com/saphelp_nw75/helpdata/en/31/d2958acf714f4e9aeb42d85c517523/frameset.htm" alt="http://help.sap.com/saphelp_nw75/helpdata/en/31/d2958acf714f4e9aeb42d85c517523/frameset.htm" title="http://help.sap.com/saphelp_nw75/helpdata/en/31/d2958acf714f4e9aeb42d85c517523/frameset.htm">Business Object Processing Framework
					(BOPF</a> ).   However, you must back up the application-specific actions
				using an implementation in the OData service. For more information about setting up
				application-specific actions in your annotations, see <a class="xref" href="8ba009d7b8434dc1a4948c9211e30c40.html">Enabling Actions in the List Report</a> and <a class="xref" href="5fe439613f9c4e259015951594c423dc.html" title="You can enable actions in your object header.">Enabling Actions in Object Page Header</a>.</p>

			<p class="p">Each action corresponds to an OData function import.</p>

		</div></div>

		<div class="section"><div class="section_title">Field Control</div><div type="Field Control">
			
			<div class="note note"><span class="notetitle">Note</span> This is only relevant for list report and object page, worklist, and analytical
				list page.</div>

			<p class="p">You can use field control to display a UI field as mandatory, read-only, or to hide
				the field. Field control information is partly static information and valid for all
				business document instances. However, most use cases are dynamic and reflect the
				state of the UI application, business document, or user context and must be
				controlled by the business logic.</p>

			<p class="p">As business logic is implemented in the OData service, the OData service also has to
				provide the relevant field control information. This is valid for the static
				information the service metadata contains, as well as for dynamic information that
				is part of the entity data. There is a specification for an SAP extension of the
				OData protocol based on annotations for OData Version 2.0 that also covers field
				control. For more information, see <a class="extlink" href="http://help.sap.com/disclaimer?site=http%3A%2F%2Fscn.sap.com%2Fdocs%2FDOC-44986" alt="http://scn.sap.com/docs/DOC-44986" title="http://scn.sap.com/docs/DOC-44986">SAP Annotations for
					OData Version 2.0<img src="images/sap_link.png" class="link-sap" alt="Information published on SAP site" title="Information published on SAP site" border="0"/></a>.</p>

			<p class="p">The controls interpret and apply field control information provided by the OData
				service automatically. When using a smart field, it is sufficient to bind the
				control’s <samp class="ph codeph">value-Property</samp> to a property in the OData model in order
				to achieve field control as defined by the OData service. Field control of the OData
				service may be overruled by setting more restrictive properties for the smart
				field.</p>

			<div class="note sap-samplecodeblock samplecode"><span class="samplecodetitle">Sample Code</span> Snippet of XML-View
				definition<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">
... 

&lt;!-- Field-control as defined in OData service --&gt;   

&lt;SmartField value="{Description}" /&gt;

     

&lt;!-- Overrule field-control of OData service - read-only here --&gt;    

&lt;SmartField value="{Name}" editable="false" /&gt;

...
</pre></div>
</div>

		</div></div>

	</div>

</div></div>

</body>
</html>