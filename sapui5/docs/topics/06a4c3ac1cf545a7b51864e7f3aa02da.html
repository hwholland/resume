<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Smart Variant Management</title>
      <link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon">
      <link rel="shortcut icon" href="themes/sap-default/img/favicon.ico">
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="abstract" content="The sap.ui.comp.smartvariants.SmartVariantManagement control provides an interface to enable a simple integration of the VariantManagement control and access to the layered repository of the SAPUI5 flexibility services for easy communication.">
      
      <meta name="description" content="The sap.ui.comp.smartvariants.SmartVariantManagement control provides an interface to enable a simple integration of the VariantManagement control and access to the layered repository of the SAPUI5 flexibility services for easy communication.">
      <script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"72227f813bef427bad2e847b6fb1583d.html","previousTopicHref":"bed8274140d04fc0b9bcb2db42d8bac2.html"}</script>
      <link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css">
      <script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script>
      <script type="text/javascript" src="toc-info.js"></script>
      <script type="text/javascript" src="themes/sap-default/js/script.js"></script>
      
      		<!--[if lt IE 9]>
      			<script>
      			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
      			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
      			    "progress,section,time,video").split(',');
      			  for (var i = 0; i < e.length; i++) {
      			    document.createElement(e[i]);
      			  }
      			</script>
      		<![endif]-->
      
      <script>
      function addLoadEvent(func) {
      var oldonload = window.onload;
      if (typeof window.onload != 'function') {
      window.onload = func;
      } else {
      window.onload = function() {
      if (oldonload) {
      oldonload();
      }
      func();
      }
      }
      }
      
      addLoadEvent(function() { prettyPrint();
      if ($('#local-navigation').length) {
      $('#local-navigation').navigation();
      }
      
      
      });
      
      </script>
      <script type="text/javascript" src="js/prettify.js"> </script>
      <script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script>
      <link type="text/css" rel="stylesheet" href="css/overrides.css"></head>
   <body class="en-us sap-default centered navigation-default enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;">
      <div id="d4h5-main-container" class="container_12" role="application">
         <ul id="page-links" class="hidden">
            <li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li>
            <li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li>
            <li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li>
         </ul>
         
         
         <div id="d4h5-section-container" class="grid_12" style="padding-top: 0;">
            
            
            
            <div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;">
               <section>
                  <div id="content-toolbar" class="toolbar hide-for-small"></div>
                  <div class="page concept  - topic-topic concept-concept " id="loio06a4c3ac1cf545a7b51864e7f3aa02da">
                     
                     <h1 class="title topictitle1" hidden>Smart Variant Management </h1>
                     
                     <div class="body conbody">
                        <p class="shortdesc" hidden>The <samp class="ph codeph">sap.ui.comp.smartvariants.SmartVariantManagement</samp> control
                           		provides an interface to enable a simple integration of the
                           			<samp class="ph codeph">VariantManagement</samp> control and access to the layered repository of the
                           			<span class="ph"><span class="ph pname">SAPUI5</span></span> flexibility services
                           		for easy communication.
                        </p>
                        
                        		
                        <aside class="note caution insertion"><span class="title">Caution</span> 
                           
                           <p class="p">Controls in the <samp class="ph codeph">sap.ui.comp</samp> library (smart controls) focus
                              strongly on SAP Fiori elements.
                           </p>
                           
                           
                           <p class="p">We will continue to maintain the library and all of its controls in the future.
                              However, there will be no development of new features unless specifically
                              requested by SAP Fiori elements.
                           </p>
                           
                           
                        </aside>
                        
                        		
                        <aside class="note note  insertion"><span class="title">Note</span> <span class="ph">The code samples in this section reflect examples of possible use
                              				cases and might not always be suitable for your purposes. Therefore, we recommend
                              				that you do not copy and use them directly</span></aside>
                        
                        		
                        <p class="p"><span class="ph">For more
                              				information about this control, see the <a class="xref" href="../../#/api/sap.ui.comp.smartvariants.SmartVariantManagement" target="_top" alt="#/api/sap.ui.comp.smartvariants.SmartVariantManagement" title="#/api/sap.ui.comp.smartvariants.SmartVariantManagement">API Reference</a> and the <a class="xref" href="../../#/entity/sap.ui.comp.variants.VariantManagement" target="_top" alt="#/entity/sap.ui.comp.variants.VariantManagement" title="#/entity/sap.ui.comp.variants.VariantManagement">samples</a>.</span></p>
                        
                        		
                        <div class="section">
                           <section class="section" type="Overview">
                              <h2 class="section_title" style="font-size: 1.15em;">Overview</h2>
                              			
                              			
                              <p class="p">The <samp class="ph codeph">SmartVariantManagement</samp> control is a specialization of the
                                 					<samp class="ph codeph">VariantManagement</samp> control. This basic control handles the
                                 				visual representation of variants, or views, on the user interface.
                              </p>
                              
                              			
                              <aside class="note note  insertion"><span class="title">Note</span> You can define views for specific selections of data on the user interface, for
                                 				example, based on filter settings. Views are also called &quot;variants,&quot; usually in a
                                 				more technical context, for example, in the API names and texts of the
                                 				control.
                              </aside>
                              
                              			
                              <p class="p">The <samp class="ph codeph">SmartVariantManagement</samp> control communicates with the layered
                                 				repository. The layered repository provides a way to store and retrieve flexibility
                                 				information, such as personalization data and views for other controls.
                              </p>
                              
                              			
                              <p class="p">Key users can modify and save a standard view that is then stored in the VENDOR layer
                                 				of the layered repository.
                              </p>
                              
                              			
                              <p class="p">For more information about flexibility services, see <a class="xref" href="../../#/topic/a8e55aa2f8bc4127923b20685a6d1621.html" title="Modification-free, cost-saving, easy to use, and performant: Discover the new flexibility when adapting SAP Fiori UIs using SAPUI5 flexibility services." target="_top">SAPUI5 Flexibility Services: Adapting UIs Made Easy</a>.
                              </p>
                              
                              			
                              <aside class="note note  insertion"><span class="title">Note</span> It is strongly recommended to use the <samp class="ph codeph">SmartVariantManagement</samp>
                                 				control, because it enables the communication with the layered repository.
                              </aside>
                              
                              			
                              <p class="p">The <samp class="ph codeph">SmartVariantManagement</samp> control is used in the following
                                 				controls:
                              </p>
                              
                              			
                              <ul class="ul" id="loio06a4c3ac1cf545a7b51864e7f3aa02da__ul_fj3_xsy_zv">
                                 				
                                 <li class="li"><samp class="ph codeph">SmartFilterBar</samp>
                                    				
                                 </li>
                                 
                                 				
                                 <li class="li"><samp class="ph codeph">SmartTable</samp></li>
                                 
                                 				
                                 <li class="li"><samp class="ph codeph">SmartChart</samp></li>
                                 
                                 			
                              </ul>
                              
                              		
                           </section>
                        </div>
                        
                        		
                        <div class="section">
                           <section class="section" type="Prerequisites">
                              <h2 class="section_title" style="font-size: 1.15em;">Prerequisites</h2>
                              			
                              			
                              <p class="p">In order to use the <samp class="ph codeph">SmartVariantManagement</samp> control, consuming
                                 				applications have to provide the following information and comply with the interface
                                 				standard: 
                              </p>
                              
                              			
                              <ul class="ul" id="loio06a4c3ac1cf545a7b51864e7f3aa02da__ul_c2q_45y_zv">
                                 				
                                 <li class="li">The control consuming the personalization (<samp class="ph codeph">persControl</samp>)
                                 </li>
                                 
                                 				
                                 <li class="li">A type</li>
                                 
                                 				
                                 <li class="li">The name of the property describing the key</li>
                                 
                                 				
                                 <li class="li">Optional information about the data source</li>
                                 
                                 			
                              </ul>
                              
                              			
                              <p class="p">This information has to be transferred to the <samp class="ph codeph">SmartVariantManagement</samp>
                                 				control during creation using the <samp class="ph codeph">personalizableControl</samp>
                                 				association. To transfer the data, the
                                 					<samp class="ph codeph">sap.ui.comp.smartvariants.PersonalizableInfo</samp> class must be
                                 				used.
                              </p>
                              
                              			
                              <p class="p">The <samp class="ph codeph">persControl</samp> must also be attached to the
                                 					<samp class="ph codeph">Initialise</samp> event of the control and call the
                                 					<samp class="ph codeph">initialise</samp> method of the control, for example:
                              </p>
                              
                              			<pre class="pre codeblock prettyprint lang-js">
sap.ui.require([
    &apos;sap/ui/comp/smartvariants/SmartVariantManagement&apos;,
    &apos;sap/ui/comp/smartvariants/PersonalizableInfo&apos;
], function (SmartVariantManagement, PersonalizableInfo) {

    var oSmartVariantManagement = new SmartVariantManagement();
    var oPersInfo = new PersonalizableInfo({
        type: &quot;filterBar&quot;,
        keyName: &quot;persistencyKey&quot;,
        dataSource: this.getEntityType()
    });
    oPersInfo.addControl(this);

    oSmartVariantManagement.addPersonalizableControl(oPersInfo);

    this.fnInitialiseVariants = jQuery.proxy(this._initialiseVariants, this);
    oSmartVariantManagement.attachInitialise(this.fnInitialiseVariants);

    oSmartVariantManagement.initialise();
})
</pre>
                              
                              			<p class="p">Once the <samp class="ph codeph">SmartVariantManagement</samp> control has initialized the layered
                                 				repository and retrieved the relevant changes, it informs the
                                 					<samp class="ph codeph">persControl</samp> about the ending of the initialization phase via
                                 				the <samp class="ph codeph">Initialise</samp> event.
                              </p>
                              
                              		
                           </section>
                        </div>
                        
                        		
                        <div class="section">
                           <section class="section" type="Details">
                              <h2 class="section_title" style="font-size: 1.15em;">Details</h2>
                              <p class="p">To exchange data with the layered repository, the
                                 					<samp class="ph codeph">persControl</samp> has to provide the following public methods:
                                 				
                              </p>
                              
                              <ul class="ul" id="loio06a4c3ac1cf545a7b51864e7f3aa02da__ul_d2q_45y_zv">
                                 				
                                 <li class="li"><samp class="ph codeph">fetchVariant</samp></li>
                                 
                                 				
                                 <li class="li"><samp class="ph codeph">applyVariant</samp> (<samp class="ph codeph">oVariant</samp>) 
                                 </li>
                                 
                                 			
                              </ul>
                              
                              <p class="p">The <samp class="ph codeph">fetchVariant</samp> method is called by the
                                 					<samp class="ph codeph">SmartVariantManagement</samp> control every time this is triggered by
                                 				interaction with the <samp class="ph codeph">VariantManagement</samp> control and when executing a
                                 					<samp class="ph codeph">Save</samp>. In the latter case, the <samp class="ph codeph">persControl</samp> has
                                 				to return a JSON-compliant object. The layered repository treats this information as
                                 				a black box. It does not manipulate this object in any way.
                              </p>
                              
                              <p class="p">The
                                 					<samp class="ph codeph">applyVariant</samp> is called by the
                                 					<samp class="ph codeph">SmartVariantManagement</samp> control every time the user selects a
                                 				new entry in the view list. The previously stored JSON-compliant object will be
                                 				transferred to the <samp class="ph codeph">applyVariant</samp> method, and the
                                 					<samp class="ph codeph">persControl</samp> can now respond to the information stored in this
                                 				object, for
                                 				example:
                              </p>
                              <pre class="pre codeblock prettyprint lang-js">
sap.ui.comp.smartfilterbar.SmartFilterBar.prototype.fetchVariant = function() {
	var aFiltersInfo;
	var oVariant = {};
	aFiltersInfo = this._determineVariantFiltersInfo();

	oVariant.filterbar = (!aFiltersInfo) ? [] : aFiltersInfo;
	oVariant.filterBarVariant = this._fetchVariantFiltersData();

	return oVariant;
};

sap.ui.comp.smartfilterbar.SmartFilterBar.prototype.applyVariant = function(oVariant) {

	this._applyVariant(oVariant);
};
</pre>
                              <aside class="note note  insertion"><span class="title">Note</span> The
                                 					<samp class="ph codeph">SmartVariantManagement</samp> control triggers the
                                 					<samp class="ph codeph">fetchVariant</samp> method without any user interaction right after it
                                 				raises the <samp class="ph codeph">Initialise</samp> event. This enables the
                                 					<samp class="ph codeph">SmartVariantManagement</samp> control to handle the standard view.
                                 				This view represents the state of the user interface that is delivered by default.
                                 				The control can revert the data to this view every time the user selects the
                                 				standard view at a later point in time. The standard view is not transferred to the
                                 				layered repository and is therefore not stored, unless changes are made by a key
                                 				user.
                              </aside>
                              
                              <div xmlns="http://www.w3.org/1999/xhtml" class="sectiondiv subsection">
                                 				
                                 <p xmlns="" class="p subsectiontitle">Page
                                    					Variants
                                 </p>
                                 
                                 				
                                 <p xmlns="" class="p"> A page variant is a single UI instance of the
                                    						<samp class="ph codeph">SmartVariantManagement</samp> control that can personalize not
                                    					only <span class="ph emphasis emphasis">one</span>, but multiple smart controls.
                                 </p>
                                 
                                 				
                                 <p xmlns="" class="p">To use this enhanced function of the <samp class="ph codeph">SmartVariantManagement</samp>
                                    					control, take the following into consideration:
                                 </p>
                                 
                                 				
                                 <ul xmlns="" class="ul" id="loio06a4c3ac1cf545a7b51864e7f3aa02da__ul_zkj_hbz_zv">
                                    					
                                    <li class="li">
                                       						
                                       <p class="p"> The <samp class="ph codeph">SmartVariantManagement</samp> control has a
                                          								<samp class="ph codeph">persistencyKey</samp> property of its own.
                                       </p>
                                       
                                       						
                                       <p class="p">This is the key for storing the personalization data of all smart
                                          							controls that you want to make personalizable.
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">For each smart control, a persistency key has to be provided.</p>
                                       
                                       						
                                       <p class="p">Within the personalization data, this key will identify the specific data
                                          							for each individual smart control.
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    					
                                    <li class="li">
                                       						
                                       <p class="p">The smart controls support the <samp class="ph codeph">smartVariant</samp> association
                                          							which has to be assigned along with the page variant reference.
                                       </p>
                                       
                                       					
                                    </li>
                                    
                                    				
                                 </ul>
                                 
                                 				
                                 <aside xmlns="" class="note note  insertion"><span class="title">Note</span> If the page variant is hosted by the <samp class="ph codeph">SmartFilterBar</samp> control,
                                    					the persistency key of the page variant has to be assigned using the
                                    						<samp class="ph codeph">pageVariantPersistencyKey</samp> custom data of the
                                    						<samp class="ph codeph">SmartFilterBar</samp> control. The <samp class="ph codeph">SmartFilterBar</samp>
                                    					control internally adapts the related <samp class="ph codeph">SmartChart</samp> or
                                    						<samp class="ph codeph">SmartTable</samp> controls, and, therefore, the
                                    						<samp class="ph codeph">smartVariant</samp> association doesn&apos;t have to be assigned.
                                    				
                                 </aside>
                                 
                                 			
                              </div>
                              <div xmlns="http://www.w3.org/1999/xhtml" class="sectiondiv subsection">
                                 				
                                 <p xmlns="" class="p subsectiontitle">Favorites</p>
                                 
                                 				
                                 <p xmlns="" class="p">If you want to use favorites to manage your views, you have to set the
                                    						<samp class="ph codeph">useFavorites</samp>
                                    					property in the <samp class="ph codeph">VariantManagement</samp> control to
                                    						<samp class="ph codeph">true</samp> (default is <samp class="ph codeph">false</samp>).
                                 </p>
                                 
                                 				
                                 <p xmlns="" class="p">In the <samp class="ph codeph">VariantManagement</samp> control, each
                                    						<samp class="ph codeph">VariantItem</samp> has a <samp class="ph codeph">favorite</samp> property that
                                    					determines if the <samp class="ph codeph">VariantItem</samp> in question is treated as a
                                    					favorite.
                                 </p>
                                 
                                 				
                                 <p xmlns="" class="p">The <samp class="ph codeph">SmartVariantManagement</samp> control automatically starts in a
                                    					mode where favorites are activated. 
                                 </p>
                                 
                                 				
                                 <p xmlns="" class="p">In the <span class="ph uicontrol">Manage Views</span> dialog, you can define favorites.
                                    					Favorites selected in the dialog are stored as changes in the layered repository
                                    					that are applied whenever the <samp class="ph codeph">SmartVariantManagement</samp> control is
                                    					initiated.
                                 </p>
                                 
                                 			
                              </div>
                           </section>
                        </div>
                        
                        	
                     </div>
                     
                  </div>
                  
               </section>
               <div class="clear"></div>
               
            </div>
            <div class="clearfix"></div>
         </div>
      </div>
      <div class="clearfix"></div>
      <div id="footer-container" class="grid_12">
         <footer>
            	
            <div id="custom-footerSpacer"></div>
            	
            
         </footer>
         
         
      </div>
   </body>
</html>