<!DOCTYPE html> <html xml:lang="en" lang="en"><head><meta charset="UTF-8" ><meta name="generator" content="JsDoc + OpenUI5/SAPUI5 template" ><title>JsDoc Report - SAP UI development Toolkit for HTML5 - API Reference - sap.ushell.services.Notifications</title><link rel="stylesheet" href="../default.css" ><link rel="stylesheet" href="../../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" /><link rel="stylesheet" href="../../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" /><script src="../../../resources/sap/ui/demokit/js/sdk-pagehelper.js"></script></head><body><div id="main"><div id="content"><h1 class="classTitle static">Class <span class="package">sap.ushell.services.</span>Notifications<span class="module"><span>Module: </span><a href="../modules/sap_ushell_services_Notifications.html">sap/ushell/services/Notifications</a></span></h1><hr><div class="full-description"><p>A UShell service for fetching user notification data from the Notification center/service<br> and exposing them to the Unified Shell and Fiori applications UI controls.</p><p>In order to get user notifications, Unified Shell notification service issues OData requests<br> to the service defined by the configuration property <code>serviceUrl</code>,<br> for example: "/sap/opu/odata4/iwngw/notification/default/iwngw/notification_srv/0001"<br>.</p><p>Unified Shell Notification service has several working modes, depending on the environment and the available resources:<br> PackagedApp mode: Fiori launchpad runs in the context of PackagedApp<br> FioriClient mode: Fiori launchpad runs in the context of FioriLaunchpad<br> WebSocket mode: Fiori launchpad runs in a browser, and WebSocket connection to the notifications provider is available<br> Polling mode: Fiori launchpad in runs in a browser, and WebSocket connection to the notifications provider is not available<br></p><p>The notification service exposes an API that includes: - Service enabling and initialization<br> - Registration of callback functions (by Shell/FLP controls) that will be called for every data update<br>. - Retrieval of notification data (e.g. notifications, number of unseen notifications) - Execution of a notification actions - Marking user notifications as seen</p><br /><i>Since: </i>1.32.0. </div><div class="summary section"><div class="sectionTitle">Constructor Summary</div><div class="sectionItems"><div class="sectionItem classConstructor static"><div class="itemName"><b class="icon" title="">new <a href="sap.ushell.services.Notifications.html#constructor">sap.ushell.services.Notifications</a></b><span class='signature'>(<span title="(object) The interface provided by the container">oContainerInterface</span>, <span title="(object) Not used in this service">sParameter</span>, <span title="(object) Service configuration">oServiceProperties</span>)</span><span class='description'></span></div></div></div></div><div class="summary section"><div class="sectionTitle">Method Summary</div><div class="sectionItems"><div class="sectionItem classMethod"><b class="icon" title="Launches dismiss notification call."><a href="sap.ushell.services.Notifications.html#dismissNotification">dismissNotification</a></b><span class='signature'>(<span title="(object) The ID of the notification whose action is being executed">sNotificationId</span>)</span><span class='description'>Launches dismiss notification call.</span></div><div class="sectionItem classMethod"><b class="icon" title="Launches a notification action oData call."><a href="sap.ushell.services.Notifications.html#executeBulkAction">executeBulkAction</a></b><span class='signature'>(<span title="(object) The ID of the notification header/group whose action is being executed">sNotificationGroupId</span>, <span title="(object) The ID of the action that is being executed">sActionId</span>)</span><span class='description'>Launches a notification action oData call.</span></div><div class="sectionItem classMethod"><b class="icon" title="Returns the notifications of the user sorted by type include the group headers and the notifications"><a href="sap.ushell.services.Notifications.html#getNotificationsByTypeWithGroupHeaders">getNotificationsByTypeWithGroupHeaders</a></b><span class='signature'>()</span><span class='description'>Returns the notifications of the user sorted by type include the group headers and the notifications</span></div><div class="sectionItem classMethod"><b class="icon" title="Returns the number of notifications e.g."><a href="sap.ushell.services.Notifications.html#getNotificationsCount">getNotificationsCount</a></b><span class='signature'>()</span><span class='description'>Returns the number of notifications<br> e.g.</span></div><div class="sectionItem classMethod"><b class="icon" title="Returns the group headers of the user notifications"><a href="sap.ushell.services.Notifications.html#getNotificationsGroupHeaders">getNotificationsGroupHeaders</a></b><span class='signature'>()</span><span class='description'>Returns the group headers of the user notifications</span></div><div class="sectionItem classMethod"><b class="icon" title="Returns the number of unseen notifications e.g."><a href="sap.ushell.services.Notifications.html#getUnseenNotificationsCount">getUnseenNotificationsCount</a></b><span class='signature'>()</span><span class='description'>Returns the number of unseen notifications<br> e.g.</span></div><div class="sectionItem classMethod"><b class="icon" title="Initializes the notification service Initialization is performed only if the following two conditions are fulfilled: 1."><a href="sap.ushell.services.Notifications.html#init">init</a></b><span class='signature'>()</span><span class='description'>Initializes the notification service Initialization is performed only if the following two conditions are fulfilled:<br> 1.</span></div><div class="sectionItem classMethod"><b class="icon" title="Indicates whether notification service is enabled."><a href="sap.ushell.services.Notifications.html#isEnabled">isEnabled</a></b><span class='signature'>()</span><span class='description'>Indicates whether notification service is enabled.</span></div><div class="sectionItem classMethod"><b class="icon" title="Return whether first request was already performed and data was returned."><a href="sap.ushell.services.Notifications.html#isFirstDataLoaded">isFirstDataLoaded</a></b><span class='signature'>()</span><span class='description'>Return whether first request was already performed and data was returned.</span></div><div class="sectionItem classMethod"><b class="icon" title="Launches mark as read notification call."><a href="sap.ushell.services.Notifications.html#markRead">markRead</a></b><span class='signature'>(<span title="(object) The ID of the notification whose action is being executed">sNotificationId</span>)</span><span class='description'>Launches mark as read notification call.</span></div><div class="sectionItem classMethod"><b class="icon" title="Mark all notifications as seen."><a href="sap.ushell.services.Notifications.html#notificationsSeen">notificationsSeen</a></b><span class='signature'>()</span><span class='description'>Mark all notifications as seen.</span></div><div class="sectionItem classMethod"><b class="icon" title="Gets a callback function that will be called when updated unseen notifications count is available."><a href="sap.ushell.services.Notifications.html#registerNotificationCountUpdateCallback">registerNotificationCountUpdateCallback</a></b><span class='signature'>(<span title="(object) callback function that is registered and called on data update.">The</span>)</span><span class='description'>Gets a callback function that will be called when updated unseen notifications count is available.</span></div><div class="sectionItem classMethod"><b class="icon" title="Gets a callback function that will be called when updated notifications data is available."><a href="sap.ushell.services.Notifications.html#registerNotificationsUpdateCallback">registerNotificationsUpdateCallback</a></b><span class='signature'>(<span title="(object) callback function that is registered and called on data update.">The</span>)</span><span class='description'>Gets a callback function that will be called when updated notifications data is available.</span></div></div></div><div class="section details"><div class="sectionTitle">Constructor Detail</div><div class="sectionItems"><div id="constructor" class='sectionItem classItem itemName static'><div class="itemTitle icon"> new sap.ushell.services.Notifications<span class="signature">(<span title="(object) The interface provided by the container">oContainerInterface</span>, <span title="(object) Not used in this service">sParameter</span>, <span title="(object) Service configuration">oServiceProperties</span>)</span></div><div class="full-description"></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">oContainerInterface</td><td class="methodItemDesc">The interface provided by the container</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">sParameter</td><td class="methodItemDesc">Not used in this service</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">oServiceProperties</td><td class="methodItemDesc">Service configuration</td></tr></tbody></table><div class="heading">See:</div><table class="methodItem"><tbody><tr><td class="methodItemDesc">sap.ushell.services.Container#getService</td></tr></tbody></table></div></div></div><div class="details section"><div class="sectionTitle">Method Detail</div><div class="sectionItems"><div id="dismissNotification" class='sectionItem classMethod'><div class="itemTitle icon"> dismissNotification<span class="signature">(<span title="(object) The ID of the notification whose action is being executed">sNotificationId</span>)</span></div><div class="full-description"> Launches dismiss notification call.<br></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">sNotificationId</td><td class="methodItemDesc">The ID of the notification whose action is being executed</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.34</dd></dl></div><div id="executeBulkAction" class='sectionItem classMethod'><div class="itemTitle icon"> executeBulkAction<span class="signature">(<span title="(object) The ID of the notification header/group whose action is being executed">sNotificationGroupId</span>, <span title="(object) The ID of the action that is being executed">sActionId</span>)</span></div><div class="full-description"><p>Launches a notification action oData call.<br></p><p>After launching the action, the function gets updated notification data in order to push the updated data to the consumers.</p></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">sNotificationGroupId</td><td class="methodItemDesc">The ID of the notification header/group whose action is being executed</td></tr><tr><td class="methodItemType light">object</td><td class="methodItemName">sActionId</td><td class="methodItemDesc">The ID of the action that is being executed</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.32</dd></dl></div><div id="getNotificationsByTypeWithGroupHeaders" class='sectionItem classMethod'><div class="itemTitle icon"> getNotificationsByTypeWithGroupHeaders<span class="signature">()</span><span class="light" title="returns promise">: promise</span></div><div class="full-description"> Returns the notifications of the user sorted by type include the group headers and the notifications </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">promise</td><td class="methodItemDesc">Promise object that on success - returns all notification items</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.38</dd></dl></div><div id="getNotificationsCount" class='sectionItem classMethod'><div class="itemTitle icon"> getNotificationsCount<span class="signature">()</span></div><div class="full-description"> Returns the number of notifications<br> e.g. Notifications for user. </div><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.44</dd></dl></div><div id="getNotificationsGroupHeaders" class='sectionItem classMethod'><div class="itemTitle icon"> getNotificationsGroupHeaders<span class="signature">()</span><span class="light" title="returns promise">: promise</span></div><div class="full-description"> Returns the group headers of the user notifications </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">promise</td><td class="methodItemDesc">Promise object that on success - returns all group headers</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.44</dd></dl></div><div id="getUnseenNotificationsCount" class='sectionItem classMethod'><div class="itemTitle icon"> getUnseenNotificationsCount<span class="signature">()</span><span class="light" title="returns promise">: promise</span></div><div class="full-description"> Returns the number of unseen notifications<br> e.g. Notifications that the user hasn't seen yet. </div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">promise</td><td class="methodItemDesc">Promise object that on success - returns the number of unread notifications of the user</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.32</dd></dl></div><div id="init" class='sectionItem classMethod'><div class="itemTitle icon"> init<span class="signature">()</span></div><div class="full-description"><p>Initializes the notification service</p><p>Initialization is performed only if the following two conditions are fulfilled:<br> 1. Notification service is enabled<br> 2. Notification service hasn't been initialized yet<br></p><p>The main initialization functionality is determining and setting the mode in which notifications are consumed.<br> The possible modes are:<br> PACKAGED_APP - Notifications are fetched when a callback is called by PackagedApp environment<br> FIORI_CLIENT - Notifications are fetched when a callback is called by FioriClient environment<br> WEB_SOCKET - Notifications are fetched on WebSocket "ping"<br> POLLING - Notifications are fetched using periodic polling mechanism<br></p></div><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.32</dd></dl></div><div id="isEnabled" class='sectionItem classMethod'><div class="itemTitle icon"> isEnabled<span class="signature">()</span><span class="light" title="returns boolean">: boolean</span></div><div class="full-description"> Indicates whether notification service is enabled.<br> Enabling is based on the <code>enable</code> service configuration flag.<br> The service configuration must also include serviceUrl attribute.<br></div><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">boolean</td><td class="methodItemDesc">A boolean value indicating whether the notifications service is enabled</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.32.0</dd></dl></div><div id="isFirstDataLoaded" class='sectionItem classMethod'><div class="itemTitle icon"> isFirstDataLoaded<span class="signature">()</span></div><div class="full-description"> Return whether first request was already performed and data was returned.<br></div><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.38</dd></dl></div><div id="markRead" class='sectionItem classMethod'><div class="itemTitle icon"> markRead<span class="signature">(<span title="(object) The ID of the notification whose action is being executed">sNotificationId</span>)</span></div><div class="full-description"><p>Launches mark as read notification call.<br></p><p>After launching the action, the function gets updated notification data in order to push the updated data to the consumers.</p></div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">sNotificationId</td><td class="methodItemDesc">The ID of the notification whose action is being executed</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.34</dd></dl></div><div id="notificationsSeen" class='sectionItem classMethod'><div class="itemTitle icon"> notificationsSeen<span class="signature">()</span></div><div class="full-description"> Mark all notifications as seen.<br> the main use-case is when the user navigated to the notification center and sees all the pending notifications.<br></div><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.32</dd></dl></div><div id="registerNotificationCountUpdateCallback" class='sectionItem classMethod'><div class="itemTitle icon"> registerNotificationCountUpdateCallback<span class="signature">(<span title="(object) callback function that is registered and called on data update.">The</span>)</span></div><div class="full-description"> Gets a callback function that will be called when updated unseen notifications count is available. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">The</td><td class="methodItemDesc">callback function that is registered and called on data update.</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.32</dd></dl></div><div id="registerNotificationsUpdateCallback" class='sectionItem classMethod'><div class="itemTitle icon"> registerNotificationsUpdateCallback<span class="signature">(<span title="(object) callback function that is registered and called on data update.">The</span>)</span></div><div class="full-description"> Gets a callback function that will be called when updated notifications data is available. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType light">object</td><td class="methodItemName">The</td><td class="methodItemDesc">callback function that is registered and called on data update.</td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.32</dd></dl></div></div></div></div></div></body></html>